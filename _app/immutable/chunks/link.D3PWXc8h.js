import"./transform.Cz5Y6iUM.js";import{M as k,m as S,c as b,a as g,b as j,d as L,p as M,e as A,f as C,g as w,h as p}from"./index.CbJWhmk4.js";import{m as D,c as h}from"./bar.Czf8fWyt.js";const E={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class I extends k{constructor(r,e={}){const{x1:t,y1:l,x2:n,y2:a,curve:i,tension:u}=e;super(r,{x1:{value:t,scale:"x"},y1:{value:l,scale:"y"},x2:{value:n,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,E),this.curve=D(i,u),S(this,e)}project(r,e,t){this.curve!==h&&super.project(r,e,t)}render(r,e,t,l,n){const{x1:a,y1:i,x2:u=a,y2:d=i}=t,{curve:f}=this;return b("svg:g",n).call(g,this,l,n).call(j,this,e).call(v=>v.selectAll().data(r).enter().append("path").call(L,this).attr("d",f===h&&n.projection?N(n.projection,a,i,u,d):c=>{const y=M(),o=f(y);return o.lineStart(),o.point(a[c],i[c]),o.point(u[c],d[c]),o.lineEnd(),y}).call(A,this,t).call(C,this,t,n)).node()}}function N(s,r,e,t,l){const n=w(s);return r=p(r),e=p(e),t=p(t),l=p(l),a=>n({type:"LineString",coordinates:[[r[a],e[a]],[t[a],l[a]]]})}function V(s,{x:r,x1:e,x2:t,y:l,y1:n,y2:a,...i}={}){return[e,t]=m(r,e,t),[n,a]=m(l,n,a),new I(s,{...i,x1:e,x2:t,y1:n,y2:a})}function m(s,r,e){if(s===void 0){if(r===void 0){if(e!==void 0)return[e]}else if(e===void 0)return[r]}else{if(r===void 0)return e===void 0?[s]:[s,e];if(e===void 0)return[s,r]}return[r,e]}export{V as l};
