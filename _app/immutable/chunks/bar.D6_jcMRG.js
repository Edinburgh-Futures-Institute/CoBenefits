import{o as w,q as v,r as M,u as S,v as T,w as X,d as g,x as h,y as Y,z as A,A as k,M as C,B as D,C as q,c as z,b as E,e as f,D as O,h as b,E as m}from"./index.xKAkP9XD.js";const j={ariaLabel:"bar"};class B extends C{constructor(t,a,e={},s=j){super(t,a,e,s),D(this,e),q(this,e)}render(t,a,e,s,r){const{rx:n,ry:l,rx1y1:y,rx1y2:i,rx2y1:I,rx2y2:L}=this,u=this._x(a,e,s),x=this._y(a,e,s),d=this._width(a,e,s),p=this._height(a,e,s);return z("svg:g",r).call(E,this,s,r).call(this._transform,this,a).call(R=>R.selectAll().data(t).enter().call(y||i||I||L?o=>o.append("path").call(f,this).call(O,u,x,_(u,d),_(x,p),this).call(b,this,e):o=>o.append("rect").call(f,this).attr("x",u).attr("width",d).attr("y",x).attr("height",p).call(m,"rx",n).call(m,"ry",l).call(b,this,e))).node()}_x(t,{x:a},{marginLeft:e}){const{insetLeft:s}=this;return a?r=>a[r]+s:e+s}_y(t,{y:a},{marginTop:e}){const{insetTop:s}=this;return a?r=>a[r]+s:e+s}_width({x:t},{x:a},{marginRight:e,marginLeft:s,width:r}){const{insetLeft:n,insetRight:l}=this,y=a&&t?t.bandwidth():r-e-s;return Math.max(0,y-n-l)}_height({y:t},{y:a},{marginTop:e,marginBottom:s,height:r}){const{insetTop:n,insetBottom:l}=this,y=a&&t?t.bandwidth():r-e-s;return Math.max(0,y-n-l)}}function _(c,t){return typeof c=="function"&&typeof t=="function"?a=>c(a)+t(a):typeof c=="function"?a=>c(a)+t:typeof t=="function"?a=>c+t(a):c+t}class F extends B{constructor(t,a={},e){const{x1:s,x2:r,y:n}=a;super(t,{x1:{value:s,scale:"x"},x2:{value:r,scale:"x"},y:{value:n,scale:"y",type:"band",optional:!0}},a,e)}_transform(t,a,{x:e}){t.call(g,a,{x:e},0,0)}_x({x:t},{x1:a,x2:e},{marginLeft:s}){const{insetLeft:r}=this;return h(t)?s+r:n=>Math.min(a[n],e[n])+r}_width({x:t},{x1:a,x2:e},{marginRight:s,marginLeft:r,width:n}){const{insetLeft:l,insetRight:y}=this;return h(t)?n-s-r-l-y:i=>Math.max(0,Math.abs(e[i]-a[i])-l-y)}}class G extends B{constructor(t,a={},e){const{x:s,y1:r,y2:n}=a;super(t,{y1:{value:r,scale:"y"},y2:{value:n,scale:"y"},x:{value:s,scale:"x",type:"band",optional:!0}},a,e)}_transform(t,a,{y:e}){t.call(g,a,{y:e},0,0)}_y({y:t},{y1:a,y2:e},{marginTop:s}){const{insetTop:r}=this;return h(t)?s+r:n=>Math.min(a[n],e[n])+r}_height({y:t},{y1:a,y2:e},{marginTop:s,marginBottom:r,height:n}){const{insetTop:l,insetBottom:y}=this;return h(t)?n-s-r-l-y:i=>Math.max(0,Math.abs(e[i]-a[i])-l-y)}}function J(c,t={}){return w(t)||(t={...t,y:v,x2:M}),new F(c,S(T(X(t))))}function K(c,t={}){return w(t)||(t={...t,x:v,y2:M}),new G(c,Y(A(k(t))))}export{K as a,J as b};
