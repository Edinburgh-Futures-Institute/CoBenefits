import{I as ir,S as xo,r as vh,R as vi,a as cu,d as Sf,e as Tf,C as Af,b as So,f as To,g as Mh,i as Ce,h as Ao,j as jt,k as $h,l as Co,m as An,p as Cf,o as uu,q as ye,s as ar,t as xh,u as Br,v as Mi,w as Sh,c as su,n as Yr}from"./transform.Cz5Y6iUM.js";function En(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function fr(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function $i(n){let e,t,r;n.length!==2?(e=En,t=(o,c)=>En(n(o),c),r=(o,c)=>n(o)-c):(e=n===En||n===fr?n:Th,t=n,r=n);function i(o,c,s=0,u=o.length){if(s<u){if(e(c,c)!==0)return u;do{const d=s+u>>>1;t(o[d],c)<0?s=d+1:u=d}while(s<u)}return s}function a(o,c,s=0,u=o.length){if(s<u){if(e(c,c)!==0)return u;do{const d=s+u>>>1;t(o[d],c)<=0?s=d+1:u=d}while(s<u)}return s}function f(o,c,s=0,u=o.length){const d=i(o,c,s,u-1);return d>s&&r(o[d-1],c)>-r(o[d],c)?d-1:d}return{left:i,center:f,right:a}}function Th(){return 0}function lu(n){return n===null?NaN:+n}function*Ah(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let r of n)(r=e(r,++t,n))!=null&&(r=+r)>=r&&(yield r)}}const Ch=$i(En),Ef=Ch.right;$i(lu).center;function Eh(n){return n.length|0}function Nh(n){return!(n>0)}function Dh(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function Ih(n){return e=>n(...e)}function Lh(...n){const e=typeof n[n.length-1]=="function"&&Ih(n.pop());n=n.map(Dh);const t=n.map(Eh),r=n.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||t.some(Nh))return a;for(;;){a.push(i.map((o,c)=>n[c][o]));let f=r;for(;++i[f]===t[f];){if(f===0)return e?a.map(e):a;i[f--]=0}}}function kh(n,e){var t=0;return Float64Array.from(n,r=>t+=+r||0)}function du(n,e){let t=0,r,i=0,a=0;if(e===void 0)for(let f of n)f!=null&&(f=+f)>=f&&(r=f-i,i+=r/++t,a+=r*(f-i));else{let f=-1;for(let o of n)(o=e(o,++f,n))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++t,a+=r*(o-i))}if(t>1)return a/(t-1)}function Fh(n,e){const t=du(n,e);return t&&Math.sqrt(t)}function Te(n,e){let t,r;if(e===void 0)for(const i of n)i!=null&&(t===void 0?i>=i&&(t=r=i):(t>i&&(t=i),r<i&&(r=i)));else{let i=-1;for(let a of n)(a=e(a,++i,n))!=null&&(t===void 0?a>=a&&(t=r=a):(t>a&&(t=a),r<a&&(r=a)))}return[t,r]}class _e{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=t[i],f=e+a,o=Math.abs(e)<Math.abs(a)?e-(f-a):a-(f-e);o&&(t[r++]=o),e=f}return t[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let t=this._n,r,i,a,f=0;if(t>0){for(f=e[--t];t>0&&(r=f,i=e[--t],f=r+i,a=i-(f-r),!a););t>0&&(a<0&&e[t-1]<0||a>0&&e[t-1]>0)&&(i=a*2,r=f+i,i==r-f&&(f=r))}return f}}function Da(n){return n}function xi(n,...e){return Nf(n,Da,Da,e)}function ft(n,e,...t){return Nf(n,Da,e,t)}function Rh(n,e,...t){return Nf(n,Array.from,e,t)}function Nf(n,e,t,r){return function i(a,f){if(f>=r.length)return t(a);const o=new ir,c=r[f++];let s=-1;for(const u of a){const d=c(u,++s,a),l=o.get(d);l?l.push(u):o.set(d,[u])}for(const[u,d]of o)o.set(u,i(d,f));return e(o)}(n,0)}function Uh(n,e){return Array.from(e,t=>n[t])}function Hr(n,...e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[t]=e;if(t&&t.length!==2||e.length>1){const r=Uint32Array.from(n,(i,a)=>a);return e.length>1?(e=e.map(i=>n.map(i)),r.sort((i,a)=>{for(const f of e){const o=jr(f[i],f[a]);if(o)return o}})):(t=n.map(t),r.sort((i,a)=>jr(t[i],t[a]))),Uh(n,r)}return n.sort(hu(t))}function hu(n=En){if(n===En)return jr;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function jr(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}function Df(n,e,t){return(e.length!==2?Hr(ft(n,e,t),([r,i],[a,f])=>En(i,f)||En(r,a)):Hr(xi(n,t),([r,i],[a,f])=>e(i,f)||En(r,a))).map(([r])=>r)}const Oh=Math.sqrt(50),Ph=Math.sqrt(10),zh=Math.sqrt(2);function Gr(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),f=a>=Oh?10:a>=Ph?5:a>=zh?2:1;let o,c,s;return i<0?(s=Math.pow(10,-i)/f,o=Math.round(n*s),c=Math.round(e*s),o/s<n&&++o,c/s>e&&--c,s=-s):(s=Math.pow(10,i)*f,o=Math.round(n/s),c=Math.round(e/s),o*s<n&&++o,c*s>e&&--c),c<o&&.5<=t&&t<2?Gr(n,e,t*2):[o,c,s]}function Vr(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,a,f]=r?Gr(e,n,t):Gr(n,e,t);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(r)if(f<0)for(let s=0;s<o;++s)c[s]=(a-s)/-f;else for(let s=0;s<o;++s)c[s]=(a-s)*f;else if(f<0)for(let s=0;s<o;++s)c[s]=(i+s)/-f;else for(let s=0;s<o;++s)c[s]=(i+s)*f;return c}function Ia(n,e,t){return e=+e,n=+n,t=+t,Gr(n,e,t)[2]}function La(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?Ia(e,n,t):Ia(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function Bn(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of n)(i=e(i,++r,n))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function _h(n,e){let t,r=-1,i=-1;if(e===void 0)for(const a of n)++i,a!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of n)(a=e(a,++i,n))!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);return r}function pe(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of n)(i=e(i,++r,n))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function qh(n,e){let t,r=-1,i=-1;if(e===void 0)for(const a of n)++i,a!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of n)(a=e(a,++i,n))!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);return r}function pu(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?jr:hu(i);r>t;){if(r-t>600){const c=r-t+1,s=e-t+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(t,Math.floor(e-s*d/c+l)),p=Math.min(r,Math.floor(e+(c-s)*d/c+l));pu(n,e,h,p,i)}const a=n[e];let f=t,o=r;for(Dt(n,t,e),i(n[r],a)>0&&Dt(n,t,r);f<o;){for(Dt(n,f,o),++f,--o;i(n[f],a)<0;)++f;for(;i(n[o],a)>0;)--o}i(n[t],a)===0?Dt(n,t,o):(++o,Dt(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function Dt(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function gu(n,e=En){let t,r=!1;if(e.length===1){let i;for(const a of n){const f=e(a);(r?En(f,i)>0:En(f,f)===0)&&(t=a,i=f,r=!0)}}else for(const i of n)(r?e(i,t)>0:e(i,i)===0)&&(t=i,r=!0);return t}function Xr(n,e,t){if(n=Float64Array.from(Ah(n,t)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return pe(n);if(e>=1)return Bn(n);var r,i=(r-1)*e,a=Math.floor(i),f=Bn(pu(n,a).subarray(0,a+1)),o=pe(n.subarray(a+1));return f+(o-f)*(i-a)}}function Wh(n,e,t=lu){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,a=Math.floor(i),f=+t(n[a],a,n),o=+t(n[a+1],a+1,n);return f+(o-f)*(i-a)}}function Bh(n,e){let t=0,r=0;if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(++t,r+=i);else{let i=-1;for(let a of n)(a=e(a,++i,n))!=null&&(a=+a)>=a&&(++t,r+=a)}if(t)return r/t}function ka(n,e){return Xr(n,.5,e)}function*Yh(n){for(const e of n)yield*e}function mu(n){return Array.from(Yh(n))}function Hh(n,e){const t=new ir;if(e===void 0)for(let a of n)a!=null&&a>=a&&t.set(a,(t.get(a)||0)+1);else{let a=-1;for(let f of n)(f=e(f,++a,n))!=null&&f>=f&&t.set(f,(t.get(f)||0)+1)}let r,i=0;for(const[a,f]of t)f>i&&(i=f,r=a);return r}function jh(n,e=Gh){const t=[];let r,i=!1;for(const a of n)i&&t.push(e(r,a)),r=a,i=!0;return t}function Gh(n,e){return[n,e]}function Fa(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(i);++r<i;)a[r]=n+r*t;return a}function Ee(n,e){let t=0;if(e===void 0)for(let r of n)(r=+r)&&(t+=r);else{let r=-1;for(let i of n)(i=+e(i,++r,n))&&(t+=i)}return t}function Zr(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function Vh(n){return n}var Xh=3,Eo=1e-6;function Zh(n){return"translate("+n+",0)"}function Kh(n){return e=>+n(e)}function Qh(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),t=>+n(t)+e}function Jh(){return!this.__axis}function n1(n,e){var t=[],r=null,i=null,a=6,f=6,o=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,u="y",d=Zh;function l(h){var p=r??(e.ticks?e.ticks.apply(e,t):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,t):Vh),b=Math.max(a,0)+o,w=e.range(),y=+w[0]+c,v=+w[w.length-1]+c,m=(e.bandwidth?Qh:Kh)(e.copy(),c),$=h.selection?h.selection():h,M=$.selectAll(".domain").data([null]),S=$.selectAll(".tick").data(p,e).order(),A=S.exit(),C=S.enter().append("g").attr("class","tick"),D=S.select("line"),x=S.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(C),D=D.merge(C.append("line").attr("stroke","currentColor").attr(u+"2",s*a)),x=x.merge(C.append("text").attr("fill","currentColor").attr(u,s*b).attr("dy","0.71em")),h!==$&&(M=M.transition(h),S=S.transition(h),D=D.transition(h),x=x.transition(h),A=A.transition(h).attr("opacity",Eo).attr("transform",function(k){return isFinite(k=m(k))?d(k+c):this.getAttribute("transform")}),C.attr("opacity",Eo).attr("transform",function(k){var U=this.parentNode.__axis;return d((U&&isFinite(U=U(k))?U:m(k))+c)})),A.remove(),M.attr("d",f?"M"+y+","+s*f+"V"+c+"H"+v+"V"+s*f:"M"+y+","+c+"H"+v),S.attr("opacity",1).attr("transform",function(k){return d(m(k)+c)}),D.attr(u+"2",s*a),x.attr(u,s*b).text(g),$.filter(Jh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),$.each(function(){this.__axis=m})}return l.scale=function(h){return arguments.length?(e=h,l):e},l.ticks=function(){return t=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(t=h==null?[]:Array.from(h),l):t.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=f=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(f=+h,l):f},l.tickPadding=function(h){return arguments.length?(o=+h,l):o},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function e1(n){return n1(Xh,n)}function ot(n){return typeof n=="string"?new xo([[document.querySelector(n)]],[document.documentElement]):new xo([[n]],vh)}function t1(n){let e;for(;e=n.sourceEvent;)n=e;return n}function r1(n,e){if(n=t1(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const bu=Math.PI/180,yu=180/Math.PI,Kr=18,wu=.96422,vu=1,Mu=.82521,$u=4/29,ct=6/29,xu=3*ct*ct,i1=ct*ct*ct;function Su(n){if(n instanceof Jn)return new Jn(n.l,n.a,n.b,n.opacity);if(n instanceof ue)return Tu(n);n instanceof vi||(n=cu(n));var e=na(n.r),t=na(n.g),r=na(n.b),i=Ki((.2225045*e+.7168786*t+.0606169*r)/vu),a,f;return e===t&&t===r?a=f=i:(a=Ki((.4360747*e+.3850649*t+.1430804*r)/wu),f=Ki((.0139322*e+.0971045*t+.7141733*r)/Mu)),new Jn(116*i-16,500*(a-i),200*(i-f),n.opacity)}function Ra(n,e,t,r){return arguments.length===1?Su(n):new Jn(n,e,t,r??1)}function Jn(n,e,t,r){this.l=+n,this.a=+e,this.b=+t,this.opacity=+r}Sf(Jn,Ra,Tf(Af,{brighter(n){return new Jn(this.l+Kr*(n??1),this.a,this.b,this.opacity)},darker(n){return new Jn(this.l-Kr*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,e=isNaN(this.a)?n:n+this.a/500,t=isNaN(this.b)?n:n-this.b/200;return e=wu*Qi(e),n=vu*Qi(n),t=Mu*Qi(t),new vi(Ji(3.1338561*e-1.6168667*n-.4906146*t),Ji(-.9787684*e+1.9161415*n+.033454*t),Ji(.0719453*e-.2289914*n+1.4052427*t),this.opacity)}}));function Ki(n){return n>i1?Math.pow(n,1/3):n/xu+$u}function Qi(n){return n>ct?n*n*n:xu*(n-$u)}function Ji(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function na(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function a1(n){if(n instanceof ue)return new ue(n.h,n.c,n.l,n.opacity);if(n instanceof Jn||(n=Su(n)),n.a===0&&n.b===0)return new ue(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var e=Math.atan2(n.b,n.a)*yu;return new ue(e<0?e+360:e,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Ua(n,e,t,r){return arguments.length===1?a1(n):new ue(n,e,t,r??1)}function ue(n,e,t,r){this.h=+n,this.c=+e,this.l=+t,this.opacity=+r}function Tu(n){if(isNaN(n.h))return new Jn(n.l,0,0,n.opacity);var e=n.h*bu;return new Jn(n.l,Math.cos(e)*n.c,Math.sin(e)*n.c,n.opacity)}Sf(ue,Ua,Tf(Af,{brighter(n){return new ue(this.h,this.c,this.l+Kr*(n??1),this.opacity)},darker(n){return new ue(this.h,this.c,this.l-Kr*(n??1),this.opacity)},rgb(){return Tu(this).rgb()}}));var Au=-.14861,If=1.78277,Lf=-.29227,Si=-.90649,Gt=1.97294,No=Gt*Si,Do=Gt*If,Io=If*Lf-Si*Au;function f1(n){if(n instanceof Pe)return new Pe(n.h,n.s,n.l,n.opacity);n instanceof vi||(n=cu(n));var e=n.r/255,t=n.g/255,r=n.b/255,i=(Io*r+No*e-Do*t)/(Io+No-Do),a=r-i,f=(Gt*(t-i)-Lf*a)/Si,o=Math.sqrt(f*f+a*a)/(Gt*i*(1-i)),c=o?Math.atan2(f,a)*yu-120:NaN;return new Pe(c<0?c+360:c,o,i,n.opacity)}function ne(n,e,t,r){return arguments.length===1?f1(n):new Pe(n,e,t,r??1)}function Pe(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Sf(Pe,ne,Tf(Af,{brighter(n){return n=n==null?So:Math.pow(So,n),new Pe(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?To:Math.pow(To,n),new Pe(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*bu,e=+this.l,t=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(n),i=Math.sin(n);return new vi(255*(e+t*(Au*r+If*i)),255*(e+t*(Lf*r+Si*i)),255*(e+t*(Gt*r)),this.opacity)}}));function o1(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=n[i]*(1-a)+e[i]*a;return r}}function c1(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function u1(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),a=new Array(t),f;for(f=0;f<r;++f)i[f]=$t(n[f],e[f]);for(;f<t;++f)a[f]=e[f];return function(o){for(f=0;f<r;++f)a[f]=i[f](o);return a}}function s1(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function l1(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=$t(n[i],e[i]):r[i]=e[i];return function(a){for(i in t)r[i]=t[i](a);return r}}function $t(n,e){var t=typeof e,r;return e==null||t==="boolean"?Mh(e):(t==="number"?Ce:t==="string"?(r=Ao(e))?(e=r,jt):$h:e instanceof Ao?jt:e instanceof Date?s1:c1(e)?o1:Array.isArray(e)?u1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?l1:Ce)(n,e)}function Ti(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function d1(n){return function(e,t){var r=n((e=Co(e)).h,(t=Co(t)).h),i=An(e.s,t.s),a=An(e.l,t.l),f=An(e.opacity,t.opacity);return function(o){return e.h=r(o),e.s=i(o),e.l=a(o),e.opacity=f(o),e+""}}}const h1=d1(Cf);function p1(n,e){var t=An((n=Ra(n)).l,(e=Ra(e)).l),r=An(n.a,e.a),i=An(n.b,e.b),a=An(n.opacity,e.opacity);return function(f){return n.l=t(f),n.a=r(f),n.b=i(f),n.opacity=a(f),n+""}}function g1(n){return function(e,t){var r=n((e=Ua(e)).h,(t=Ua(t)).h),i=An(e.c,t.c),a=An(e.l,t.l),f=An(e.opacity,t.opacity);return function(o){return e.h=r(o),e.c=i(o),e.l=a(o),e.opacity=f(o),e+""}}}const m1=g1(Cf);function Cu(n){return function e(t){t=+t;function r(i,a){var f=n((i=ne(i)).h,(a=ne(a)).h),o=An(i.s,a.s),c=An(i.l,a.l),s=An(i.opacity,a.opacity);return function(u){return i.h=f(u),i.s=o(u),i.l=c(Math.pow(u,t)),i.opacity=s(u),i+""}}return r.gamma=e,r}(1)}Cu(Cf);var kf=Cu(An);function Ai(n,e){e===void 0&&(e=n,n=$t);for(var t=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);t<r;)a[t]=n(i,i=e[++t]);return function(f){var o=Math.max(0,Math.min(r-1,Math.floor(f*=r)));return a[o](f-o)}}function Yn(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n(r/(e-1));return t}const Oa=Math.PI,Pa=2*Oa,Ue=1e-6,b1=Pa-Ue;function Eu(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function y1(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return Eu;const t=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class w1{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Eu:y1(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,a,f){this._append`C${+e},${+t},${+r},${+i},${this._x1=+a},${this._y1=+f}`}arcTo(e,t,r,i,a){if(e=+e,t=+t,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let f=this._x1,o=this._y1,c=r-e,s=i-t,u=f-e,d=o-t,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(l>Ue)if(!(Math.abs(d*c-s*u)>Ue)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let h=r-f,p=i-o,g=c*c+s*s,b=h*h+p*p,w=Math.sqrt(g),y=Math.sqrt(l),v=a*Math.tan((Oa-Math.acos((g+l-b)/(2*w*y)))/2),m=v/y,$=v/w;Math.abs(m-1)>Ue&&this._append`L${e+m*u},${t+m*d}`,this._append`A${a},${a},0,0,${+(d*h>u*p)},${this._x1=e+$*c},${this._y1=t+$*s}`}}arc(e,t,r,i,a,f){if(e=+e,t=+t,r=+r,f=!!f,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),s=e+o,u=t+c,d=1^f,l=f?i-a:a-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>Ue||Math.abs(this._y1-u)>Ue)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%Pa+Pa),l>b1?this._append`A${r},${r},0,1,${d},${e-o},${t-c}A${r},${r},0,1,${d},${this._x1=s},${this._y1=u}`:l>Ue&&this._append`A${r},${r},0,${+(l>=Oa)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function za(n=3){return new w1(+n)}function v1(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Qr(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function st(n){return n=Qr(Math.abs(n)),n?n[1]:NaN}function M1(n,e){return function(t,r){for(var i=t.length,a=[],f=0,o=n[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(t.substring(i-=o,i+o)),!((c+=o+1)>r));)o=n[f=(f+1)%n.length];return a.reverse().join(e)}}function $1(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var x1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vt(n){if(!(e=x1.exec(n)))throw new Error("invalid format: "+n);var e;return new Ff({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vt.prototype=Ff.prototype;function Ff(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Ff.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S1(n){n:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Nu;function T1(n,e){var t=Qr(n,e);if(!t)return n+"";var r=t[0],i=t[1],a=i-(Nu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=r.length;return a===f?r:a>f?r+new Array(a-f+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qr(n,Math.max(0,e+a-1))[0]}function Lo(n,e){var t=Qr(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ko={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:v1,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Lo(n*100,e),r:Lo,s:T1,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Fo(n){return n}var Ro=Array.prototype.map,Uo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function A1(n){var e=n.grouping===void 0||n.thousands===void 0?Fo:M1(Ro.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?Fo:$1(Ro.call(n.numerals,String)),f=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function s(d){d=Vt(d);var l=d.fill,h=d.align,p=d.sign,g=d.symbol,b=d.zero,w=d.width,y=d.comma,v=d.precision,m=d.trim,$=d.type;$==="n"?(y=!0,$="g"):ko[$]||(v===void 0&&(v=12),m=!0,$="g"),(b||l==="0"&&h==="=")&&(b=!0,l="0",h="=");var M=g==="$"?t:g==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",S=g==="$"?r:/[%p]/.test($)?f:"",A=ko[$],C=/[defgprs%]/.test($);v=v===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D(x){var k=M,U=S,R,T,F;if($==="c")U=A(x)+U,x="";else{x=+x;var L=x<0||1/x<0;if(x=isNaN(x)?c:A(Math.abs(x),v),m&&(x=S1(x)),L&&+x==0&&p!=="+"&&(L=!1),k=(L?p==="("?p:o:p==="-"||p==="("?"":p)+k,U=($==="s"?Uo[8+Nu/3]:"")+U+(L&&p==="("?")":""),C){for(R=-1,T=x.length;++R<T;)if(F=x.charCodeAt(R),48>F||F>57){U=(F===46?i+x.slice(R+1):x.slice(R))+U,x=x.slice(0,R);break}}}y&&!b&&(x=e(x,1/0));var B=k.length+x.length+U.length,I=B<w?new Array(w-B+1).join(l):"";switch(y&&b&&(x=e(I+x,I.length?w-U.length:1/0),I=""),h){case"<":x=k+x+U+I;break;case"=":x=k+I+x+U;break;case"^":x=I.slice(0,B=I.length>>1)+k+x+U+I.slice(B);break;default:x=I+k+x+U;break}return a(x)}return D.toString=function(){return d+""},D}function u(d,l){var h=s((d=Vt(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(st(l)/3)))*3,g=Math.pow(10,-p),b=Uo[8+p/3];return function(w){return h(g*w)+b}}return{format:s,formatPrefix:u}}var Sr,xt,Du;C1({thousands:",",grouping:[3],currency:["$",""]});function C1(n){return Sr=A1(n),xt=Sr.format,Du=Sr.formatPrefix,Sr}function E1(n){return Math.max(0,-st(Math.abs(n)))}function N1(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(st(e)/3)))*3-st(Math.abs(n)))}function D1(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,st(e)-st(n))+1}var X=1e-6,Iu=1e-12,K=Math.PI,sn=K/2,Oo=K/4,Ln=K*2,$n=180/K,un=K/180,fn=Math.abs,St=Math.atan,ge=Math.atan2,Z=Math.cos,Lu=Math.exp,Jr=Math.log,ea=Math.pow,G=Math.sin,Un=Math.sign||function(n){return n>0?1:n<0?-1:0},Nn=Math.sqrt,Rf=Math.tan;function ku(n){return n>1?0:n<-1?K:Math.acos(n)}function zn(n){return n>1?sn:n<-1?-sn:Math.asin(n)}function On(){}function ni(n,e){n&&zo.hasOwnProperty(n.type)&&zo[n.type](n,e)}var Po={Feature:function(n,e){ni(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,r=-1,i=t.length;++r<i;)ni(t[r].geometry,e)}},zo={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)n=t[r],e.point(n[0],n[1],n[2])},LineString:function(n,e){_a(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)_a(t[r],e,0)},Polygon:function(n,e){_o(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)_o(t[r],e)},GeometryCollection:function(n,e){for(var t=n.geometries,r=-1,i=t.length;++r<i;)ni(t[r],e)}};function _a(n,e,t){var r=-1,i=n.length-t,a;for(e.lineStart();++r<i;)a=n[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function _o(n,e){var t=-1,r=n.length;for(e.polygonStart();++t<r;)_a(n[t],e,1);e.polygonEnd()}function Oe(n,e){n&&Po.hasOwnProperty(n.type)?Po[n.type](n,e):ni(n,e)}function qa(n){return[ge(n[1],n[0]),zn(n[2])]}function lt(n){var e=n[0],t=n[1],r=Z(t);return[r*Z(e),r*G(e),G(t)]}function Tr(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function ei(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function ta(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Ar(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function Wa(n){var e=Nn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function Ba(n,e){function t(r,i){return r=n(r,i),e(r[0],r[1])}return n.invert&&e.invert&&(t.invert=function(r,i){return r=e.invert(r,i),r&&n.invert(r[0],r[1])}),t}function Ya(n,e){return fn(n)>K&&(n-=Math.round(n/Ln)*Ln),[n,e]}Ya.invert=Ya;function Fu(n,e,t){return(n%=Ln)?e||t?Ba(Wo(n),Bo(e,t)):Wo(n):e||t?Bo(e,t):Ya}function qo(n){return function(e,t){return e+=n,fn(e)>K&&(e-=Math.round(e/Ln)*Ln),[e,t]}}function Wo(n){var e=qo(n);return e.invert=qo(-n),e}function Bo(n,e){var t=Z(n),r=G(n),i=Z(e),a=G(e);function f(o,c){var s=Z(c),u=Z(o)*s,d=G(o)*s,l=G(c),h=l*t+u*r;return[ge(d*i-h*a,u*t-l*r),zn(h*i+d*a)]}return f.invert=function(o,c){var s=Z(c),u=Z(o)*s,d=G(o)*s,l=G(c),h=l*i-d*a;return[ge(d*i+l*a,u*t+h*r),zn(h*t-u*r)]},f}function I1(n){n=Fu(n[0]*un,n[1]*un,n.length>2?n[2]*un:0);function e(t){return t=n(t[0]*un,t[1]*un),t[0]*=$n,t[1]*=$n,t}return e.invert=function(t){return t=n.invert(t[0]*un,t[1]*un),t[0]*=$n,t[1]*=$n,t},e}function L1(n,e,t,r,i,a){if(t){var f=Z(e),o=G(e),c=r*t;i==null?(i=e+r*Ln,a=e-c/2):(i=Yo(f,i),a=Yo(f,a),(r>0?i<a:i>a)&&(i+=r*Ln));for(var s,u=i;r>0?u>a:u<a;u-=c)s=qa([f,-o*Z(u),-o*G(u)]),n.point(s[0],s[1])}}function Yo(n,e){e=lt(e),e[0]-=n,Wa(e);var t=ku(-e[1]);return((-e[2]<0?-t:t)+Ln-X)%Ln}function Ru(){var n=[],e;return{point:function(t,r,i){e.push([t,r,i])},lineStart:function(){n.push(e=[])},lineEnd:On,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function _r(n,e){return fn(n[0]-e[0])<X&&fn(n[1]-e[1])<X}function Cr(n,e,t,r){this.x=n,this.z=e,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function Uu(n,e,t,r,i){var a=[],f=[],o,c;if(n.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],w=p[g],y;if(_r(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),o=0;o<g;++o)i.point((b=p[o])[0],b[1]);i.lineEnd();return}w[0]+=2*X}a.push(y=new Cr(b,p,null,!0)),f.push(y.o=new Cr(b,null,y,!1)),a.push(y=new Cr(w,p,null,!1)),f.push(y.o=new Cr(w,null,y,!0))}}),!!a.length){for(f.sort(e),Ho(a),Ho(f),o=0,c=f.length;o<c;++o)f[o].e=t=!t;for(var s=a[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(o=0,c=u.length;o<c;++o)i.point((d=u[o])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Ho(n){if(e=n.length){for(var e,t=0,r=n[0],i;++t<e;)r.n=i=n[t],i.p=r,r=i;r.n=i=n[0],i.p=r}}function ra(n){return fn(n[0])<=K?n[0]:Un(n[0])*((fn(n[0])+K)%Ln-K)}function k1(n,e){var t=ra(e),r=e[1],i=G(r),a=[G(t),-Z(t),0],f=0,o=0,c=new _e;i===1?r=sn+X:i===-1&&(r=-sn-X);for(var s=0,u=n.length;s<u;++s)if(l=(d=n[s]).length)for(var d,l,h=d[l-1],p=ra(h),g=h[1]/2+Oo,b=G(g),w=Z(g),y=0;y<l;++y,p=m,b=M,w=S,h=v){var v=d[y],m=ra(v),$=v[1]/2+Oo,M=G($),S=Z($),A=m-p,C=A>=0?1:-1,D=C*A,x=D>K,k=b*M;if(c.add(ge(k*C*G(D),w*S+k*Z(D))),f+=x?A+C*Ln:A,x^p>=t^m>=t){var U=ei(lt(h),lt(v));Wa(U);var R=ei(a,U);Wa(R);var T=(x^A>=0?-1:1)*zn(R[2]);(r>T||r===T&&(U[0]||U[1]))&&(o+=x^A>=0?1:-1)}}return(f<-X||f<X&&c<-Iu)^o&1}function Ou(n,e,t,r){return function(i){var a=e(i),f=Ru(),o=e(f),c=!1,s,u,d,l={point:h,lineStart:g,lineEnd:b,polygonStart:function(){l.point=w,l.lineStart=y,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=b,u=mu(u);var m=k1(s,r);u.length?(c||(i.polygonStart(),c=!0),Uu(u,R1,m,t,i)):m&&(c||(i.polygonStart(),c=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(m,$){n(m,$)&&i.point(m,$)}function p(m,$){a.point(m,$)}function g(){l.point=p,a.lineStart()}function b(){l.point=h,a.lineEnd()}function w(m,$){d.push([m,$]),o.point(m,$)}function y(){o.lineStart(),d=[]}function v(){w(d[0][0],d[0][1]),o.lineEnd();var m=o.clean(),$=f.result(),M,S=$.length,A,C,D;if(d.pop(),s.push(d),d=null,!!S){if(m&1){if(C=$[0],(A=C.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),M=0;M<A;++M)i.point((D=C[M])[0],D[1]);i.lineEnd()}return}S>1&&m&2&&$.push($.pop().concat($.shift())),u.push($.filter(F1))}}return l}}function F1(n){return n.length>1}function R1(n,e){return((n=n.x)[0]<0?n[1]-sn-X:sn-n[1])-((e=e.x)[0]<0?e[1]-sn-X:sn-e[1])}const jo=Ou(function(){return!0},U1,P1,[-K,-sn]);function U1(n){var e=NaN,t=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,f){var o=a>0?K:-K,c=fn(a-e);fn(c-K)<X?(n.point(e,t=(t+f)/2>0?sn:-sn),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(o,t),n.point(a,t),i=0):r!==o&&c>=K&&(fn(e-r)<X&&(e-=r*X),fn(a-o)<X&&(a-=o*X),t=O1(e,t,a,f),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(o,t),i=0),n.point(e=a,t=f),r=o},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-i}}}function O1(n,e,t,r){var i,a,f=G(n-t);return fn(f)>X?St((G(e)*(a=Z(r))*G(t)-G(r)*(i=Z(e))*G(n))/(i*a*f)):(e+r)/2}function P1(n,e,t,r){var i;if(n==null)i=t*sn,r.point(-K,i),r.point(0,i),r.point(K,i),r.point(K,0),r.point(K,-i),r.point(0,-i),r.point(-K,-i),r.point(-K,0),r.point(-K,i);else if(fn(n[0]-e[0])>X){var a=n[0]<e[0]?K:-K;i=t*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function z1(n){var e=Z(n),t=2*un,r=e>0,i=fn(e)>X;function a(u,d,l,h){L1(h,n,t,l,u,d)}function f(u,d){return Z(u)*Z(d)>e}function o(u){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(b,w){var y=[b,w],v,m=f(b,w),$=r?m?0:s(b,w):m?s(b+(b<0?K:-K),w):0;if(!d&&(p=h=m)&&u.lineStart(),m!==h&&(v=c(d,y),(!v||_r(d,v)||_r(y,v))&&(y[2]=1)),m!==h)g=0,m?(u.lineStart(),v=c(y,d),u.point(v[0],v[1])):(v=c(d,y),u.point(v[0],v[1],2),u.lineEnd()),d=v;else if(i&&d&&r^m){var M;!($&l)&&(M=c(y,d,!0))&&(g=0,r?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}m&&(!d||!_r(d,y))&&u.point(y[0],y[1]),d=y,h=m,l=$},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function c(u,d,l){var h=lt(u),p=lt(d),g=[1,0,0],b=ei(h,p),w=Tr(b,b),y=b[0],v=w-y*y;if(!v)return!l&&u;var m=e*w/v,$=-e*y/v,M=ei(g,b),S=Ar(g,m),A=Ar(b,$);ta(S,A);var C=M,D=Tr(S,C),x=Tr(C,C),k=D*D-x*(Tr(S,S)-1);if(!(k<0)){var U=Nn(k),R=Ar(C,(-D-U)/x);if(ta(R,S),R=qa(R),!l)return R;var T=u[0],F=d[0],L=u[1],B=d[1],I;F<T&&(I=T,T=F,F=I);var _=F-T,q=fn(_-K)<X,O=q||_<X;if(!q&&B<L&&(I=L,L=B,B=I),O?q?L+B>0^R[1]<(fn(R[0]-T)<X?L:B):L<=R[1]&&R[1]<=B:_>K^(T<=R[0]&&R[0]<=F)){var Y=Ar(C,(-D+U)/x);return ta(Y,S),[R,qa(Y)]}}}function s(u,d){var l=r?n:K-n,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return Ou(f,o,a,r?[0,-n]:[-K,n-K])}function _1(n,e,t,r,i,a){var f=n[0],o=n[1],c=e[0],s=e[1],u=0,d=1,l=c-f,h=s-o,p;if(p=t-f,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-f,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-o,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=a-o,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(n[0]=f+u*l,n[1]=o+u*h),d<1&&(e[0]=f+d*l,e[1]=o+d*h),!0}}}}}var Ut=1e9,Er=-Ut;function Pu(n,e,t,r){function i(s,u){return n<=s&&s<=t&&e<=u&&u<=r}function a(s,u,d,l){var h=0,p=0;if(s==null||(h=f(s,d))!==(p=f(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?n:t,h>1?r:e);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function f(s,u){return fn(s[0]-n)<X?u>0?0:3:fn(s[0]-t)<X?u>0?2:1:fn(s[1]-e)<X?u>0?1:0:u>0?3:2}function o(s,u){return c(s.x,u.x)}function c(s,u){var d=f(s,1),l=f(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=Ru(),l,h,p,g,b,w,y,v,m,$,M,S={point:A,lineStart:k,lineEnd:U,polygonStart:D,polygonEnd:x};function A(T,F){i(T,F)&&u.point(T,F)}function C(){for(var T=0,F=0,L=h.length;F<L;++F)for(var B=h[F],I=1,_=B.length,q=B[0],O,Y,en=q[0],Q=q[1];I<_;++I)O=en,Y=Q,q=B[I],en=q[0],Q=q[1],Y<=r?Q>r&&(en-O)*(r-Y)>(Q-Y)*(n-O)&&++T:Q<=r&&(en-O)*(r-Y)<(Q-Y)*(n-O)&&--T;return T}function D(){u=d,l=[],h=[],M=!0}function x(){var T=C(),F=M&&T,L=(l=mu(l)).length;(F||L)&&(s.polygonStart(),F&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),L&&Uu(l,o,T,a,s),s.polygonEnd()),u=s,l=h=p=null}function k(){S.point=R,h&&h.push(p=[]),$=!0,m=!1,y=v=NaN}function U(){l&&(R(g,b),w&&m&&d.rejoin(),l.push(d.result())),S.point=A,m&&u.lineEnd()}function R(T,F){var L=i(T,F);if(h&&p.push([T,F]),$)g=T,b=F,w=L,$=!1,L&&(u.lineStart(),u.point(T,F));else if(L&&m)u.point(T,F);else{var B=[y=Math.max(Er,Math.min(Ut,y)),v=Math.max(Er,Math.min(Ut,v))],I=[T=Math.max(Er,Math.min(Ut,T)),F=Math.max(Er,Math.min(Ut,F))];_1(B,I,n,e,t,r)?(m||(u.lineStart(),u.point(B[0],B[1])),u.point(I[0],I[1]),L||u.lineEnd(),M=!1):L&&(u.lineStart(),u.point(T,F),M=!1)}y=T,v=F,m=L}return S}}const Ha=n=>n;var ia=new _e,ja=new _e,zu,_u,Ga,Va,ce={point:On,lineStart:On,lineEnd:On,polygonStart:function(){ce.lineStart=q1,ce.lineEnd=B1},polygonEnd:function(){ce.lineStart=ce.lineEnd=ce.point=On,ia.add(fn(ja)),ja=new _e},result:function(){var n=ia/2;return ia=new _e,n}};function q1(){ce.point=W1}function W1(n,e){ce.point=qu,zu=Ga=n,_u=Va=e}function qu(n,e){ja.add(Va*n-Ga*e),Ga=n,Va=e}function B1(){qu(zu,_u)}var dt=1/0,ti=dt,Xt=-dt,ri=Xt,ii={point:Y1,lineStart:On,lineEnd:On,polygonStart:On,polygonEnd:On,result:function(){var n=[[dt,ti],[Xt,ri]];return Xt=ri=-(ti=dt=1/0),n}};function Y1(n,e){n<dt&&(dt=n),n>Xt&&(Xt=n),e<ti&&(ti=e),e>ri&&(ri=e)}var Xa=0,Za=0,Ot=0,ai=0,fi=0,rt=0,Ka=0,Qa=0,Pt=0,Wu,Bu,Zn,Kn,Rn={point:qe,lineStart:Go,lineEnd:Vo,polygonStart:function(){Rn.lineStart=G1,Rn.lineEnd=V1},polygonEnd:function(){Rn.point=qe,Rn.lineStart=Go,Rn.lineEnd=Vo},result:function(){var n=Pt?[Ka/Pt,Qa/Pt]:rt?[ai/rt,fi/rt]:Ot?[Xa/Ot,Za/Ot]:[NaN,NaN];return Xa=Za=Ot=ai=fi=rt=Ka=Qa=Pt=0,n}};function qe(n,e){Xa+=n,Za+=e,++Ot}function Go(){Rn.point=H1}function H1(n,e){Rn.point=j1,qe(Zn=n,Kn=e)}function j1(n,e){var t=n-Zn,r=e-Kn,i=Nn(t*t+r*r);ai+=i*(Zn+n)/2,fi+=i*(Kn+e)/2,rt+=i,qe(Zn=n,Kn=e)}function Vo(){Rn.point=qe}function G1(){Rn.point=X1}function V1(){Yu(Wu,Bu)}function X1(n,e){Rn.point=Yu,qe(Wu=Zn=n,Bu=Kn=e)}function Yu(n,e){var t=n-Zn,r=e-Kn,i=Nn(t*t+r*r);ai+=i*(Zn+n)/2,fi+=i*(Kn+e)/2,rt+=i,i=Kn*n-Zn*e,Ka+=i*(Zn+n),Qa+=i*(Kn+e),Pt+=i*3,qe(Zn=n,Kn=e)}function Hu(n){this._context=n}Hu.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,Ln);break}}},result:On};var Ja=new _e,aa,ju,Gu,zt,_t,Zt={point:On,lineStart:function(){Zt.point=Z1},lineEnd:function(){aa&&Vu(ju,Gu),Zt.point=On},polygonStart:function(){aa=!0},polygonEnd:function(){aa=null},result:function(){var n=+Ja;return Ja=new _e,n}};function Z1(n,e){Zt.point=Vu,ju=zt=n,Gu=_t=e}function Vu(n,e){zt-=n,_t-=e,Ja.add(Nn(zt*zt+_t*_t)),zt=n,_t=e}let Xo,oi,Zo,Ko;class Qo{constructor(e){this._append=e==null?Xu:K1(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:{this._append`M${e},${t}`,this._point=1;break}case 1:{this._append`L${e},${t}`;break}default:{if(this._append`M${e},${t}`,this._radius!==Zo||this._append!==oi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Zo=r,oi=this._append,Ko=this._,this._=i}this._+=Ko;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Xu(n){let e=1;this._+=n[0];for(const t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function K1(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return Xu;if(e!==Xo){const t=10**e;Xo=e,oi=function(i){let a=1;this._+=i[0];for(const f=i.length;a<f;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}return oi}function Uf(n,e){let t=3,r=4.5,i,a;function f(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Oe(o,i(a))),a.result()}return f.area=function(o){return Oe(o,i(ce)),ce.result()},f.measure=function(o){return Oe(o,i(Zt)),Zt.result()},f.bounds=function(o){return Oe(o,i(ii)),ii.result()},f.centroid=function(o){return Oe(o,i(Rn)),Rn.result()},f.projection=function(o){return arguments.length?(i=o==null?(n=null,Ha):(n=o).stream,f):n},f.context=function(o){return arguments.length?(a=o==null?(e=null,new Qo(t)):new Hu(e=o),typeof r!="function"&&a.pointRadius(r),f):e},f.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),f):r},f.digits=function(o){if(!arguments.length)return t;if(o==null)t=null;else{const c=Math.floor(o);if(!(c>=0))throw new RangeError(`invalid digits: ${o}`);t=c}return e===null&&(a=new Qo(t)),f},f.projection(n).digits(t).context(e)}function nf(n){return{stream:Ci(n)}}function Ci(n){return function(e){var t=new ef;for(var r in n)t[r]=n[r];return t.stream=e,t}}function ef(){}ef.prototype={constructor:ef,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Of(n,e,t){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),Oe(t,n.stream(ii)),e(ii.result()),r!=null&&n.clipExtent(r),n}function Pf(n,e,t){return Of(n,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],f=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-f*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(a-f*(r[1][1]+r[0][1]))/2;n.scale(150*f).translate([o,c])},t)}function Zu(n,e,t){return Pf(n,[[0,0],e],t)}function Ku(n,e,t){return Of(n,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),f=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];n.scale(150*a).translate([f,o])},t)}function Qu(n,e,t){return Of(n,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),f=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;n.scale(150*a).translate([f,o])},t)}var Jo=16,Q1=Z(30*un);function nc(n,e){return+e?np(n,e):J1(n)}function J1(n){return Ci({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function np(n,e){function t(r,i,a,f,o,c,s,u,d,l,h,p,g,b){var w=s-r,y=u-i,v=w*w+y*y;if(v>4*e&&g--){var m=f+l,$=o+h,M=c+p,S=Nn(m*m+$*$+M*M),A=zn(M/=S),C=fn(fn(M)-1)<X||fn(a-d)<X?(a+d)/2:ge($,m),D=n(C,A),x=D[0],k=D[1],U=x-r,R=k-i,T=y*U-w*R;(T*T/v>e||fn((w*U+y*R)/v-.5)>.3||f*l+o*h+c*p<Q1)&&(t(r,i,a,f,o,c,x,k,C,m/=S,$/=S,M,g,b),b.point(x,k),t(x,k,C,m,$,M,s,u,d,l,h,p,g,b))}}return function(r){var i,a,f,o,c,s,u,d,l,h,p,g,b={point:w,lineStart:y,lineEnd:m,polygonStart:function(){r.polygonStart(),b.lineStart=$},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function w(A,C){A=n(A,C),r.point(A[0],A[1])}function y(){d=NaN,b.point=v,r.lineStart()}function v(A,C){var D=lt([A,C]),x=n(A,C);t(d,l,u,h,p,g,d=x[0],l=x[1],u=A,h=D[0],p=D[1],g=D[2],Jo,r),r.point(d,l)}function m(){b.point=w,r.lineEnd()}function $(){y(),b.point=M,b.lineEnd=S}function M(A,C){v(i=A,C),a=d,f=l,o=h,c=p,s=g,b.point=v}function S(){t(d,l,u,h,p,g,a,f,i,o,c,s,Jo,r),b.lineEnd=m,m()}return b}}var ep=Ci({point:function(n,e){this.stream.point(n*un,e*un)}});function tp(n){return Ci({point:function(e,t){var r=n(e,t);return this.stream.point(r[0],r[1])}})}function rp(n,e,t,r,i){function a(f,o){return f*=r,o*=i,[e+n*f,t-n*o]}return a.invert=function(f,o){return[(f-e)/n*r,(t-o)/n*i]},a}function ec(n,e,t,r,i,a){if(!a)return rp(n,e,t,r,i);var f=Z(a),o=G(a),c=f*n,s=o*n,u=f/n,d=o/n,l=(o*t-f*e)/n,h=(o*e+f*t)/n;function p(g,b){return g*=r,b*=i,[c*g-s*b+e,t-s*g-c*b]}return p.invert=function(g,b){return[r*(u*g-d*b+l),i*(h-d*g-u*b)]},p}function Le(n){return Ju(function(){return n})()}function Ju(n){var e,t=150,r=480,i=250,a=0,f=0,o=0,c=0,s=0,u,d=0,l=1,h=1,p=null,g=jo,b=null,w,y,v,m=Ha,$=.5,M,S,A,C,D;function x(T){return A(T[0]*un,T[1]*un)}function k(T){return T=A.invert(T[0],T[1]),T&&[T[0]*$n,T[1]*$n]}x.stream=function(T){return C&&D===T?C:C=ep(tp(u)(g(M(m(D=T)))))},x.preclip=function(T){return arguments.length?(g=T,p=void 0,R()):g},x.postclip=function(T){return arguments.length?(m=T,b=w=y=v=null,R()):m},x.clipAngle=function(T){return arguments.length?(g=+T?z1(p=T*un):(p=null,jo),R()):p*$n},x.clipExtent=function(T){return arguments.length?(m=T==null?(b=w=y=v=null,Ha):Pu(b=+T[0][0],w=+T[0][1],y=+T[1][0],v=+T[1][1]),R()):b==null?null:[[b,w],[y,v]]},x.scale=function(T){return arguments.length?(t=+T,U()):t},x.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],U()):[r,i]},x.center=function(T){return arguments.length?(a=T[0]%360*un,f=T[1]%360*un,U()):[a*$n,f*$n]},x.rotate=function(T){return arguments.length?(o=T[0]%360*un,c=T[1]%360*un,s=T.length>2?T[2]%360*un:0,U()):[o*$n,c*$n,s*$n]},x.angle=function(T){return arguments.length?(d=T%360*un,U()):d*$n},x.reflectX=function(T){return arguments.length?(l=T?-1:1,U()):l<0},x.reflectY=function(T){return arguments.length?(h=T?-1:1,U()):h<0},x.precision=function(T){return arguments.length?(M=nc(S,$=T*T),R()):Nn($)},x.fitExtent=function(T,F){return Pf(x,T,F)},x.fitSize=function(T,F){return Zu(x,T,F)},x.fitWidth=function(T,F){return Ku(x,T,F)},x.fitHeight=function(T,F){return Qu(x,T,F)};function U(){var T=ec(t,0,0,l,h,d).apply(null,e(a,f)),F=ec(t,r-T[0],i-T[1],l,h,d);return u=Fu(o,c,s),S=Ba(e,F),A=Ba(u,S),M=nc(S,$),R()}function R(){return C=D=null,x}return function(){return e=n.apply(this,arguments),x.invert=e.invert&&k,U()}}function zf(n){var e=0,t=K/3,r=Ju(n),i=r(e,t);return i.parallels=function(a){return arguments.length?r(e=a[0]*un,t=a[1]*un):[e*$n,t*$n]},i}function ip(n){var e=Z(n);function t(r,i){return[r*e,G(i)/e]}return t.invert=function(r,i){return[r/e,zn(i*e)]},t}function ap(n,e){var t=G(n),r=(t+G(e))/2;if(fn(r)<X)return ip(n);var i=1+t*(2*r-t),a=Nn(i)/r;function f(o,c){var s=Nn(i-2*r*G(c))/r;return[s*G(o*=r),a-s*Z(o)]}return f.invert=function(o,c){var s=a-c,u=ge(o,fn(s))*Un(s);return s*r<0&&(u-=K*Un(o)*Un(s)),[u/r,zn((i-(o*o+s*s)*r*r)/(2*r))]},f}function ci(){return zf(ap).scale(155.424).center([0,33.6442])}function ns(){return ci().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function fp(n){var e=n.length;return{point:function(t,r){for(var i=-1;++i<e;)n[i].point(t,r)},sphere:function(){for(var t=-1;++t<e;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<e;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<e;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<e;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<e;)n[t].polygonEnd()}}}function op(){var n,e,t=ns(),r,i=ci().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,f=ci().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(a.point(h,p),c)||(o.point(h,p),c)}u.invert=function(l){var h=t.scale(),p=t.translate(),g=(l[0]-p[0])/h,b=(l[1]-p[1])/h;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?f:t).invert(l)},u.stream=function(l){return n&&e===l?n:n=fp([t.stream(e=l),i.stream(l),f.stream(l)])},u.precision=function(l){return arguments.length?(t.precision(l),i.precision(l),f.precision(l),d()):t.precision()},u.scale=function(l){return arguments.length?(t.scale(l),i.scale(l*.35),f.scale(l),u.translate(t.translate())):t.scale()},u.translate=function(l){if(!arguments.length)return t.translate();var h=t.scale(),p=+l[0],g=+l[1];return r=t.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+X,g+.12*h+X],[p-.214*h-X,g+.234*h-X]]).stream(s),o=f.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+X,g+.166*h+X],[p-.115*h-X,g+.234*h-X]]).stream(s),d()},u.fitExtent=function(l,h){return Pf(u,l,h)},u.fitSize=function(l,h){return Zu(u,l,h)},u.fitWidth=function(l,h){return Ku(u,l,h)},u.fitHeight=function(l,h){return Qu(u,l,h)};function d(){return n=e=null,u}return u.scale(1070)}function es(n){return function(e,t){var r=Z(e),i=Z(t),a=n(r*i);return a===1/0?[2,0]:[a*i*G(e),a*G(t)]}}function or(n){return function(e,t){var r=Nn(e*e+t*t),i=n(r),a=G(i),f=Z(i);return[ge(e*a,r*f),zn(r&&t*a/r)]}}var ts=es(function(n){return Nn(2/(1+n))});ts.invert=or(function(n){return 2*zn(n/2)});function cp(){return Le(ts).scale(124.75).clipAngle(180-.001)}var rs=es(function(n){return(n=ku(n))&&n/G(n)});rs.invert=or(function(n){return n});function up(){return Le(rs).scale(79.4188).clipAngle(180-.001)}function Ei(n,e){return[n,Jr(Rf((sn+e)/2))]}Ei.invert=function(n,e){return[n,2*St(Lu(e))-sn]};function sp(){return is(Ei).scale(961/Ln)}function is(n){var e=Le(n),t=e.center,r=e.scale,i=e.translate,a=e.clipExtent,f=null,o,c,s;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(t(d),u()):t()},e.clipExtent=function(d){return arguments.length?(d==null?f=o=c=s=null:(f=+d[0][0],o=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):f==null?null:[[f,o],[c,s]]};function u(){var d=K*r(),l=e(I1(e.rotate()).invert([0,0]));return a(f==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:n===Ei?[[Math.max(l[0]-d,f),o],[Math.min(l[0]+d,c),s]]:[[f,Math.max(l[1]-d,o)],[c,Math.min(l[1]+d,s)]])}return u()}function Nr(n){return Rf((sn+n)/2)}function lp(n,e){var t=Z(n),r=n===e?G(n):Jr(t/Z(e))/Jr(Nr(e)/Nr(n)),i=t*ea(Nr(n),r)/r;if(!r)return Ei;function a(f,o){i>0?o<-sn+X&&(o=-sn+X):o>sn-X&&(o=sn-X);var c=i/ea(Nr(o),r);return[c*G(r*f),i-c*Z(r*f)]}return a.invert=function(f,o){var c=i-o,s=Un(r)*Nn(f*f+c*c),u=ge(f,fn(c))*Un(c);return c*r<0&&(u-=K*Un(f)*Un(c)),[u/r,2*St(ea(i/s,1/r))-sn]},a}function dp(){return zf(lp).scale(109.5).parallels([30,30])}function ui(n,e){return[n,e]}ui.invert=ui;function hp(){return Le(ui).scale(152.63)}function pp(n,e){var t=Z(n),r=n===e?G(n):(t-Z(e))/(e-n),i=t/r+n;if(fn(r)<X)return ui;function a(f,o){var c=i-o,s=r*f;return[c*G(s),i-c*Z(s)]}return a.invert=function(f,o){var c=i-o,s=ge(f,fn(c))*Un(c);return c*r<0&&(s-=K*Un(f)*Un(c)),[s/r,i-Un(r)*Nn(f*f+c*c)]},a}function gp(){return zf(pp).scale(131.154).center([0,13.9389])}var Wt=1.340264,Bt=-.081106,Yt=893e-6,Ht=.003796,si=Nn(3)/2,mp=12;function as(n,e){var t=zn(si*G(e)),r=t*t,i=r*r*r;return[n*Z(t)/(si*(Wt+3*Bt*r+i*(7*Yt+9*Ht*r))),t*(Wt+Bt*r+i*(Yt+Ht*r))]}as.invert=function(n,e){for(var t=e,r=t*t,i=r*r*r,a=0,f,o,c;a<mp&&(o=t*(Wt+Bt*r+i*(Yt+Ht*r))-e,c=Wt+3*Bt*r+i*(7*Yt+9*Ht*r),t-=f=o/c,r=t*t,i=r*r*r,!(fn(f)<Iu));++a);return[si*n*(Wt+3*Bt*r+i*(7*Yt+9*Ht*r))/Z(t),zn(G(t)/si)]};function bp(){return Le(as).scale(177.158)}function fs(n,e){var t=Z(e),r=Z(n)*t;return[t*G(n)/r,G(e)/r]}fs.invert=or(St);function yp(){return Le(fs).scale(144.049).clipAngle(60)}function os(n,e){return[Z(e)*G(n),G(e)]}os.invert=or(zn);function wp(){return Le(os).scale(249.5).clipAngle(90+X)}function cs(n,e){var t=Z(e),r=1+Z(n)*t;return[t*G(n)/r,G(e)/r]}cs.invert=or(function(n){return 2*St(n)});function vp(){return Le(cs).scale(250).clipAngle(142)}function us(n,e){return[Jr(Rf((sn+e)/2)),-n]}us.invert=function(n,e){return[-e,2*St(Lu(n))-sn]};function Mp(){var n=is(us),e=n.center,t=n.rotate;return n.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},n.rotate=function(r){return arguments.length?t([r[0],r[1],r.length>2?r[2]+90:90]):(r=t(),[r[0],r[1],r[2]-90])},t([0,0,90]).scale(159.155)}function Ni(){var n=uu().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,a,f,o=!1,c=0,s=0,u=.5;delete n.unknown;function d(){var l=e().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,l-c+s*2),o&&(a=Math.floor(a)),p+=(g-p-a*(l-c))*u,f=a*(1-c),o&&(p=Math.round(p),f=Math.round(f));var b=Fa(l).map(function(w){return p+a*w});return t(h?b.reverse():b)}return n.domain=function(l){return arguments.length?(e(l),d()):e()},n.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,o=!0,d()},n.bandwidth=function(){return f},n.step=function(){return a},n.round=function(l){return arguments.length?(o=!!l,d()):o},n.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},n.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},n.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},n.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},n.copy=function(){return Ni(e(),[r,i]).round(o).paddingInner(c).paddingOuter(s).align(u)},ye.apply(d(),arguments)}function ss(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return ss(e())},n}function $p(){return ss(Ni.apply(null,arguments).paddingInner(1))}function xp(n){return function(){return n}}function tf(n){return+n}var tc=[0,1];function Cn(n){return n}function rf(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:xp(isNaN(e)?NaN:.5)}function Sp(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Tp(n,e,t){var r=n[0],i=n[1],a=e[0],f=e[1];return i<r?(r=rf(i,r),a=t(f,a)):(r=rf(r,i),a=t(a,f)),function(o){return a(r(o))}}function Ap(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),a=new Array(r),f=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++f<r;)i[f]=rf(n[f],n[f+1]),a[f]=t(e[f],e[f+1]);return function(o){var c=Ef(n,o,1,r)-1;return a[c](i[c](o))}}function cr(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Di(){var n=tc,e=tc,t=$t,r,i,a,f=Cn,o,c,s;function u(){var l=Math.min(n.length,e.length);return f!==Cn&&(f=Sp(n[0],n[l-1])),o=l>2?Ap:Tp,c=s=null,d}function d(l){return l==null||isNaN(l=+l)?a:(c||(c=o(n.map(r),e,t)))(r(f(l)))}return d.invert=function(l){return f(i((s||(s=o(e,n.map(r),Ce)))(l)))},d.domain=function(l){return arguments.length?(n=Array.from(l,tf),u()):n.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),u()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),t=Ti,u()},d.clamp=function(l){return arguments.length?(f=l?!0:Cn,u()):f!==Cn},d.interpolate=function(l){return arguments.length?(t=l,u()):t},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,u()}}function ls(){return Di()(Cn,Cn)}function Cp(n,e,t,r){var i=La(n,e,t),a;switch(r=Vt(r??",f"),r.type){case"s":{var f=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(a=N1(i,f))&&(r.precision=a),Du(r,f)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=D1(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=E1(i))&&(r.precision=a-(r.type==="%")*2);break}}return xt(r)}function Tt(n){var e=n.domain;return n.ticks=function(t){var r=e();return Vr(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return Cp(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,a=r.length-1,f=r[i],o=r[a],c,s,u=10;for(o<f&&(s=f,f=o,o=s,s=i,i=a,a=s);u-- >0;){if(s=Ia(f,o,t),s===c)return r[i]=f,r[a]=o,e(r);if(s>0)f=Math.floor(f/s)*s,o=Math.ceil(o/s)*s;else if(s<0)f=Math.ceil(f*s)/s,o=Math.floor(o*s)/s;else break;c=s}return n},n}function _f(){var n=ls();return n.copy=function(){return cr(n,_f())},ye.apply(n,arguments),Tt(n)}function ds(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,tf),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return ds(n).unknown(e)},n=arguments.length?Array.from(n,tf):[0,1],Tt(t)}function hs(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],a=n[r],f;return a<i&&(f=t,t=r,r=f,f=i,i=a,a=f),n[t]=e.floor(i),n[r]=e.ceil(a),n}function rc(n){return Math.log(n)}function ic(n){return Math.exp(n)}function Ep(n){return-Math.log(-n)}function Np(n){return-Math.exp(-n)}function Dp(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Ip(n){return n===10?Dp:n===Math.E?Math.exp:e=>Math.pow(n,e)}function Lp(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function ac(n){return(e,t)=>-n(-e,t)}function ps(n){const e=n(rc,ic),t=e.domain;let r=10,i,a;function f(){return i=Lp(r),a=Ip(r),t()[0]<0?(i=ac(i),a=ac(a),n(Ep,Np)):n(rc,ic),e}return e.base=function(o){return arguments.length?(r=+o,f()):r},e.domain=function(o){return arguments.length?(t(o),f()):t()},e.ticks=o=>{const c=t();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,g;const b=o==null?10:+o;let w=[];if(!(r%1)&&h-l<b){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/a(-l):p*a(l),!(g<s)){if(g>u)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/a(-l):p*a(l),!(g<s)){if(g>u)break;w.push(g)}w.length*2<b&&(w=Vr(s,u,b))}else w=Vr(l,h,Math.min(h-l,b)).map(a);return d?w.reverse():w},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Vt(c)).precision==null&&(c.trim=!0),c=xt(c)),o===1/0)return c;const s=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},e.nice=()=>t(hs(t(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function gs(){const n=ps(Di()).domain([1,10]);return n.copy=()=>cr(n,gs()).base(n.base()),ye.apply(n,arguments),n}function fc(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function oc(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function ms(n){var e=1,t=n(fc(e),oc(e));return t.constant=function(r){return arguments.length?n(fc(e=+r),oc(e)):e},Tt(t)}function bs(){var n=ms(Di());return n.copy=function(){return cr(n,bs()).constant(n.constant())},ye.apply(n,arguments)}function cc(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function kp(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Fp(n){return n<0?-n*n:n*n}function ys(n){var e=n(Cn,Cn),t=1;function r(){return t===1?n(Cn,Cn):t===.5?n(kp,Fp):n(cc(t),cc(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},Tt(e)}function ws(){var n=ys(Di());return n.copy=function(){return cr(n,ws()).exponent(n.exponent())},ye.apply(n,arguments),n}function vs(){var n=[],e=[],t=[],r;function i(){var f=0,o=Math.max(1,e.length);for(t=new Array(o-1);++f<o;)t[f-1]=Wh(n,f/o);return a}function a(f){return f==null||isNaN(f=+f)?r:e[Ef(t,f)]}return a.invertExtent=function(f){var o=e.indexOf(f);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},a.domain=function(f){if(!arguments.length)return n.slice();n=[];for(let o of f)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(En),i()},a.range=function(f){return arguments.length?(e=Array.from(f),i()):e.slice()},a.unknown=function(f){return arguments.length?(r=f,a):r},a.quantiles=function(){return t.slice()},a.copy=function(){return vs().domain(n).range(e).unknown(r)},ye.apply(a,arguments)}function Ms(){var n=[.5],e=[0,1],t,r=1;function i(a){return a!=null&&a<=a?e[Ef(n,a,0,r)]:t}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var f=e.indexOf(a);return[n[f-1],n[f]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return Ms().domain(n).range(e).unknown(t)},ye.apply(i,arguments)}const fa=new Date,oa=new Date;function pn(n,e,t,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),e(a,1),n(a),a),i.round=a=>{const f=i(a),o=i.ceil(a);return a-f<o-a?f:o},i.offset=(a,f)=>(e(a=new Date(+a),f==null?1:Math.floor(f)),a),i.range=(a,f,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<f)||!(o>0))return c;let s;do c.push(s=new Date(+a)),e(a,o),n(a);while(s<a&&a<f);return c},i.filter=a=>pn(f=>{if(f>=f)for(;n(f),!a(f);)f.setTime(f-1)},(f,o)=>{if(f>=f)if(o<0)for(;++o<=0;)for(;e(f,-1),!a(f););else for(;--o>=0;)for(;e(f,1),!a(f););}),t&&(i.count=(a,f)=>(fa.setTime(+a),oa.setTime(+f),n(fa),n(oa),Math.floor(t(fa,oa))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?f=>r(f)%a===0:f=>i.count(0,f)%a===0):i)),i}const li=pn(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);li.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?pn(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):li);li.range;const se=1e3,Pn=se*60,le=Pn*60,me=le*24,qf=me*7,uc=me*30,ca=me*365,Wn=pn(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*se)},(n,e)=>(e-n)/se,n=>n.getUTCSeconds());Wn.range;const ur=pn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*se)},(n,e)=>{n.setTime(+n+e*Pn)},(n,e)=>(e-n)/Pn,n=>n.getMinutes());ur.range;const sr=pn(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Pn)},(n,e)=>(e-n)/Pn,n=>n.getUTCMinutes());sr.range;const lr=pn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*se-n.getMinutes()*Pn)},(n,e)=>{n.setTime(+n+e*le)},(n,e)=>(e-n)/le,n=>n.getHours());lr.range;const dr=pn(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*le)},(n,e)=>(e-n)/le,n=>n.getUTCHours());dr.range;const He=pn(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Pn)/me,n=>n.getDate()-1);He.range;const Ii=pn(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/me,n=>n.getUTCDate()-1);Ii.range;const Li=pn(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/me,n=>Math.floor(n/me));Li.range;function je(n){return pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pn)/qf)}const ht=je(0),Kt=je(1),$s=je(2),xs=je(3),We=je(4),Ss=je(5),Ts=je(6);ht.range;Kt.range;$s.range;xs.range;We.range;Ss.range;Ts.range;function Ge(n){return pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/qf)}const pt=Ge(0),Qt=Ge(1),As=Ge(2),Cs=Ge(3),Be=Ge(4),Es=Ge(5),Ns=Ge(6);pt.range;Qt.range;As.range;Cs.range;Be.range;Es.range;Ns.range;const hr=pn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());hr.range;const pr=pn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());pr.range;const Hn=pn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Hn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Hn.range;const jn=pn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());jn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});jn.range;function Ds(n,e,t,r,i,a){const f=[[Wn,1,se],[Wn,5,5*se],[Wn,15,15*se],[Wn,30,30*se],[a,1,Pn],[a,5,5*Pn],[a,15,15*Pn],[a,30,30*Pn],[i,1,le],[i,3,3*le],[i,6,6*le],[i,12,12*le],[r,1,me],[r,2,2*me],[t,1,qf],[e,1,uc],[e,3,3*uc],[n,1,ca]];function o(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=$i(([,,b])=>b).right(f,l);if(h===f.length)return n.every(La(s/ca,u/ca,d));if(h===0)return li.every(Math.max(La(s,u,d),1));const[p,g]=f[l/f[h-1][2]<f[h][2]/l?h-1:h];return p.every(g)}return[o,c]}const[Rp,Up]=Ds(jn,pr,pt,Li,dr,sr),[Op,Pp]=Ds(Hn,hr,ht,He,lr,ur);function ua(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function sa(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function It(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function zp(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,a=n.days,f=n.shortDays,o=n.months,c=n.shortMonths,s=Lt(i),u=kt(i),d=Lt(a),l=kt(a),h=Lt(f),p=kt(f),g=Lt(o),b=kt(o),w=Lt(c),y=kt(c),v={a:L,A:B,b:I,B:_,c:null,d:gc,e:gc,f:cg,g:yg,G:vg,H:ag,I:fg,j:og,L:Is,m:ug,M:sg,p:q,q:O,Q:yc,s:wc,S:lg,u:dg,U:hg,V:pg,w:gg,W:mg,x:null,X:null,y:bg,Y:wg,Z:Mg,"%":bc},m={a:Y,A:en,b:Q,B:J,c:null,d:mc,e:mc,f:Tg,g:Rg,G:Og,H:$g,I:xg,j:Sg,L:ks,m:Ag,M:Cg,p:z,q:nn,Q:yc,s:wc,S:Eg,u:Ng,U:Dg,V:Ig,w:Lg,W:kg,x:null,X:null,y:Fg,Y:Ug,Z:Pg,"%":bc},$={a:D,A:x,b:k,B:U,c:R,d:hc,e:hc,f:eg,g:dc,G:lc,H:pc,I:pc,j:Kp,L:ng,m:Zp,M:Qp,p:C,q:Xp,Q:rg,s:ig,S:Jp,u:Yp,U:Hp,V:jp,w:Bp,W:Gp,x:T,X:F,y:dc,Y:lc,Z:Vp,"%":tg};v.x=M(t,v),v.X=M(r,v),v.c=M(e,v),m.x=M(t,m),m.X=M(r,m),m.c=M(e,m);function M(N,P){return function(W){var E=[],rn=-1,H=0,on=N.length,an,dn,Me;for(W instanceof Date||(W=new Date(+W));++rn<on;)N.charCodeAt(rn)===37&&(E.push(N.slice(H,rn)),(dn=sc[an=N.charAt(++rn)])!=null?an=N.charAt(++rn):dn=an==="e"?" ":"0",(Me=P[an])&&(an=Me(W,dn)),E.push(an),H=rn+1);return E.push(N.slice(H,rn)),E.join("")}}function S(N,P){return function(W){var E=It(1900,void 0,1),rn=A(E,N,W+="",0),H,on;if(rn!=W.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(P&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(H=sa(It(E.y,0,1)),on=H.getUTCDay(),H=on>4||on===0?Qt.ceil(H):Qt(H),H=Ii.offset(H,(E.V-1)*7),E.y=H.getUTCFullYear(),E.m=H.getUTCMonth(),E.d=H.getUTCDate()+(E.w+6)%7):(H=ua(It(E.y,0,1)),on=H.getDay(),H=on>4||on===0?Kt.ceil(H):Kt(H),H=He.offset(H,(E.V-1)*7),E.y=H.getFullYear(),E.m=H.getMonth(),E.d=H.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),on="Z"in E?sa(It(E.y,0,1)).getUTCDay():ua(It(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(on+5)%7:E.w+E.U*7-(on+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,sa(E)):ua(E)}}function A(N,P,W,E){for(var rn=0,H=P.length,on=W.length,an,dn;rn<H;){if(E>=on)return-1;if(an=P.charCodeAt(rn++),an===37){if(an=P.charAt(rn++),dn=$[an in sc?P.charAt(rn++):an],!dn||(E=dn(N,W,E))<0)return-1}else if(an!=W.charCodeAt(E++))return-1}return E}function C(N,P,W){var E=s.exec(P.slice(W));return E?(N.p=u.get(E[0].toLowerCase()),W+E[0].length):-1}function D(N,P,W){var E=h.exec(P.slice(W));return E?(N.w=p.get(E[0].toLowerCase()),W+E[0].length):-1}function x(N,P,W){var E=d.exec(P.slice(W));return E?(N.w=l.get(E[0].toLowerCase()),W+E[0].length):-1}function k(N,P,W){var E=w.exec(P.slice(W));return E?(N.m=y.get(E[0].toLowerCase()),W+E[0].length):-1}function U(N,P,W){var E=g.exec(P.slice(W));return E?(N.m=b.get(E[0].toLowerCase()),W+E[0].length):-1}function R(N,P,W){return A(N,e,P,W)}function T(N,P,W){return A(N,t,P,W)}function F(N,P,W){return A(N,r,P,W)}function L(N){return f[N.getDay()]}function B(N){return a[N.getDay()]}function I(N){return c[N.getMonth()]}function _(N){return o[N.getMonth()]}function q(N){return i[+(N.getHours()>=12)]}function O(N){return 1+~~(N.getMonth()/3)}function Y(N){return f[N.getUTCDay()]}function en(N){return a[N.getUTCDay()]}function Q(N){return c[N.getUTCMonth()]}function J(N){return o[N.getUTCMonth()]}function z(N){return i[+(N.getUTCHours()>=12)]}function nn(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var P=M(N+="",v);return P.toString=function(){return N},P},parse:function(N){var P=S(N+="",!1);return P.toString=function(){return N},P},utcFormat:function(N){var P=M(N+="",m);return P.toString=function(){return N},P},utcParse:function(N){var P=S(N+="",!0);return P.toString=function(){return N},P}}}var sc={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,_p=/^%/,qp=/[\\^$*+?|[\]().{}]/g;function tn(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(e)+i:i)}function Wp(n){return n.replace(qp,"\\$&")}function Lt(n){return new RegExp("^(?:"+n.map(Wp).join("|")+")","i")}function kt(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function Bp(n,e,t){var r=yn.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function Yp(n,e,t){var r=yn.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function Hp(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function jp(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function Gp(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function lc(n,e,t){var r=yn.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function dc(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function Vp(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Xp(n,e,t){var r=yn.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function Zp(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function hc(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function Kp(n,e,t){var r=yn.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function pc(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function Qp(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function Jp(n,e,t){var r=yn.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function ng(n,e,t){var r=yn.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function eg(n,e,t){var r=yn.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function tg(n,e,t){var r=_p.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function rg(n,e,t){var r=yn.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function ig(n,e,t){var r=yn.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function gc(n,e){return tn(n.getDate(),e,2)}function ag(n,e){return tn(n.getHours(),e,2)}function fg(n,e){return tn(n.getHours()%12||12,e,2)}function og(n,e){return tn(1+He.count(Hn(n),n),e,3)}function Is(n,e){return tn(n.getMilliseconds(),e,3)}function cg(n,e){return Is(n,e)+"000"}function ug(n,e){return tn(n.getMonth()+1,e,2)}function sg(n,e){return tn(n.getMinutes(),e,2)}function lg(n,e){return tn(n.getSeconds(),e,2)}function dg(n){var e=n.getDay();return e===0?7:e}function hg(n,e){return tn(ht.count(Hn(n)-1,n),e,2)}function Ls(n){var e=n.getDay();return e>=4||e===0?We(n):We.ceil(n)}function pg(n,e){return n=Ls(n),tn(We.count(Hn(n),n)+(Hn(n).getDay()===4),e,2)}function gg(n){return n.getDay()}function mg(n,e){return tn(Kt.count(Hn(n)-1,n),e,2)}function bg(n,e){return tn(n.getFullYear()%100,e,2)}function yg(n,e){return n=Ls(n),tn(n.getFullYear()%100,e,2)}function wg(n,e){return tn(n.getFullYear()%1e4,e,4)}function vg(n,e){var t=n.getDay();return n=t>=4||t===0?We(n):We.ceil(n),tn(n.getFullYear()%1e4,e,4)}function Mg(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tn(e/60|0,"0",2)+tn(e%60,"0",2)}function mc(n,e){return tn(n.getUTCDate(),e,2)}function $g(n,e){return tn(n.getUTCHours(),e,2)}function xg(n,e){return tn(n.getUTCHours()%12||12,e,2)}function Sg(n,e){return tn(1+Ii.count(jn(n),n),e,3)}function ks(n,e){return tn(n.getUTCMilliseconds(),e,3)}function Tg(n,e){return ks(n,e)+"000"}function Ag(n,e){return tn(n.getUTCMonth()+1,e,2)}function Cg(n,e){return tn(n.getUTCMinutes(),e,2)}function Eg(n,e){return tn(n.getUTCSeconds(),e,2)}function Ng(n){var e=n.getUTCDay();return e===0?7:e}function Dg(n,e){return tn(pt.count(jn(n)-1,n),e,2)}function Fs(n){var e=n.getUTCDay();return e>=4||e===0?Be(n):Be.ceil(n)}function Ig(n,e){return n=Fs(n),tn(Be.count(jn(n),n)+(jn(n).getUTCDay()===4),e,2)}function Lg(n){return n.getUTCDay()}function kg(n,e){return tn(Qt.count(jn(n)-1,n),e,2)}function Fg(n,e){return tn(n.getUTCFullYear()%100,e,2)}function Rg(n,e){return n=Fs(n),tn(n.getUTCFullYear()%100,e,2)}function Ug(n,e){return tn(n.getUTCFullYear()%1e4,e,4)}function Og(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Be(n):Be.ceil(n),tn(n.getUTCFullYear()%1e4,e,4)}function Pg(){return"+0000"}function bc(){return"%"}function yc(n){return+n}function wc(n){return Math.floor(+n/1e3)}var Je,Wf,gr;zg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zg(n){return Je=zp(n),Wf=Je.format,Je.parse,gr=Je.utcFormat,Je.utcParse,Je}function _g(n){return new Date(n)}function qg(n){return n instanceof Date?+n:+new Date(+n)}function Bf(n,e,t,r,i,a,f,o,c,s){var u=ls(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),b=s("%I %p"),w=s("%a %d"),y=s("%b %d"),v=s("%B"),m=s("%Y");function $(M){return(c(M)<M?h:o(M)<M?p:f(M)<M?g:a(M)<M?b:r(M)<M?i(M)<M?w:y:t(M)<M?v:m)(M)}return u.invert=function(M){return new Date(d(M))},u.domain=function(M){return arguments.length?l(Array.from(M,qg)):l().map(_g)},u.ticks=function(M){var S=l();return n(S[0],S[S.length-1],M??10)},u.tickFormat=function(M,S){return S==null?$:s(S)},u.nice=function(M){var S=l();return(!M||typeof M.range!="function")&&(M=e(S[0],S[S.length-1],M??10)),M?l(hs(S,M)):u},u.copy=function(){return cr(u,Bf(n,e,t,r,i,a,f,o,c,s))},u}function Wg(){return ye.apply(Bf(Op,Pp,Hn,hr,ht,He,lr,ur,Wn,Wf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bg(){return ye.apply(Bf(Rp,Up,jn,pr,pt,Ii,dr,sr,Wn,gr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yg(){var n=0,e=1,t,r,i,a,f=Cn,o=!1,c;function s(d){return d==null||isNaN(d=+d)?c:f(i===0?.5:(d=(a(d)-t)*i,o?Math.max(0,Math.min(1,d)):d))}s.domain=function(d){return arguments.length?([n,e]=d,t=a(n=+n),r=a(e=+e),i=t===r?0:1/(r-t),s):[n,e]},s.clamp=function(d){return arguments.length?(o=!!d,s):o},s.interpolator=function(d){return arguments.length?(f=d,s):f};function u(d){return function(l){var h,p;return arguments.length?([h,p]=l,f=d(h,p),s):[f(0),f(1)]}}return s.range=u($t),s.rangeRound=u(Ti),s.unknown=function(d){return arguments.length?(c=d,s):c},function(d){return a=d,t=d(n),r=d(e),i=t===r?0:1/(r-t),s}}function mr(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Hg(){var n=Tt(Yg()(Cn));return n.copy=function(){return mr(n,Hg())},ar.apply(n,arguments)}function ki(){var n=0,e=.5,t=1,r=1,i,a,f,o,c,s=Cn,u,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-a)*(r*g<r*a?o:c),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([n,e,t]=g,i=u(n=+n),a=u(e=+e),f=u(t=+t),o=i===a?0:.5/(a-i),c=a===f?0:.5/(f-a),r=a<i?-1:1,h):[n,e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(b){var w,y,v;return arguments.length?([w,y,v]=b,s=Ai(g,[w,y,v]),h):[s(0),s(.5),s(1)]}}return h.range=p($t),h.rangeRound=p(Ti),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return u=g,i=g(n),a=g(e),f=g(t),o=i===a?0:.5/(a-i),c=a===f?0:.5/(f-a),r=a<i?-1:1,h}}function Rs(){var n=Tt(ki()(Cn));return n.copy=function(){return mr(n,Rs())},ar.apply(n,arguments)}function Us(){var n=ps(ki()).domain([.1,1,10]);return n.copy=function(){return mr(n,Us()).base(n.base())},ar.apply(n,arguments)}function Os(){var n=ms(ki());return n.copy=function(){return mr(n,Os()).constant(n.constant())},ar.apply(n,arguments)}function Ps(){var n=ys(ki());return n.copy=function(){return mr(n,Ps()).exponent(n.exponent())},ar.apply(n,arguments)}function V(n){for(var e=n.length/6|0,t=new Array(e),r=0;r<e;)t[r]="#"+n.slice(r*6,++r*6);return t}const jg=V("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Gg=V("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Vg=V("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Xg=V("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Zg=V("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Kg=V("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Qg=V("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Jg=V("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),nm=V("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),em=V("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),tm=V("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),cn=n=>xh(n[n.length-1]);var zs=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(V);const _s=cn(zs);var qs=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(V);const Ws=cn(qs);var Bs=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(V);const Ys=cn(Bs);var Hs=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(V);const js=cn(Hs);var af=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(V);const di=cn(af);var Gs=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(V);const Vs=cn(Gs);var ff=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(V);const hi=cn(ff);var Xs=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(V);const Zs=cn(Xs);var Ks=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(V);const Qs=cn(Ks);var Js=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(V);const nl=cn(Js);var el=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(V);const tl=cn(el);var rl=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(V);const il=cn(rl);var al=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(V);const fl=cn(al);var ol=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(V);const cl=cn(ol);var ul=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(V);const sl=cn(ul);var ll=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(V);const dl=cn(ll);var hl=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(V);const pl=cn(hl);var gl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(V);const ml=cn(gl);var bl=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(V);const yl=cn(bl);var wl=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(V);const vl=cn(wl);var Ml=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(V);const $l=cn(Ml);var xl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(V);const Sl=cn(xl);var Tl=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(V);const Al=cn(Tl);var Cl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(V);const El=cn(Cl);var Nl=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(V);const Dl=cn(Nl);var Il=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(V);const Ll=cn(Il);var kl=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(V);const Fl=cn(kl);function Rl(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const Ul=kf(ne(300,.5,0),ne(-240,.5,1));var Ol=kf(ne(-100,.75,.35),ne(80,1.5,.8)),Pl=kf(ne(260,.75,.35),ne(80,1.5,.8)),Dr=ne();function zl(n){(n<0||n>1)&&(n-=Math.floor(n));var e=Math.abs(n-.5);return Dr.h=360*n-100,Dr.s=1.5-1.5*e,Dr.l=.8-.9*e,Dr+""}var Ir=Br(),rm=Math.PI/3,im=Math.PI*2/3;function _l(n){var e;return n=(.5-n)*Math.PI,Ir.r=255*(e=Math.sin(n))*e,Ir.g=255*(e=Math.sin(n+rm))*e,Ir.b=255*(e=Math.sin(n+im))*e,Ir+""}function ql(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function Fi(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}const Wl=Fi(V("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Bl=Fi(V("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Yl=Fi(V("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Hl=Fi(V("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const jl=Math.cos,Yf=Math.min,pi=Math.sin,gn=Math.sqrt,K6=1e-12,gi=Math.PI,Ri=2*gi,am=gn(3),Gl={draw(n,e){const t=gn(e+Yf(e/28,.75))*.59436,r=t/2,i=r*am;n.moveTo(0,t),n.lineTo(0,-t),n.moveTo(-i,-r),n.lineTo(i,r),n.moveTo(-i,r),n.lineTo(i,-r)}},Hf={draw(n,e){const t=gn(e/gi);n.moveTo(t,0),n.arc(0,0,t,0,Ri)}},Vl={draw(n,e){const t=gn(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},Xl=gn(1/3),fm=Xl*2,Zl={draw(n,e){const t=gn(e/fm),r=t*Xl;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},Kl={draw(n,e){const t=gn(e)*.62625;n.moveTo(0,-t),n.lineTo(t,0),n.lineTo(0,t),n.lineTo(-t,0),n.closePath()}},Ql={draw(n,e){const t=gn(e-Yf(e/7,2))*.87559;n.moveTo(-t,0),n.lineTo(t,0),n.moveTo(0,t),n.lineTo(0,-t)}},Jl={draw(n,e){const t=gn(e),r=-t/2;n.rect(r,r,t,t)}},nd={draw(n,e){const t=gn(e)*.4431;n.moveTo(t,t),n.lineTo(t,-t),n.lineTo(-t,-t),n.lineTo(-t,t),n.closePath()}},om=.8908130915292852,ed=pi(gi/10)/pi(7*gi/10),cm=pi(Ri/10)*ed,um=-jl(Ri/10)*ed,td={draw(n,e){const t=gn(e*om),r=cm*t,i=um*t;n.moveTo(0,-t),n.lineTo(r,i);for(let a=1;a<5;++a){const f=Ri*a/5,o=jl(f),c=pi(f);n.lineTo(c*t,-o*t),n.lineTo(o*r-c*i,c*r+o*i)}n.closePath()}},la=gn(3),rd={draw(n,e){const t=-gn(e/(la*3));n.moveTo(0,t*2),n.lineTo(-la*t,-t),n.lineTo(la*t,-t),n.closePath()}},sm=gn(3),id={draw(n,e){const t=gn(e)*.6824,r=t/2,i=t*sm/2;n.moveTo(0,-t),n.lineTo(i,r),n.lineTo(-i,r),n.closePath()}},kn=-.5,Fn=gn(3)/2,of=1/gn(12),lm=(of/2+1)*3,ad={draw(n,e){const t=gn(e/lm),r=t/2,i=t*of,a=r,f=t*of+t,o=-a,c=f;n.moveTo(r,i),n.lineTo(a,f),n.lineTo(o,c),n.lineTo(kn*r-Fn*i,Fn*r+kn*i),n.lineTo(kn*a-Fn*f,Fn*a+kn*f),n.lineTo(kn*o-Fn*c,Fn*o+kn*c),n.lineTo(kn*r+Fn*i,kn*i-Fn*r),n.lineTo(kn*a+Fn*f,kn*f-Fn*a),n.lineTo(kn*o+Fn*c,kn*c-Fn*o),n.closePath()}},fd={draw(n,e){const t=gn(e-Yf(e/6,1.7))*.6189;n.moveTo(-t,-t),n.lineTo(t,t),n.moveTo(-t,t),n.lineTo(t,-t)}},dm=[Hf,Vl,Zl,Jl,td,rd,ad],hm=[Hf,Ql,fd,id,Gl,nd,Kl];function Ne(n){return n!=null&&!Number.isNaN(n)}function Gn(n,e){return+Ne(e)-+Ne(n)||En(n,e)}function mi(n,e){return+Ne(e)-+Ne(n)||fr(n,e)}function jf(n){return n!=null&&`${n}`!=""}function od(n){return isFinite(n)?n:NaN}function Gf(n){return n>0&&isFinite(n)?n:NaN}function cd(n){return n<0&&isFinite(n)?n:NaN}function pm(n,e){if(n instanceof Date||(n=new Date(+n)),isNaN(n))return typeof e=="function"?e(n):e;const t=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),a=n.getUTCMilliseconds();return`${gm(n.getUTCFullYear())}-${oe(n.getUTCMonth()+1,2)}-${oe(n.getUTCDate(),2)}${t||r||i||a?`T${oe(t,2)}:${oe(r,2)}${i||a?`:${oe(i,2)}${a?`.${oe(a,3)}`:""}`:""}Z`:""}`}function gm(n){return n<0?`-${oe(-n,6)}`:n>9999?`+${oe(n,6)}`:oe(n,4)}function oe(n,e){return`${n}`.padStart(e,"0")}const mm=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ud(n,e){return mm.test(n+="")?new Date(n):typeof e=="function"?e(n):e}function gt(n){if(n==null)return;const e=n[0],t=n[n.length-1];return fr(e,t)}const at=1e3,xe=at*60,Se=xe*60,ee=Se*24,Xn=ee*7,ze=ee*30,$e=ee*365,da=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",at],["5 seconds",5*at],["15 seconds",15*at],["30 seconds",30*at],["minute",xe],["5 minutes",5*xe],["15 minutes",15*xe],["30 minutes",30*xe],["hour",Se],["3 hours",3*Se],["6 hours",6*Se],["12 hours",12*Se],["day",ee],["2 days",2*ee],["week",Xn],["2 weeks",2*Xn],["month",ze],["3 months",3*ze],["6 months",6*ze],["year",$e],["2 years",2*$e],["5 years",5*$e],["10 years",10*$e],["20 years",20*$e],["50 years",50*$e],["100 years",100*$e]],Vf=new Map([["second",at],["minute",xe],["hour",Se],["day",ee],["monday",Xn],["tuesday",Xn],["wednesday",Xn],["thursday",Xn],["friday",Xn],["saturday",Xn],["sunday",Xn],["week",Xn],["month",ze],["year",$e]]),sd=new Map([["second",Wn],["minute",ur],["hour",lr],["day",He],["monday",Kt],["tuesday",$s],["wednesday",xs],["thursday",We],["friday",Ss],["saturday",Ts],["sunday",ht],["week",ht],["month",hr],["year",Hn]]),Xf=new Map([["second",Wn],["minute",sr],["hour",dr],["day",Li],["monday",Qt],["tuesday",As],["wednesday",Cs],["thursday",Be],["friday",Es],["saturday",Ns],["sunday",pt],["week",pt],["month",pr],["year",jn]]),br=Symbol("intervalDuration"),Ui=Symbol("intervalType");for(const[n,e]of sd)e[br]=Vf.get(n),e[Ui]="time";for(const[n,e]of Xf)e[br]=Vf.get(n),e[Ui]="utc";const qt=[["year",jn,"utc"],["month",pr,"utc"],["day",Li,"utc",6*ze],["hour",dr,"utc",3*ee],["minute",sr,"utc",6*Se],["second",Wn,"utc",30*xe]],qr=[["year",Hn,"time"],["month",hr,"time"],["day",He,"time",6*ze],["hour",lr,"time",3*ee],["minute",ur,"time",6*Se],["second",Wn,"time",30*xe]],bm=[qt[0],qr[0],qt[1],qr[1],qt[2],qr[2],...qt.slice(3)];function ld(n){let e=`${n}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let t=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),t=+r[1]),e){case"quarter":e="month",t*=3;break;case"half":e="month",t*=6;break}let i=Xf.get(e);if(!i)throw new Error(`unknown interval: ${n}`);if(t>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,t]}function dd(n){return pd(ld(n),"time")}function hd(n){return pd(ld(n),"utc")}function pd([n,e],t){let r=(t==="time"?sd:Xf).get(n);return e>1&&(r=r.every(e),r[br]=Vf.get(n)*e,r[Ui]=t),r}function vc(n,e){if(!(e>1))return;const t=n[br];if(!da.some(([,i])=>i===t)||t%ee===0&&ee<t&&t<ze)return;const[r]=da[$i(([,i])=>Math.log(i)).center(da,Math.log(t*e))];return(n[Ui]==="time"?dd:hd)(r)}function Mc(n,e,t){const r=e==="time"?Wf:gr;if(t==null)return r(n==="year"?"%Y":n==="month"?"%Y-%m":n==="day"?"%Y-%m-%d":n==="hour"||n==="minute"?"%Y-%m-%dT%H:%M":n==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=ym(t);switch(n){case"millisecond":return nt(r(".%L"),r(":%M:%S"),i);case"second":return nt(r(":%S"),r("%-I:%M"),i);case"minute":return nt(r("%-I:%M"),r("%p"),i);case"hour":return nt(r("%-I %p"),r("%b %-d"),i);case"day":return nt(r("%-d"),r("%b"),i);case"month":return nt(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function ym(n){return n==="left"||n==="right"?(e,t)=>`
${e}
${t}`:n==="top"?(e,t)=>`${t}
${e}`:(e,t)=>`${e}
${t}`}function wm(n){return n==="time"?qr:n==="utc"?qt:bm}function vm(n,e,t){const r=Bn(jh(e,(i,a)=>Math.abs(a-i)));if(r<1e3)return Mc("millisecond","utc",t);for(const[i,a,f,o]of wm(n)){if(r>o||i==="hour"&&!r)break;if(e.every(c=>a.floor(c)>=c))return Mc(i,f,t)}}function nt(n,e,t){return(r,i,a)=>{const f=n(r,i),o=e(r,i),c=i-gt(a);return i!==c&&a[c]!==void 0&&o===e(a[c],c)?f:t(f,o)}}const Zf=Object.getPrototypeOf(Uint8Array),Mm=Object.prototype.toString;function Ve(n){return n instanceof Array||n instanceof Zf}function gd(n){return n instanceof Zf&&!$m(n)}function md(n){return n?.prototype instanceof Zf&&!xm(n)}function $m(n){return n instanceof BigInt64Array||n instanceof BigUint64Array}function xm(n){return n===BigInt64Array||n===BigUint64Array}const bd=Symbol("reindex");function bn(n,e,t){const r=typeof e;return r==="string"?kd(n)?Kf(n.getChild(e),t):$c(n,yd(e),t):r==="function"?$c(n,e,t):r==="number"||e instanceof Date||r==="boolean"?hn(n,de(e),t):typeof e?.transform=="function"?cf(e.transform(n),t):Sm(cf(e,t),n?.[bd])}function Sm(n,e){return n!=null&&e?Pi(n,e):n}function $c(n,e,t){return hn(n,md(t)?(r,i)=>Qf(e(r,i)):e,t)}function cf(n,e){return e===void 0?De(n):Fd(n)?Kf(n,e):n instanceof e?n:e.from(n,md(e)&&!gd(n)?Qf:void 0)}function Kf(n,e){return n==null?n:(e===void 0||e===Array)&&Ym(n.type)?Md(n.toArray()):cf(n.toArray(),e)}const Wr=[null],yd=n=>e=>{const t=e[n];return t===void 0&&e.type==="Feature"?e.properties?.[n]:t},wd={transform:we},Mn={transform:n=>n},Tm=()=>1,Am=()=>!0,xn=n=>n==null?n:`${n}`,vn=n=>n==null?n:+n,vd=n=>n?n[0]:void 0,uf=n=>n?n[1]:void 0,de=n=>()=>n;function Cm(n){const e=+`${n}`.slice(1)/100;return(t,r)=>Xr(t,e,r)}function bi(n){return gd(n)?n:hn(n,Qf,Float64Array)}function Qf(n){return n==null?NaN:Number(n)}function Md(n){return hn(n,Em)}function Em(n){return n instanceof Date&&!isNaN(n)?n:typeof n=="string"?ud(n):n==null||isNaN(n=Number(n))?void 0:new Date(n)}function be(n,e){return n===void 0&&(n=e),n===null?[void 0,"none"]:_i(n)?[void 0,n]:[n,void 0]}function Dn(n,e){return n===void 0&&(n=e),n===null||typeof n=="number"?[void 0,n]:[n,void 0]}function $d(n,e,t){if(n!=null)return Vn(n,e,t)}function Vn(n,e,t){const r=`${n}`.toLowerCase();if(!t.includes(r))throw new Error(`invalid ${e}: ${n}`);return r}function mt(n){return kd(n)?n:De(n)}function De(n){if(n==null||Ve(n))return n;if(Fd(n))return Kf(n);switch(n.type){case"FeatureCollection":return n.features;case"GeometryCollection":return n.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[n]}return Array.from(n)}function hn(n,e,t=Array){return n==null?n:n instanceof t?n.map(e):t.from(n,e)}function Jt(n,e=Array){return n instanceof e?n.slice():e.from(n)}function xd({x:n,x1:e,x2:t}){return n!==void 0||e!==void 0||t!==void 0}function Sd({y:n,y1:e,y2:t}){return n!==void 0||e!==void 0||t!==void 0}function Nm(n){return xd(n)||Sd(n)||n.interval!==void 0}function ke(n){return n?.toString===Mm}function sf(n){return ke(n)&&(n.type!==void 0||n.domain!==void 0)}function Oi(n){return ke(n)&&typeof n.transform!="function"}function bt(n){return Oi(n)&&n.value===void 0&&n.channel===void 0}function Td(n,e,t,r=Mn){return e===void 0&&t===void 0?(e=0,t=n===void 0?r:n):e===void 0?e=n===void 0?0:n:t===void 0&&(t=n===void 0?0:n),[e,t]}function Ad(n,e){return n===void 0&&e===void 0?[vd,uf]:[n,e]}function Dm({z:n,fill:e,stroke:t}={}){return n===void 0&&([n]=be(e)),n===void 0&&([n]=be(t)),n}function nr(n){return Ve(n)?n.length:n?.numRows}function we(n){const e=nr(n),t=new Uint32Array(e);for(let r=0;r<e;++r)t[r]=r;return t}function Pi(n,e){return Ve(n)?hn(e,t=>n[t],n.constructor):hn(e,t=>n.at(t))}function Q6(n){return n.length===1?(e,t)=>n(Pi(t,e)):n}function Im(n,e,t){return n.subarray?n.subarray(e,t):n.slice(e,t)}function he(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Lm(n,e){if(e[n]!==void 0)return e[n];switch(n){case"x1":case"x2":n="x";break;case"y1":case"y2":n="y";break}return e[n]}function yi(n){let e;return[{transform:()=>e,label:At(n)},t=>e=t]}function tt(n){return n==null?[n]:yi(n)}function At(n,e){return typeof n=="string"?n:n&&n.label!==void 0?n.label:e}function Cd(n,e){return{transform(t){const r=n.transform(t),i=e.transform(t);return _n(r)||_n(i)?hn(r,(a,f)=>new Date((+r[f]+ +i[f])/2)):hn(r,(a,f)=>(+r[f]+ +i[f])/2,Float64Array)},label:n.label}}function lf(n,e){const t=Ed(e?.interval,e?.type);return t?hn(n,t):n}function Ed(n,e){const t=Jf(n,e);return t&&(r=>Ne(r)?t.floor(r):r)}function Jf(n,e){if(n!=null){if(typeof n=="number")return km(n);if(typeof n=="string")return(e==="time"?dd:hd)(n);if(typeof n.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof n.offset!="function")throw new Error("invalid interval; missing offset method");return n}}function km(n){n=+n,0<n&&n<1&&Number.isInteger(1/n)&&(n=-1/n);const e=Math.abs(n);return n<0?{floor:t=>Math.floor(t*e)/e,offset:(t,r=1)=>(t*e+Math.floor(r))/e,range:(t,r)=>Fa(Math.ceil(t*e),r*e).map(i=>i/e)}:{floor:t=>Math.floor(t/e)*e,offset:(t,r=1)=>t+e*Math.floor(r),range:(t,r)=>Fa(Math.ceil(t/e),r/e).map(i=>i*e)}}function yr(n,e){if(n=Jf(n,e),n&&typeof n.range!="function")throw new Error("invalid interval: missing range method");return n}function Fm(n,e){if(n=yr(n,e),n&&typeof n.ceil!="function")throw new Error("invalid interval: missing ceil method");return n}function J6(n){return Nd(n)&&typeof n?.floor=="function"&&n.floor()instanceof Date}function Nd(n){return typeof n?.range=="function"}function zi(n){return n===void 0||Oi(n)?n:{value:n}}function Rm(n){return n==null?null:{transform:e=>bn(e,n,Float64Array),label:At(n)}}function Xe(n){return n&&typeof n[Symbol.iterator]=="function"}function Dd(n){for(const e of n)if(e!=null)return typeof e!="object"||e instanceof Date}function xc(n){for(const e of n){if(e==null)continue;const t=typeof e;return t==="string"||t==="boolean"}}function _n(n){for(const e of n)if(e!=null)return e instanceof Date}function Um(n){for(const e of n)if(e!=null)return typeof e=="string"&&isNaN(e)&&ud(e)}function Om(n){for(const e of n)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Pm(n){for(const e of n)if(e!=null)return typeof e=="number"}function ha(n,e){let t;for(const r of n)if(r!=null){if(!e(r))return!1;t=!0}return t}const zm=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function _i(n){return typeof n!="string"?!1:(n=n.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(n)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(n)||zm.has(n))}function _m(n){return typeof n=="number"&&(0<=n&&n<=1||isNaN(n))}function Tn(n){return n==null||er(n)}function er(n){return/^\s*none\s*$/i.test(n)}function qm(n){return/^\s*round\s*$/i.test(n)}function df(n,e){return $d(n,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function no(n="middle"){return df(n,"frameAnchor")}function Wm(n={},...e){let t=n;for(const r of e)for(const i in r)if(t[i]===void 0){const a=r[i];t===n?t={...t,[i]:a}:t[i]=a}return t}function Bm(n){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(n,t=>{const{name:r}=t;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,t]}))}function Id(n){return Xe(n)?Bm(n):n}function Ld(n){return n===!0?n="frame":n===!1?n=null:n!=null&&(n=Vn(n,"clip",["frame","sphere"])),n}function kd(n){return n&&typeof n.getChild=="function"&&typeof n.toArray=="function"&&n.schema&&Array.isArray(n.schema.fields)}function Fd(n){return n&&typeof n.toArray=="function"&&n.type}function Ym(n){return n&&(n.typeId===8||n.typeId===10)&&n.unit===1}const Qn=Symbol("position"),ve=Symbol("color"),wr=Symbol("radius"),vr=Symbol("length"),Mr=Symbol("opacity"),qi=Symbol("symbol"),Rd=Symbol("projection"),ln=new Map([["x",Qn],["y",Qn],["fx",Qn],["fy",Qn],["r",wr],["color",ve],["opacity",Mr],["symbol",qi],["length",vr],["projection",Rd]]);function Hm(n){return n===Qn||n===Rd}function jm(n){return n===Qn||n===wr||n===vr||n===Mr}const Gm=Math.sqrt(3),Vm=2/Gm,Xm={draw(n,e){const t=Math.sqrt(e/Math.PI),r=t*Vm,i=r/2;n.moveTo(0,r),n.lineTo(t,i),n.lineTo(t,-i),n.lineTo(0,-r),n.lineTo(-t,-i),n.lineTo(-t,i),n.closePath()}},eo=new Map([["asterisk",Gl],["circle",Hf],["cross",Vl],["diamond",Zl],["diamond2",Kl],["hexagon",Xm],["plus",Ql],["square",Jl],["square2",nd],["star",td],["times",fd],["triangle",rd],["triangle2",id],["wye",ad]]);function to(n){return n&&typeof n.draw=="function"}function Zm(n){return to(n)?!0:typeof n!="string"?!1:eo.has(n.toLowerCase())}function ro(n){if(n==null||to(n))return n;const e=eo.get(`${n}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${n}`)}function n8(n){if(n==null||to(n))return[void 0,n];if(typeof n=="string"){const e=eo.get(`${n}`.toLowerCase());if(e)return[void 0,e]}return[n,void 0]}function Wi({filter:n,sort:e,reverse:t,transform:r,initializer:i,...a}={},f){if(r===void 0&&(n!=null&&(r=Ud(n)),e!=null&&!bt(e)&&(r=pa(r,io(e))),t&&(r=pa(r,Od))),f!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||bt(e))&&{sort:e},transform:pa(r,f)}}function yt({filter:n,sort:e,reverse:t,initializer:r,...i}={},a){return r===void 0&&(n!=null&&(r=Ud(n)),e!=null&&!bt(e)&&(r=ga(r,io(e))),t&&(r=ga(r,Od))),{...i,...(e===null||bt(e))&&{sort:e},initializer:ga(r,a)}}function pa(n,e){return n==null?e===null?void 0:e:e==null?n===null?void 0:n:function(t,r,i){return{data:t,facets:r}=n.call(this,t,r,i),e.call(this,mt(t),r,i)}}function ga(n,e){return n==null?e===null?void 0:e:e==null?n===null?void 0:n:function(t,r,i,...a){let f,o,c,s,u,d;return{data:o=t,facets:c=r,channels:f}=n.call(this,t,r,i,...a),{data:u=o,facets:d=c,channels:s}=e.call(this,o,c,{...i,...f},...a),{data:u,facets:d,channels:{...f,...s}}}}function Km(n,e){return(n.initializer!=null?yt:Wi)(n,e)}function Ud(n){return(e,t)=>{const r=bn(e,n);return{data:e,facets:t.map(i=>i.filter(a=>r[a]))}}}function Od(n,e){return{data:n,facets:e.map(t=>t.slice().reverse())}}function e8(n,{sort:e,...t}={}){return{...(Oi(n)&&n.channel!==void 0?yt:Km)(t,io(n)),sort:bt(e)?e:null}}function io(n){return(typeof n=="function"&&n.length!==1?Qm:Jm)(n)}function Qm(n){return(e,t)=>{const r=Ve(e)?(i,a)=>n(e[i],e[a]):(i,a)=>n(e.get(i),e.get(a));return{data:e,facets:t.map(i=>i.slice().sort(r))}}}function Jm(n){let e,t;({channel:e,value:n,order:t}={...zi(n)});const r=e?.startsWith("-");if(r&&(e=e.slice(1)),t===void 0&&(t=r?mi:Gn),typeof t!="function")switch(`${t}`.toLowerCase()){case"ascending":t=Gn;break;case"descending":t=mi;break;default:throw new Error(`invalid order: ${t}`)}return(i,a,f)=>{let o;if(e===void 0)o=bn(i,n);else{if(f===void 0)throw new Error("channel sort requires an initializer");if(o=f[e],!o)return{};o=o.value}const c=(s,u)=>t(o[s],o[u]);return{data:i,facets:a.map(s=>s.slice().sort(c))}}}function t8(n={y:"count"},e={}){const{x:t=Mn}=e;if(t==null)throw new Error("missing channel: x");return Pd(t,null,n,e)}function r8(n={x:"count"},e={}){const{y:t=Mn}=e;if(t==null)throw new Error("missing channel: y");return Pd(null,t,n,e)}function Pd(n,e,{data:t=Yd,filter:r,sort:i,reverse:a,...f}={},o={}){f=rb(f,o),t=Bd(t,Mn),i=i==null?void 0:qd("sort",i,o),r=r==null?void 0:Wd("filter",r,o);const[c,s]=tt(n),[u,d]=tt(e),{z:l,fill:h,stroke:p,x1:g,x2:b,y1:w,y2:y,...v}=o,[m,$]=tt(l),[M]=be(h),[S]=be(p),[A,C]=tt(M),[D,x]=tt(S);return{..."z"in o&&{z:m||l},..."fill"in o&&{fill:A||h},..."stroke"in o&&{stroke:D||p},...Wi(v,(k,U,R)=>{const T=lf(bn(k,n),R?.x),F=lf(bn(k,e),R?.y),L=bn(k,l),B=bn(k,M),I=bn(k,S),_=ab(f,{z:L,fill:B,stroke:I}),q=[],O=[],Y=T&&s([]),en=F&&d([]),Q=L&&$([]),J=B&&C([]),z=I&&x([]);let nn=0;for(const N of f)N.initialize(k);i&&i.initialize(k),r&&r.initialize(k);for(const N of U){const P=[];for(const W of f)W.scope("facet",N);i&&i.scope("facet",N),r&&r.scope("facet",N);for(const[W,E]of ma(N,_))for(const[rn,H]of ma(E,F))for(const[on,an]of ma(H,T)){const dn={data:k};if(T&&(dn.x=on),F&&(dn.y=rn),_&&(dn.z=W),!(r&&!r.reduce(an,dn))){P.push(nn++),O.push(t.reduceIndex(an,k,dn)),T&&Y.push(on),F&&en.push(rn),L&&Q.push(_===L?W:L[an[0]]),B&&J.push(_===B?W:B[an[0]]),I&&z.push(_===I?W:I[an[0]]);for(const Me of f)Me.reduce(an,dn);i&&i.reduce(an,dn)}}q.push(P)}return fb(q,i,a),{data:O,facets:q}}),...!Sc(f,"x")&&(c?{x:c}:{x1:g,x2:b}),...!Sc(f,"y")&&(u?{y:u}:{y1:w,y2:y}),...Object.fromEntries(f.map(({name:k,output:U})=>[k,U]))}}function Sc(n,...e){for(const{name:t}of n)if(e.includes(t))return!0;return!1}function nb(n,e,t=zd){const r=Object.entries(n);return e.title!=null&&n.title===void 0&&r.push(["title",ub]),e.href!=null&&n.href===void 0&&r.push(["href",Hd]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?eb(i):t(i,a,e))}function zd(n,e,t,r=_d){let i;ke(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const a=r(n,e,t),[f,o]=yi(a.label);let c;return{name:n,output:i===void 0?f:{value:f,scale:i},initialize(s){a.initialize(s),c=o([])},scope(s,u){a.scope(s,u)},reduce(s,u){c.push(a.reduce(s,u))}}}function eb(n){return{name:n,initialize(){},scope(){},reduce(){}}}function _d(n,e,t,r=ao){const i=Lm(n,t),a=r(e,i);let f,o;return{label:At(a===hf?null:i,a.label),initialize(c){f=i===void 0?c:bn(c,i),a.scope==="data"&&(o=a.reduceIndex(we(c),f))},scope(c,s){a.scope===c&&(o=a.reduceIndex(s,f))},reduce(c,s){return a.scope==null?a.reduceIndex(c,f,s):a.reduceIndex(c,f,o,s)}}}function ma(n,e){return e?xi(n,t=>e[t]):[[,n]]}function ao(n,e,t=tb){if(n==null)return t(n);if(typeof n.reduceIndex=="function")return n;if(typeof n.reduce=="function"&&ke(n))return ob(n);if(typeof n=="function")return cb(n);if(/^p\d{2}$/i.test(n))return fe(Cm(n));switch(`${n}`.toLowerCase()){case"first":return Hd;case"last":return sb;case"identity":return Yd;case"count":return hf;case"distinct":return lb;case"sum":return e==null?hf:db;case"proportion":return Ac(e,"data");case"proportion-facet":return Ac(e,"facet");case"deviation":return fe(Fh);case"min":return fe(pe);case"min-index":return fe(qh);case"max":return fe(Bn);case"max-index":return fe(_h);case"mean":return Tc(Bh);case"median":return Tc(ka);case"variance":return fe(du);case"mode":return fe(Hh)}return t(n)}function tb(n){throw new Error(`invalid reduce: ${n}`)}function rb(n,e){return nb(n,e,qd)}function qd(n,e,t){return zd(n,e,t,Wd)}function Wd(n,e,t){return _d(n,e,t,Bd)}function Bd(n,e){return ao(n,e,ib)}function ib(n){switch(`${n}`.toLowerCase()){case"x":return hb;case"y":return pb;case"z":return gb}throw new Error(`invalid group reduce: ${n}`)}function ab(n,e){for(const t in e){const r=e[t];if(r!==void 0&&!n.some(i=>i.name===t))return r}}function fb(n,e,t){if(e){const r=e.output.transform(),i=(a,f)=>Gn(r[a],r[f]);n.forEach(a=>a.sort(i))}t&&n.forEach(r=>r.reverse())}function ob(n){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...n,reduceIndex:n.reduce.bind(n)}}function cb(n){return{reduceIndex(e,t,r){return n(Pi(t,e),r)}}}function fe(n){return{reduceIndex(e,t){return n(e,r=>t[r])}}}function Tc(n){return{reduceIndex(e,t){const r=n(e,i=>t[i]);return _n(t)?new Date(r):r}}}const Yd={reduceIndex(n,e){return Pi(e,n)}},Hd={reduceIndex(n,e){return e[n[0]]}},ub={reduceIndex(n,e){const r=Hr(ft(n,a=>a.length,a=>e[a]),uf),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[4]=[`… ${a.length.toLocaleString("en-US")} more`,Ee(a,uf)]}return i.map(([a,f])=>`${a} (${f.toLocaleString("en-US")})`).join(`
`)}},sb={reduceIndex(n,e){return e[n[n.length-1]]}},hf={label:"Frequency",reduceIndex(n){return n.length}},lb={label:"Distinct",reduceIndex(n,e){const t=new Mi;for(const r of n)t.add(e[r]);return t.size}},db=fe(Ee);function Ac(n,e){return n==null?{scope:e,label:"Frequency",reduceIndex:(t,r,i=1)=>t.length/i}:{scope:e,reduceIndex:(t,r,i=1)=>Ee(t,a=>r[a])/i}}const hb={reduceIndex(n,e,{x:t}){return t}},pb={reduceIndex(n,e,{y:t}){return t}},gb={reduceIndex(n,e,{z:t}){return t}};function tr(n,{scale:e,type:t,value:r,filter:i,hint:a,label:f=At(r)},o){return a===void 0&&typeof r?.transform=="function"&&(a=r.hint),Gd(o,{scale:e,type:t,value:bn(n,r),label:f,filter:i,hint:a})}function mb(n,e){return Object.fromEntries(Object.entries(n).map(([t,r])=>[t,tr(e,r,t)]))}function jd(n,e){const t=Object.fromEntries(Object.entries(n).map(([r,{scale:i,value:a}])=>{const f=i==null?null:e[i];return[r,f==null?a:hn(a,f)]}));return t.channels=n,t}function Gd(n,e){const{scale:t,value:r}=e;if(t===!0||t==="auto")switch(n){case"fill":case"stroke":case"color":e.scale=t!==!0&&ha(r,_i)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=t!==!0&&ha(r,_m)?null:"opacity",e.defaultScale="opacity";break;case"symbol":t!==!0&&ha(r,Zm)?(e.scale=null,e.value=hn(r,ro)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=ln.has(n)?n:null;break}else if(t===!1)e.scale=null;else if(t!=null&&!ln.has(t))throw new Error(`unknown scale: ${t}`);return e}function bb(n,e,t,r,i){const{order:a,reverse:f,reduce:o=!0,limit:c}=i;for(const s in i){if(!ln.has(s))continue;let{value:u,order:d=a,reverse:l=f,reduce:h=o,limit:p=c}=zi(i[s]);const g=u?.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?Xd:Vd:vb(d),h==null||h===!1)continue;const b=s==="fx"||s==="fy"?wb(e,r[s]):yb(t,s);if(!b)throw new Error(`missing channel for scale: ${s}`);const w=b.value,[y=0,v=1/0]=Xe(p)?p:p<0?[p]:[0,p];if(u==null)b.domain=()=>{let m=Array.from(new Mi(w));return l&&(m=m.reverse()),(y!==0||v!==1/0)&&(m=m.slice(y,v)),m};else{const m=u==="data"?n:u==="height"?Cc(t,"y1","y2"):u==="width"?Cc(t,"x1","x2"):pf(t,u,u==="y"?"y2":u==="x"?"x2":void 0),$=ao(h===!0?"max":h,m);b.domain=()=>{let M=Rh(we(w),S=>$.reduceIndex(S,m),S=>w[S]);return d&&M.sort(d),l&&M.reverse(),(y!==0||v!==1/0)&&(M=M.slice(y,v)),M.map(vd)}}}}function yb(n,e){for(const t in n){const r=n[t];if(r.scale===e)return r}}function wb(n,e){const t=n.original;if(t===n)return e;const r=e.value,i=e.value=[];for(let a=0;a<t.length;++a){const f=r[t[a][0]];for(const o of n[a])i[o]=f}return e}function Cc(n,e,t){const r=pf(n,e),i=pf(n,t);return hn(i,(a,f)=>Math.abs(a-r[f]),Float64Array)}function pf(n,e,t){let r=n[e];if(!r&&t!==void 0&&(r=n[t]),r)return r.value;throw new Error(`missing channel: ${e}`)}function vb(n){if(n==null||typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"ascending":return Vd;case"descending":return Xd}throw new Error(`invalid order: ${n}`)}function Vd([n,e],[t,r]){return Gn(e,r)||Gn(n,t)}function Xd([n,e],[t,r]){return mi(e,r)||Gn(n,t)}function Ec(n,e){let t=n[e];if(t){for(;t.source;)t=t.source;return t.source===null?null:t}}const Zd=new Map([["accent",Gg],["category10",jg],["dark2",Vg],["observable10",Xg],["paired",Zg],["pastel1",Kg],["pastel2",Qg],["set1",Jg],["set2",nm],["set3",em],["tableau10",tm]]);function Mb(n){return n!=null&&Zd.has(`${n}`.toLowerCase())}const Nc=new Map([...Zd,["brbg",re(zs,_s)],["prgn",re(qs,Ws)],["piyg",re(Bs,Ys)],["puor",re(Hs,js)],["rdbu",re(af,di)],["rdgy",re(Gs,Vs)],["rdylbu",re(ff,hi)],["rdylgn",re(Xs,Zs)],["spectral",re(Ks,Qs)],["burd",Dc(af,di)],["buylrd",Dc(ff,hi)],["blues",mn(xl,Sl)],["greens",mn(Tl,Al)],["greys",mn(Cl,El)],["oranges",mn(kl,Fl)],["purples",mn(Nl,Dl)],["reds",mn(Il,Ll)],["turbo",ie(ql)],["viridis",ie(Wl)],["magma",ie(Bl)],["inferno",ie(Yl)],["plasma",ie(Hl)],["cividis",ie(Rl)],["cubehelix",ie(Ul)],["warm",ie(Ol)],["cool",ie(Pl)],["bugn",mn(Js,nl)],["bupu",mn(el,tl)],["gnbu",mn(rl,il)],["orrd",mn(al,fl)],["pubu",mn(ul,sl)],["pubugn",mn(ol,cl)],["purd",mn(ll,dl)],["rdpu",mn(hl,pl)],["ylgn",mn(bl,yl)],["ylgnbu",mn(gl,ml)],["ylorbr",mn(wl,vl)],["ylorrd",mn(Ml,$l)],["rainbow",Ic(zl)],["sinebow",Ic(_l)]]);function mn(n,e){return({length:t})=>t===1?[n[3][1]]:t===2?[n[3][1],n[3][2]]:(t=Math.max(3,Math.floor(t)),t>9?Yn(e,t):n[t])}function re(n,e){return({length:t})=>t===2?[n[3][0],n[3][2]]:(t=Math.max(3,Math.floor(t)),t>11?Yn(e,t):n[t])}function Dc(n,e){return({length:t})=>t===2?[n[3][2],n[3][0]]:(t=Math.max(3,Math.floor(t)),t>11?Yn(r=>e(1-r),t):n[t].slice().reverse())}function ie(n){return({length:e})=>Yn(n,Math.max(2,Math.floor(e)))}function Ic(n){return({length:e})=>Yn(n,Math.floor(e)+1).slice(0,-1)}function Kd(n){const e=`${n}`.toLowerCase();if(!Nc.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Nc.get(e)}function Bi(n,e){const t=Kd(n),r=typeof t=="function"?t({length:e}):t;return r.length!==e?r.slice(0,e):r}function $b(n,e="greys"){const t=new Set,[r,i]=Bi(e,2);for(const a of n)if(a!=null)if(a===!0)t.add(i);else if(a===!1)t.add(r);else return;return[...t]}const Lc=new Map([["brbg",_s],["prgn",Ws],["piyg",Ys],["puor",js],["rdbu",di],["rdgy",Vs],["rdylbu",hi],["rdylgn",Zs],["spectral",Qs],["burd",n=>di(1-n)],["buylrd",n=>hi(1-n)],["blues",Sl],["greens",Al],["greys",El],["purples",Dl],["reds",Ll],["oranges",Fl],["turbo",ql],["viridis",Wl],["magma",Bl],["inferno",Yl],["plasma",Hl],["cividis",Rl],["cubehelix",Ul],["warm",Ol],["cool",Pl],["bugn",nl],["bupu",tl],["gnbu",il],["orrd",fl],["pubugn",cl],["pubu",sl],["purd",dl],["rdpu",pl],["ylgnbu",ml],["ylgn",yl],["ylorbr",vl],["ylorrd",$l],["rainbow",zl],["sinebow",_l]]);function fo(n){const e=`${n}`.toLowerCase();if(!Lc.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Lc.get(e)}const xb=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Sb(n){return n!=null&&xb.has(`${n}`.toLowerCase())}const Qd=n=>e=>n(1-e),ba=[0,1],kc=new Map([["number",Ce],["rgb",jt],["hsl",h1],["hcl",m1],["lab",p1]]);function Jd(n){const e=`${n}`.toLowerCase();if(!kc.has(e))throw new Error(`unknown interpolator: ${e}`);return kc.get(e)}function $r(n,e,t,{type:r,nice:i,clamp:a,zero:f,domain:o=e0(n,t),unknown:c,round:s,scheme:u,interval:d,range:l=ln.get(n)===wr?Rb(t,o):ln.get(n)===vr?Ub(t,o):ln.get(n)===Mr?ba:void 0,interpolate:h=ln.get(n)===ve?u==null&&l!==void 0?jt:fo(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?Ti:Ce,reverse:p}){if(d=yr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Jd(h)),p=!!p,l!==void 0){const g=(o=De(o)).length,b=(l=De(l)).length;if(g!==b){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Ai(h,l),l=void 0}}if(h.length===1?(p&&(h=Qd(h),p=!1),l===void 0&&(l=Float64Array.from(o,(g,b)=>b/(o.length-1)),l.length===2&&(l=ba)),e.interpolate((l===ba?de:co)(h))):e.interpolate(h),f){const[g,b]=Te(o);(g>0||b<0)&&(o=Jt(o),(gt(o)||1)===Math.sign(g)?o[0]=0:o[o.length-1]=0)}return p&&(o=Zr(o)),e.domain(o).unknown(c),i&&(e.nice(Tb(i,r)),o=e.domain()),l!==void 0&&e.range(l),a&&e.clamp(a),{type:r,domain:o,range:l,scale:e,interpolate:h,interval:d}}function Tb(n,e){return n===!0?void 0:typeof n=="number"?n:Fm(n,e)}function Ab(n,e,t){return $r(n,_f(),e,t)}function Cb(n,e,t){return n0(n,e,{...t,exponent:.5})}function n0(n,e,{exponent:t=1,...r}){return $r(n,ws().exponent(t),e,{...r,type:"pow"})}function Eb(n,e,{base:t=10,domain:r=Ob(e),...i}){return $r(n,gs().base(t),e,{...i,domain:r})}function Nb(n,e,{constant:t=1,...r}){return $r(n,bs().constant(t),e,r)}function Db(n,e,{range:t,quantiles:r=t===void 0?5:(t=[...t]).length,n:i=r,scheme:a="rdylbu",domain:f=Pb(e),unknown:o,interpolate:c,reverse:s}){return t===void 0&&(t=c!==void 0?Yn(c,i):ln.get(n)===ve?Bi(a,i):void 0),f.length>0&&(f=vs(f,t===void 0?{length:i}:t).quantiles()),oo(n,e,{domain:f,range:t,reverse:s,unknown:o})}function Ib(n,e,{range:t,n:r=t===void 0?5:(t=[...t]).length,scheme:i="rdylbu",domain:a=e0(n,e),unknown:f,interpolate:o,reverse:c}){const[s,u]=Te(a);let d;return t===void 0?(d=Vr(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,t=o!==void 0?Yn(o,r):ln.get(n)===ve?Bi(i,r):void 0):(d=Yn(Ce(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),gt(De(a))<0&&d.reverse(),oo(n,e,{domain:d,range:t,reverse:c,unknown:f})}function oo(n,e,{domain:t=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:f=a!==void 0?Yn(a,t.length+1):ln.get(n)===ve?Bi(i,t.length+1):void 0,reverse:o}){t=De(t);const c=gt(t);if(!isNaN(c)&&!Lb(t,c))throw new Error(`the ${n} scale has a non-monotonic domain`);return o&&(f=Zr(f)),{type:"threshold",scale:Ms(c<0?Zr(t):t,f===void 0?[]:f).unknown(r),domain:t,range:f}}function Lb(n,e){for(let t=1,r=n.length,i=n[0];t<r;++t){const a=fr(i,i=n[t]);if(a!==0&&a!==e)return!1}return!0}function kb(n){return{type:"identity",scale:jm(ln.get(n))?ds():e=>e}}function rr(n,e=od){return n.length?[pe(n,({value:t})=>t===void 0?t:pe(t,e)),Bn(n,({value:t})=>t===void 0?t:Bn(t,e))]:[0,1]}function e0(n,e){const t=ln.get(n);return(t===wr||t===Mr||t===vr?Fb:rr)(e)}function Fb(n){return[0,n.length?Bn(n,({value:e})=>e===void 0?e:Bn(e,od)):1]}function Rb(n,e){const t=n.find(({radius:f})=>f!==void 0);if(t!==void 0)return[0,t.radius];const r=Xr(n,.5,({value:f})=>f===void 0?NaN:Xr(f,.25,Gf)),i=e.map(f=>3*Math.sqrt(f/r)),a=30/Bn(i);return a<1?i.map(f=>f*a):i}function Ub(n,e){const t=ka(n,({value:a})=>a===void 0?NaN:ka(a,Math.abs)),r=e.map(a=>12*a/t),i=60/Bn(r);return i<1?r.map(a=>a*i):r}function Ob(n){for(const{value:e}of n)if(e!==void 0)for(let t of e){if(t>0)return rr(n,Gf);if(t<0)return rr(n,cd)}return[1,10]}function Pb(n){const e=[];for(const{value:t}of n)if(t!==void 0)for(const r of t)e.push(r);return e}function co(n){return(e,t)=>r=>n(e+r*(t-e))}let gf=0,mf;function zb(){const n=gf;return gf=0,mf=void 0,n}function Ae(n){n!==mf&&(mf=n,console.warn(n),++gf)}function Yi(n,e,t,r,{type:i,nice:a,clamp:f,domain:o=rr(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=ln.get(n)===ve?u==null&&d!==void 0?jt:fo(u!==void 0?u:"rdbu"):Ce,reverse:p}){s=+s,o=De(o);let[g,b]=o;if(o.length>2&&Ae(`Warning: the diverging ${n} scale domain contains extra elements.`),fr(g,b)<0&&([g,b]=[b,g],p=!p),g=Math.min(g,s),b=Math.max(b,s),typeof h!="function"&&(h=Jd(h)),d!==void 0&&(h=h.length===1?co(h)(...d):Ai(h,d)),p&&(h=Qd(h)),l){const w=t.apply(s),y=w-t.apply(g),v=t.apply(b)-w;y<v?g=t.invert(w-v):y>v&&(b=t.invert(w+y))}return e.domain([g,s,b]).unknown(c).interpolator(h),f&&e.clamp(f),a&&e.nice(a),{type:i,domain:[g,b],pivot:s,interpolate:h,scale:e}}function _b(n,e,t){return Yi(n,Rs(),Yb,e,t)}function qb(n,e,t){return t0(n,e,{...t,exponent:.5})}function t0(n,e,{exponent:t=1,...r}){return Yi(n,Ps().exponent(t=+t),Gb(t),e,{...r,type:"diverging-pow"})}function Wb(n,e,{base:t=10,pivot:r=1,domain:i=rr(e,r<0?cd:Gf),...a}){return Yi(n,Us().base(t=+t),Hb,e,{domain:i,pivot:r,...a})}function Bb(n,e,{constant:t=1,...r}){return Yi(n,Os().constant(t=+t),Vb(t),e,r)}const Yb={apply(n){return n},invert(n){return n}},Hb={apply:Math.log,invert:Math.exp},jb={apply(n){return Math.sign(n)*Math.sqrt(Math.abs(n))},invert(n){return Math.sign(n)*(n*n)}};function Gb(n){return n===.5?jb:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),n)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/n)}}}function Vb(n){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}}function r0(n,e,t,r){return $r(n,e,t,r)}function Xb(n,e,t){return r0(n,Wg(),e,t)}function Zb(n,e,t){return r0(n,Bg(),e,t)}const xr=Symbol("ordinal");function i0(n,e,t,{type:r,interval:i,domain:a,range:f,reverse:o,hint:c}){return i=yr(i,r),a===void 0&&(a=f0(t,i,n)),(r==="categorical"||r===xr)&&(r="ordinal"),o&&(a=Zr(a)),a=e.domain(a).domain(),f!==void 0&&(typeof f=="function"&&(f=f(a)),e.range(f)),{type:r,domain:a,range:f,scale:e,hint:c,interval:i}}function Kb(n,e,{type:t,interval:r,domain:i,range:a,scheme:f,unknown:o,...c}){r=yr(r,t),i===void 0&&(i=f0(e,r,n));let s;if(ln.get(n)===qi)s=n2(e),a=a===void 0?e2(s):hn(a,ro);else if(ln.get(n)===ve&&(a===void 0&&(t==="ordinal"||t===xr)&&(a=$b(i,f),a!==void 0&&(f=void 0)),f===void 0&&a===void 0&&(f=t==="ordinal"?"turbo":"observable10"),f!==void 0))if(a!==void 0){const u=fo(f),d=a[0],l=a[1]-a[0];a=({length:h})=>Yn(p=>u(d+l*p),h)}else a=Kd(f);if(o===Sh)throw new Error(`implicit unknown on ${n} scale is not supported`);return i0(n,uu().unknown(o),e,{...c,type:t,domain:i,range:a,hint:s})}function Qb(n,e,{align:t=.5,padding:r=.5,...i}){return a0($p().align(t).padding(r),e,i,n)}function Jb(n,e,{align:t=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=n==="fx"||n==="fy"?0:r,...f}){return a0(Ni().align(t).paddingInner(i).paddingOuter(a),e,f,n)}function a0(n,e,t,r){let{round:i}=t;return i!==void 0&&n.round(i=!!i),n=i0(r,n,e,t),n.round=i,n}function f0(n,e,t){const r=new Mi;for(const{value:i,domain:a}of n){if(a!==void 0)return a();if(i!==void 0)for(const f of i)r.add(f)}if(e!==void 0){const[i,a]=Te(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&ln.get(t)===Qn)throw new Error(`implicit ordinal domain of ${t} scale has more than 10,000 values`);return Hr(r,Gn)}function Fc(n,e){let t;for(const{hint:r}of n){const i=r?.[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}function n2(n){return{fill:Fc(n,"fill"),stroke:Fc(n,"stroke")}}function e2(n){return Tn(n.fill)?hm:dm}function bf(n,{label:e,inset:t=0,insetTop:r=t,insetRight:i=t,insetBottom:a=t,insetLeft:f=t,round:o,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=e}={},...g}={}){const b={};for(const[w,y]of n){const v=g[w],m=f2(w,y,{round:ln.get(w)===Qn?o:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...v});if(m){let{label:$=w==="fx"||w==="fy"?p:e,percent:M,transform:S,inset:A,insetTop:C=A!==void 0?A:w==="y"?r:0,insetRight:D=A!==void 0?A:w==="x"?i:0,insetBottom:x=A!==void 0?A:w==="y"?a:0,insetLeft:k=A!==void 0?A:w==="x"?f:0}=v||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");m.percent=!!M,m.label=$===void 0?r2(y,m):$,m.transform=S,w==="x"||w==="fx"?(m.insetLeft=+k,m.insetRight=+D):(w==="y"||w==="fy")&&(m.insetTop=+C,m.insetBottom=+x),b[w]=m}}return b}function Rc(n){const e={},t={scales:e};for(const[r,i]of Object.entries(n)){const{scale:a,type:f,interval:o,label:c}=i;e[r]=l2(i),t[r]=a,a.type=f,o!=null&&(a.interval=o),c!=null&&(a.label=c)}return t}function t2(n,e){const{x:t,y:r,fx:i,fy:a}=n,f=i||a?uo(e):e;i&&Uc(i,f),a&&Oc(a,f);const o=i||a?o0(n,e):e;t&&Uc(t,o),r&&Oc(r,o)}function r2(n=[],e){let t;for(const{label:r}of n)if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}if(t!==void 0)return!Ze(e)&&e.percent&&(t=`${t} (%)`),{inferred:!0,toString:()=>t}}function i2(n){return Math.sign(gt(n.domain()))*Math.sign(gt(n.range()))}function uo(n){const{marginTop:e,marginRight:t,marginBottom:r,marginLeft:i,width:a,height:f,facet:{marginTop:o,marginRight:c,marginBottom:s,marginLeft:u}}=n;return{marginTop:Math.max(e,o),marginRight:Math.max(t,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:a,height:f}}function o0({fx:n,fy:e},t){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:o,height:c}=uo(t);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:n?n.scale.bandwidth()+f+i:o,height:e?e.scale.bandwidth()+r+a:c,facet:{width:o,height:c}}}function Uc(n,e){if(n.range===void 0){const{insetLeft:t,insetRight:r}=n,{width:i,marginLeft:a=0,marginRight:f=0}=e,o=a+t,c=i-f-r;n.range=[o,Math.max(o,c)],Ze(n)||(n.range=u0(n)),n.scale.range(n.range)}c0(n)}function Oc(n,e){if(n.range===void 0){const{insetTop:t,insetBottom:r}=n,{height:i,marginTop:a=0,marginBottom:f=0}=e,o=a+t,c=i-f-r;n.range=[Math.max(o,c),o],Ze(n)?n.range.reverse():n.range=u0(n),n.scale.range(n.range)}c0(n)}function c0(n){n.round===void 0&&c2(n)&&a2(n)<=30&&n.scale.round(!0)}function a2({scale:n}){const e=n.domain().length,[t,r]=n.range(),i=n.paddingInner?n.paddingInner():1,a=n.paddingOuter?n.paddingOuter():n.padding(),f=e-i,o=Math.abs(r-t)/Math.max(1,f+a*2);return(o-Math.floor(o))*f}function u0(n){const e=n.scale.domain().length+s0(n);if(!(e>2))return n.range;const[t,r]=n.range;return Array.from({length:e},(i,a)=>t+a/(e-1)*(r-t))}function f2(n,e=[],t={}){const r=o2(n,e,t);if(t.type===void 0&&t.domain===void 0&&t.range===void 0&&t.interval==null&&n!=="fx"&&n!=="fy"&&Ze({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(_n)?Ae(`Warning: some data associated with the ${n} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${et(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${n} scale to "${et(r)}".`):i.some(Um)?Ae(`Warning: some data associated with the ${n} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${et(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${n} scale to "${et(r)}".`):i.some(Om)&&Ae(`Warning: some data associated with the ${n} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${et(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${n} scale to "${et(r)}".`)}switch(t.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":t=Lr(e,t,bi);break;case"identity":switch(ln.get(n)){case Qn:t=Lr(e,t,bi);break;case qi:t=Lr(e,t,u2);break}break;case"utc":case"time":t=Lr(e,t,Md);break}switch(r){case"diverging":return _b(n,e,t);case"diverging-sqrt":return qb(n,e,t);case"diverging-pow":return t0(n,e,t);case"diverging-log":return Wb(n,e,t);case"diverging-symlog":return Bb(n,e,t);case"categorical":case"ordinal":case xr:return Kb(n,e,t);case"cyclical":case"sequential":case"linear":return Ab(n,e,t);case"sqrt":return Cb(n,e,t);case"threshold":return oo(n,e,t);case"quantile":return Db(n,e,t);case"quantize":return Ib(n,e,t);case"pow":return n0(n,e,t);case"log":return Eb(n,e,t);case"symlog":return Nb(n,e,t);case"utc":return Zb(n,e,t);case"time":return Xb(n,e,t);case"point":return Qb(n,e,t);case"band":return Jb(n,e,t);case"identity":return kb(n);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function et(n){return typeof n=="symbol"?n.description:n}function Pc(n){return typeof n=="string"?`${n}`.toLowerCase():n}const zc={toString:()=>"projection"};function o2(n,e,{type:t,domain:r,range:i,scheme:a,pivot:f,projection:o}){if(t=Pc(t),n==="fx"||n==="fy")return"band";(n==="x"||n==="y")&&o!=null&&(t=zc);for(const s of e){const u=Pc(s.type);if(u!==void 0){if(t===void 0)t=u;else if(t!==u)throw new Error(`scale incompatible with channel: ${t} !== ${u}`)}}if(t===zc)return;if(t!==void 0)return t;if(r===void 0&&!e.some(({value:s})=>s!==void 0))return;const c=ln.get(n);if(c===wr)return"sqrt";if(c===Mr||c===vr)return"linear";if(c===qi)return"ordinal";if((r||i||[]).length>2)return ya(c);if(r!==void 0){if(xc(r))return ya(c);if(_n(r))return"utc"}else{const s=e.map(({value:u})=>u).filter(u=>u!==void 0);if(s.some(xc))return ya(c);if(s.some(_n))return"utc"}if(c===ve){if(f!=null||Sb(a))return"diverging";if(Mb(a))return"categorical"}return"linear"}function ya(n){switch(n){case Qn:return"point";case ve:return xr;default:return"ordinal"}}function Ze({type:n}){return n==="ordinal"||n==="point"||n==="band"||n===xr}function s0({type:n}){return n==="threshold"}function c2({type:n}){return n==="point"||n==="band"}function wt(n){if(n===void 0)return!0;const e=n.domain(),t=n(e[0]);for(let r=1,i=e.length;r<i;++r)if(n(e[r])-t)return!1;return!0}function Lr(n,{domain:e,...t},r){for(const i of n)i.value!==void 0&&(e===void 0&&(e=i.value?.domain),i.value=r(i.value));return{domain:e===void 0?e:r(e),...t}}function u2(n){return hn(n,ro)}function s2(n){return e=>{if(!ln.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return n[e]}}function l2({scale:n,type:e,domain:t,range:r,interpolate:i,interval:a,transform:f,percent:o,pivot:c}){if(e==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=n.unknown?n.unknown():void 0;return{type:e,domain:Jt(t),...r!==void 0&&{range:Jt(r)},...f!==void 0&&{transform:f},...o&&{percent:o},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...n.clamp&&{clamp:n.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...n.base&&{base:n.base()},...n.exponent&&{exponent:n.exponent()},...n.constant&&{constant:n.constant()},...n.align&&{align:n.align(),round:n.round()},...n.padding&&(n.paddingInner?{paddingInner:n.paddingInner(),paddingOuter:n.paddingOuter()}:{padding:n.padding()}),...n.bandwidth&&{bandwidth:n.bandwidth(),step:n.step()},apply:u=>n(u),...n.invert&&{invert:u=>n.invert(u)}}}function d2(n,e){const{fx:t,fy:r}=bf(n,e),i=t?.scale.domain(),a=r?.scale.domain();return i&&a?Lh(i,a).map(([f,o],c)=>({x:f,y:o,i:c})):i?i.map((f,o)=>({x:f,i:o})):a?a.map((f,o)=>({y:f,i:o})):void 0}function h2(n,{x:e,y:t}){return e&&=yf(e),t&&=yf(t),n.filter(e&&t?r=>e.has(r.x)&&t.has(r.y):e?r=>e.has(r.x):r=>t.has(r.y)).sort(e&&t?(r,i)=>e.get(r.x)-e.get(i.x)||t.get(r.y)-t.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>t.get(r.y)-t.get(i.y))}function so(n,{fx:e,fy:t}){const r=we(n),i=e?.value,a=t?.value;return e&&t?ft(r,f=>(f.fx=i[f[0]],f.fy=a[f[0]],f),f=>i[f],f=>a[f]):e?ft(r,f=>(f.fx=i[f[0]],f),f=>i[f]):ft(r,f=>(f.fy=a[f[0]],f),f=>a[f])}function p2(n,e,{marginTop:t,marginLeft:r}){return n&&e?({x:i,y:a})=>`translate(${n(i)-r},${e(a)-t})`:n?({x:i})=>`translate(${n(i)-r},0)`:({y:i})=>`translate(0,${e(i)-t})`}function g2(n){const e=[],t=new Uint32Array(Ee(n,r=>r.length));for(const r of n){let i=0;for(const a of n)r!==a&&(t.set(a,i),i+=a.length);e.push(t.slice(0,i))}return e}const m2=new Map([["top",wa],["right",$a],["bottom",va],["left",Ma],["top-left",kr(wa,Ma)],["top-right",kr(wa,$a)],["bottom-left",kr(va,Ma)],["bottom-right",kr(va,$a)],["top-empty",w2],["right-empty",$2],["bottom-empty",v2],["left-empty",M2],["empty",x2]]);function b2(n){if(n==null)return null;const e=m2.get(`${n}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${n}`)}const _c=new WeakMap;function yf(n){let e=_c.get(n);return e||_c.set(n,e=new ir(hn(n,(t,r)=>[t,r]))),e}function Fe(n,e){return yf(n).get(e)}function y2(n,e,t){return e=he(e),t=he(t),n.find(r=>Object.is(he(r.x),e)&&Object.is(he(r.y),t))}function Hi(n,e,t){return y2(n,e,t)?.empty}function wa(n,{y:e},{y:t}){return e?Fe(e,t)===0:!0}function va(n,{y:e},{y:t}){return e?Fe(e,t)===e.length-1:!0}function Ma(n,{x:e},{x:t}){return e?Fe(e,t)===0:!0}function $a(n,{x:e},{x:t}){return e?Fe(e,t)===e.length-1:!0}function w2(n,{y:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Fe(e,r);if(a>0)return Hi(n,t,e[a-1])}function v2(n,{y:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Fe(e,r);if(a<e.length-1)return Hi(n,t,e[a+1])}function M2(n,{x:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Fe(e,t);if(a>0)return Hi(n,e[a-1],r)}function $2(n,{x:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=Fe(e,t);if(a<e.length-1)return Hi(n,e[a+1],r)}function x2(n,e,{empty:t}){return t}function kr(n,e){return function(){return n.apply(null,arguments)&&e.apply(null,arguments)}}function xa(n,{channels:{fx:e,fy:t},groups:r}){return e&&t?n.map(({x:i,y:a})=>r.get(i)?.get(a)??[]):e?n.map(({x:i})=>r.get(i)??[]):n.map(({y:i})=>r.get(i)??[])}const l0=Math.PI,ae=2*l0,Sa=.618;function S2({projection:n,inset:e=0,insetTop:t=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},f){if(n==null)return;if(typeof n.stream=="function")return n;let o,c,s="frame";if(ke(n)){let $;if({type:n,domain:c,inset:$,insetTop:t=$!==void 0?$:t,insetRight:r=$!==void 0?$:r,insetBottom:i=$!==void 0?$:i,insetLeft:a=$!==void 0?$:a,clip:s=s,...o}=n,n==null)return}typeof n!="function"&&({type:n}=wf(n));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=f,b=u-l-h-a-r,w=d-p-g-t-i;if(n=n?.({width:b,height:w,clip:s,...o}),n==null)return;s=T2(s,l,p,u-h,d-g);let y=l+a,v=p+t,m;if(c!=null){const[[$,M],[S,A]]=Uf(n).bounds(c),C=Math.min(b/(S-$),w/(A-M));C>0?(y-=(C*($+S)-b)/2,v-=(C*(M+A)-w)/2,m=nf({point(D,x){this.stream.point(D*C+y,x*C+v)}})):Ae("Warning: the projection could not be fit to the specified domain; using the default scale.")}return m??=y===0&&v===0?d0():nf({point($,M){this.stream.point($+y,M+v)}}),{stream:$=>n.stream(m.stream(s($)))}}function wf(n){switch(`${n}`.toLowerCase()){case"albers-usa":return qn(op,.7463,.4673);case"albers":return Fr(ns,.7463,.4673);case"azimuthal-equal-area":return qn(cp,4,4);case"azimuthal-equidistant":return qn(up,ae,ae);case"conic-conformal":return Fr(dp,ae,ae);case"conic-equal-area":return Fr(ci,6.1702,2.9781);case"conic-equidistant":return Fr(gp,7.312,3.6282);case"equal-earth":return qn(bp,5.4133,2.6347);case"equirectangular":return qn(hp,ae,l0);case"gnomonic":return qn(yp,3.4641,3.4641);case"identity":return{type:d0};case"reflect-y":return{type:A2};case"mercator":return qn(sp,ae,ae);case"orthographic":return qn(wp,2,2);case"stereographic":return qn(vp,2,2);case"transverse-mercator":return qn(Mp,ae,ae);default:throw new Error(`unknown projection type: ${n}`)}}function T2(n,e,t,r,i){if(n===!1||n==null||typeof n=="number")return a=>a;switch(n===!0&&(n="frame"),`${n}`.toLowerCase()){case"frame":return Pu(e,t,r,i);default:throw new Error(`unknown projection clip type: ${n}`)}}function qn(n,e,t){return{type:({width:r,height:i,rotate:a,precision:f=.15,clip:o})=>{const c=n();return f!=null&&c.precision?.(f),a!=null&&c.rotate?.(a),typeof o=="number"&&c.clipAngle?.(o),r!=null&&(c.scale(Math.min(r/e,i/t)),c.translate([r/2,i/2])),c},aspectRatio:t/e}}function Fr(n,e,t){const{type:r,aspectRatio:i}=qn(n,e,t);return{type:a=>{const{parallels:f,domain:o,width:c,height:s}=a,u=r(a);return f!=null&&(u.parallels(f),o===void 0&&c!=null&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const d0=de({stream:n=>n}),A2=de(nf({point(n,e){this.stream.point(n,-e)}}));function h0(n,e,t,r){const i=t[n],a=t[e],f=i.length,o=t[n]=new Float64Array(f).fill(NaN),c=t[e]=new Float64Array(f).fill(NaN);let s;const u=r.stream({point(d,l){o[s]=d,c[s]=l}});for(s=0;s<f;++s)u.point(i[s],a[s])}function C2({projection:n}={}){return n==null?!1:typeof n.stream=="function"?!0:(ke(n)&&(n=n.type),n!=null)}function E2(n){if(typeof n?.stream=="function")return Sa;if(ke(n)){let e,t;if({domain:e,type:n,...t}=n,e!=null&&n!=null){const r=typeof n=="string"?wf(n).type:n,[[i,a],[f,o]]=Uf(r({...t,width:100,height:100})).bounds(e),c=(o-a)/(f-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:Sa}}if(n!=null){if(typeof n!="function"){const{aspectRatio:e}=wf(n);if(e)return e}return Sa}}function i8(n,e,{projection:t}){const{x:r,y:i}=n;let a={};return r&&(a.x=r),i&&(a.y=i),a=jd(a,e),t&&r?.scale==="x"&&i?.scale==="y"&&h0("x","y",a,t),r&&(a.x=bi(a.x)),i&&(a.y=bi(a.y)),a}function N2(n){const e=[],t=[],r={scale:"x",value:e},i={scale:"y",value:t},a={point(f,o){e.push(f),t.push(o)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const f of n.value)Oe(f,a);return[r,i]}function lo(n={}){const{document:e=typeof window<"u"?window.document:void 0,clip:t}=n;return{document:e,clip:Ld(t)}}function Sn(n,{document:e}){return ot(su(n).call(e.documentElement))}const vf=Symbol("unset");function ho(n){return(n.length===1?D2:I2)(n)}function D2(n){let e,t=vf;return r=>(Object.is(t,r)||(t=r,e=n(r)),e)}function I2(n){let e,t;return(...r)=>((t?.length!==r.length||t.some((i,a)=>!Object.is(i,r[a])))&&(t=r,e=n(...r)),e)}const L2=ho(n=>new Intl.NumberFormat(n));ho((n,e)=>new Intl.DateTimeFormat(n,{timeZone:"UTC",...e&&{month:e}}));ho((n,e)=>new Intl.DateTimeFormat(n,{timeZone:"UTC",...e&&{weekday:e}}));function k2(n="en-US"){const e=L2(n);return t=>t!=null&&!isNaN(t)?e.format(t):void 0}function F2(n){return pm(n,"Invalid Date")}function R2(n="en-US"){const e=k2(n);return t=>(t instanceof Date?F2:typeof t=="number"?e:xn)(t)}const vt=R2(),In=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let U2=0;function O2(){return`plot-clip-${++U2}`}function P2(n,{title:e,href:t,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:f,fill:o,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:w,mixBlendMode:y,imageFilter:v,paintOrder:m,pointerEvents:$,shapeRendering:M,channels:S},{ariaLabel:A,fill:C="currentColor",fillOpacity:D,stroke:x="none",strokeOpacity:k,strokeWidth:U,strokeLinecap:R,strokeLinejoin:T,strokeMiterlimit:F,paintOrder:L}){C===null&&(o=null,c=null),x===null&&(s=null,d=null),Tn(C)?!Tn(x)&&(!Tn(o)||S?.fill)&&(x="none"):Tn(x)&&(!Tn(s)||S?.stroke)&&(C="none");const[B,I]=be(o,C),[_,q]=Dn(c,D),[O,Y]=be(s,x),[en,Q]=Dn(d,k),[J,z]=Dn(w);er(Y)||(u===void 0&&(u=U),h===void 0&&(h=R),l===void 0&&(l=T),p===void 0&&!qm(l)&&(p=F),!er(I)&&m===void 0&&(m=L));const[nn,N]=Dn(u);return C!==null&&(n.fill=wn(I,"currentColor"),n.fillOpacity=Ft(q,1)),x!==null&&(n.stroke=wn(Y,"none"),n.strokeWidth=Ft(N,1),n.strokeOpacity=Ft(Q,1),n.strokeLinejoin=wn(l,"miter"),n.strokeLinecap=wn(h,"butt"),n.strokeMiterlimit=Ft(p,4),n.strokeDasharray=wn(g,"none"),n.strokeDashoffset=wn(b,"0")),n.target=xn(f),n.ariaLabel=xn(A),n.ariaDescription=xn(i),n.ariaHidden=xn(a),n.opacity=Ft(z,1),n.mixBlendMode=wn(y,"normal"),n.imageFilter=wn(v,"none"),n.paintOrder=wn(m,"normal"),n.pointerEvents=wn($,"auto"),n.shapeRendering=wn(M,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:t,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:_,scale:"auto",optional:!0},stroke:{value:O,scale:"auto",optional:!0},strokeOpacity:{value:en,scale:"auto",optional:!0},strokeWidth:{value:nn,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function z2(n,e){e&&n.filter(t=>jf(e[t])).append("title").call(q2,e)}function _2(n,e){e&&n.filter(([t])=>jf(e[t])).append("title").call(W2,e)}function q2(n,e){e&&n.text(t=>vt(e[t]))}function W2(n,e){e&&n.text(([t])=>vt(e[t]))}function Ye(n,{target:e,tip:t},{ariaLabel:r,title:i,fill:a,fillOpacity:f,stroke:o,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&j(n,"aria-label",l=>r[l]),a&&j(n,"fill",l=>a[l]),f&&j(n,"fill-opacity",l=>f[l]),o&&j(n,"stroke",l=>o[l]),c&&j(n,"stroke-opacity",l=>c[l]),s&&j(n,"stroke-width",l=>s[l]),u&&j(n,"opacity",l=>u[l]),d&&g0(n,l=>d[l],e),t||z2(n,i)}function a8(n,{target:e,tip:t},{ariaLabel:r,title:i,fill:a,fillOpacity:f,stroke:o,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&j(n,"aria-label",([l])=>r[l]),a&&j(n,"fill",([l])=>a[l]),f&&j(n,"fill-opacity",([l])=>f[l]),o&&j(n,"stroke",([l])=>o[l]),c&&j(n,"stroke-opacity",([l])=>c[l]),s&&j(n,"stroke-width",([l])=>s[l]),u&&j(n,"opacity",([l])=>u[l]),d&&g0(n,([l])=>d[l],e),t||_2(n,i)}function B2({ariaLabel:n,title:e,fill:t,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:f,opacity:o,href:c},{tip:s}){return[n,s?void 0:e,t,r,i,a,f,o,c].filter(u=>u!==void 0)}function Y2(n,e,t){const r=xi(n,i=>e[i]);return t===void 0&&r.size>1+n.length>>1&&Ae("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*f8(n,e,t,r){const{z:i}=t,{z:a}=r,f=B2(r,t),o=[...e,...f];for(const c of a?Y2(n,a,i):[n]){let s,u;n:for(const d of c){for(const l of o)if(!Ne(l[d])){u&&u.push(-1);continue n}if(s===void 0){u&&(yield u),s=f.map(l=>he(l[d])),u=[d];continue}u.push(d);for(let l=0;l<f.length;++l)if(he(f[l][d])!==s[l]){yield u,s=f.map(p=>he(p[d])),u=[d];continue n}}u&&(yield u)}}function H2(n,e,t,r){let i;const{clip:a=r.clip}=e;switch(a){case"frame":{n=Sn("svg:g",r).each(function(){this.appendChild(n.node()),n.node=()=>this}),i=j2(r,t);break}case"sphere":{i=G2(r);break}}j(n,"aria-label",e.ariaLabel),j(n,"aria-description",e.ariaDescription),j(n,"aria-hidden",e.ariaHidden),j(n,"clip-path",i)}function p0(n){const e=new WeakMap;return(t,r)=>{let i=e.get(t);if(!i){const a=O2();ot(t.ownerSVGElement).append("clipPath").attr("id",a).call(n,t,r),e.set(t,i=`url(#${a})`)}return i}}const j2=p0((n,e,t)=>{const{width:r,height:i,marginLeft:a,marginRight:f,marginTop:o,marginBottom:c}=t;n.append("rect").attr("x",a).attr("y",o).attr("width",r-f-a).attr("height",i-o-c)}),G2=p0((n,e)=>{const{projection:t}=e;if(!t)throw new Error('the "sphere" clip option requires a projection');n.append("path").attr("d",Uf(t)({type:"Sphere"}))});function Ke(n,e,t,r){H2(n,e,t,r),j(n,"class",e.className),j(n,"fill",e.fill),j(n,"fill-opacity",e.fillOpacity),j(n,"stroke",e.stroke),j(n,"stroke-width",e.strokeWidth),j(n,"stroke-opacity",e.strokeOpacity),j(n,"stroke-linejoin",e.strokeLinejoin),j(n,"stroke-linecap",e.strokeLinecap),j(n,"stroke-miterlimit",e.strokeMiterlimit),j(n,"stroke-dasharray",e.strokeDasharray),j(n,"stroke-dashoffset",e.strokeDashoffset),j(n,"shape-rendering",e.shapeRendering),j(n,"filter",e.imageFilter),j(n,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;j(n,"pointer-events",i)}function Ie(n,e){V2(n,"mix-blend-mode",e.mixBlendMode),j(n,"opacity",e.opacity)}function g0(n,e,t){n.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(Yr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Yr.xlink,"href",i),t!=null&&a.setAttribute("target",t),this.parentNode.insertBefore(a,this).appendChild(this)}})}function j(n,e,t){t!=null&&n.attr(e,t)}function V2(n,e,t){t!=null&&n.style(e,t)}function Qe(n,e,{x:t,y:r},i=In,a=In){i+=e.dx,a+=e.dy,t?.bandwidth&&(i+=t.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&n.attr("transform",`translate(${i},${a})`)}function wn(n,e){if((n=xn(n))!==e)return n}function Ft(n,e){if((n=vn(n))!==e)return n}const X2=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ji(n){if(n===void 0)return"plot-d6a7b5";if(n=`${n}`,!X2.test(n))throw new Error(`invalid class name: ${n}`);return n}function po(n,e){if(typeof e=="string")n.property("style",e);else if(e!=null)for(const t of n)Object.assign(t.style,e)}function Gi({frameAnchor:n},{width:e,height:t,marginTop:r,marginRight:i,marginBottom:a,marginLeft:f}){return[/left$/.test(n)?f:/right$/.test(n)?e-i:(f+e-i)/2,/^top/.test(n)?r:/^bottom/.test(n)?t-a:(r+t-a)/2]}class te{constructor(e,t={},r={},i){const{facet:a="auto",facetAnchor:f,fx:o,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:b=l,className:w,clip:y=i?.clip,channels:v,tip:m,render:$}=r;if(this.data=e,this.sort=bt(s)?s:null,this.initializer=yt(r).initializer,this.transform=this.initializer?r.transform:Wi(r).transform,a===null||a===!1?this.facet=null:(this.facet=Vn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===Wr&&typeof o=="string"?[o]:o,this.fy=e===Wr&&typeof c=="string"?[c]:c),this.facetAnchor=b2(f),t=Id(t),v!==void 0&&(t={...Z2(v),...t}),i!==void 0&&(t={...P2(this,r,i),...t}),this.channels=Object.fromEntries(Object.entries(t).map(([M,S])=>{if(Oi(S.value)){const{value:A,label:C=S.label,scale:D=S.scale}=S.value;S={...S,label:C,scale:D,value:A}}if(e===Wr&&typeof S.value=="string"){const{value:A}=S;S={...S,value:[A]}}return[M,S]}).filter(([M,{value:S,optional:A}])=>{if(S!=null)return!0;if(A)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+b,this.clip=Ld(y),this.tip=K2(m),this.className=w?ji(w):null,this.facet==="super"){if(o||c)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:S}=t[M];if(!(S!=="x"&&S!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=b0($,this.render))}initialize(e,t,r){let i=mt(this.data);e===void 0&&i!=null&&(e=[we(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=mt(i)),e!==void 0&&(e.original=a);const f=mb(this.channels,i);return this.sort!=null&&bb(i,e,f,t,this.sort),{data:i,facets:e,channels:f}}filter(e,t,r){for(const i in t){const{filter:a=Ne}=t[i];if(a!==null){const f=r[i];e=e.filter(o=>a(f[o]))}}return e}project(e,t,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&h0(i,a,t,r.projection)}}scale(e,t,r){const i=jd(e,t);return r.projection&&this.project(e,i,r),i}}function m0(...n){return n.plot=te.prototype.plot,n}function b0(n,e){if(n==null)return e===null?void 0:e;if(e==null)return n===null?void 0:n;if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(t,r,i,a,f,o){return n.call(this,t,r,i,a,f,(c,s,u,d,l)=>e.call(this,c,s,u,d,l,o))}}function Z2(n){return Object.fromEntries(Object.entries(Id(n)).map(([e,t])=>(t=typeof t=="string"?{value:t,label:e}:zi(t),t.filter===void 0&&t.scale==null&&(t={...t,filter:null}),[e,t])))}function K2(n){return n===!0?"xy":n===!1||n==null?null:typeof n=="string"?Vn(n,"tip",["x","y","xy"]):n}function Vi(n,e){return n?.tip===!0?{...n,tip:e}:ke(n?.tip)&&n.tip.pointer===void 0?{...n,tip:{...n.tip,pointer:e}}:n}function Q2(n,e,t={}){let r=.5-In,i=.5+In,a=.5+In,f=.5-In;for(const{marginTop:g,marginRight:b,marginBottom:w,marginLeft:y}of e)g>r&&(r=g),b>i&&(i=b),w>a&&(a=w),y>f&&(f=y);let{margin:o,marginTop:c=o!==void 0?o:r,marginRight:s=o!==void 0?o:i,marginBottom:u=o!==void 0?o:a,marginLeft:d=o!==void 0?o:f}=t;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=J2(n,t,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:f})+Math.max(0,c-r+u-a)}=t;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(n.fx||n.fy){let{margin:g,marginTop:b=g!==void 0?g:c,marginRight:w=g!==void 0?g:s,marginBottom:y=g!==void 0?g:u,marginLeft:v=g!==void 0?g:d}=t.facet??{};b=+b,w=+w,y=+y,v=+v,p.facet={marginTop:b,marginRight:w,marginBottom:y,marginLeft:v}}return p}function J2({x:n,y:e,fy:t,fx:r},{projection:i,aspectRatio:a},{width:f,marginTopDefault:o,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const d=t&&t.scale.domain().length||1,l=E2(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,b=Math.max(.1,Math.min(10,g));return Math.round((f-u-c)*b+o+s)}const h=e?Ze(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=qc("y",e)/(qc("x",n)*a),g=r?r.scale.bandwidth():1,b=t?t.scale.bandwidth():1,w=g*(f-u-c)-n.insetLeft-n.insetRight;return(p*w+e.insetTop+e.insetBottom)/b+o+s}return!!(e||t)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function qc(n,e){if(!e)throw new Error(`aspectRatio requires ${n} scale`);const{type:t,domain:r}=e;let i;switch(t){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=e.scale.exponent();i=c=>Math.pow(c,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${n} scale for aspectRatio: ${t}`)}const[a,f]=Te(r);return Math.abs(i(f)-i(a))}const Wc=new WeakMap;function go(n,e,{x:t,y:r,px:i,py:a,maxRadius:f=40,channels:o,render:c,...s}={}){return f=+f,i!=null&&(t??=null,o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??=null,o={...o,py:{value:a,scale:"y"}}),{x:t,y:r,channels:o,...s,render:b0(function(u,d,l,h,p,g){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:w}=p.getMarkState(this);let y=Wc.get(b);y||Wc.set(b,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(Y)-1;const{x:m,y:$,fx:M,fy:S}=d;let A=M?M(u.fx)-h.marginLeft:0,C=S?S(u.fy)-h.marginTop:0;m?.bandwidth&&(A+=m.bandwidth()/2),$?.bandwidth&&(C+=$.bandwidth()/2);const D=u.fi!=null;let x;if(D){let z=y.facetStates;z||(y.facetStates=z=new Map),x=z.get(this),x||z.set(this,x=new Map)}const[k,U]=Gi(this,h),{px:R,py:T}=l,F=R?z=>R[z]:y0(l,k),L=T?z=>T[z]:w0(l,U);let B,I,_,q;function O(z,nn){if(D)if(q&&(q=cancelAnimationFrame(q)),z==null)x.delete(u.fi);else{x.set(u.fi,nn),q=requestAnimationFrame(()=>{q=null;for(const[N,P]of x)if(P<nn||P===nn&&N<u.fi){z=null;break}Y(z)});return}Y(z)}function Y(z){if(B===z&&_===y.sticky)return;B=z,_=p.pointerSticky=y.sticky;const nn=B==null?[]:[B];D&&(nn.fx=u.fx,nn.fy=u.fy,nn.fi=u.fi);const N=g(nn,d,l,h,p);if(I){if(D){const P=I.parentNode,W=I.getAttribute("transform"),E=N.getAttribute("transform");W?N.setAttribute("transform",W):N.removeAttribute("transform"),E?P.setAttribute("transform",E):P.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}I.replaceWith(N)}if(y.roots[v]=I=N,!(B==null&&x?.size>1)){const P=B==null?null:Ve(w)?w[B]:w.get(B);p.dispatchValue(P)}return N}function en(z){if(y.sticky||z.pointerType==="mouse"&&z.buttons===1)return;let[nn,N]=r1(z);nn-=A,N-=C;const P=nn<h.marginLeft||nn>h.width-h.marginRight?1:n,W=N<h.marginTop||N>h.height-h.marginBottom?1:e;let E=null,rn=f*f;for(const H of u){const on=P*(F(H)-nn),an=W*(L(H)-N),dn=on*on+an*an;dn<=rn&&(E=H,rn=dn)}if(E!=null&&(n!==1||e!==1)){const H=F(E)-nn,on=L(E)-N;rn=H*H+on*on}O(E,rn)}function Q(z){z.pointerType==="mouse"&&B!=null&&(y.sticky&&y.roots.some(nn=>nn?.contains(z.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(nn=>nn(null))):(y.sticky=!0,Y(B)),z.stopImmediatePropagation()))}function J(z){z.pointerType==="mouse"&&(y.sticky||O(null))}return b.addEventListener("pointerenter",en),b.addEventListener("pointermove",en),b.addEventListener("pointerdown",Q),b.addEventListener("pointerleave",J),Y(null)},c)}}function ny(n){return go(1,1,n)}function ey(n){return go(1,.01,n)}function Bc(n){return go(.01,1,n)}function y0({x1:n,x2:e,x:t=n},r){return n&&e?i=>(n[i]+e[i])/2:t?i=>t[i]:()=>r}function w0({y1:n,y2:e,y:t=n},r){return n&&e?i=>(n[i]+e[i])/2:t?i=>t[i]:()=>r}function v0(n){return Ze(n)&&n.interval===void 0?void 0:"tabular-nums"}function ty(n,e){let{label:t=n.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:f=18,marginRight:o=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-o)/64,tickFormat:l,fontVariant:h=v0(n),round:p=!0,opacity:g,className:b}=e;const w=lo(e);b=ji(b),g=Dn(g)[1],l===null&&(l=()=>null);const y=Sn("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(k=>k.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(po,u);let v=k=>k.selectAll(".tick line").attr("y1",f+c-a),m;const $=p?(k,U)=>k.rangeRound(U):(k,U)=>k.range(U),{type:M,domain:S,range:A,interpolate:C,scale:D,pivot:x}=n;if(C){const k=A===void 0?C:Ai(C.length===1?co(C):C,A);m=$(D.copy(),Yn(Ce(s,i-o),Math.min(S.length+(x!==void 0),A===void 0?1/0:A.length)));const U=256,R=w.document.createElement("canvas");R.width=U,R.height=1;const T=R.getContext("2d");for(let F=0,L=U-1;F<U;++F)T.fillStyle=k(F/L),T.fillRect(F,0,1,1);y.append("image").attr("opacity",g).attr("x",s).attr("y",f).attr("width",i-s-o).attr("height",a-f-c).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(M==="threshold"){const k=S,U=l===void 0?R=>R:typeof l=="string"?xt(l):l;m=$(_f().domain([-1,A.length-1]),[s,i-o]),y.append("g").attr("fill-opacity",g).selectAll().data(A).enter().append("rect").attr("x",(R,T)=>m(T-1)).attr("y",f).attr("width",(R,T)=>m(T)-m(T-1)).attr("height",a-f-c).attr("fill",R=>R),d=hn(k,(R,T)=>T),l=R=>U(k[R],R)}else m=$(Ni().domain(S),[s,i-o]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",m).attr("y",f).attr("width",Math.max(0,m.bandwidth()-1)).attr("height",a-f-c).attr("fill",D),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-c})`).call(e1(m).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",wn(h,"normal")).call(v).call(k=>k.select(".domain").remove()),t!==void 0&&y.append("text").attr("x",s).attr("y",f-6).attr("fill","currentColor").attr("font-weight","bold").text(t),y.node()}const M0=Math.PI/180;function $0(n,{marker:e,markerStart:t=e,markerMid:r=e,markerEnd:i=e}={}){n.markerStart=Ta(t),n.markerMid=Ta(r),n.markerEnd=Ta(i)}function Ta(n){if(n==null||n===!1)return null;if(n===!0)return Hc;if(typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"none":return null;case"arrow":return Yc("auto");case"arrow-reverse":return Yc("auto-start-reverse");case"dot":return ry;case"circle":case"circle-fill":return Hc;case"circle-stroke":return iy;case"tick":return Aa("auto");case"tick-x":return Aa(90);case"tick-y":return Aa(0)}throw new Error(`invalid marker: ${n}`)}function Yc(n){return(e,t)=>Sn("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",n).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function ry(n,e){return Sn("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",n).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function Hc(n,e){return Sn("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",n).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function iy(n,e){return Sn("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",n).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function Aa(n){return(e,t)=>Sn("svg:marker",t).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",n).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let ay=0;function x0(n,e,{stroke:t},r){return T0(n,e,t&&(i=>t[i]),null,r)}function o8(n,e,{stroke:t,z:r},i){return T0(n,e,t&&(([a])=>t[a]),r,i)}const Mf=1,S0=2;function fy(n,e){const t=new Uint8Array(e.length),r=n.data().filter(a=>a.length>1),i=r.length;for(let a=0,f=vf;a<i;++a){const o=r[a];if(o.length>1){const c=o[0];f!==(f=he(e[c]))&&(t[c]|=Mf)}}for(let a=i-1,f=vf;a>=0;--a){const o=r[a];if(o.length>1){const c=o[0];f!==(f=he(e[c]))&&(t[c]|=S0)}}return([a])=>t[a]}function T0(n,{markerStart:e,markerMid:t,markerEnd:r,stroke:i},a=()=>i,f,o){if(!e&&!t&&!r)return;const c=new Map,s=f&&fy(n,f);function u(d,l,h){return function(p){if(h&&!h(p))return;const g=a(p);let b=c.get(l);b||c.set(l,b=new Map);let w=b.get(g);if(!w){const y=this.parentNode.insertBefore(l(g,o),this),v=`plot-marker-${++ay}`;y.setAttribute("id",v),b.set(g,w=`url(#${v})`)}this.setAttribute(d,w)}}e&&n.each(u("marker-start",e,s&&(d=>s(d)&Mf))),t&&s&&n.each(u("marker-start",t,d=>!(s(d)&Mf))),t&&n.each(u("marker-mid",t)),r&&n.each(u("marker-end",r,s&&(d=>s(d)&S0)))}function mo({inset:n,insetLeft:e,insetRight:t,...r}={}){return[e,t]=C0(n,e,t),{inset:n,insetLeft:e,insetRight:t,...r}}function A0({inset:n,insetTop:e,insetBottom:t,...r}={}){return[e,t]=C0(n,e,t),{inset:n,insetTop:e,insetBottom:t,...r}}function C0(n,e,t){return n===void 0&&e===void 0&&t===void 0?In?[1,0]:[.5,.5]:[e,t]}function E0(n,{interval:e}){return n={...zi(n)},n.interval=Jf(n.interval===void 0?e:n.interval),n}function bo(n,e,t,r){const{[n]:i,[`${n}1`]:a,[`${n}2`]:f}=t,{value:o,interval:c}=E0(i,t);if(o==null||c==null&&!r)return t;const s=At(i);if(c==null){let h;const p={transform:g=>h||(h=bn(g,o)),label:s};return{...t,[n]:void 0,[`${n}1`]:a===void 0?p:a,[`${n}2`]:f===void 0&&!(a===f&&r)?p:f}}let u,d;function l(h){return d!==void 0&&h===u?d:d=hn(bn(u=h,o),p=>c.floor(p))}return e({...t,[n]:void 0,[`${n}1`]:a===void 0?{transform:l,label:s}:a,[`${n}2`]:f===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:f})}function N0(n,e,t){const{[n]:r}=t,{value:i,interval:a}=E0(r,t);return i==null||a==null?t:e({...t,[n]:{label:At(r),transform:f=>{const o=hn(bn(f,i),s=>a.floor(s)),c=o.map(s=>a.offset(s));return o.map(_n(o)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function oy(n={}){return bo("x",mo,n,!0)}function cy(n={}){return bo("x",mo,n)}function uy(n={}){return bo("y",A0,n)}function sy(n={}){return N0("x",mo,n)}function ly(n={}){return N0("y",A0,n)}const D0={ariaLabel:"rule",fill:null,stroke:"currentColor"};class dy extends te{constructor(e,t={}){const{x:r,y1:i,y2:a,inset:f=0,insetTop:o=f,insetBottom:c=f}=t;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Vi(t,"x"),D0),this.insetTop=vn(o),this.insetBottom=vn(c),$0(this,t)}render(e,t,r,i,a){const{x:f,y:o}=t,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetTop:w,insetBottom:y}=this;return Sn("svg:g",a).call(Ke,this,i,a).call(Qe,this,{x:c&&f},In,0).call(v=>v.selectAll().data(e).enter().append("line").call(Ie,this).attr("x1",c?m=>c[m]:(g+d-p)/2).attr("x2",c?m=>c[m]:(g+d-p)/2).attr("y1",s&&!wt(o)?m=>s[m]+w:h+w).attr("y2",u&&!wt(o)?o.bandwidth?m=>u[m]+o.bandwidth()-y:m=>u[m]-y:l-b-y).call(Ye,this,r).call(x0,this,r,a)).node()}}class hy extends te{constructor(e,t={}){const{x1:r,x2:i,y:a,inset:f=0,insetRight:o=f,insetLeft:c=f}=t;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Vi(t,"y"),D0),this.insetRight=vn(o),this.insetLeft=vn(c),$0(this,t)}render(e,t,r,i,a){const{x:f,y:o}=t,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetLeft:w,insetRight:y}=this;return Sn("svg:g",a).call(Ke,this,i,a).call(Qe,this,{y:c&&o},0,In).call(v=>v.selectAll().data(e).enter().append("line").call(Ie,this).attr("x1",s&&!wt(f)?m=>s[m]+w:g+w).attr("x2",u&&!wt(f)?f.bandwidth?m=>u[m]+f.bandwidth()-y:m=>u[m]-y:d-p-y).attr("y1",c?m=>c[m]:(h+l-b)/2).attr("y2",c?m=>c[m]:(h+l-b)/2).call(Ye,this,r).call(x0,this,r,a)).node()}}function py(n,e){let{x:t=Mn,y:r,y1:i,y2:a,...f}=uy(e);return[i,a]=I0(r,i,a),new dy(n,{...f,x:t,y1:i,y2:a})}function gy(n,e){let{y:t=Mn,x:r,x1:i,x2:a,...f}=cy(e);return[i,a]=I0(r,i,a),new hy(n,{...f,y:t,x1:i,x2:a})}function I0(n,e,t){if(n==null){if(e===void 0){if(t!==void 0)return[0,t]}else if(t===void 0)return[0,e]}else{if(e===void 0)return t===void 0?[0,n]:[n,t];if(t===void 0)return[n,e]}return[e,t]}function L0(n,...e){let t=e.length;for(let r=0,i=!0;r<t;++r)typeof e[r]!="function"&&(i&&(n=n.slice(),i=!1),n.splice(r,2,n[r]+e[r]+n[r+1]),e.splice(r,1),--r,--t);return r=>{let i=n[0];for(let a=0;a<t;++a)i+=e[a](r)+n[a+1];return i}}const my={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},k0="­";class yo extends te{constructor(e,t={}){const{x:r,y:i,text:a=Xe(e)&&Dd(e)?Mn:wd,frameAnchor:f,textAnchor:o=/right$/i.test(f)?"end":/left$/i.test(f)?"start":"middle",lineAnchor:c=/^top/i.test(f)?"top":/^bottom/i.test(f)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:b,fontWeight:w,rotate:y}=t,[v,m]=Dn(y,0),[$,M]=$y(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:$,optional:!0},rotate:{value:Rm(v),optional:!0},text:{value:a,filter:jf,optional:!0}},t,my),this.rotate=m,this.textAnchor=wn(o,"middle"),this.lineAnchor=Vn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=F0(d),this.monospace=!!l,this.fontFamily=xn(h),this.fontSize=M,this.fontStyle=xn(g),this.fontVariant=xn(b),this.fontWeight=xn(w),this.frameAnchor=no(f),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=O0(this),this.clipLine=P0(this)}render(e,t,r,i,a){const{x:f,y:o}=t,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,b]=Gi(this,i);return Sn("svg:g",a).call(Ke,this,i,a).call(U0,this,d,i).call(Qe,this,{x:c&&f,y:s&&o}).call(w=>w.selectAll().data(e).enter().append("text").call(Ie,this).call(by,this,d,l).attr("transform",L0`translate(${c?y=>c[y]:g},${s?y=>s[y]:b})${u?y=>` rotate(${u[y]})`:p?` rotate(${p})`:""}`).call(j,"font-size",h&&(y=>h[y])).call(Ye,this,r)).node()}}function F0(n){return n==null?null:Vn(n,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function by(n,e,t,r){if(!t)return;const{lineAnchor:i,lineHeight:a,textOverflow:f,splitLines:o,clipLine:c}=e;n.each(function(s){const u=o(vt(t[s])??"").map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const g=this.ownerDocument.createElementNS(Yr.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=u[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=u[0];if(f&&!r&&u[0]!==t[s]){const h=this.ownerDocument.createElementNS(Yr.svg,"title");h.textContent=t[s],this.appendChild(h)}})}function R0(n,{x:e,y:t,...r}={}){return r.frameAnchor===void 0&&([e,t]=Ad(e,t)),new yo(n,{...r,x:e,y:t})}function yy(n,{x:e=Mn,...t}={}){return new yo(n,ly({...t,x:e}))}function wy(n,{y:e=Mn,...t}={}){return new yo(n,sy({...t,y:e}))}function U0(n,e,t){j(n,"text-anchor",e.textAnchor),j(n,"font-family",e.fontFamily),j(n,"font-size",e.fontSize),j(n,"font-style",e.fontStyle),j(n,"font-variant",e.fontVariant===void 0?vy(t):e.fontVariant),j(n,"font-weight",e.fontWeight)}function vy(n){return n&&(Pm(n)||_n(n))?"tabular-nums":void 0}const My=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function $y(n){return n==null||typeof n=="number"?[void 0,n]:typeof n!="string"?[n,void 0]:(n=n.trim().toLowerCase(),My.has(n)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(n)?[void 0,n]:[n,void 0])}function xy(n,e,t){const r=[];let i,a=0;for(const[f,o,c]of Sy(n)){if(i===void 0&&(i=f),a>i&&t(n,i,o)>e&&(r.push(n.slice(i,a)+(n[a-1]===k0?"-":"")),i=f),c){r.push(n.slice(i,o)),i=void 0;continue}a=o}return r}function*Sy(n){let e=0,t=0;const r=n.length;for(;t<r;){let i=1;switch(n[t]){case k0:case"-":++t,yield[e,t,!1],e=t;break;case" ":for(yield[e,t,!1];n[++t]===" ";);e=t;break;case"\r":n[t+1]===`
`&&++i;case`
`:yield[e,t,!0],t+=i,e=t;break;default:++t;break}}yield[e,t,!0]}const jc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function wo(n,e=0,t=n.length){let r=0;for(let i=e;i<t;i=Ct(n,i))r+=jc[n[i]]??(_0(n,i)?120:jc.e);return r}function vo(n,e=0,t=n.length){let r=0;for(let i=e;i<t;i=Ct(n,i))r+=_0(n,i)?126:63;return r}function O0({monospace:n,lineWidth:e,textOverflow:t}){if(t!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=n?vo:wo,i=e*100;return a=>xy(a,i,r)}function P0({monospace:n,lineWidth:e,textOverflow:t}){if(t==null||e==1/0)return a=>a;const r=n?vo:wo,i=e*100;switch(t){case"clip-start":return a=>Vc(a,i,r,"");case"clip-end":return a=>Gc(a,i,r,"");case"ellipsis-start":return a=>Vc(a,i,r,ut);case"ellipsis-middle":return a=>Ty(a,i,r,ut);case"ellipsis-end":return a=>Gc(a,i,r,ut)}}const ut="…";function Mt(n,e,t,r){const i=[];let a=0;for(let f=0,o=0,c=n.length;f<c;f=o){o=Ct(n,f);const s=t(n,f,o);if(a+s>e){for(a+=r;a>e&&f>0;)o=f,f=i.pop(),a-=t(n,f,o);return[f,e-a]}a+=s,i.push(f)}return[-1,0]}function Gc(n,e,t,r){n=n.trim();const i=t(r),[a]=Mt(n,e,t,i);return a<0?n:n.slice(0,a).trimEnd()+r}function Ty(n,e,t,r){n=n.trim();const i=t(n);if(i<=e)return n;const a=t(r)/2,[f,o]=Mt(n,e/2,t,a),[c]=Mt(n,i-e/2-o+a,t,-a);return c<0?r:n.slice(0,f).trimEnd()+r+n.slice(Ct(n,c)).trimStart()}function Vc(n,e,t,r){n=n.trim();const i=t(n);if(i<=e)return n;const a=t(r),[f]=Mt(n,i-e+a,t,-a);return f<0?r:r+n.slice(Ct(n,f)).trimStart()}const $f=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Xc=/\p{Extended_Pictographic}/uy;function Ct(n,e){return e+=Ay(n,e)?2:1,Ey(n,e)&&(e=$f.lastIndex),Cy(n,e)?Ct(n,e+1):e}function z0(n,e){return n.charCodeAt(e)<128}function Ay(n,e){const t=n.charCodeAt(e);if(t>=55296&&t<56320){const r=n.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function Cy(n,e){return n.charCodeAt(e)===8205}function Ey(n,e){return z0(n,e)?!1:($f.lastIndex=e,$f.test(n))}function _0(n,e){return z0(n,e)?!1:(Xc.lastIndex=e,Xc.test(n))}const Ny={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},q0=3.5,Dy=q0*5,W0={draw(n,e,t){const r=e*t/Dy;n.moveTo(0,0),n.lineTo(0,-e),n.moveTo(-r,r-e),n.lineTo(0,-e),n.lineTo(r,r-e)}},Iy={draw(n,e,t){n.moveTo(-t,0),n.lineTo(0,-e),n.lineTo(t,0)}},Ly=new Map([["arrow",W0],["spike",Iy]]);function ky(n){return n&&typeof n.draw=="function"}function Fy(n){if(ky(n))return n;const e=Ly.get(`${n}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${n}`)}class B0 extends te{constructor(e,t={}){const{x:r,y:i,r:a=q0,length:f,rotate:o,shape:c=W0,anchor:s="middle",frameAnchor:u}=t,[d,l]=Dn(f,12),[h,p]=Dn(o,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},t,Ny),this.r=+a,this.length=l,this.rotate=p,this.shape=Fy(c),this.anchor=Vn(s,"anchor",["start","middle","end"]),this.frameAnchor=no(u)}render(e,t,r,i,a){const{x:f,y:o}=t,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:b}=this,[w,y]=Gi(this,i);return Sn("svg:g",a).call(Ke,this,i,a).call(Qe,this,{x:c&&f,y:s&&o}).call(v=>v.selectAll().data(e).enter().append("path").call(Ie,this).attr("transform",L0`translate(${c?m=>c[m]:w},${s?m=>s[m]:y})${d?m=>` rotate(${d[m]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?m=>` translate(0,${u[m]})`:` translate(0,${l})`:u?m=>` translate(0,${u[m]/2})`:` translate(0,${l/2})`}`).attr("d",u?m=>{const $=za();return g.draw($,u[m],b),$}:(()=>{const m=za();return g.draw(m,l,b),m})()).call(Ye,this,r)).node()}}function Ry(n,e={}){const{x:t=Mn,...r}=e;return new B0(n,{...r,x:t})}function Uy(n,e={}){const{y:t=Mn,...r}=e;return new B0(n,{...r,y:t})}function Re(n,e){return arguments.length<2&&!Xe(n)&&(e=n,n=null),e===void 0&&(e={}),[n,e]}function Xi({anchor:n}={},e){return n===void 0?e[0]:Vn(n,"anchor",e)}function Y0(n){return Xi(n,["left","right"])}function H0(n){return Xi(n,["right","left"])}function j0(n){return Xi(n,["bottom","top"])}function G0(n){return Xi(n,["top","bottom"])}function V0(){const[n,e]=Re(...arguments);return Z0("y",Y0(e),n,e)}function Oy(){const[n,e]=Re(...arguments);return Z0("fy",H0(e),n,e)}function X0(){const[n,e]=Re(...arguments);return K0("x",j0(e),n,e)}function Py(){const[n,e]=Re(...arguments);return K0("fx",G0(e),n,e)}function Z0(n,e,t,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:f=i,strokeWidth:o=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=n==="y"?6:0,tickPadding:g,tickRotate:b,x:w,margin:y,marginTop:v=y===void 0?20:y,marginRight:m=y===void 0?e==="right"?40:0:y,marginBottom:$=y===void 0?20:y,marginLeft:M=y===void 0?e==="left"?40:0:y,label:S,labelAnchor:A,labelArrow:C,labelOffset:D,...x}){return p=vn(p),g=vn(g),b=vn(b),A!==void 0&&(A=Vn(A,"labelAnchor",["center","top","bottom"])),C=ah(C),m0(p&&!Tn(a)?zy(n,e,t,{stroke:a,strokeOpacity:f,strokeWidth:o,tickSize:p,tickPadding:g,tickRotate:b,x:w,...x}):null,Tn(c)?null:qy(n,e,t,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:b,x:w,marginTop:v,marginRight:m,marginBottom:$,marginLeft:M,...x}),!Tn(c)&&S!==null?R0([],eh({fill:c,fillOpacity:s,...x},function(k,U,R,T,F){const L=T[n],{marginTop:B,marginRight:I,marginBottom:_,marginLeft:q}=n==="y"&&F.inset||F,O=A??(L.bandwidth?"center":"top"),Y=D??(e==="right"?I:q)-3;return O==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=O,this.frameAnchor=`${O}-${e}`,this.rotate=0),this.dy=O==="top"?3-B:O==="bottom"?_-3:0,this.dx=e==="right"?Y:-Y,this.ariaLabel=`${n}-axis label`,{facets:[[0]],channels:{text:{value:[ih(n,L,{anchor:e,label:S,labelAnchor:O,labelArrow:C})]}}}})):null)}function K0(n,e,t,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:f=i,strokeWidth:o=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=n==="x"?6:0,tickPadding:g,tickRotate:b,y:w,margin:y,marginTop:v=y===void 0?e==="top"?30:0:y,marginRight:m=y===void 0?20:y,marginBottom:$=y===void 0?e==="bottom"?30:0:y,marginLeft:M=y===void 0?20:y,label:S,labelAnchor:A,labelArrow:C,labelOffset:D,...x}){return p=vn(p),g=vn(g),b=vn(b),A!==void 0&&(A=Vn(A,"labelAnchor",["center","left","right"])),C=ah(C),m0(p&&!Tn(a)?_y(n,e,t,{stroke:a,strokeOpacity:f,strokeWidth:o,tickSize:p,tickPadding:g,tickRotate:b,y:w,...x}):null,Tn(c)?null:Wy(n,e,t,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:b,y:w,marginTop:v,marginRight:m,marginBottom:$,marginLeft:M,...x}),!Tn(c)&&S!==null?R0([],eh({fill:c,fillOpacity:s,...x},function(k,U,R,T,F){const L=T[n],{marginTop:B,marginRight:I,marginBottom:_,marginLeft:q}=n==="x"&&F.inset||F,O=A??(L.bandwidth?"center":"right"),Y=D??(e==="top"?B:_)-3;return O==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${O}`,this.textAnchor=O==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Y:Y,this.dx=O==="right"?I-3:O==="left"?3-q:0,this.ariaLabel=`${n}-axis label`,{facets:[[0]],channels:{text:{value:[ih(n,L,{anchor:e,label:S,labelAnchor:O,labelArrow:C})]}}}})):null)}function zy(n,e,t,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:f=e+(n==="y"?"-empty":""),frameAnchor:o=e,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=n==="y"?void 0:null,...p}){return Et(Uy,n,t,{ariaLabel:`${n}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:f,frameAnchor:o,y:h,...p,dx:e==="left"?+l-In+ +u:+l+In-d,anchor:"start",length:c,shape:e==="left"?Zy:Ky})}function _y(n,e,t,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:f=e+(n==="x"?"-empty":""),frameAnchor:o=e,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=n==="x"?void 0:null,...p}){return Et(Ry,n,t,{ariaLabel:`${n}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:f,frameAnchor:o,x:h,...p,dy:e==="bottom"?+l-In-d:+l+In+ +u,anchor:"start",length:c,shape:e==="bottom"?Vy:Xy})}function qy(n,e,t,{facetAnchor:r=e+(n==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:f=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(f)>60?4*Math.cos(f*M0):0),text:c,textAnchor:s=Math.abs(f)>60?"middle":e==="left"?"end":"start",lineAnchor:u=f>60?"top":f<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,y:b=n==="y"?void 0:null,...w}){return Et(wy,n,t,{ariaLabel:`${n}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:f,y:b,...w,dx:e==="left"?+g-a-o+ +h:+g+ +a+ +o-p},function(y,v,m,$,M){d===void 0&&(this.fontVariant=rh(y)),c===void 0&&(M.text=th(y,v,m,$,e))})}function Wy(n,e,t,{facetAnchor:r=e+(n==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:f=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(f)>=10?4*Math.cos(f*M0):0),text:c,textAnchor:s=Math.abs(f)>=10?f<0^e==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(f)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:b=n==="x"?void 0:null,...w}){return Et(yy,n,t,{ariaLabel:`${n}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:f,x:b,...w,dy:e==="bottom"?+g+ +a+ +o-p:+g-a-o+ +h},function(y,v,m,$,M){d===void 0&&(this.fontVariant=rh(y)),c===void 0&&(M.text=th(y,v,m,$,e))})}function By(){const[n,e]=Re(...arguments);return Q0("y",Y0(e),n,e)}function Yy(){const[n,e]=Re(...arguments);return Q0("fy",H0(e),n,e)}function Hy(){const[n,e]=Re(...arguments);return J0("x",j0(e),n,e)}function jy(){const[n,e]=Re(...arguments);return J0("fx",G0(e),n,e)}function Q0(n,e,t,{y:r=n==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:f=e==="right"?i:null,...o}){return Et(gy,n,t,{ariaLabel:`${n}-grid`,ariaHidden:!0},{y:r,x1:a,x2:f,...nh(o)})}function J0(n,e,t,{x:r=n==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:f=e==="bottom"?i:null,...o}){return Et(py,n,t,{ariaLabel:`${n}-grid`,ariaHidden:!0},{x:r,y1:a,y2:f,...nh(o)})}function nh({color:n="currentColor",opacity:e=.1,stroke:t=n,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:t,strokeOpacity:r,strokeWidth:i,...a}}function eh({fill:n,fillOpacity:e,fontFamily:t,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:f,monospace:o,pointerEvents:c,shapeRendering:s,clip:u=!1},d){return[,n]=be(n),[,e]=Dn(e),{facet:"super",x:null,y:null,fill:n,fillOpacity:e,fontFamily:t,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:f,monospace:o,pointerEvents:c,shapeRendering:s,clip:u,initializer:d}}function Et(n,e,t,r,i,a){let f;function o(u,d,l,h,p,g){const b=u==null&&(e==="fx"||e==="fy"),{[e]:w}=h;if(!w)throw new Error(`missing scale: ${e}`);const y=w.domain();let{interval:v,ticks:m,tickFormat:$,tickSpacing:M=e==="x"?80:35}=i;if(typeof m=="string"&&fh(w)&&(v=m,m=void 0),m===void 0&&(m=yr(v,w.type)??Gy(w,M)),u==null){if(Xe(m))u=De(m);else if(Nd(m))u=Ca(m,...Te(y));else if(w.interval){let A=w.interval;if(w.ticks){const[C,D]=Te(y),x=(D-C)/A[br];A=vc(A,x/m)??A,u=Ca(A,C,D)}else{u=y;const C=u.length;A=vc(A,C/m)??A,A!==w.interval&&(u=Ca(A,...Te(u)))}if(A===w.interval){const C=Math.round(u.length/m);C>1&&(u=u.filter((D,x)=>x%C===0))}}else w.ticks?u=w.ticks(m):u=y;if(!w.ticks&&u.length&&u!==y){const A=new Mi(y);u=u.filter(C=>A.has(C)),u.length||Ae(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[we(u)]:f[e]={scale:e,value:Mn}}a?.call(this,w,u,m,$,f);const S=Object.fromEntries(Object.entries(f).map(([A,C])=>[A,{...C,value:bn(u,C.value)}]));return b&&(d=g.filterFacets(u,S)),{data:u,facets:d,channels:S}}const c=yt(i).initializer,s=n(t,yt({...i,initializer:o},c));return t==null?(f=s.channels,s.channels={}):f={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function Gy(n,e){const[t,r]=Te(n.range());return(r-t)/e}function th(n,e,t,r,i){return{value:Mo(n,e,t,r,i)}}function Mo(n,e,t,r,i){return typeof r=="function"&&!(n.type==="log"&&n.tickFormat)?r:r===void 0&&e&&_n(e)?vm(n.type,e,i)??vt:n.tickFormat?n.tickFormat(typeof t=="number"?t:null,r):r===void 0?vt:typeof r=="string"?(_n(n.domain())?gr:xt)(r):de(r)}function Ca(n,e,t){return n.range(e,n.offset(n.floor(t)))}const Vy={draw(n,e){n.moveTo(0,0),n.lineTo(0,e)}},Xy={draw(n,e){n.moveTo(0,0),n.lineTo(0,-e)}},Zy={draw(n,e){n.moveTo(0,0),n.lineTo(-e,0)}},Ky={draw(n,e){n.moveTo(0,0),n.lineTo(e,0)}};function rh(n){return n.bandwidth&&!n.interval?void 0:"tabular-nums"}function ih(n,e,{anchor:t,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&fh(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const f=i2(e);f&&(a=/x$/.test(n)||i==="center"?/x$/.test(n)===f<0?"left":"right":f<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return t==="right"?`${r} ↑`:`↑ ${r}`;case"down":return t==="right"?`${r} ↓`:`↓ ${r}`}return r}}function ah(n="auto"){return Tn(n)?!1:typeof n=="boolean"?n:Vn(n,"labelArrow",["auto","up","right","down","left"])}function fh(n){return _n(n.domain())}function Zc(n,e){if(e==null)return e;const t=n(e);if(!t)throw new Error(`scale not found: ${e}`);return t}function Qy(n,{opacity:e,...t}={}){if(!Ze(n)&&!s0(n))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${n.type})`);return oh(n,t,(r,i,a,f)=>r.append("svg").attr("width",a).attr("height",f).attr("fill",i.scale).attr("fill-opacity",Dn(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Jy(n,{fill:e=n.hint?.fill!==void 0?n.hint.fill:"none",fillOpacity:t=1,stroke:r=n.hint?.stroke!==void 0?n.hint.stroke:Tn(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:f=4.5,...o}={},c){const[s,u]=be(e),[d,l]=be(r),h=Zc(c,s),p=Zc(c,d),g=f*f*Math.PI;return t=Dn(t)[1],i=Dn(i)[1],a=Dn(a)[1],oh(n,o,(b,w,y,v)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",v).attr("fill",s==="color"?m=>h.scale(m):u).attr("fill-opacity",t).attr("stroke",d==="color"?m=>p.scale(m):l).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",m=>{const $=za();return n.scale(m).draw($,g),$}))}function oh(n,e={},t){let{columns:r,tickFormat:i,fontVariant:a=v0(n),swatchSize:f=15,swatchWidth:o=f,swatchHeight:c=f,marginLeft:s=0,className:u,style:d,width:l}=e;const h=lo(e);u=ji(u),i=Mo(n.scale,n.domain,void 0,i);const p=Sn("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(n.domain).enter().append("div").attr("class",`${u}-swatch`).call(t,n,o,c).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(n.domain).enter().append("span").attr("class",`${u}-swatch`).call(t,n,o,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",wn(a,"normal")).call(po,d).node()}const xf=new Map([["symbol",Jy],["color",uh],["opacity",e6]]);function n6(n,e,t={}){return(r,i)=>{if(!xf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in n)return xf.get(r)(n[r],ch(e,t[r],i),a=>n[a])}}function ch({className:n,...e},{label:t,ticks:r,tickFormat:i}={},a){return Wm(a,{className:n,...e},{label:t,ticks:r,tickFormat:i})}function uh(n,{legend:e=!0,...t}){if(e===!0&&(e=n.type==="ordinal"?"swatches":"ramp"),n.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return Qy(n,t);case"ramp":return ty(n,t);default:throw new Error(`unknown legend type: ${e}`)}}function e6({type:n,interpolate:e,...t},{legend:r=!0,color:i=Br(0,0,0),...a}){if(!e)throw new Error(`${n} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return uh({type:n,...t,interpolate:t6(i)},{legend:r,...a})}function t6(n){const{r:e,g:t,b:r}=Br(n)||Br(0,0,0);return i=>`rgba(${e},${t},${r},${i})`}function r6(n,e,t){const r=[];for(const[i,a]of xf){const f=t[i];if(f?.legend&&i in n){const o=a(n[i],ch(e,n[i],f),c=>n[c]);o!=null&&r.push(o)}}return r}function c8(n={}){return xd(n)?n:{...n,x:Mn}}function i6(n={}){return Sd(n)?n:{...n,y:Mn}}function a6(n,e){if(e.length===1)return{data:n,facets:e};const t=nr(n),r=new Uint8Array(t);let i=0;for(const o of e)for(const c of o)r[c]&&++i,r[c]=1;if(i===0)return{data:n,facets:e};n=Jt(n);const a=n[bd]=new Uint32Array(t+i);e=e.map(o=>Jt(o,Uint32Array));let f=t;r.fill(0);for(const o of e)for(let c=0,s=o.length;c<s;++c){const u=o[c];r[u]?(o[c]=f,n[f]=n[u],a[f]=u,++f):a[u]=u,r[u]=1}return{data:n,facets:e}}function f6(n={},e={}){arguments.length===1&&([n,e]=sh(n));const{y1:t,y:r=t,x:i,...a}=e,[f,o,c,s]=lh(r,i,"y","x",n,a);return{...f,y1:t,y:o,x1:c,x2:s,x:Cd(c,s)}}function o6(n={},e={}){arguments.length===1&&([n,e]=sh(n));const{x1:t,x:r=t,y:i,...a}=e,[f,o,c,s]=lh(r,i,"x","y",n,a);return{...f,x1:t,x:o,y1:c,y2:s,y:Cd(c,s)}}function u8({x:n,x1:e,x2:t,...r}={}){return r=Vi(r,"y"),e===void 0&&t===void 0?f6({x:n,...r}):([e,t]=Td(n,e,t),{...r,x1:e,x2:t})}function c6({y:n,y1:e,y2:t,...r}={}){return r=Vi(r,"x"),e===void 0&&t===void 0?o6({y:n,...r}):([e,t]=Td(n,e,t),{...r,y1:e,y2:t})}function sh(n){const{offset:e,order:t,reverse:r,...i}=n;return[{offset:e,order:t,reverse:r},i]}const u6={length:!0};function lh(n,e=Tm,t,r,{offset:i,order:a,reverse:f},o){if(e===null)throw new Error(`stack requires ${r}`);const c=Dm(o),[s,u]=tt(n),[d,l]=yi(e),[h,p]=yi(e);return d.hint=h.hint=u6,i=s6(i),a=h6(a,i,r),[Wi(o,(g,b,w)=>{({data:g,facets:b}=a6(g,b));const y=n==null?void 0:u(lf(bn(g,n),w?.[t])),v=bn(g,e,Float64Array),m=bn(g,c),$=a&&a(g,y,v,m),M=nr(g),S=l(new Float64Array(M)),A=p(new Float64Array(M)),C=[];for(const D of b){const x=y?Array.from(xi(D,k=>y[k]).values()):[D];if($)for(const k of x)k.sort($);for(const k of x){let U=0,R=0;f&&k.reverse();for(const T of k){const F=v[T];F<0?U=A[T]=(S[T]=U)+F:F>0?R=A[T]=(S[T]=R)+F:A[T]=S[T]=R}}C.push(x)}return i&&i(C,S,A,m),{data:g,facets:b}}),s,d,h]}function s6(n){if(n!=null){if(typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"expand":case"normalize":return l6;case"center":case"silhouette":return d6;case"wiggle":return hh}throw new Error(`unknown offset: ${n}`)}}function dh(n,e){let t=0,r=0;for(const i of n){const a=e[i];a<t&&(t=a),a>r&&(r=a)}return[t,r]}function l6(n,e,t){for(const r of n)for(const i of r){const[a,f]=dh(i,t);for(const o of i){const c=1/(f-a||1);e[o]=c*(e[o]-a),t[o]=c*(t[o]-a)}}}function d6(n,e,t){for(const r of n){for(const i of r){const[a,f]=dh(i,t);for(const o of i){const c=(f+a)/2;e[o]-=c,t[o]-=c}}ph(r,e,t)}gh(n,e,t)}function hh(n,e,t,r){for(const i of n){const a=new ir;let f=0;for(const o of i){let c=-1;const s=o.map(h=>Math.abs(t[h]-e[h])),u=o.map(h=>{c=r?r[h]:++c;const p=t[h]-e[h],g=a.has(c)?p-a.get(c):0;return a.set(c,p),g}),d=[0,...kh(u)];for(const h of o)e[h]+=f,t[h]+=f;const l=Ee(s);l&&(f-=Ee(s,(h,p)=>(u[p]/2+d[p])*h)/l)}ph(i,e,t)}gh(n,e,t)}function ph(n,e,t){const r=pe(n,i=>pe(i,a=>e[a]));for(const i of n)for(const a of i)e[a]-=r,t[a]-=r}function gh(n,e,t){const r=n.length;if(r===1)return;const i=n.map(o=>o.flat()),a=i.map(o=>(pe(o,c=>e[c])+Bn(o,c=>t[c]))/2),f=pe(a);for(let o=0;o<r;o++){const c=f-a[o];for(const s of i[o])e[s]+=c,t[s]+=c}}function h6(n,e,t){if(n===void 0&&e===hh)return Kc(Gn);if(n!=null){if(typeof n=="string"){const r=n.startsWith("-"),i=r?mi:Gn;switch((r?n.slice(1):n).toLowerCase()){case"value":case t:return p6(i);case"z":return g6(i);case"sum":return m6(i);case"appearance":return b6(i);case"inside-out":return Kc(i)}return Qc(yd(n))}if(typeof n=="function")return(n.length===1?Qc:y6)(n);if(Ve(n))return w6(n);throw new Error(`invalid order: ${n}`)}}function p6(n){return(e,t,r)=>(i,a)=>n(r[i],r[a])}function g6(n){return(e,t,r,i)=>(a,f)=>n(i[a],i[f])}function m6(n){return Zi(n,(e,t,r,i)=>Df(we(e),a=>Ee(a,f=>r[f]),a=>i[a]))}function b6(n){return Zi(n,(e,t,r,i)=>Df(we(e),a=>t[gu(a,f=>r[f])],a=>i[a]))}function Kc(n){return Zi(n,(e,t,r,i)=>{const a=we(e),f=Df(a,d=>t[gu(d,l=>r[l])],d=>i[d]),o=ft(a,d=>Ee(d,l=>r[l]),d=>i[d]),c=[],s=[];let u=0;for(const d of f)u<0?(u+=o.get(d),c.push(d)):(u-=o.get(d),s.push(d));return s.reverse().concat(c)})}function Qc(n){return e=>{const t=bn(e,n);return(r,i)=>Gn(t[r],t[i])}}function y6(n){return e=>Ve(e)?(t,r)=>n(e[t],e[r]):(t,r)=>n(e.get(t),e.get(r))}function w6(n){return Zi(Gn,()=>n)}function Zi(n,e){return(t,r,i,a)=>{if(!a)throw new Error("missing channel: z");const f=new ir(e(t,r,i,a).map((o,c)=>[o,c]));return(o,c)=>n(f.get(a[o]),f.get(a[c]))}}const v6={ariaLabel:"rect"};class M6 extends te{constructor(e,t={}){const{x1:r,y1:i,x2:a,y2:f}=t;super(e,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&f==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:f,scale:"y",optional:!0}},t,v6),mh(this,t),bh(this,t)}render(e,t,r,i,a){const{x:f,y:o}=t;let{x1:c,y1:s,x2:u,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:g,width:b,height:w}=i,{projection:y}=a,{insetTop:v,insetRight:m,insetBottom:$,insetLeft:M}=this,{rx:S,ry:A,rx1y1:C,rx1y2:D,rx2y1:x,rx2y2:k}=this;(c||u)&&!y&&wt(f)&&(c=u=null),(s||d)&&!y&&wt(o)&&(s=d=null);const U=f?.bandwidth?f.bandwidth():0,R=o?.bandwidth?o.bandwidth():0;return Sn("svg:g",a).call(Ke,this,i,a).call(Qe,this,{},0,0).call(T=>T.selectAll().data(e).enter().call(C||D||x||k?F=>F.append("path").call(Ie,this).call(yh,c&&u?L=>c[L]+(u[L]<c[L]?-m:M):c?L=>c[L]+M:g+M,s&&d?L=>s[L]+(d[L]<s[L]?-$:v):s?L=>s[L]+v:l+v,c&&u?L=>u[L]-(u[L]<c[L]?-M:m):c?L=>c[L]+U-m:b-h-m,s&&d?L=>d[L]-(d[L]<s[L]?-v:$):s?L=>s[L]+R-$:w-p-$,this).call(Ye,this,r):F=>F.append("rect").call(Ie,this).attr("x",c?u?L=>Math.min(c[L],u[L])+M:L=>c[L]+M:g+M).attr("y",s?d?L=>Math.min(s[L],d[L])+v:L=>s[L]+v:l+v).attr("width",c?u?L=>Math.max(0,Math.abs(u[L]-c[L])+U-M-m):U-M-m:b-h-g-m-M).attr("height",s?d?L=>Math.max(0,Math.abs(s[L]-d[L])+R-v-$):R-v-$:w-l-p-v-$).call(j,"rx",S).call(j,"ry",A).call(Ye,this,r))).node()}}function mh(n,{inset:e=0,insetTop:t=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={}){n.insetTop=vn(t),n.insetRight=vn(r),n.insetBottom=vn(i),n.insetLeft=vn(a)}function bh(n,{r:e,rx:t,ry:r,rx1:i=e,ry1:a=e,rx2:f=e,ry2:o=e,rx1y1:c=i!==void 0?+i:a!==void 0?+a:0,rx1y2:s=i!==void 0?+i:o!==void 0?+o:0,rx2y1:u=f!==void 0?+f:a!==void 0?+a:0,rx2y2:d=f!==void 0?+f:o!==void 0?+o:0}={}){c||s||u||d?(n.rx1y1=c,n.rx1y2=s,n.rx2y1=u,n.rx2y2=d):(n.rx=wn(t,"auto"),n.ry=wn(r,"auto"))}function yh(n,e,t,r,i,a){const{rx1y1:f,rx1y2:o,rx2y1:c,rx2y2:s}=a;typeof e!="function"&&(e=de(e)),typeof t!="function"&&(t=de(t)),typeof r!="function"&&(r=de(r)),typeof i!="function"&&(i=de(i));const u=Math.max(Math.abs(f+c),Math.abs(o+s)),d=Math.max(Math.abs(f+o),Math.abs(c+s));n.attr("d",l=>{const h=e(l),p=t(l),g=r(l),b=i(l),w=h>g,y=p>b,v=w?g:h,m=w?h:g,$=y?b:p,M=y?p:b,S=Math.min(1,(m-v)/u,(M-$)/d),A=S*(w?y?s:c:y?o:f),C=S*(w?y?o:f:y?s:c),D=S*(w?y?f:o:y?c:s),x=S*(w?y?c:s:y?f:o);return`M${v},${$+Ur(A,x)}A${A},${A} 0 0 ${A<0?0:1} ${v+Rr(A,x)},${$}H${m-Rr(C,D)}A${C},${C} 0 0 ${C<0?0:1} ${m},${$+Ur(C,D)}V${M-Ur(D,C)}A${D},${D} 0 0 ${D<0?0:1} ${m-Rr(D,C)},${M}H${v+Rr(x,A)}A${x},${x} 0 0 ${x<0?0:1} ${v},${M-Ur(x,A)}Z`})}function Rr(n,e){return e<0?n:Math.abs(n)}function Ur(n,e){return e<0?Math.abs(n):n}function s8(n,e={}){return Nm(e)||(e={...e,x:wd,y2:Mn,interval:1}),new M6(n,c6(oy(i6(e))))}const $6={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},x6={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class S6 extends te{constructor(e={}){const{anchor:t=null}=e;super(Wr,void 0,e,t==null?$6:x6),this.anchor=$d(t,"anchor",["top","right","bottom","left"]),mh(this,e),t||bh(this,e)}render(e,t,r,i,a){const{marginTop:f,marginRight:o,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:b}=this,{rx:w,ry:y,rx1y1:v,rx1y2:m,rx2y1:$,rx2y2:M}=this,S=s+b,A=u-o-p,C=f+h,D=d-c-g;return Sn(l?"svg:line":v||m||$||M?"svg:path":"svg:rect",a).datum(0).call(Ke,this,i,a).call(Ie,this).call(Ye,this,r).call(Qe,this,{}).call(l==="left"?x=>x.attr("x1",S).attr("x2",S).attr("y1",C).attr("y2",D):l==="right"?x=>x.attr("x1",A).attr("x2",A).attr("y1",C).attr("y2",D):l==="top"?x=>x.attr("x1",S).attr("x2",A).attr("y1",C).attr("y2",C):l==="bottom"?x=>x.attr("x1",S).attr("x2",A).attr("y1",D).attr("y2",D):v||m||$||M?x=>x.call(yh,S,C,A,D,this):x=>x.attr("x",S).attr("y",C).attr("width",A-S).attr("height",D-C).attr("rx",w).attr("ry",y)).node()}}function T6(n){return new S6(n)}const Ea={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},A6=new Set(["geometry","href","src","ariaLabel","scales"]);class C6 extends te{constructor(e,t={}){t.tip&&(t={...t,tip:!1}),t.title===void 0&&Xe(e)&&Dd(e)&&(t={...t,title:Mn});const{x:r,y:i,x1:a,x2:f,y1:o,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:b,lineHeight:w=1,lineWidth:y=20,frameAnchor:v,format:m,textAnchor:$="start",textOverflow:M,textPadding:S=8,title:A,pointerSize:C=12,pathFilter:D="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=t;super(e,{x:{value:a!=null&&f!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:f==null},y1:{value:o,scale:"y",optional:c==null},x2:{value:f,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:o==null},title:{value:A,optional:!0}},t,Ea),this.anchor=df(s,"anchor"),this.preferredAnchor=df(u,"preferredAnchor"),this.frameAnchor=no(v),this.textAnchor=wn($,"middle"),this.textPadding=+S,this.pointerSize=+C,this.pathFilter=xn(D),this.lineHeight=+w,this.lineWidth=+y,this.textOverflow=F0(M),this.monospace=!!d,this.fontFamily=xn(l),this.fontSize=vn(h),this.fontStyle=xn(p),this.fontVariant=xn(g),this.fontWeight=xn(b);for(const x in Ea)x in this.channels&&(this[x]=Ea[x]);this.splitLines=O0(this),this.clipLine=P0(this),this.format=typeof m=="string"||typeof m=="function"?{title:m}:{...m}}render(e,t,r,i,a){const f=this,{x:o,y:c,fx:s,fy:u}=t,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:b}=this,{textPadding:w,pointerSize:y,pathFilter:v}=this,{marginTop:m,marginLeft:$}=i,{x1:M,y1:S,x2:A,y2:C,x:D=M??A,y:x=S??C}=r,k=s?s(e.fx)-$:0,U=u?u(e.fy)-m:0,[R,T]=Gi(this,i),F=y0(r,R),L=w0(r,T),B=p?vo:wo,I=B(ut);let _,q;"title"in r?(_=Jc.call(this,{title:r.channels.title},t),q=L6):(_=Jc.call(this,r.channels,t),q=k6);const O=Sn("svg:g",a).call(Ke,this,i,a).call(U0,this).call(Qe,this,{x:D&&o,y:x&&c}).call(Q=>Q.selectAll().data(e).enter().append("g").attr("transform",J=>`translate(${Math.round(F(J))},${Math.round(L(J))})`).call(Ie,this).call(J=>J.append("path").attr("filter",v)).call(J=>J.append("text").each(function(z){const nn=ot(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=q.call(f,z,e,_,t,r);if(typeof N=="string")for(const P of f.splitLines(N))Y(nn,{value:f.clipLine(P)});else{const P=new Set;for(const W of N){const{label:E=""}=W;E&&P.has(E)||(P.add(E),Y(nn,W))}}})));function Y(Q,{label:J,value:z,color:nn,opacity:N}){J??="",z??="";const P=nn!=null||N!=null;let W,E=b*100;const[rn]=Mt(J,E,B,I);if(rn>=0)J=J.slice(0,rn).trimEnd()+ut,W=z.trim(),z="";else{(J||!z&&!P)&&(z=" "+z);const[on]=Mt(z,E-B(J),B,I);on>=0&&(W=z.trim(),z=z.slice(0,on).trimEnd()+ut)}const H=Q.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");J&&H.append("tspan").attr("font-weight","bold").text(J),z&&H.append(()=>l.createTextNode(z)),P&&H.append("tspan").text(" ■").attr("fill",nn).attr("fill-opacity",N).style("user-select","none"),W&&H.append("title").text(W)}function en(){const{width:Q,height:J}=i.facet??i;O.selectChildren().each(function(z){let{x:nn,width:N,height:P}=this.getBBox();N=Math.round(N),P=Math.round(P);let W=h;if(W===void 0){const H=F(z)+k,on=L(z)+U,an=H+N+y+w*2<Q,dn=H-N-y-w*2>0,Me=on+P+y+w*2<J,Nt=on-P-y-w*2>0;W=an&&dn?Me&&Nt?f.preferredAnchor:Nt?"bottom":"top":Me&&Nt?an?"left":"right":(an||dn)&&(Me||Nt)?`${Nt?"bottom":"top"}-${an?"left":"right"}`:f.preferredAnchor}const E=this.firstChild,rn=this.lastChild;if(E.setAttribute("d",I6(W,y,w,N,P)),nn)for(const H of rn.childNodes)H.setAttribute("x",-nn);rn.setAttribute("y",`${+N6(W,rn.childNodes.length,g).toFixed(6)}em`),rn.setAttribute("transform",`translate(${D6(W,y,w,N,P)})`)}),O.attr("visibility",null)}return e.length&&(O.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(en):typeof requestAnimationFrame<"u"&&requestAnimationFrame(en)),O.node()}}function E6(n,{x:e,y:t,...r}={}){return r.frameAnchor===void 0&&([e,t]=Ad(e,t)),new C6(n,{...r,x:e,y:t})}function N6(n,e,t){return/^top(?:-|$)/.test(n)?.94-t:-.29-e*t}function D6(n,e,t,r,i){switch(n){case"middle":return[-r/2,i/2];case"top-left":return[t,e+t];case"top":return[-r/2,e/2+t];case"top-right":return[-r-t,e+t];case"right":return[-e/2-r-t,i/2];case"bottom-left":return[t,-e-t];case"bottom":return[-r/2,-e/2-t];case"bottom-right":return[-r-t,-e-t];case"left":return[t+e/2,i/2]}}function I6(n,e,t,r,i){const a=r+t*2,f=i+t*2;switch(n){case"middle":return`M${-a/2},${-f/2}h${a}v${f}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${f}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${f}h${-a}v${-f}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${f}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-f/2}h${-a}v${f}h${a}v${e/2-f/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-f}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-f}h${-a}v${f}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-f}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-f/2}h${a}v${f}h${-a}v${e/2-f/2}z`}}function Jc(n,e){const t={};let r=this.format;r=nu(r,n,"x"),r=nu(r,n,"y"),this.format=r;for(const i in r){const a=r[i];if(!(a===null||a===!1))if(i==="fx"||i==="fy")t[i]=!0;else{const f=Ec(n,i);f&&(t[i]=f)}}for(const i in n){if(i in t||i in r||A6.has(i)||(i==="x"||i==="y")&&n.geometry)continue;const a=Ec(n,i);if(a){if(a.scale==null&&a.defaultScale==="color")continue;t[i]=a}}this.facet&&(e.fx&&!("fx"in r)&&(t.fx=!0),e.fy&&!("fy"in r)&&(t.fy=!0));for(const i in t){const a=this.format[i];if(typeof a=="string"){const f=t[i]?.value??e[i]?.domain()??[];this.format[i]=(_n(f)?gr:xt)(a)}else if(a===void 0||a===!0){const f=e[i];this.format[i]=f?.bandwidth?Mo(f,f.domain()):vt}}return t}function nu(n,e,t){if(!(t in n))return n;const r=`${t}1`,i=`${t}2`;if((r in n||!(r in e))&&(i in n||!(i in e)))return n;const a=Object.entries(n),f=n[t];return a.splice(a.findIndex(([o])=>o===t)+1,0,[r,f],[i,f]),Object.fromEntries(a)}function L6(n,e,{title:t}){return this.format.title(t.value[n],n)}function*k6(n,e,t,r,i){for(const a in t){if(a==="fx"||a==="fy"){yield{label:wi(r,t,a),value:this.format[a](e[a],n)};continue}if(a==="x1"&&"x2"in t||a==="y1"&&"y2"in t)continue;const f=t[a];if(a==="x2"&&"x1"in t)yield{label:tu(r,t,"x"),value:eu(this.format.x2,t.x1,f,n)};else if(a==="y2"&&"y1"in t)yield{label:tu(r,t,"y"),value:eu(this.format.y2,t.y1,f,n)};else{const o=f.value[n],c=f.scale;if(!Ne(o)&&c==null)continue;yield{label:wi(r,t,a),value:this.format[a](o,n),color:c==="color"?i[a][n]:null,opacity:c==="opacity"?i[a][n]:null}}}}function eu(n,e,t,r){return t.hint?.length?`${n(t.value[r]-e.value[r],r)}`:`${n(e.value[r],r)}–${n(t.value[r],r)}`}function tu(n,e,t){const r=wi(n,e,`${t}1`,t),i=wi(n,e,`${t}2`,t);return r===i?r:`${r}–${i}`}function wi(n,e,t,r=t){const i=e[t],a=n[i?.scale??t];return String(a?.label??i?.label??r)}function F6(n={}){const{facet:e,style:t,title:r,subtitle:i,caption:a,ariaLabel:f,ariaDescription:o}=n,c=ji(n.className),s=n.marks===void 0?[]:iu(n.marks);s.push(...q6(s));const u=z6(e,n),d=new Map;for(const I of s){const _=au(I,u,n);_&&d.set(I,_)}const l=new Map;u&&Rt(l,[u],n),Rt(l,d,n);const h=iu(W6(s,l,n));for(const I of h){const _=au(I,u,n);_&&d.set(I,_)}s.unshift(...h);let p=d2(l,n);if(p!==void 0){const I=u?xa(p,u):void 0;for(const q of s){if(q.facet===null||q.facet==="super")continue;const O=d.get(q);O!==void 0&&(O.facetsIndex=q.fx!=null||q.fy!=null?xa(p,O):I)}const _=new Set;for(const{facetsIndex:q}of d.values())q?.forEach((O,Y)=>{O?.length>0&&_.add(Y)});p.forEach(0<_.size&&_.size<p.length?(q,O)=>q.empty=!_.has(O):q=>q.empty=!1);for(const q of s)if(q.facet==="exclude"){const O=d.get(q);O!==void 0&&(O.facetsIndex=g2(O.facetsIndex))}}for(const I of ln.keys())sf(n[I])&&I!=="fx"&&I!=="fy"&&l.set(I,[]);const g=new Map;for(const I of s){if(g.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:_,channels:q}=d.get(I)??{},{data:O,facets:Y,channels:en}=I.initialize(_,q,n);$o(en,n),g.set(I,{data:O,facets:Y,channels:en})}const b=bf(Rt(l,g,n),n),w=Q2(b,s,n);t2(b,w);const y=Rc(b),{fx:v,fy:m}=y,$=v||m?o0(b,w):w,M=v||m?X6(y,w):w,S=lo(n),A=S.document,C=su("svg").call(A.documentElement);let D=C;S.ownerSVGElement=C,S.className=c,S.projection=S2(n,$),S.filterFacets=(I,_)=>xa(p,{channels:_,groups:so(I,_)}),S.getMarkState=I=>{const _=g.get(I),q=d.get(I);return{..._,channels:{..._.channels,...q?.channels}}},S.dispatchValue=I=>{D.value!==I&&(D.value=I,D.dispatchEvent(new Event("input",{bubbles:!0})))};const x=new Set;for(const[I,_]of g)if(I.initializer!=null){const q=I.facet==="super"?M:$,O=I.initializer(_.data,_.facets,_.channels,y,q,S);if(O.data!==void 0&&(_.data=O.data),O.facets!==void 0&&(_.facets=O.facets),O.channels!==void 0){const{fx:Y,fy:en,...Q}=O.channels;P6(Q),Object.assign(_.channels,Q);for(const J of Object.values(Q)){const{scale:z}=J;z!=null&&!Hm(ln.get(z))&&(wh(J,n),x.add(z))}(Y!=null||en!=null)&&d.set(I,!0)}}if(x.size){const I=new Map;Rt(I,g,n,Y=>x.has(Y)),Rt(l,g,n,Y=>x.has(Y));const _=V6(bf(I,n),b),{scales:q,...O}=Rc(_);Object.assign(b,_),Object.assign(y,O),Object.assign(y.scales,q)}let k,U;p!==void 0&&(k={x:v?.domain(),y:m?.domain()},p=h2(p,k),U=p2(v,m,w));for(const[I,_]of g)_.values=I.scale(_.channels,y,S);const{width:R,height:T}=w;ot(C).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",T).attr("viewBox",`0 0 ${R} ${T}`).attr("aria-label",f).attr("aria-description",o).call(I=>I.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(po,t);for(const I of s){const{channels:_,values:q,facets:O}=g.get(I);if(p===void 0||I.facet==="super"){let Y=null;if(O&&(Y=O[0],Y=I.filter(Y,_,q),Y.length===0))continue;const en=I.render(Y,y,q,M,S);if(en==null)continue;C.appendChild(en)}else{let Y;for(const en of p){if(!(I.facetAnchor?.(p,k,en)??!en.empty))continue;let Q=null;if(O){const z=d.has(I);if(Q=O[z?en.i:0],Q=I.filter(Q,_,q),Q.length===0)continue;!z&&Q===O[0]&&(Q=Im(Q)),Q.fx=en.x,Q.fy=en.y,Q.fi=en.i}const J=I.render(Q,y,q,$,S);if(J!=null){(Y??=ot(C).append("g")).append(()=>J).datum(en);for(const z of["aria-label","aria-description","aria-hidden","transform"])J.hasAttribute(z)&&(Y.attr(z,J.getAttribute(z)),J.removeAttribute(z))}}Y?.selectChildren().attr("transform",U)}}const F=r6(b,S,n),{figure:L=r!=null||i!=null||a!=null||F.length>0}=n;L&&(D=A.createElement("figure"),D.className=`${c}-figure`,D.style.maxWidth="initial",r!=null&&D.append(ru(A,r,"h2")),i!=null&&D.append(ru(A,i,"h3")),D.append(...F,C),a!=null&&D.append(R6(A,a)),"value"in C&&(D.value=C.value,delete C.value)),D.scale=s2(y.scales),D.legend=n6(b,S,n);const B=zb();return B>0&&ot(C).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),D}function ru(n,e,t){if(e.ownerDocument)return e;const r=n.createElement(t);return r.append(e),r}function R6(n,e){const t=n.createElement("figcaption");return t.append(e),t}function iu(n){return n.flat(1/0).filter(e=>e!=null).map(U6)}function U6(n){return typeof n.render=="function"?n:new O6(n)}class O6 extends te{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function $o(n,e){for(const t in n)wh(n[t],e);return n}function wh(n,e){const{scale:t,transform:r=!0}=n;if(t==null||!r)return;const{type:i,percent:a,interval:f,transform:o=a?c=>c==null?NaN:c*100:Ed(f,i)}=e[t]??{};o!=null&&(n.value=hn(n.value,o),n.transform=!1)}function P6(n){for(const e in n)Gd(e,n[e])}function Rt(n,e,t,r=Am){for(const{channels:i}of e.values())for(const a in i){const f=i[a],{scale:o}=f;if(o!=null&&r(o))if(o==="projection"){if(!C2(t)){const c=t.x?.domain===void 0,s=t.y?.domain===void 0;if(c||s){const[u,d]=N2(f);c&&Na(n,"x",u),s&&Na(n,"y",d)}}}else Na(n,o,f)}return n}function Na(n,e,t){const r=n.get(e);r!==void 0?r.push(t):n.set(e,[t])}function z6(n,e){if(n==null)return;const{x:t,y:r}=n;if(t==null&&r==null)return;const i=mt(n.data);if(i==null)throw new Error("missing facet data");const a={};t!=null&&(a.fx=tr(i,{value:t,scale:"fx"})),r!=null&&(a.fy=tr(i,{value:r,scale:"fy"})),$o(a,e);const f=so(i,a);return{channels:a,groups:f,data:n.data}}function au(n,e,t){if(n.facet===null||n.facet==="super")return;const{fx:r,fy:i}=n;if(r!=null||i!=null){const c=mt(n.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${n.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=tr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=tr(c,{value:i,scale:"fy"})),$o(s,t),{channels:s,groups:so(c,s)}}if(e===void 0)return;const{channels:a,groups:f,data:o}=e;if(n.facet!=="auto"||n.data===o)return{channels:a,groups:f};o.length>0&&(f.size>1||f.size===1&&a.fx&&a.fy&&[...f][0][1].size>1)&&nr(mt(n.data))===nr(o)&&Ae(`Warning: the ${n.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function _6(n,e={}){return yt({...e,x:null,y:null},(t,r,i,a,f,o)=>o.getMarkState(n))}function q6(n){const e=[];for(const t of n){let r=t.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?ey:/^y$/i.test(i)?Bc:ny,r=i(_6(t,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Bc?"left":"bottom");const f=E6(t.data,r);f.facet=t.facet,f.facetAnchor=t.facetAnchor,e.push(f)}}return e}function W6(n,e,t){let{projection:r,x:i={},y:a={},fx:f={},fy:o={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:g=c,grid:b=g===null?null:s}=a,fx:{axis:w=d,grid:y=w===null?null:l}=f,fy:{axis:v=d,grid:m=v===null?null:l}=o}=t;(r||!sf(i)&&!fu("x",n))&&(h=p=null),(r||!sf(a)&&!fu("y",n))&&(g=b=null),e.has("fx")||(w=y=null),e.has("fy")||(v=m=null),h===void 0&&(h=!zr(n,"x")),g===void 0&&(g=!zr(n,"y")),w===void 0&&(w=!zr(n,"fx")),v===void 0&&(v=!zr(n,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const $=[];return Pr($,m,Yy,o),Or($,v,Oy,"right","left",u,o),Pr($,y,jy,f),Or($,w,Py,"top","bottom",u,f),Pr($,b,By,a),Or($,g,V0,"left","right",t,a),Pr($,p,Hy,i),Or($,h,X0,"bottom","top",t,i),$}function Or(n,e,t,r,i,a,f){if(!e)return;const o=B6(e);f=Y6(o?r:e,a,f);const{line:c}=f;(t===V0||t===X0)&&c&&!er(c)&&n.push(T6(H6(f))),n.push(t(f)),o&&n.push(t({...f,anchor:i,label:null}))}function Pr(n,e,t,r){!e||er(e)||n.push(t(j6(e,r)))}function B6(n){return/^\s*both\s*$/i.test(n)}function Y6(n,e,{line:t=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:f,tickFormat:o,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:g}){return{anchor:n,line:t,ticks:r,tickSize:i,tickSpacing:a,tickPadding:f,tickFormat:o,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function H6(n){const{anchor:e,line:t}=n;return{anchor:e,facetAnchor:e+"-empty",stroke:t===!0?void 0:t}}function j6(n,{stroke:e=_i(n)?n:void 0,ticks:t=G6(n)?n:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:t,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function G6(n){switch(typeof n){case"number":return!0;case"string":return!_i(n)}return Xe(n)||typeof n?.range=="function"}function zr(n,e){const t=`${e}-axis `;return n.some(r=>r.ariaLabel?.startsWith(t))}function fu(n,e){for(const t of e)for(const r in t.channels){const{scale:i}=t.channels[r];if(i===n||i==="projection")return!0}return!1}function V6(n,e){for(const t in n){const r=n[t],i=e[t];r.label===void 0&&i&&(r.label=i.label)}return n}function X6({fx:n,fy:e},t){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:o,height:c}=uo(t),s=n&&ou(n),u=e&&ou(e);return{marginTop:e?u[0]:r,marginRight:n?o-s[1]:i,marginBottom:e?c-u[1]:a,marginLeft:n?s[0]:f,inset:{marginTop:t.marginTop,marginRight:t.marginRight,marginBottom:t.marginBottom,marginLeft:t.marginLeft},width:o,height:c}}function ou(n){const e=n.domain();if(e.length===0)return[0,n.bandwidth()];let t=n(e[0]),r=n(e[e.length-1]);return r<t&&([t,r]=[r,t]),[t,r+n.bandwidth()]}te.prototype.plot=function({marks:n=[],...e}={}){return F6({...e,marks:[...n,this]})};export{a8 as $,Fh as A,ot as B,Yn as C,$t as D,Ti as E,Fa as F,Xr as G,xt as H,_f as I,Ni as J,e1 as K,Te as L,te as M,du as N,Hg as O,ml as P,vl as Q,Ia as R,En as S,jr as T,hu as U,Vr as V,Bn as W,wd as X,Mn as Y,Dm as Z,f8 as _,no as a,mh as a$,o8 as a0,Lm as a1,yi as a2,Wi as a3,bn as a4,xi as a5,ke as a6,Q6 as a7,vn as a8,In as a9,nb as aA,zd as aB,_d as aC,ao as aD,Vi as aE,lf as aF,ab as aG,ma as aH,fb as aI,_n as aJ,hn as aK,Em as aL,Nd as aM,Up as aN,gb as aO,J6 as aP,Xe as aQ,Ef as aR,Hd as aS,c6 as aT,i6 as aU,Nm as aV,u8 as aW,cy as aX,c8 as aY,uy as aZ,wt as a_,yt as aa,i8 as ab,Y2 as ac,Zf as ad,Tn as ae,Ee as af,er as ag,Ne as ah,ka as ai,pe as aj,Cm as ak,V0 as al,X0 as am,w1 as an,K6 as ao,mo as ap,Sc as aq,tt as ar,be as as,Cd as at,Yd as au,hf as av,zi as aw,At as ax,yr as ay,hd as az,Ke as b,bh as b0,yh as b1,j as b2,Sn as c,Qe as d,Ie as e,za as f,Ye as g,Ad as h,Hf as i,Dn as j,Gi as k,F6 as l,n8 as m,cd as n,t8 as o,Gf as p,$0 as q,x0 as r,e8 as s,L0 as t,Uf as u,bi as v,r8 as w,s8 as x,gy as y,Bh as z};
