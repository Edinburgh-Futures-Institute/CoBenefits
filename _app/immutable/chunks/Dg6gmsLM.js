import{l as w,o as v,q as M,r as R,u as S,v as T,f as g,w as h,M as X,x as Y,y as k,d as C,e as D,g as p,z as q,i as b,A as m,B as z,C as O,D as j}from"./B-csFKs7.js";const E={ariaLabel:"bar"};class B extends X{constructor(t,a,e={},s=E){super(t,a,e,s),Y(this,e),k(this,e)}render(t,a,e,s,r){const{rx:n,ry:l,rx1y1:i,rx1y2:y,rx2y1:I,rx2y2:A}=this,u=this._x(a,e,s),x=this._y(a,e,s),d=this._width(a,e,s),f=this._height(a,e,s);return C("svg:g",r).call(D,this,s,r).call(this._transform,this,a).call(L=>L.selectAll().data(t).enter().call(i||y||I||A?o=>o.append("path").call(p,this).call(q,u,x,_(u,d),_(x,f),this).call(b,this,e):o=>o.append("rect").call(p,this).attr("x",u).attr("width",d).attr("y",x).attr("height",f).call(m,"rx",n).call(m,"ry",l).call(b,this,e))).node()}_x(t,{x:a},{marginLeft:e}){const{insetLeft:s}=this;return a?r=>a[r]+s:e+s}_y(t,{y:a},{marginTop:e}){const{insetTop:s}=this;return a?r=>a[r]+s:e+s}_width({x:t},{x:a},{marginRight:e,marginLeft:s,width:r}){const{insetLeft:n,insetRight:l}=this,i=a&&t?t.bandwidth():r-e-s;return Math.max(0,i-n-l)}_height({y:t},{y:a},{marginTop:e,marginBottom:s,height:r}){const{insetTop:n,insetBottom:l}=this,i=a&&t?t.bandwidth():r-e-s;return Math.max(0,i-n-l)}}function _(c,t){return typeof c=="function"&&typeof t=="function"?a=>c(a)+t(a):typeof c=="function"?a=>c(a)+t:typeof t=="function"?a=>c+t(a):c+t}class F extends B{constructor(t,a={},e){const{x1:s,x2:r,y:n}=a;super(t,{x1:{value:s,scale:"x"},x2:{value:r,scale:"x"},y:{value:n,scale:"y",type:"band",optional:!0}},a,e)}_transform(t,a,{x:e}){t.call(g,a,{x:e},0,0)}_x({x:t},{x1:a,x2:e},{marginLeft:s}){const{insetLeft:r}=this;return h(t)?s+r:n=>Math.min(a[n],e[n])+r}_width({x:t},{x1:a,x2:e},{marginRight:s,marginLeft:r,width:n}){const{insetLeft:l,insetRight:i}=this;return h(t)?n-s-r-l-i:y=>Math.max(0,Math.abs(e[y]-a[y])-l-i)}}class G extends B{constructor(t,a={},e){const{x:s,y1:r,y2:n}=a;super(t,{y1:{value:r,scale:"y"},y2:{value:n,scale:"y"},x:{value:s,scale:"x",type:"band",optional:!0}},a,e)}_transform(t,a,{y:e}){t.call(g,a,{y:e},0,0)}_y({y:t},{y1:a,y2:e},{marginTop:s}){const{insetTop:r}=this;return h(t)?s+r:n=>Math.min(a[n],e[n])+r}_height({y:t},{y1:a,y2:e},{marginTop:s,marginBottom:r,height:n}){const{insetTop:l,insetBottom:i}=this;return h(t)?n-s-r-l-i:y=>Math.max(0,Math.abs(e[y]-a[y])-l-i)}}function J(c,t={}){return w(t)||(t={...t,y:M,x2:v}),new F(c,R(S(T(t))))}function K(c,t={}){return w(t)||(t={...t,x:M,y2:v}),new G(c,z(O(j(t))))}export{B as A,K as a,J as b};
