import{h as w,i as M,a as g,m as S,b as T,c as X,d as Y,e as k,f as A,g as v,j as h,M as C,r as D,k as j,l as q,n as O,o as f,p as z,q as b,s as m}from"./lkIfnYzw.js";const E={ariaLabel:"bar"};class I extends C{constructor(t,a,e={},s=E){super(t,a,e,s),D(this,e),j(this,e)}render(t,a,e,s,r){const{rx:n,ry:l,rx1y1:i,rx1y2:y,rx2y1:B,rx2y2:L}=this,u=this._x(a,e,s),x=this._y(a,e,s),d=this._width(a,e,s),p=this._height(a,e,s);return q("svg:g",r).call(O,this,s,r).call(this._transform,this,a).call(R=>R.selectAll().data(t).enter().call(i||y||B||L?o=>o.append("path").call(f,this).call(z,u,x,_(u,d),_(x,p),this).call(b,this,e):o=>o.append("rect").call(f,this).attr("x",u).attr("width",d).attr("y",x).attr("height",p).call(m,"rx",n).call(m,"ry",l).call(b,this,e))).node()}_x(t,{x:a},{marginLeft:e}){const{insetLeft:s}=this;return a?r=>a[r]+s:e+s}_y(t,{y:a},{marginTop:e}){const{insetTop:s}=this;return a?r=>a[r]+s:e+s}_width({x:t},{x:a},{marginRight:e,marginLeft:s,width:r}){const{insetLeft:n,insetRight:l}=this,i=a&&t?t.bandwidth():r-e-s;return Math.max(0,i-n-l)}_height({y:t},{y:a},{marginTop:e,marginBottom:s,height:r}){const{insetTop:n,insetBottom:l}=this,i=a&&t?t.bandwidth():r-e-s;return Math.max(0,i-n-l)}}function _(c,t){return typeof c=="function"&&typeof t=="function"?a=>c(a)+t(a):typeof c=="function"?a=>c(a)+t:typeof t=="function"?a=>c+t(a):c+t}class F extends I{constructor(t,a={},e){const{x1:s,x2:r,y:n}=a;super(t,{x1:{value:s,scale:"x"},x2:{value:r,scale:"x"},y:{value:n,scale:"y",type:"band",optional:!0}},a,e)}_transform(t,a,{x:e}){t.call(v,a,{x:e},0,0)}_x({x:t},{x1:a,x2:e},{marginLeft:s}){const{insetLeft:r}=this;return h(t)?s+r:n=>Math.min(a[n],e[n])+r}_width({x:t},{x1:a,x2:e},{marginRight:s,marginLeft:r,width:n}){const{insetLeft:l,insetRight:i}=this;return h(t)?n-s-r-l-i:y=>Math.max(0,Math.abs(e[y]-a[y])-l-i)}}class G extends I{constructor(t,a={},e){const{x:s,y1:r,y2:n}=a;super(t,{y1:{value:r,scale:"y"},y2:{value:n,scale:"y"},x:{value:s,scale:"x",type:"band",optional:!0}},a,e)}_transform(t,a,{y:e}){t.call(v,a,{y:e},0,0)}_y({y:t},{y1:a,y2:e},{marginTop:s}){const{insetTop:r}=this;return h(t)?s+r:n=>Math.min(a[n],e[n])+r}_height({y:t},{y1:a,y2:e},{marginTop:s,marginBottom:r,height:n}){const{insetTop:l,insetBottom:i}=this;return h(t)?n-s-r-l-i:y=>Math.max(0,Math.abs(e[y]-a[y])-l-i)}}function J(c,t={}){return w(t)||(t={...t,y:g,x2:M}),new F(c,S(T(X(t))))}function K(c,t={}){return w(t)||(t={...t,x:g,y2:M}),new G(c,Y(k(A(t))))}export{K as a,J as b};
