import{s as Gn,r as Xn,o as Jn,e as _t}from"../chunks/lM1_q0kn.js";import{S as Qn,i as $n,d as T,m as tr,r as er,k as nr,l as rr,n as ar,a as Wt,b as f,y as ie,u as g,o as or,g as L,c as y,e as P,p as O,f as ct,q as sr,j as D,h as b,t as ut}from"../chunks/DTv_bg8f.js";import{N as ir,e as bn}from"../chunks/Cu8BW6Yp.js";import{n as lr}from"../chunks/DRyxMU8n.js";import{an as cr,ai as ye,ao as On,A as Ke,d as _e,T as Fn,i as Rn,a as Un,M as Xe,U as Je,a2 as ur,l as Qe,n as $e,ap as fr,o as be,aq as Ze,ar as hr,a4 as Ce,as as dr,q as pr,at as vr,O as mr,au as gr,av as jn,aw as yr,ax as br,ad as qn,ay as Cr,C as Wn,Z as _r,z as wr,az as Mr,a6 as ce,aA as Yn,a7 as xr,aB as Er,t as st,x as mt,a9 as gt,E as Cn,D as kr,aC as Ar,a5 as _n}from"../chunks/B2I3FSX7.js";import{M as Lr,g as Dr}from"../chunks/BTD-SRCu.js";import{S as Ge,b as wn,M as it,N as zr,A as Tr,T as je,V as Br,f as le,a as Ir,e as Mn,h as Nr}from"../chunks/B75u2SNK.js";import{g as wt,q as Vr,r as Sr,s as xn,c as Pr,t as En,u as Hr,v as Or}from"../chunks/Dlvw5TNA.js";import{A as Fr,a as Ut,b as kn}from"../chunks/BTXI4x7B.js";import{t as Rr,e as Kn,m as Ur,d as An,s as jr,f as qr,a as qe,b as Ln}from"../chunks/CojESsDr.js";import{a as Wr,b as We,d as Yr}from"../chunks/DJUkKEvy.js";const Kr=Zr(Gr);function Zr(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:o,height:l}=e;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((l=Math.floor(l!==void 0?l:a.length/o))>=0))throw new RangeError("invalid height");if(!o||!l||!n&&!r)return e;const h=n&&t(n),u=r&&t(r),s=a.slice();return h&&u?(te(h,s,a,o,l),te(h,a,s,o,l),te(h,s,a,o,l),ee(u,a,s,o,l),ee(u,s,a,o,l),ee(u,a,s,o,l)):h?(te(h,a,s,o,l),te(h,s,a,o,l),te(h,a,s,o,l)):u&&(ee(u,a,s,o,l),ee(u,s,a,o,l),ee(u,a,s,o,l)),e}}function te(t,e,n,r,a){for(let o=0,l=r*a;o<l;)t(e,n,o,o+=r,1)}function ee(t,e,n,r,a){for(let o=0,l=r*a;o<r;++o)t(e,n,o,o+l,r)}function Gr(t){const e=Math.floor(t);if(e===t)return Xr(t);const n=t-e,r=2*t+1;return(a,o,l,h,u)=>{if(!((h-=u)>=l))return;let s=e*o[l];const i=u*e,v=i+u;for(let c=l,m=l+i;c<m;c+=u)s+=o[Math.min(h,c)];for(let c=l,m=h;c<=m;c+=u)s+=o[Math.min(h,c+i)],a[c]=(s+n*(o[Math.max(l,c-v)]+o[Math.min(h,c+v)]))/r,s-=o[Math.max(l,c-i)]}}function Xr(t){const e=2*t+1;return(n,r,a,o,l)=>{if(!((o-=l)>=a))return;let h=t*r[a];const u=l*t;for(let s=a,i=a+u;s<i;s+=l)h+=r[Math.min(o,s)];for(let s=a,i=o;s<=i;s+=l)h+=r[Math.min(o,s+u)],n[s]=h/e,h-=r[Math.max(a,s-u)]}}function Jr(t,e,n){let r;for(;;){const a=cr(t,e,n);if(a===r||a===0||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}var Qr=Array.prototype,Zn=Qr.slice;function $r(t,e){return t-e}function ta(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const Tt=t=>()=>t;function ea(t,e){for(var n=-1,r=e.length,a;++n<r;)if(a=na(t,e[n]))return a;return 0}function na(t,e){for(var n=e[0],r=e[1],a=-1,o=0,l=t.length,h=l-1;o<l;h=o++){var u=t[o],s=u[0],i=u[1],v=t[h],c=v[0],m=v[1];if(ra(u,v,e))return 0;i>r!=m>r&&n<(c-s)*(r-i)/(m-i)+s&&(a=-a)}return a}function ra(t,e,n){var r;return aa(t,e,n)&&oa(t[r=+(t[0]===e[0])],n[r],e[r])}function aa(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function oa(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function sa(){}var Mt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Dn(){var t=1,e=1,n=Rr,r=u;function a(s){var i=n(s);if(Array.isArray(i))i=i.slice().sort($r);else{const v=ye(s,ia);for(i=On(...Jr(v[0],v[1],i),i);i[i.length-1]>=v[1];)i.pop();for(;i[1]<v[0];)i.shift()}return i.map(v=>o(s,v))}function o(s,i){const v=i==null?NaN:+i;if(isNaN(v))throw new Error(`invalid value: ${i}`);var c=[],m=[];return l(s,v,function(_){r(_,s,v),ta(_)>0?c.push([_]):m.push(_)}),m.forEach(function(_){for(var C=0,N=c.length,E;C<N;++C)if(ea((E=c[C])[0],_)!==-1){E.push(_);return}}),{type:"MultiPolygon",value:i,coordinates:c}}function l(s,i,v){var c=new Array,m=new Array,_,C,N,E,p,M;for(_=C=-1,E=jt(s[0],i),Mt[E<<1].forEach(x);++_<t-1;)N=E,E=jt(s[_+1],i),Mt[N|E<<1].forEach(x);for(Mt[E<<0].forEach(x);++C<e-1;){for(_=-1,E=jt(s[C*t+t],i),p=jt(s[C*t],i),Mt[E<<1|p<<2].forEach(x);++_<t-1;)N=E,E=jt(s[C*t+t+_+1],i),M=p,p=jt(s[C*t+_+1],i),Mt[N|E<<1|p<<2|M<<3].forEach(x);Mt[E|p<<3].forEach(x)}for(_=-1,p=s[C*t]>=i,Mt[p<<2].forEach(x);++_<t-1;)M=p,p=jt(s[C*t+_+1],i),Mt[p<<2|M<<3].forEach(x);Mt[p<<3].forEach(x);function x(V){var k=[V[0][0]+_,V[0][1]+C],A=[V[1][0]+_,V[1][1]+C],F=h(k),B=h(A),w,S;(w=m[F])?(S=c[B])?(delete m[w.end],delete c[S.start],w===S?(w.ring.push(A),v(w.ring)):c[w.start]=m[S.end]={start:w.start,end:S.end,ring:w.ring.concat(S.ring)}):(delete m[w.end],w.ring.push(A),m[w.end=B]=w):(w=c[B])?(S=m[F])?(delete c[w.start],delete m[S.end],w===S?(w.ring.push(A),v(w.ring)):c[S.start]=m[w.end]={start:S.start,end:w.end,ring:S.ring.concat(w.ring)}):(delete c[w.start],w.ring.unshift(k),c[w.start=F]=w):c[F]=m[B]={start:F,end:B,ring:[k,A]}}}function h(s){return s[0]*2+s[1]*(t+1)*4}function u(s,i,v){s.forEach(function(c){var m=c[0],_=c[1],C=m|0,N=_|0,E=Ye(i[N*t+C]);m>0&&m<t&&C===m&&(c[0]=zn(m,Ye(i[N*t+C-1]),E,v)),_>0&&_<e&&N===_&&(c[1]=zn(_,Ye(i[(N-1)*t+C]),E,v))})}return a.contour=o,a.size=function(s){if(!arguments.length)return[t,e];var i=Math.floor(s[0]),v=Math.floor(s[1]);if(!(i>=0&&v>=0))throw new Error("invalid size");return t=i,e=v,a},a.thresholds=function(s){return arguments.length?(n=typeof s=="function"?s:Array.isArray(s)?Tt(Zn.call(s)):Tt(s),a):n},a.smooth=function(s){return arguments.length?(r=s?u:sa,a):r===u},a}function ia(t){return isFinite(t)?t:NaN}function jt(t,e){return t==null?!1:+t>=e}function Ye(t){return t==null||isNaN(t=+t)?-1/0:t}function zn(t,e,n,r){const a=r-e,o=n-e,l=isFinite(a)||isFinite(o)?a/o:Math.sign(a)/Math.sign(o);return isNaN(l)?t:t+l-.5}function la(t){return t[0]}function ca(t){return t[1]}function ua(){return 1}function fa(){var t=la,e=ca,n=ua,r=960,a=500,o=20,l=2,h=o*3,u=r+h*2>>l,s=a+h*2>>l,i=Tt(20);function v(p){var M=new Float32Array(u*s),x=Math.pow(2,-l),V=-1;for(const z of p){var k=(t(z,++V,p)+h)*x,A=(e(z,V,p)+h)*x,F=+n(z,V,p);if(F&&k>=0&&k<u&&A>=0&&A<s){var B=Math.floor(k),w=Math.floor(A),S=k-B-.5,Y=A-w-.5;M[B+w*u]+=(1-S)*(1-Y)*F,M[B+1+w*u]+=S*(1-Y)*F,M[B+1+(w+1)*u]+=S*Y*F,M[B+(w+1)*u]+=(1-S)*Y*F}}return Kr({data:M,width:u,height:s},o*x),M}function c(p){var M=v(p),x=i(M),V=Math.pow(2,2*l);return Array.isArray(x)||(x=On(Number.MIN_VALUE,Ke(M)/V,x)),Dn().size([u,s]).thresholds(x.map(k=>k*V))(M).map((k,A)=>(k.value=+x[A],m(k)))}c.contours=function(p){var M=v(p),x=Dn().size([u,s]),V=Math.pow(2,2*l),k=A=>{A=+A;var F=m(x.contour(M,A*V));return F.value=A,F};return Object.defineProperty(k,"max",{get:()=>Ke(M)/V}),k};function m(p){return p.coordinates.forEach(_),p}function _(p){p.forEach(C)}function C(p){p.forEach(N)}function N(p){p[0]=p[0]*Math.pow(2,l)-h,p[1]=p[1]*Math.pow(2,l)-h}function E(){return h=o*3,u=r+h*2>>l,s=a+h*2>>l,c}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:Tt(+p),c):t},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:Tt(+p),c):e},c.weight=function(p){return arguments.length?(n=typeof p=="function"?p:Tt(+p),c):n},c.size=function(p){if(!arguments.length)return[r,a];var M=+p[0],x=+p[1];if(!(M>=0&&x>=0))throw new Error("invalid size");return r=M,a=x,E()},c.cellSize=function(p){if(!arguments.length)return 1<<l;if(!((p=+p)>=1))throw new Error("invalid cell size");return l=Math.floor(Math.log(p)/Math.LN2),E()},c.thresholds=function(p){return arguments.length?(i=typeof p=="function"?p:Array.isArray(p)?Tt(Zn.call(p)):Tt(p),c):i},c.bandwidth=function(p){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((p=+p)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*p*p+1)-1)/2,E()},c}const ha={ariaLabel:"cell"};class da extends Fr{constructor(e,{x:n,y:r,...a}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},a,ha)}_transform(e,n){e.call(_e,n,{},0,0)}}function Tn(t,{x:e,y:n,...r}={}){return[e,n]=Fn(e,n),new da(t,{...r,x:e,y:n})}const pa={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class va extends Xe{constructor(e,n={}){const{x:r,y:a,z:o,curve:l,tension:h}=n;super(e,{x:{value:r,scale:"x"},y:{value:a,scale:"y"},z:{value:Je(n),optional:!0}},n,pa),this.z=o,this.curve=Ur(l,h),ur(this,n)}filter(e){return e}project(e,n,r){this.curve!==An&&super.project(e,n,r)}render(e,n,r,a,o){const{x:l,y:h}=r,{curve:u}=this;return Qe("svg:g",o).call($e,this,a,o).call(_e,this,n).call(s=>s.selectAll().data(fr(e,[l,h],this,r)).enter().append("path").call(be,this).call(Ze,this,r).call(hr,this,r,o).attr("d",u===An&&o.projection?ma(o.path(),l,h):jr().curve(u).defined(i=>i>=0).x(i=>l[i]).y(i=>h[i]))).node()}}function ma(t,e,n){return e=Ce(e),n=Ce(n),r=>{let a=[];const o=[a];for(const l of r)l===-1?(a=[],o.push(a)):a.push([e[l],n[l]]);return t({type:"MultiLineString",coordinates:o})}}function ga(t,{x:e=Un,y:n=Rn,...r}={}){return new va(t,Kn({...r,x:e,y:n}))}const ya={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class ba extends Xe{constructor(e,{x:n,y:r,z:a,weight:o,fill:l,stroke:h,...u}={}){const s=Bn(l)&&(l="currentColor",!0),i=Bn(h)&&(h="currentColor",!0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},z:{value:Je({z:a,fill:l,stroke:h}),optional:!0},weight:{value:o,optional:!0}},wa({...u,fill:l,stroke:h},s,i),ya),s&&(this.fill=void 0),i&&(this.stroke=void 0),this.z=a}filter(e){return e}render(e,n,r,a,o){const{contours:l}=r,h=dr();return Qe("svg:g",o).call($e,this,a,o).call(_e,this,{}).call(u=>u.selectAll().data(e).enter().append("path").call(be,this).call(pr,this,r).attr("d",s=>h(l[s]))).node()}}function Ca(t,{x:e,y:n,...r}={}){return[e,n]=Fn(e,n),new ba(t,{...r,x:e,y:n})}const _a=new Set(["x","y","z","weight"]);function wa(t,e,n){let{bandwidth:a,thresholds:o}=t;return a=a===void 0?20:+a,o=o===void 0?20:typeof o?.[Symbol.iterator]=="function"?Ce(o):+o,vr(t,function(l,h,u,s,i,v){const c=u.weight?Ce(u.weight.value):null,m=u.z?.value,{z:_}=this,[C,N]=mr(this,i),{width:E,height:p}=i,{x:M,y:x}=gr(u,s,v),V=Object.fromEntries(Object.entries(u).filter(([z])=>!_a.has(z)).map(([z,q])=>[z,{...q,value:[]}])),k=e&&[],A=n&&[],F=fa().x(M?z=>M[z]:C).y(x?z=>x[z]:N).weight(c?z=>c[z]:1).size([E,p]).bandwidth(a),B=[];for(const z of h){const q=[];B.push(q);for(const j of m?jn(z,m,_):[z]){const J=F.contours(j);q.push([j,J])}}let w=o;if(!(w instanceof yr)){let z=0;for(const q of B)for(const[,j]of q){const J=j.max;J>z&&(z=J)}w=Float64Array.from({length:o-1},(q,j)=>z*100*(j+1)/o)}const S=[],Y=[];for(const z of B){const q=[];S.push(q);for(const[j,J]of z)for(const rt of w){q.push(Y.length),Y.push(J(rt/100)),k&&k.push(rt),A&&A.push(rt);for(const U in V)V[U].value.push(u[U].value[j[0]])}}return k&&k.push(0),A&&A.push(0),{data:l,facets:S,channels:{...V,...k&&{fill:{value:k,scale:"color"}},...A&&{stroke:{value:A,scale:"color"}},contours:{value:Y}}}})}function Bn(t){return/^density$/i.test(t)}function Ma(t,e,n){var r=1e-8,a=e-1,o=n-1,l=0,h,u,s,i,v,c,m,_;if(t<=0)return 0;if(t>=1)return 1;for(h=Math.log(e/(e+n)),u=Math.log(n/(e+n)),s=Math.exp(e*h)/e,i=Math.exp(n*u)/n,m=s+i,t<s/m?c=Math.pow(e*m*t,1/e):c=1-Math.pow(n*m*(1-t),1/n),_=-ne(e)-ne(n)+ne(e+n);l<10;l++){if(c===0||c===1)return c;if(v=xa(c,e,n)-t,s=Math.exp(a*Math.log(c)+o*Math.log(1-c)+_),i=v/s,c-=s=i/(1-.5*Math.min(1,i*(a/c-o/(1-c)))),c<=0&&(c=.5*(c+s)),c>=1&&(c=.5*(c+s+1)),Math.abs(s)<r*c&&l>0)break}return c}function xa(t,e,n){var r=t===0||t===1?0:Math.exp(ne(e+n)-ne(e)-ne(n)+e*Math.log(t)+n*Math.log(1-t));return t<0||t>1?!1:t<(e+1)/(e+n+2)?r*In(t,e,n)/e:1-r*In(1-t,n,e)/n}function In(t,e,n){var r=1e-30,a=1,o=e+n,l=e+1,h=e-1,u=1,s=1-o*t/l,i,v,c,m;for(Math.abs(s)<r&&(s=r),s=1/s,m=s;a<=100&&(i=2*a,v=a*(n-a)*t/((h+i)*(e+i)),s=1+v*s,Math.abs(s)<r&&(s=r),u=1+v/u,Math.abs(u)<r&&(u=r),s=1/s,m*=s*u,v=-(e+a)*(o+a)*t/((e+i)*(l+i)),s=1+v*s,Math.abs(s)<r&&(s=r),u=1+v/u,Math.abs(u)<r&&(u=r),s=1/s,c=s*u,m*=c,!(Math.abs(c-1)<3e-7));a++);return m}function ne(t){var e=0,n=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,a,o,l;for(l=(o=a=t)+5.5,l-=(a+.5)*Math.log(l);e<6;e++)r+=n[e]/++o;return Math.log(2.506628274631*r/a)-l}function Ea(t,e){var n=Ma(2*Math.min(t,1-t),.5*e,.5);return n=Math.sqrt(e*(1-n)/n),t>.5?n:-n}const ka={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Aa extends Xe{constructor(e,n={}){const{x:r,y:a,z:o,ci:l=.95,precision:h=4}=n;if(super(e,{x:{value:r,scale:"x"},y:{value:a,scale:"y"},z:{value:Je(n),optional:!0}},n,ka),this.z=o,this.ci=+l,this.precision=+h,!(0<=this.ci&&this.ci<1))throw new Error(`invalid ci; not in [0, 1): ${l}`);if(!(this.precision>0))throw new Error(`invalid precision: ${h}`)}render(e,n,r,a,o){const{x:l,y:h,z:u}=r,{ci:s}=this;return Qe("svg:g",o).call($e,this,a,o).call(_e,this,n).call(i=>i.selectAll().data(u?jn(e,u,this.z):[e]).enter().call(v=>v.append("path").attr("fill","none").call(be,this).call(Ze,this,{...r,fill:null,fillOpacity:null}).attr("d",c=>this._renderLine(c,l,h)).call(s&&!Cr(this.fill)?c=>c.select(La).attr("stroke","none").call(be,this).call(Ze,this,{...r,stroke:null,strokeOpacity:null,strokeWidth:null}).attr("d",m=>this._renderBand(m,l,h)):()=>{}))).node()}}function La(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(lr.svg,"path"),this)}class Da extends Aa{constructor(e,n){super(e,n)}_renderBand(e,n,r){const{ci:a,precision:o}=this,[l,h]=ye(e,i=>n[i]),u=Nn(e,n,r),s=Ta(e,n,r,(1-a)/2,u);return qr().x(i=>i).y0(i=>s(i,-1)).y1(i=>s(i,1))(qn(l,h-o/2,o).concat(h))}_renderLine(e,n,r){const[a,o]=ye(e,h=>n[h]),l=Nn(e,n,r);return`M${a},${l(a)}L${o},${l(o)}`}}function za(t,{x:e=Un,y:n=Rn,stroke:r,fill:a=br(r)?"currentColor":r,...o}={}){return new Da(t,Kn({...o,x:e,y:n,fill:a,stroke:r}))}function Nn(t,e,n){let r=0,a=0,o=0,l=0;for(const i of t){const v=e[i],c=n[i];r+=v,a+=c,o+=v*c,l+=v*v}const h=t.length,u=(h*o-r*a)/(h*l-r*r),s=(a-u*r)/h;return i=>u*i+s}function Ta(t,e,n,r,a){const o=Wn(t,i=>e[i])/t.length;let l=0,h=0;for(const i of t)l+=(e[i]-o)**2,h+=(n[i]-a(e[i]))**2;const u=Math.sqrt(h/(t.length-2)),s=Ea(r,t.length-2);return(i,v)=>{const c=a(i),m=u*Math.sqrt(1/t.length+(i-o)**2/l);return c+v*s*m}}function Vn(t,e){return arguments.length===1&&({basis:t,...e}=t),Wr(Ba(t),e)}function Ba(t){if(t===void 0)return Sn;if(typeof t=="function")return we(_r(t));if(/^p\d{2}$/i.test(t))return re(Er(t));switch(`${t}`.toLowerCase()){case"deviation":return Va;case"first":return Sn;case"last":return Na;case"max":return Sa;case"mean":return Pa;case"median":return Ha;case"min":return Oa;case"sum":return Fa;case"extent":return Ia}throw new Error(`invalid basis: ${t}`)}function we(t){return{mapIndex(e,n,r){const a=+t(e,n);for(const o of e)r[o]=n[o]===null?NaN:n[o]/a}}}function re(t){return we((e,n)=>t(e,r=>n[r]))}const Ia={mapIndex(t,e,n){const[r,a]=ye(t,l=>e[l]),o=a-r;for(const l of t)n[l]=e[l]===null?NaN:(e[l]-r)/o}},Sn=we((t,e)=>{for(let n=0;n<t.length;++n){const r=e[t[n]];if(Yn(r))return r}}),Na=we((t,e)=>{for(let n=t.length-1;n>=0;--n){const r=e[t[n]];if(Yn(r))return r}}),Va={mapIndex(t,e,n){const r=ce(t,o=>e[o]),a=xr(t,o=>e[o]);for(const o of t)n[o]=e[o]===null?NaN:a?(e[o]-r)/a:0}},Sa=re(Ke),Pa=re(ce),Ha=re(Mr),Oa=re(wr),Fa=re(Wn);function Pn(t,e,n){const r=t.slice();return r[46]=e[n],r[47]=e,r[48]=n,r}function Ra(t){let e,n,r="Data Zones Distribution (vs. UK average)",a,o,l=`Histogram shows the number of data zones distributed across
                                    different household social economic factors.`,h,u,s="",i=t[46],v,c,m,_,C,N,E,p,M,x=`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in the local authority.`,V,k,A="",F,B,w,S="";const Y=()=>t[23](u,i),z=()=>t[23](null,i),q=()=>t[24](k,i),j=()=>t[24](null,i),J=()=>t[25](w,i),rt=()=>t[25](null,i);return{c(){e=b("div"),n=b("h3"),n.textContent=r,a=D(),o=b("p"),o.textContent=l,h=D(),u=b("div"),u.innerHTML=s,v=D(),c=b("div"),m=b("div"),_=b("h3"),C=ut("Co-benefits Recieved by Data Zones across "),N=ut(t[46]),E=ut(`
                                        Values`),p=D(),M=b("p"),M.textContent=x,V=D(),k=b("div"),k.innerHTML=A,F=D(),B=b("div"),w=b("div"),w.innerHTML=S,this.h()},l(U){e=y(U,"DIV",{class:!0});var K=P(e);n=y(K,"H3",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1d86f13"&&(n.textContent=r),a=L(K),o=y(K,"P",{class:!0,"data-svelte-h":!0}),O(o)!=="svelte-xcsopb"&&(o.textContent=l),h=L(K),u=y(K,"DIV",{class:!0,"data-svelte-h":!0}),O(u)!=="svelte-1gvlz6w"&&(u.innerHTML=s),K.forEach(T),v=L(U),c=y(U,"DIV",{class:!0});var Q=P(c);m=y(Q,"DIV",{});var ot=P(m);_=y(ot,"H3",{class:!0});var ft=P(_);C=ct(ft,"Co-benefits Recieved by Data Zones across "),N=ct(ft,t[46]),E=ct(ft,`
                                        Values`),ft.forEach(T),p=L(ot),M=y(ot,"P",{class:!0,"data-svelte-h":!0}),O(M)!=="svelte-18bgpzu"&&(M.textContent=x),V=L(ot),k=y(ot,"DIV",{class:!0,"data-svelte-h":!0}),O(k)!=="svelte-aesnqn"&&(k.innerHTML=A),ot.forEach(T),F=L(Q),B=y(Q,"DIV",{});var tt=P(B);w=y(tt,"DIV",{class:!0,"data-svelte-h":!0}),O(w)!=="svelte-xsgztl"&&(w.innerHTML=S),tt.forEach(T),Q.forEach(T),this.h()},h(){g(n,"class","component-title"),g(o,"class","description short"),g(u,"class","plot"),g(e,"class","component"),g(_,"class","component-title"),g(M,"class","description short"),g(k,"class","plot"),g(w,"class","plot"),g(c,"class","component")},m(U,K){Wt(U,e,K),f(e,n),f(e,a),f(e,o),f(e,h),f(e,u),Y(),Wt(U,v,K),Wt(U,c,K),f(c,m),f(m,_),f(_,C),f(_,N),f(_,E),f(m,p),f(m,M),f(m,V),f(m,k),q(),f(c,F),f(c,B),f(B,w),J()},p(U,K){t=U,i!==t[46]&&(z(),i=t[46],Y()),i!==t[46]&&(j(),i=t[46],q()),i!==t[46]&&(rt(),i=t[46],J())},d(U){U&&(T(e),T(v),T(c)),z(),j(),rt()}}}function Ua(t){let e,n,r="",a=t[46];const o=()=>t[22](n,a),l=()=>t[22](null,a);return{c(){e=b("div"),n=b("div"),n.innerHTML=r,this.h()},l(h){e=y(h,"DIV",{class:!0});var u=P(e);n=y(u,"DIV",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1shkadq"&&(n.innerHTML=r),u.forEach(T),this.h()},h(){g(n,"class","plot"),g(e,"class","component")},m(h,u){Wt(h,e,u),f(e,n),o()},p(h,u){t=h,a!==t[46]&&(l(),a=t[46],o())},d(h){h&&T(e),l()}}}function Hn(t){let e,n,r,a,o,l;function h(i,v){return i[7]?Ua:Ra}let u=h(t),s=u(t);return{c(){e=b("div"),n=b("h2"),r=ut(t[46]),a=D(),o=b("div"),s.c(),l=D(),this.h()},l(i){e=y(i,"DIV",{});var v=P(e);n=y(v,"H2",{});var c=P(n);r=ct(c,t[46]),c.forEach(T),a=L(v),o=y(v,"DIV",{class:!0});var m=P(o);s.l(m),m.forEach(T),l=L(v),v.forEach(T),this.h()},h(){g(o,"class","row")},m(i,v){Wt(i,e,v),f(e,n),f(n,r),f(e,a),f(e,o),s.m(o,null),f(e,l)},p(i,v){u===(u=h(i))&&s?s.p(i,v):(s.d(1),s=u(i),s&&(s.c(),s.m(o,null)))},d(i){i&&T(e),s.d()}}}function ja(t){let e,n,r,a,o,l="Data Report",h,u,s=t[10][t[9]]+"",i,v,c,m=`Explore how this local authority will benefit from achieving Net Zero and general factors
            of their households.`,_,C,N,E,p,M,x="UK",V,k,A,F,B,w="England/Wales",S,Y,z,q,j,J="Scotland",rt,U,K,Q,ot="Northern Ireland",ft,tt,yt,ue=`<p class="section-subtitle">Overview</p> <h2 class="section-title">How much co-benefit values would this area recieve?</h2> <p class="description">We calculate and model 11 types of co-benefits across five different pathyways
                suggested by Climate Change Committee in the Sixth Carbon Budget from 2025-2050 on the level of data
                zones across UK.</p>`,ae,d,I,et,bt="11 Types of Co-Benefits Values (vs. UK Average)",Z,ht,nt,at=t[10][t[9]]+"",Yt,oe,Me,xt,tn="",xe,dt,Bt,en=t[10][t[9]]+"",Ee,ke,Ae,It,nn="Scroll for zooming in and out.",Le,Ct,rn="",De,pt,Nt,an=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total co-benefits, types of co-benefits,
                and five pathways.</p>`,ze,Et,Vt,on="Total Co-benefits Distribution from 2025-2050 (vs. UK Average)",Te,Kt,kt,sn="",Be,At,St,ln=`11 Types of Co-benefits Distribution Following Balance Pathway from
                2025-2050`,Ie,Zt,Gt,Lt,cn="",Ne,Dt,$,Pt,un="Households",Ve,Ht,fn="Social Economic Factors of Households",Se,Ot,hn=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.`,Pe,Ft,He,Rt,dn="Aggregate Plots",Oe,zt,fe,Fe,pn;e=new ir({});let Xt=bn(Ge),G=[];for(let H=0;H<Xt.length;H+=1)G[H]=Hn(Pn(t,Xt,H));return{c(){sr(e.$$.fragment),n=D(),r=b("div"),a=b("div"),o=b("p"),o.textContent=l,h=D(),u=b("h1"),i=ut(s),v=D(),c=b("p"),c.textContent=m,_=D(),C=b("div"),N=ut(`Compare the Local District Area with average of:
            `),E=b("input"),p=D(),M=b("label"),M.textContent=x,V=b("br"),k=D(),A=b("input"),F=D(),B=b("label"),B.textContent=w,S=b("br"),Y=D(),z=b("input"),q=D(),j=b("label"),j.textContent=J,rt=D(),U=b("input"),K=D(),Q=b("label"),Q.textContent=ot,ft=D(),tt=b("div"),yt=b("div"),yt.innerHTML=ue,ae=D(),d=b("div"),I=b("div"),et=b("h3"),et.textContent=bt,Z=D(),ht=b("p"),nt=ut("Co-benefits values in "),Yt=ut(at),oe=ut(` verus average value across all local
                    authorities in UK.`),Me=D(),xt=b("div"),xt.innerHTML=tn,xe=D(),dt=b("div"),Bt=b("h3"),Ee=ut(en),ke=ut(" on UK Map"),Ae=D(),It=b("p"),It.textContent=nn,Le=D(),Ct=b("div"),Ct.innerHTML=rn,De=D(),pt=b("div"),Nt=b("div"),Nt.innerHTML=an,ze=D(),Et=b("div"),Vt=b("h3"),Vt.textContent=on,Te=D(),Kt=b("div"),kt=b("div"),kt.innerHTML=sn,Be=D(),At=b("div"),St=b("h3"),St.textContent=ln,Ie=D(),Zt=b("div"),Gt=b("div"),Lt=b("div"),Lt.innerHTML=cn,Ne=D(),Dt=b("div"),$=b("div"),Pt=b("p"),Pt.textContent=un,Ve=D(),Ht=b("h2"),Ht.textContent=fn,Se=D(),Ot=b("p"),Ot.textContent=hn,Pe=D(),Ft=b("input"),He=D(),Rt=b("label"),Rt.textContent=dn,Oe=D(),zt=b("div");for(let H=0;H<G.length;H+=1)G[H].c();this.h()},l(H){or(e.$$.fragment,H),n=L(H),r=y(H,"DIV",{class:!0});var X=P(r);a=y(X,"DIV",{class:!0});var R=P(a);o=y(R,"P",{class:!0,"data-svelte-h":!0}),O(o)!=="svelte-1gxb8h1"&&(o.textContent=l),h=L(R),u=y(R,"H1",{class:!0});var se=P(u);i=ct(se,s),se.forEach(T),v=L(R),c=y(R,"P",{class:!0,"data-svelte-h":!0}),O(c)!=="svelte-g7xah4"&&(c.textContent=m),_=L(R),C=y(R,"DIV",{class:!0});var W=P(C);N=ct(W,`Compare the Local District Area with average of:
            `),E=y(W,"INPUT",{type:!0,name:!0}),p=L(W),M=y(W,"LABEL",{for:!0,"data-svelte-h":!0}),O(M)!=="svelte-14si4gv"&&(M.textContent=x),V=y(W,"BR",{}),k=L(W),A=y(W,"INPUT",{type:!0,name:!0}),F=L(W),B=y(W,"LABEL",{for:!0,"data-svelte-h":!0}),O(B)!=="svelte-1ye390h"&&(B.textContent=w),S=y(W,"BR",{}),Y=L(W),z=y(W,"INPUT",{type:!0,name:!0}),q=L(W),j=y(W,"LABEL",{for:!0,"data-svelte-h":!0}),O(j)!=="svelte-1ndre6x"&&(j.textContent=J),rt=L(W),U=y(W,"INPUT",{type:!0,name:!0}),K=L(W),Q=y(W,"LABEL",{for:!0,"data-svelte-h":!0}),O(Q)!=="svelte-19ypezs"&&(Q.textContent=ot),W.forEach(T),R.forEach(T),ft=L(X),tt=y(X,"DIV",{class:!0});var he=P(tt);yt=y(he,"DIV",{class:!0,"data-svelte-h":!0}),O(yt)!=="svelte-ppwlk3"&&(yt.innerHTML=ue),ae=L(he),d=y(he,"DIV",{id:!0,class:!0});var de=P(d);I=y(de,"DIV",{class:!0});var Jt=P(I);et=y(Jt,"H3",{class:!0,"data-svelte-h":!0}),O(et)!=="svelte-1o9zf4n"&&(et.textContent=bt),Z=L(Jt),ht=y(Jt,"P",{class:!0});var pe=P(ht);nt=ct(pe,"Co-benefits values in "),Yt=ct(pe,at),oe=ct(pe,` verus average value across all local
                    authorities in UK.`),pe.forEach(T),Me=L(Jt),xt=y(Jt,"DIV",{class:!0,"data-svelte-h":!0}),O(xt)!=="svelte-1gmwtaj"&&(xt.innerHTML=tn),Jt.forEach(T),xe=L(de),dt=y(de,"DIV",{class:!0});var Qt=P(dt);Bt=y(Qt,"H3",{class:!0});var Re=P(Bt);Ee=ct(Re,en),ke=ct(Re," on UK Map"),Re.forEach(T),Ae=L(Qt),It=y(Qt,"P",{class:!0,"data-svelte-h":!0}),O(It)!=="svelte-1ask2se"&&(It.textContent=nn),Le=L(Qt),Ct=y(Qt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),O(Ct)!=="svelte-13ehpmu"&&(Ct.innerHTML=rn),Qt.forEach(T),de.forEach(T),he.forEach(T),De=L(X),pt=y(X,"DIV",{class:!0});var $t=P(pt);Nt=y($t,"DIV",{class:!0,"data-svelte-h":!0}),O(Nt)!=="svelte-a3uzt2"&&(Nt.innerHTML=an),ze=L($t),Et=y($t,"DIV",{class:!0});var ve=P(Et);Vt=y(ve,"H3",{class:!0,"data-svelte-h":!0}),O(Vt)!=="svelte-td9req"&&(Vt.textContent=on),Te=L(ve),Kt=y(ve,"DIV",{class:!0});var vn=P(Kt);kt=y(vn,"DIV",{class:!0,"data-svelte-h":!0}),O(kt)!=="svelte-vuq0y7"&&(kt.innerHTML=sn),vn.forEach(T),ve.forEach(T),Be=L($t),At=y($t,"DIV",{class:!0});var me=P(At);St=y(me,"H3",{class:!0,"data-svelte-h":!0}),O(St)!=="svelte-199w57s"&&(St.textContent=ln),Ie=L(me),Zt=y(me,"DIV",{class:!0});var mn=P(Zt);Gt=y(mn,"DIV",{class:!0});var gn=P(Gt);Lt=y(gn,"DIV",{class:!0,"data-svelte-h":!0}),O(Lt)!=="svelte-18dxhf7"&&(Lt.innerHTML=cn),gn.forEach(T),mn.forEach(T),me.forEach(T),$t.forEach(T),Ne=L(X),Dt=y(X,"DIV",{class:!0});var ge=P(Dt);$=y(ge,"DIV",{class:!0});var vt=P($);Pt=y(vt,"P",{class:!0,"data-svelte-h":!0}),O(Pt)!=="svelte-ceroz1"&&(Pt.textContent=un),Ve=L(vt),Ht=y(vt,"H2",{class:!0,"data-svelte-h":!0}),O(Ht)!=="svelte-so6kne"&&(Ht.textContent=fn),Se=L(vt),Ot=y(vt,"P",{class:!0,"data-svelte-h":!0}),O(Ot)!=="svelte-1u75598"&&(Ot.textContent=hn),Pe=L(vt),Ft=y(vt,"INPUT",{type:!0}),He=L(vt),Rt=y(vt,"LABEL",{for:!0,"data-svelte-h":!0}),O(Rt)!=="svelte-1kwkdzm"&&(Rt.textContent=dn),vt.forEach(T),Oe=L(ge),zt=y(ge,"DIV",{id:!0,class:!0});var yn=P(zt);for(let Ue=0;Ue<G.length;Ue+=1)G[Ue].l(yn);yn.forEach(T),ge.forEach(T),X.forEach(T),this.h()},h(){g(o,"class","page-subtitle"),g(u,"class","page-title"),g(c,"class","description"),g(E,"type","radio"),g(E,"name","compare"),E.value="UK",E.checked=!0,g(M,"for","html"),g(A,"type","radio"),g(A,"name","compare"),A.value="Eng/Wales",g(B,"for","html"),g(z,"type","radio"),g(z,"name","compare"),z.value="Scotland",g(j,"for","javascript"),g(U,"type","radio"),g(U,"name","compare"),U.value="NI",g(Q,"for","javascript"),g(C,"class","radio-set"),g(a,"class","section header"),g(yt,"class","section-header"),g(et,"class","component-title"),g(ht,"class","description"),g(xt,"class","plot"),g(I,"class","component column"),g(Bt,"class","component-title"),g(It,"class","description"),g(Ct,"id","map"),g(Ct,"class","svelte-wd9p4b"),g(dt,"class","component column"),g(d,"id","vis-block"),g(d,"class","svelte-wd9p4b"),g(tt,"class","section"),g(Nt,"class","section-header"),g(Vt,"class","component-title"),g(kt,"class","plot"),g(Kt,"class","row"),g(Et,"class","component singlevis"),g(St,"class","component-title"),g(Lt,"class","plot"),g(Gt,"class","row"),g(Zt,"class","row"),g(At,"class","component singlevis"),g(pt,"class","section"),g(Pt,"class","section-subtitle"),g(Ht,"class","section-title"),g(Ot,"class","description"),g(Ft,"type","checkbox"),g(Rt,"for","checkbox"),g($,"class","section-header"),g(zt,"id","multiple-comp"),g(zt,"class","svelte-wd9p4b"),g(Dt,"class","section"),g(r,"class","page-container")},m(H,X){ar(e,H,X),Wt(H,n,X),Wt(H,r,X),f(r,a),f(a,o),f(a,h),f(a,u),f(u,i),f(a,v),f(a,c),f(a,_),f(a,C),f(C,N),f(C,E),f(C,p),f(C,M),f(C,V),f(C,k),f(C,A),f(C,F),f(C,B),f(C,S),f(C,Y),f(C,z),f(C,q),f(C,j),f(C,rt),f(C,U),f(C,K),f(C,Q),f(r,ft),f(r,tt),f(tt,yt),f(tt,ae),f(tt,d),f(d,I),f(I,et),f(I,Z),f(I,ht),f(ht,nt),f(ht,Yt),f(ht,oe),f(I,Me),f(I,xt),t[17](xt),f(d,xe),f(d,dt),f(dt,Bt),f(Bt,Ee),f(Bt,ke),f(dt,Ae),f(dt,It),f(dt,Le),f(dt,Ct),t[18](Ct),f(r,De),f(r,pt),f(pt,Nt),f(pt,ze),f(pt,Et),f(Et,Vt),f(Et,Te),f(Et,Kt),f(Kt,kt),t[19](kt),f(pt,Be),f(pt,At),f(At,St),f(At,Ie),f(At,Zt),f(Zt,Gt),f(Gt,Lt),t[20](Lt),f(r,Ne),f(r,Dt),f(Dt,$),f($,Pt),f($,Ve),f($,Ht),f($,Se),f($,Ot),f($,Pe),f($,Ft),Ft.checked=t[7],f($,He),f($,Rt),f(Dt,Oe),f(Dt,zt);for(let R=0;R<G.length;R+=1)G[R]&&G[R].m(zt,null);t[26](r),fe=!0,Fe||(pn=[ie(E,"change",t[11]),ie(A,"change",t[11]),ie(z,"change",t[11]),ie(U,"change",t[11]),ie(Ft,"change",t[21])],Fe=!0)},p(H,X){if(X[0]&128&&(Ft.checked=H[7]),X[0]&184){Xt=bn(Ge);let R;for(R=0;R<Xt.length;R+=1){const se=Pn(H,Xt,R);G[R]?G[R].p(se,X):(G[R]=Hn(se),G[R].c(),G[R].m(zt,null))}for(;R<G.length;R+=1)G[R].d(1);G.length=Xt.length}},i(H){fe||(rr(e.$$.fragment,H),fe=!0)},o(H){nr(e.$$.fragment,H),fe=!1},d(H){H&&(T(n),T(r)),tr(e,H),t[17](null),t[18](null),t[19](null),t[20](null),er(G,H),t[26](null),Fe=!1,Xn(pn)}}}let lt=400;function qt(t){const e=t.querySelector("figure");e&&e.remove();const n=t.querySelector("svg");n&&n.remove()}function qa(t,e,n){let r,a,o,l,h={},u={},s={},i={},v="barchart",c=!1,{data:m}=e;const _=m.LAD;let C="UK",N,E,p,M,x,V,k=!1;async function A(){N=await wt(Vr()),await wt(Sr()),n(14,E=await wt(xn([]))),p=await wt(Pr(wn)),n(15,M=await wt(En())),x=await wt(Hr(_)),V=await wt(Or(_)),n(16,k=!0)}A();const F=m.LADToName;let B,w;Jn(()=>{B=new Lr(_,"LAD",w,"val",!0),B.initMap()});function S(){{let d=st({height:lt/1.4,...it,x:{type:"band"},style:{fontSize:"18px"},marks:[Ut(E,mt({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ut(x,mt({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const I=gt(d).selectAll("g[aria-label='bar']"),et=gt(I.nodes()[0]),bt=gt(I.nodes()[1]);console.log(2323232323,et.node()),bt.selectAll("rect").each(function(){console.log(2,this)}),bt.remove()},1e3)}}function Y(){a?.append(st({height:lt,width:811,MARGINS:it,x:{type:"band"},marks:[Ut(M,mt({y:"mean"},{y:"val",x:"co_benefit_type",dx:Tr,fill:zr[C],tip:!0})),Ut(V,mt({y:"sum"},{y:"total",x:"co_benefit_type",tip:!0}))]}))}function z(){Ge.forEach(d=>{let I;c?(Mn.includes(d)?I=st({height:lt/3,width:500*2,...it,style:{fontSize:"18px"},color:{legend:!0,scheme:"greys"},x:{domain:qn(0,6),ticks:new Set(x.map(Z=>Z[d]))},marks:[Tn(x,mt({fill:"count"},{x:d,stroke:"black"})),Tn([Math.floor(ce(N.map(Z=>Z[d])))],{x:Z=>Z,stroke:"red",fill:null,strokeWidth:2})]}):I=st({height:lt/3,width:500*2,...it,style:{fontSize:"18px"},color:{legend:!0},marks:[We(x,{x:d,tip:!0}),We([ce(x.map(Z=>Z[d]))],{stroke:"blue",strokeWidth:2}),We([ce(N.map(Z=>Z[d]))],{stroke:"red",strokeWidth:2})]}),h[d]?.append(I)):(Mn.includes(d)?I=st({height:lt/2,width:500,...it,marginLeft:100,x:{grid:!0,label:d,tickFormat:Z=>Math.floor(Z)},style:{fontSize:"18px"},color:{legend:!0},marks:[Ut(N,Vn(mt({y:"count"},{x:d,dx:20,fill:le}))),Ut(x,Vn(mt({y:"count"},{x:d})))]}):I=st({height:lt/2,...it,style:{fontSize:"18px"},marks:[qe(x,Ln({y:"proportion"},{x:d,tip:!0,fill:le,stroke:le,fillOpacity:.2,strokeWidth:3})),qe(N,Ln({y:"proportion"},{x:d,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),u[d]?.append(void 0),h[d]?.append(I));let bt=st({height:lt/2,...it,style:{fontSize:"18px"},color:{range:["rgb(227, 248, 255)","lightblue"]},marks:[Ca(Dr(N,3e4),{x:d,y:"total",fill:"density",thresholds:10}),Yr(x,{x:d,y:"total",fill:"black",r:2}),za(x,{x:d,y:"total"}),kr(),Ar({anchor:"bottom"})]});s[d]?.append(bt)})}function q(){for(let d of Nr){let I=st({height:lt,width:410,...it,marginRight:0,marginLeft:100,marks:[kn(p,_n({x:"mean"},{x:"val",y:"co_benefit_type",dy:-10,fill:le,tip:!0})),kn(V,_n({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});i[d]?.append(I)}}function j(){let d=x.flatMap(nt=>je.map(at=>({time:at,value:nt[at],scenario:nt.scenario,zone:"local"}))),I=N.flatMap(nt=>je.map(at=>({time:at,value:nt[at],scenario:nt.scenario,zone:"UK"}))),et=d.concat(I),bt=st({height:lt,width:800,...it,paddingLeft:200,marginRight:0,x:{tickSize:0,label:null,ticks:[]},color:{range:[Br,le]},marks:[Ut(et,mt({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!0,fill:"zone"}))]});o?.append(bt),gt(o).select("g[aria-label='bar']").selectAll("g").each(function(nt,at){const Yt=gt(this).selectAll("rect").nodes()[0],oe=gt(Yt).attr("transform")||"";gt(Yt).attr("transform",`${oe} translate(-20, 0)`),gt(this).selectAll("rect").nodes()[0].getAttribute("height"),gt(this).selectAll("rect").nodes()[1].getAttribute("height"),gt(this).selectAll("rect")}),st({height:lt,width:800,...it,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[ga(et,mt({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let Z=V.flatMap(nt=>je.map(at=>({time:at,value:nt[at],cobenefit:nt.co_benefit_type}))),ht=st({height:lt,width:1e3,...it,paddingLeft:200,marginRight:0,insetLeft:10,insetRight:10,insetBottom:30,style:{fontSize:"10px"},y:{tickFormat:".2f",label:"Value (£)"},x:{label:"Year"},color:{legend:!0,range:Ir,domain:wn},marks:[qe(Z,mt({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit"})),Cn([0],{strokeWidth:8,stroke:"white",opacity:1,strokeLinecap:"round"}),Cn([0],{strokeWidth:2,stroke:"#333333",opacity:1,strokeLinecap:"round"})]});l?.append(ht)}async function J(d){C=d.currentTarget.value,n(15,M=await wt(En("total",C))),n(14,E=await wt(xn([],C)))}function rt(d){_t[d?"unshift":"push"](()=>{a=d,n(0,a)})}function U(d){_t[d?"unshift":"push"](()=>{w=d,n(8,w)})}function K(d){_t[d?"unshift":"push"](()=>{o=d,n(1,o)})}function Q(d){_t[d?"unshift":"push"](()=>{l=d,n(2,l)})}function ot(){c=this.checked,n(7,c)}function ft(d,I){_t[d?"unshift":"push"](()=>{h[I]=d,n(3,h)})}function tt(d,I){_t[d?"unshift":"push"](()=>{h[I]=d,n(3,h)})}function yt(d,I){_t[d?"unshift":"push"](()=>{u[I]=d,n(4,u)})}function ue(d,I){_t[d?"unshift":"push"](()=>{s[I]=d,n(5,s)})}function ae(d){_t[d?"unshift":"push"](()=>{r=d,n(6,r)})}return t.$$set=d=>{"data"in d&&n(12,m=d.data)},t.$$.update=()=>{t.$$.dirty[0]&122887&&(a&&qt(a),o&&qt(o),l&&qt(l),k&&M&&E&&(console.log("render"),S(),Y(),j())),t.$$.dirty[0]&65592&&(Object.values(h).forEach(d=>{d&&qt(d)}),Object.values(u).forEach(d=>{d&&qt(d)}),Object.values(s).forEach(d=>{d&&qt(d)}),k&&z()),t.$$.dirty[0]&65536&&(Object.values(i).forEach(d=>{d&&qt(d)}),k&&q())},[a,o,l,h,u,s,r,c,w,_,F,J,m,v,E,M,k,rt,U,K,Q,ot,ft,tt,yt,ue,ae]}class no extends Qn{constructor(e){super(),$n(this,e,qa,ja,Gn,{data:12},null,[-1,-1])}}export{no as component};
