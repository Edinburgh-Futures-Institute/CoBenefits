import{s as hs,a as p,e as s,t as E,g as m,c as n,b as v,p as S,f as r,d as w,q as l,r as Be,v as Yt,i as q,h as t,w as ps,x as ms,y as Ja,z as gs,j as He,H as _s,A as bs,B as he}from"../chunks/scheduler.CM2kgFFE.js";import{S as ys,i as Es,c as ws,b as Cs,m as Ds,t as Ss,a as ks,d as Ls}from"../chunks/index.BdkIKoLm.js";import{N as As,e as Qa}from"../chunks/NavigationBar.RMTwuz63.js";import"../chunks/transform.BNP73y-7.js";import{F as Is,G as Pe,H as dl,I as Za,J as Ts,K as xs,L as Vs,N as $a,O as ts,P as Ns,Q as es,R as Ms}from"../chunks/index.Cf31Cquo.js";import{b as Ps}from"../chunks/paths.DCupILFy.js";import{M as Bs}from"../chunks/mapUK.THE0Yttl.js";import{C as Le,a as ls,D as Hs,b as Lt,S as as,c as ss,g as Os,T as Fs,d as Us,e as ca,f as zs,M as Ws,h as Rs}from"../chunks/globals.BLAqNn5N.js";import{g as Se,c as Ks,d as qs,e as Gs,f as js,h as Ys,i as Xs}from"../chunks/duckdb.Bvhm73l5.js";import{t as da,p as Js}from"../chunks/percentage.Cu08Svdw.js";import{p as fa}from"../chunks/per_capita.COcMrZFY.js";import{d as ua}from"../chunks/dot.Ceg8fW3p.js";import{b as Qs}from"../chunks/bin.DMXN4KNH.js";import{b as Zs}from"../chunks/bar.55DeQ-Cj.js";function ns(i,e,o){const a=i.slice();return a[47]=e[o],a[48]=e,a[49]=o,a}function is(i){let e,o,a=i[4].toLocaleString()+"",h;return{c(){e=s("span"),o=E("£"),h=E(a),this.h()},l(g){e=n(g,"SPAN",{class:!0});var c=v(e);o=w(c,"£"),h=w(c,a),c.forEach(r),this.h()},h(){l(e,"class","waffle-big svelte-7an6yc")},m(g,c){q(g,e,c),t(e,o),t(e,h)},p(g,c){c[0]&16&&a!==(a=g[4].toLocaleString()+"")&&He(h,a)},d(g){g&&r(e)}}}function $s(i){let e,o="National costs";return{c(){e=s("div"),e.textContent=o,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-o12owz"&&(e.textContent=o),this.h()},h(){l(e,"class","waffle-caption svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function tn(i){let e,o="National benefits";return{c(){e=s("div"),e.textContent=o,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-10ytukz"&&(e.textContent=o),this.h()},h(){l(e,"class","waffle-caption svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function os(i){let e,o,a=i[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",h;return{c(){e=s("span"),o=E("£"),h=E(a),this.h()},l(g){e=n(g,"SPAN",{class:!0});var c=v(e);o=w(c,"£"),h=w(c,a),c.forEach(r),this.h()},h(){l(e,"class","waffle-big svelte-7an6yc")},m(g,c){q(g,e,c),t(e,o),t(e,h)},p(g,c){c[0]&64&&a!==(a=g[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&He(h,a)},d(g){g&&r(e)}}}function en(i){let e,o="Per capita costs";return{c(){e=s("div"),e.textContent=o,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-6pmcl0"&&(e.textContent=o),this.h()},h(){l(e,"class","waffle-caption svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function ln(i){let e,o="Per capita benefits";return{c(){e=s("div"),e.textContent=o,this.h()},l(a){e=n(a,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-g1rvwk"&&(e.textContent=o),this.h()},h(){l(e,"class","waffle-caption svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function rs(i){let e,o,a=(i[4]/i[5]*100).toFixed(2)+"",h,g,c,x="%";return{c(){e=s("div"),o=s("span"),h=E(a),g=p(),c=s("span"),c.textContent=x,this.h()},l(A){e=n(A,"DIV",{class:!0});var I=v(e);o=n(I,"SPAN",{class:!0});var b=v(o);h=w(b,a),b.forEach(r),g=m(I),c=n(I,"SPAN",{class:!0,"data-svelte-h":!0}),S(c)!=="svelte-jxggz7"&&(c.textContent=x),I.forEach(r),this.h()},h(){l(o,"class","waffle-big svelte-7an6yc"),l(c,"class","small svelte-7an6yc"),l(e,"class","waffle-value svelte-7an6yc")},m(A,I){q(A,e,I),t(e,o),t(o,h),t(e,g),t(e,c)},p(A,I){I[0]&48&&a!==(a=(A[4]/A[5]*100).toFixed(2)+"")&&He(h,a)},d(A){A&&r(e)}}}function cs(i){let e,o,a,h,g,c,x,A,I,b=vs(i[10])+"",V,C=i[4]&&ds(i);return{c(){e=s("div"),o=s("div"),a=s("img"),g=p(),c=s("span"),x=E(i[15]),A=p(),C&&C.c(),I=E(`\r
                    >> `),V=E(b),this.h()},l(P){e=n(P,"DIV",{class:!0});var N=v(e);o=n(N,"DIV",{class:!0});var M=v(o);a=n(M,"IMG",{src:!0,alt:!0,class:!0}),g=m(M),c=n(M,"SPAN",{class:!0});var T=v(c);x=w(T,i[15]),A=m(T),C&&C.l(T),I=w(T,`\r
                    >> `),V=w(T,b),T.forEach(r),M.forEach(r),N.forEach(r),this.h()},h(){Be(a.src,h=i[17])||l(a,"src",h),l(a,"alt","Icon"),l(a,"class","mini-heading-icon"),l(c,"class","mini-header-text"),l(o,"class","mini-header-content"),l(e,"class","mini-header")},m(P,N){q(P,e,N),t(e,o),t(o,a),t(o,g),t(o,c),t(c,x),t(c,A),C&&C.m(c,null),t(c,I),t(c,V)},p(P,N){P[4]?C?C.p(P,N):(C=ds(P),C.c(),C.m(c,I)):C&&(C.d(1),C=null),N[0]&1024&&b!==(b=vs(P[10])+"")&&He(V,b)},d(P){P&&r(e),C&&C.d()}}}function ds(i){let e,o,a,h;return{c(){e=s("span"),o=E("(UK total: £"),a=E(i[4]),h=E(" billion)"),this.h()},l(g){e=n(g,"SPAN",{class:!0});var c=v(e);o=w(c,"(UK total: £"),a=w(c,i[4]),h=w(c," billion)"),c.forEach(r),this.h()},h(){l(e,"class","mini-header-value")},m(g,c){q(g,e,c),t(e,o),t(e,a),t(e,h)},p(g,c){c[0]&16&&He(a,g[4])},d(g){g&&r(e)}}}function an(i){let e,o=`Each bar shows the predicted total costs in billion pounds for each\r
                            five-year periods for all of UK.`;return{c(){e=s("p"),e.textContent=o,this.h()},l(a){e=n(a,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1v08yjw"&&(e.textContent=o),this.h()},h(){l(e,"class","description svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function sn(i){let e,o=`Each bar shows the predicted total benefits in billion pounds for each\r
                            five-year periods for all of UK.`;return{c(){e=s("p"),e.textContent=o,this.h()},l(a){e=n(a,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-3v1xr6"&&(e.textContent=o),this.h()},h(){l(e,"class","description svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function nn(i){let e,o=`The x-axis represents the value of costs, while the y-axis shows the\r
                            number of data zones falling within each benefit range.`;return{c(){e=s("p"),e.textContent=o,this.h()},l(a){e=n(a,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-92e6ig"&&(e.textContent=o),this.h()},h(){l(e,"class","description svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function on(i){let e,o=`The x-axis represents the predicted value of benefits, measured in\r
                            billion pounds, while the y-axis shows the number of data zones falling within each benefit\r
                            range.`;return{c(){e=s("p"),e.textContent=o,this.h()},l(a){e=n(a,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-flkfm5"&&(e.textContent=o),this.h()},h(){l(e,"class","description svelte-7an6yc")},m(a,h){q(a,e,h)},d(a){a&&r(e)}}}function fs(i){let e,o,a=i[7].legend().outerHTML+"";return{c(){e=s("div"),o=new _s(!1),this.h()},l(h){e=n(h,"DIV",{id:!0});var g=v(e);o=bs(g,!1),g.forEach(r),this.h()},h(){o.a=null,l(e,"id","legend")},m(h,g){q(h,e,g),o.m(a,e)},p(h,g){g[0]&128&&a!==(a=h[7].legend().outerHTML+"")&&o.p(a)},d(h){h&&r(e)}}}function us(i){let e,o,a=i[47].label+"",h,g,c,x=i[47].def+"",A,I,b,V=i[47],C;const P=()=>i[28](b,V),N=()=>i[28](null,V);return{c(){e=s("div"),o=s("h3"),h=E(a),g=p(),c=s("p"),A=E(x),I=p(),b=s("div"),C=p(),this.h()},l(M){e=n(M,"DIV",{class:!0});var T=v(e);o=n(T,"H3",{class:!0});var nt=v(o);h=w(nt,a),nt.forEach(r),g=m(T),c=n(T,"P",{class:!0});var rt=v(c);A=w(rt,x),rt.forEach(r),I=m(T),b=n(T,"DIV",{class:!0}),v(b).forEach(r),C=m(T),T.forEach(r),this.h()},h(){l(o,"class","component-chart-title svelte-7an6yc"),l(c,"class","component-chart-caption svelte-7an6yc"),l(b,"class","plot"),l(e,"class","plot-container svelte-7an6yc")},m(M,T){q(M,e,T),t(e,o),t(o,h),t(e,g),t(e,c),t(c,A),t(e,I),t(e,b),P(),t(e,C)},p(M,T){i=M,V!==i[47]&&(N(),V=i[47],P())},d(M){M&&r(e),N()}}}function rn(i){let e,o,a,h,g,c,x,A="Co-Benefit Report",I,b,V,C,P,N,M,T,nt,rt,At,pe,ct,me,Xt,F,It,lt,it,ut,G,Jt,Ae,U,at,gt,Oe="billion",Ie,Te,dt,vt,_t,Fe,xe,bt,Ve,Ne,d,f,D,z,W,ot,_,R="Contribution to national benefits",Qt,ft,y="Share of total benefits",tt,Tt,ge,_e,fl,Ue,xt,Vt,Zt,va='<p class="section-subtitle">Overview</p>',ul,yt,k,Nt,vl,$t,ha=i[15].toLowerCase()+"",hl,pl,ml,ze,te,pa=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${da}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,gl,be,_l,bl,yl,Et,El,ee,ma=i[15].toLowerCase()+"",wl,Cl,le,ga=`data zones
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,Dl,We,ae,_a=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${da}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,Sl,Mt,ba="",kl,Ll,Al,Z,Pt,Il,se,ya=i[15].toLowerCase()+"",Tl,xl,Vl,ne,Ea=`Each local authority is coloured by the predicted per capita benefits/cost,\r
                        showing regional variation in how benefits/cost are distributed. Scroll for zooming in and\r
                        out.`,Nl,ie,wa=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${fa}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Ml,Re,wt,Ca="",Pl,Bt,oe,Da='<p class="section-subtitle">Socio-economic factors</p>',Bl,ht,st,Ht,Hl,re,Sa=i[15]?.toLowerCase()+"",Ol,Fl,Ul,ce,ka=`Each chart shows how benefits or costs are distributed across UK local\r
                        authorities in correlation with a specific household social-economic factor.`,zl,$,de,La=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${fa}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Wl,fe,Aa="Legend:",Rl,Kl,ql,ye,Ia="The scatter points are coloured by nation. Click the buttons below to filter.",Gl,O,jl,Yl,Ot,Xl,Jl,Ft,Ql,Zl,Ut,$l,ta,zt,ea,la,aa,sa,Wt,Ta="Reset",na,Rt,xa=`<p style="margin: 0 0 0.5rem 0;"><strong>Discrete scales:</strong> The first set of
                            socio-economic factors are using categorical values where the x-axis is non-linear.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots
                            represent modelled associations and should not be interpreted as direct causal
                            relationships.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Aggregated data:</strong> Each socio-economic factor
                            for a given local authority is aggregated from the data zones within its boundary.</p>`,ia,ue,Kt,qt,oa,Va;e=new As({});let j=i[4]&&is(i);function Na(u,L){return u[4]>0?tn:$s}let Ke=Na(i),Ct=Ke(i),Y=i[4]&&os(i);function Ma(u,L){return u[4]>0?ln:en}let qe=Ma(i),Dt=qe(i),X=i[4]&&rs(i),J=i[9]&&cs(i);function Pa(u,L){return u[4]>0?sn:an}let Ge=Pa(i),St=Ge(i);function Ba(u,L){return u[4]>0?on:nn}let je=Ba(i),kt=je(i),Q=i[7]&&fs(i),Ee=Qa(ss),K=[];for(let u=0;u<Ee.length;u+=1)K[u]=us(ns(i,Ee,u));return{c(){ws(e.$$.fragment),o=p(),a=s("div"),h=s("div"),g=s("div"),c=s("div"),x=s("p"),x.textContent=A,I=p(),b=s("div"),V=s("h1"),C=s("img"),N=p(),M=s("div"),T=p(),nt=E(i[15]),rt=p(),At=s("div"),pe=p(),ct=s("p"),me=E(i[16]),Xt=p(),F=s("div"),It=s("div"),lt=s("div"),it=s("div"),ut=s("div"),G=s("img"),Ae=p(),U=s("div"),j&&j.c(),at=p(),gt=s("span"),gt.textContent=Oe,Ie=p(),Ct.c(),Te=p(),dt=s("div"),vt=s("div"),_t=s("img"),xe=p(),bt=s("div"),Y&&Y.c(),Ve=p(),Dt.c(),Ne=p(),d=s("div"),f=s("div"),D=s("img"),W=p(),X&&X.c(),ot=p(),_=s("div"),_.textContent=R,Qt=p(),ft=s("h3"),ft.textContent=y,tt=p(),Tt=s("div"),ge=p(),_e=s("div"),fl=p(),J&&J.c(),Ue=p(),xt=s("div"),Vt=s("div"),Zt=s("div"),Zt.innerHTML=va,ul=p(),yt=s("div"),k=s("div"),Nt=s("h3"),vl=E("Total "),$t=s("span"),hl=E(ha),pl=E(" over time 2025-2050"),ml=p(),St.c(),ze=p(),te=s("div"),te.innerHTML=pa,gl=p(),be=s("div"),_l=p(),bl=s("br"),yl=p(),Et=s("h3"),El=E("Distribution of "),ee=s("span"),wl=E(ma),Cl=E(` across UK\r
                        \r
\r
                        `),le=s("span"),le.innerHTML=ga,Dl=p(),kt.c(),We=p(),ae=s("div"),ae.innerHTML=_a,Sl=p(),Mt=s("div"),Mt.innerHTML=ba,kl=p(),Ll=s("br"),Al=p(),Z=s("div"),Pt=s("h3"),Il=E("Per Capita "),se=s("span"),Tl=E(ya),xl=E(" by UK local authorities"),Vl=p(),ne=s("p"),ne.textContent=Ea,Nl=p(),ie=s("div"),ie.innerHTML=wa,Ml=p(),Q&&Q.c(),Re=p(),wt=s("div"),wt.innerHTML=Ca,Pl=p(),Bt=s("div"),oe=s("div"),oe.innerHTML=Da,Bl=p(),ht=s("div"),st=s("div"),Ht=s("h3"),Hl=E("How "),re=s("span"),Ol=E(Sa),Fl=E(` vary by household social-economic\r
                        factors`),Ul=p(),ce=s("p"),ce.textContent=ka,zl=p(),$=s("div"),de=s("div"),de.innerHTML=La,Wl=p(),fe=s("strong"),fe.textContent=Aa,Rl=p(),Kl=s("br"),ql=p(),ye=s("span"),ye.textContent=Ia,Gl=p(),O=s("div"),jl=s("br"),Yl=p(),Ot=s("button"),Xl=E("Scotland"),Jl=p(),Ft=s("button"),Ql=E("Northern Ireland"),Zl=p(),Ut=s("button"),$l=E("England"),ta=p(),zt=s("button"),ea=E("Wales"),la=p(),aa=s("br"),sa=p(),Wt=s("button"),Wt.textContent=Ta,na=p(),Rt=s("div"),Rt.innerHTML=xa,ia=p(),ue=s("div"),Kt=s("div");for(let u=0;u<K.length;u+=1)K[u].c();this.h()},l(u){Cs(e.$$.fragment,u),o=m(u),a=n(u,"DIV",{class:!0});var L=v(a);h=n(L,"DIV",{class:!0});var B=v(h);g=n(B,"DIV",{class:!0});var ve=v(g);c=n(ve,"DIV",{class:!0});var Ye=v(c);x=n(Ye,"P",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-1flv0v9"&&(x.textContent=A),I=m(Ye),b=n(Ye,"DIV",{class:!0});var we=v(b);V=n(we,"H1",{class:!0});var Ce=v(V);C=n(Ce,"IMG",{src:!0,alt:!0,class:!0}),N=m(Ce),M=n(Ce,"DIV",{style:!0}),v(M).forEach(r),T=m(Ce),nt=w(Ce,i[15]),Ce.forEach(r),rt=m(we),At=n(we,"DIV",{style:!0}),v(At).forEach(r),pe=m(we),ct=n(we,"P",{class:!0});var Ha=v(ct);me=w(Ha,i[16]),Ha.forEach(r),we.forEach(r),Ye.forEach(r),Xt=m(ve),F=n(ve,"DIV",{class:!0});var Gt=v(F);It=n(Gt,"DIV",{class:!0});var Oa=v(It);lt=n(Oa,"DIV",{class:!0});var De=v(lt);it=n(De,"DIV",{class:!0});var Xe=v(it);ut=n(Xe,"DIV",{class:!0});var Je=v(ut);G=n(Je,"IMG",{class:!0,src:!0,alt:!0}),Ae=m(Je),U=n(Je,"DIV",{class:!0});var Qe=v(U);j&&j.l(Qe),at=m(Qe),gt=n(Qe,"SPAN",{class:!0,"data-svelte-h":!0}),S(gt)!=="svelte-tlhydp"&&(gt.textContent=Oe),Qe.forEach(r),Je.forEach(r),Ie=m(Xe),Ct.l(Xe),Xe.forEach(r),Te=m(De),dt=n(De,"DIV",{class:!0});var Ze=v(dt);vt=n(Ze,"DIV",{class:!0});var $e=v(vt);_t=n($e,"IMG",{class:!0,src:!0,alt:!0}),xe=m($e),bt=n($e,"DIV",{class:!0});var Fa=v(bt);Y&&Y.l(Fa),Fa.forEach(r),$e.forEach(r),Ve=m(Ze),Dt.l(Ze),Ze.forEach(r),Ne=m(De),d=n(De,"DIV",{class:!0});var tl=v(d);f=n(tl,"DIV",{class:!0});var el=v(f);D=n(el,"IMG",{class:!0,src:!0,alt:!0}),W=m(el),X&&X.l(el),el.forEach(r),ot=m(tl),_=n(tl,"DIV",{class:!0,"data-svelte-h":!0}),S(_)!=="svelte-1v3rfza"&&(_.textContent=R),tl.forEach(r),De.forEach(r),Oa.forEach(r),Qt=m(Gt),ft=n(Gt,"H3",{class:!0,"data-svelte-h":!0}),S(ft)!=="svelte-1vkchgj"&&(ft.textContent=y),tt=m(Gt),Tt=n(Gt,"DIV",{class:!0}),v(Tt).forEach(r),ge=m(Gt),_e=n(Gt,"DIV",{class:!0}),v(_e).forEach(r),Gt.forEach(r),ve.forEach(r),B.forEach(r),fl=m(L),J&&J.l(L),Ue=m(L),xt=n(L,"DIV",{class:!0});var ll=v(xt);Vt=n(ll,"DIV",{id:!0});var al=v(Vt);Zt=n(al,"DIV",{class:!0,"data-svelte-h":!0}),S(Zt)!=="svelte-ll1i43"&&(Zt.innerHTML=va),ul=m(al),yt=n(al,"DIV",{id:!0,class:!0});var sl=v(yt);k=n(sl,"DIV",{class:!0});var H=v(k);Nt=n(H,"H3",{class:!0});var nl=v(Nt);vl=w(nl,"Total "),$t=n(nl,"SPAN",{style:!0});var Ua=v($t);hl=w(Ua,ha),Ua.forEach(r),pl=w(nl," over time 2025-2050"),nl.forEach(r),ml=m(H),St.l(H),ze=m(H),te=n(H,"DIV",{class:!0,"data-svelte-h":!0}),S(te)!=="svelte-1yzemw8"&&(te.innerHTML=pa),gl=m(H),be=n(H,"DIV",{class:!0}),v(be).forEach(r),_l=m(H),bl=n(H,"BR",{}),yl=m(H),Et=n(H,"H3",{class:!0});var Me=v(Et);El=w(Me,"Distribution of "),ee=n(Me,"SPAN",{style:!0});var za=v(ee);wl=w(za,ma),za.forEach(r),Cl=w(Me,` across UK\r
                        \r
\r
                        `),le=n(Me,"SPAN",{class:!0,"data-svelte-h":!0}),S(le)!=="svelte-7glovi"&&(le.innerHTML=ga),Me.forEach(r),Dl=m(H),kt.l(H),We=m(H),ae=n(H,"DIV",{class:!0,"data-svelte-h":!0}),S(ae)!=="svelte-1yzemw8"&&(ae.innerHTML=_a),Sl=m(H),Mt=n(H,"DIV",{class:!0,"data-svelte-h":!0}),S(Mt)!=="svelte-17463th"&&(Mt.innerHTML=ba),kl=m(H),Ll=n(H,"BR",{}),H.forEach(r),Al=m(sl),Z=n(sl,"DIV",{class:!0});var pt=v(Z);Pt=n(pt,"H3",{class:!0});var il=v(Pt);Il=w(il,"Per Capita "),se=n(il,"SPAN",{style:!0});var Wa=v(se);Tl=w(Wa,ya),Wa.forEach(r),xl=w(il," by UK local authorities"),il.forEach(r),Vl=m(pt),ne=n(pt,"P",{class:!0,"data-svelte-h":!0}),S(ne)!=="svelte-32j67s"&&(ne.textContent=Ea),Nl=m(pt),ie=n(pt,"DIV",{class:!0,"data-svelte-h":!0}),S(ie)!=="svelte-1pbiq4x"&&(ie.innerHTML=wa),Ml=m(pt),Q&&Q.l(pt),Re=m(pt),wt=n(pt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),S(wt)!=="svelte-1bex1ev"&&(wt.innerHTML=Ca),pt.forEach(r),sl.forEach(r),al.forEach(r),Pl=m(ll),Bt=n(ll,"DIV",{id:!0});var ol=v(Bt);oe=n(ol,"DIV",{class:!0,"data-svelte-h":!0}),S(oe)!=="svelte-1l51yw7"&&(oe.innerHTML=Da),Bl=m(ol),ht=n(ol,"DIV",{id:!0,class:!0,style:!0});var rl=v(ht);st=n(rl,"DIV",{id:!0,class:!0});var jt=v(st);Ht=n(jt,"H3",{class:!0});var cl=v(Ht);Hl=w(cl,"How "),re=n(cl,"SPAN",{style:!0});var Ra=v(re);Ol=w(Ra,Sa),Ra.forEach(r),Fl=w(cl,` vary by household social-economic\r
                        factors`),cl.forEach(r),Ul=m(jt),ce=n(jt,"P",{class:!0,"data-svelte-h":!0}),S(ce)!=="svelte-r5sqj1"&&(ce.textContent=ka),zl=m(jt),$=n(jt,"DIV",{id:!0,class:!0});var mt=v($);de=n(mt,"DIV",{class:!0,"data-svelte-h":!0}),S(de)!=="svelte-131efpe"&&(de.innerHTML=La),Wl=m(mt),fe=n(mt,"STRONG",{style:!0,"data-svelte-h":!0}),S(fe)!=="svelte-1s0qlts"&&(fe.textContent=Aa),Rl=m(mt),Kl=n(mt,"BR",{}),ql=m(mt),ye=n(mt,"SPAN",{"data-svelte-h":!0}),S(ye)!=="svelte-av8zq9"&&(ye.textContent=Ia),Gl=m(mt),O=n(mt,"DIV",{class:!0});var et=v(O);jl=n(et,"BR",{}),Yl=m(et),Ot=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ka=v(Ot);Xl=w(Ka,"Scotland"),Ka.forEach(r),Jl=m(et),Ft=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var qa=v(Ft);Ql=w(qa,"Northern Ireland"),qa.forEach(r),Zl=m(et),Ut=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ga=v(Ut);$l=w(Ga,"England"),Ga.forEach(r),ta=m(et),zt=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var ja=v(zt);ea=w(ja,"Wales"),ja.forEach(r),la=m(et),aa=n(et,"BR",{}),sa=m(et),Wt=n(et,"BUTTON",{class:!0,"data-svelte-h":!0}),S(Wt)!=="svelte-2t5u5r"&&(Wt.textContent=Ta),et.forEach(r),mt.forEach(r),na=m(jt),Rt=n(jt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),S(Rt)!=="svelte-p1d3q2"&&(Rt.innerHTML=xa),jt.forEach(r),ia=m(rl),ue=n(rl,"DIV",{id:!0,class:!0});var Ya=v(ue);Kt=n(Ya,"DIV",{id:!0,class:!0});var Xa=v(Kt);for(let ra=0;ra<K.length;ra+=1)K[ra].l(Xa);Xa.forEach(r),Ya.forEach(r),rl.forEach(r),ol.forEach(r),ll.forEach(r),L.forEach(r),this.h()},h(){l(x,"class","page-subtitle svelte-7an6yc"),Be(C.src,P=i[17])||l(C,"src",P),l(C,"alt","Icon"),l(C,"class","heading-icon svelte-7an6yc"),Yt(M,"margin-top","10px"),l(V,"class","page-title svelte-7an6yc"),Yt(At,"margin-top","14px"),l(ct,"class","definition svelte-7an6yc"),l(b,"class","title-container"),l(c,"class","header-text svelte-7an6yc"),l(G,"class","aggregation-icon-small svelte-7an6yc"),Be(G.src,Jt=da)||l(G,"src",Jt),l(G,"alt","icon"),l(gt,"class","small svelte-7an6yc"),l(U,"class","waffle-value svelte-7an6yc"),l(ut,"class","waffle-value-container svelte-7an6yc"),l(it,"class","waffle-stat svelte-7an6yc"),l(_t,"class","aggregation-icon-small svelte-7an6yc"),Be(_t.src,Fe=fa)||l(_t,"src",Fe),l(_t,"alt","icon"),l(bt,"class","waffle-value svelte-7an6yc"),l(vt,"class","waffle-value-container svelte-7an6yc"),l(dt,"class","waffle-stat svelte-7an6yc"),l(D,"class","aggregation-icon-small svelte-7an6yc"),Be(D.src,z=Js)||l(D,"src",z),l(D,"alt","icon"),l(f,"class","waffle-value-container svelte-7an6yc"),l(_,"class","waffle-caption svelte-7an6yc"),l(d,"class","waffle-stat svelte-7an6yc"),l(lt,"class","waffle-stats svelte-7an6yc"),l(It,"class","waffle-label svelte-7an6yc"),l(ft,"class","component-title"),l(Tt,"class","waffle-el"),l(_e,"class","waffle-bg svelte-7an6yc"),l(F,"class","header-waffle-wrapper svelte-7an6yc"),l(g,"class","header-content svelte-7an6yc"),l(h,"class","section header svelte-7an6yc"),l(Zt,"class","section-header"),l($t,"style",i[13]),l(Nt,"class","component-title"),l(te,"class","aggregation-icon-container"),l(be,"class","plot-bar svelte-7an6yc"),l(ee,"style",i[13]),l(le,"class","tooltip-term"),l(Et,"class","component-title"),l(ae,"class","aggregation-icon-container"),l(Mt,"class","plot-bar svelte-7an6yc"),l(k,"class","component singlevis"),l(se,"style",i[13]),l(Pt,"class","component-title"),l(ne,"class","description svelte-7an6yc"),l(ie,"class","aggregation-icon-container2 svelte-7an6yc"),l(wt,"id","map"),l(wt,"class","svelte-7an6yc"),l(Z,"class","component column"),l(yt,"id","vis-block"),l(yt,"class","svelte-7an6yc"),l(Vt,"id","overview"),l(oe,"class","section-header"),l(re,"style",i[13]),l(Ht,"class","component-title"),l(ce,"class","explanation"),l(de,"class","aggregation-icon-container2 svelte-7an6yc"),Yt(fe,"margin-bottom","0.8rem"),l(Ot,"class","nation-button svelte-7an6yc"),l(Ot,"data-nation","S"),Yt(Ot,"background-color",Le(i[14])[0]),l(Ft,"class","nation-button svelte-7an6yc"),l(Ft,"data-nation","N"),Yt(Ft,"background-color",Le(i[14])[1]),l(Ut,"class","nation-button svelte-7an6yc"),l(Ut,"data-nation","E"),Yt(Ut,"background-color",Le(i[14])[2]),l(zt,"class","nation-button svelte-7an6yc"),l(zt,"data-nation","W"),Yt(zt,"background-color",Le(i[14])[3]),l(Wt,"class","reset-button svelte-7an6yc"),l(O,"class","legend-buttons svelte-7an6yc"),l($,"id","se-legend"),l($,"class","legend-box svelte-7an6yc"),l(Rt,"id","se-disclaimer"),l(Rt,"class","disclaimer-box svelte-7an6yc"),l(st,"id","se-title"),l(st,"class","svelte-7an6yc"),l(Kt,"id","multiple-plots"),l(Kt,"class","svelte-7an6yc"),l(ue,"id","multiple-comp"),l(ue,"class","svelte-7an6yc"),l(ht,"id","se-block"),l(ht,"class","component svelte-7an6yc"),Yt(ht,"margin-left","1rem"),l(Bt,"id","compare"),l(xt,"class","section"),l(a,"class","page-container")},m(u,L){Ds(e,u,L),q(u,o,L),q(u,a,L),t(a,h),t(h,g),t(g,c),t(c,x),t(c,I),t(c,b),t(b,V),t(V,C),t(V,N),t(V,M),t(V,T),t(V,nt),t(b,rt),t(b,At),t(b,pe),t(b,ct),t(ct,me),t(g,Xt),t(g,F),t(F,It),t(It,lt),t(lt,it),t(it,ut),t(ut,G),t(ut,Ae),t(ut,U),j&&j.m(U,null),t(U,at),t(U,gt),t(it,Ie),Ct.m(it,null),t(lt,Te),t(lt,dt),t(dt,vt),t(vt,_t),t(vt,xe),t(vt,bt),Y&&Y.m(bt,null),t(dt,Ve),Dt.m(dt,null),t(lt,Ne),t(lt,d),t(d,f),t(f,D),t(f,W),X&&X.m(f,null),t(d,ot),t(d,_),t(F,Qt),t(F,ft),t(F,tt),t(F,Tt),i[23](Tt),t(F,ge),t(F,_e),i[24](_e),t(a,fl),J&&J.m(a,null),t(a,Ue),t(a,xt),t(xt,Vt),t(Vt,Zt),t(Vt,ul),t(Vt,yt),t(yt,k),t(k,Nt),t(Nt,vl),t(Nt,$t),t($t,hl),t(Nt,pl),t(k,ml),St.m(k,null),t(k,ze),t(k,te),t(k,gl),t(k,be),i[25](be),t(k,_l),t(k,bl),t(k,yl),t(k,Et),t(Et,El),t(Et,ee),t(ee,wl),t(Et,Cl),t(Et,le),t(k,Dl),kt.m(k,null),t(k,We),t(k,ae),t(k,Sl),t(k,Mt),i[26](Mt),t(k,kl),t(k,Ll),t(yt,Al),t(yt,Z),t(Z,Pt),t(Pt,Il),t(Pt,se),t(se,Tl),t(Pt,xl),t(Z,Vl),t(Z,ne),t(Z,Nl),t(Z,ie),t(Z,Ml),Q&&Q.m(Z,null),t(Z,Re),t(Z,wt),i[27](wt),t(xt,Pl),t(xt,Bt),t(Bt,oe),t(Bt,Bl),t(Bt,ht),t(ht,st),t(st,Ht),t(Ht,Hl),t(Ht,re),t(re,Ol),t(Ht,Fl),t(st,Ul),t(st,ce),t(st,zl),t(st,$),t($,de),t($,Wl),t($,fe),t($,Rl),t($,Kl),t($,ql),t($,ye),t($,Gl),t($,O),t(O,jl),t(O,Yl),t(O,Ot),t(Ot,Xl),t(O,Jl),t(O,Ft),t(Ft,Ql),t(O,Zl),t(O,Ut),t(Ut,$l),t(O,ta),t(O,zt),t(zt,ea),t(O,la),t(O,aa),t(O,sa),t(O,Wt),t(st,na),t(st,Rt),t(ht,ia),t(ht,ue),t(ue,Kt);for(let B=0;B<K.length;B+=1)K[B]&&K[B].m(Kt,null);i[29](a),qt=!0,oa||(Va=ps(Wt,"click",i[18]),oa=!0)},p(u,L){if(u[4]?j?j.p(u,L):(j=is(u),j.c(),j.m(U,at)):j&&(j.d(1),j=null),Ke!==(Ke=Na(u))&&(Ct.d(1),Ct=Ke(u),Ct&&(Ct.c(),Ct.m(it,null))),u[4]?Y?Y.p(u,L):(Y=os(u),Y.c(),Y.m(bt,null)):Y&&(Y.d(1),Y=null),qe!==(qe=Ma(u))&&(Dt.d(1),Dt=qe(u),Dt&&(Dt.c(),Dt.m(dt,null))),u[4]?X?X.p(u,L):(X=rs(u),X.c(),X.m(f,null)):X&&(X.d(1),X=null),u[9]?J?J.p(u,L):(J=cs(u),J.c(),J.m(a,Ue)):J&&(J.d(1),J=null),(!qt||L[0]&8192)&&l($t,"style",u[13]),Ge!==(Ge=Pa(u))&&(St.d(1),St=Ge(u),St&&(St.c(),St.m(k,ze))),(!qt||L[0]&8192)&&l(ee,"style",u[13]),je!==(je=Ba(u))&&(kt.d(1),kt=je(u),kt&&(kt.c(),kt.m(k,We))),(!qt||L[0]&8192)&&l(se,"style",u[13]),u[7]?Q?Q.p(u,L):(Q=fs(u),Q.c(),Q.m(Z,Re)):Q&&(Q.d(1),Q=null),(!qt||L[0]&8192)&&l(re,"style",u[13]),L[0]&2){Ee=Qa(ss);let B;for(B=0;B<Ee.length;B+=1){const ve=ns(u,Ee,B);K[B]?K[B].p(ve,L):(K[B]=us(ve),K[B].c(),K[B].m(Kt,null))}for(;B<K.length;B+=1)K[B].d(1);K.length=Ee.length}},i(u){qt||(Ss(e.$$.fragment,u),qt=!0)},o(u){ks(e.$$.fragment,u),qt=!1},d(u){u&&(r(o),r(a)),Ls(e,u),j&&j.d(),Ct.d(),Y&&Y.d(),Dt.d(),X&&X.d(),i[23](null),i[24](null),J&&J.d(),St.d(),i[25](null),kt.d(),i[26](null),Q&&Q.d(),i[27](null),ms(K,u),i[29](null),oa=!1,Va()}}}let ke=400;function vs(i){return{overview:"Overview",compare:"Compare by socio-economic factor"}[i]||""}function cn(i,e,o){let a,h,g,c,x,A={},{data:I}=e;const b=I.coBenefit,V=ls.find(d=>d.id===b)?.label??b,C=Hs.find(d=>d.id===b)?.def??b;let P,N,M,T,nt,rt,At,pe,ct=!1,me,Xt,F;Ae().then(()=>{let d=JSON.parse(JSON.stringify(Lt(b)));d.shift(),d=d.reverse(),o(7,Xt=new Bs(N,"LAD",F,"total",!0,"LAD",!1,d)),Xt.initMap()});let It=Os(b),lt=!1,it="";const ut=["overview","compare"];let G=null;function Jt(){const d=window.scrollY;o(9,lt=d>250);for(const f of ut){const D=document.getElementById(f);if(!D)continue;const z=D.getBoundingClientRect();if(z.top<=150&&z.bottom>=150){o(10,it=f);break}}}Ja(()=>(window.addEventListener("scroll",Jt),Jt(),()=>window.removeEventListener("scroll",Jt))),gs(()=>{window.removeEventListener("scroll",Jt)});async function Ae(){P=await Se(Ks(b)),M=await Se(qs(b)),nt=await Se(Gs()),nt=nt.sort((f,D)=>D.total-f.total),rt=await Se(js()),rt=rt.sort((f,D)=>D.total_value-f.total_value);const d=rt.find(f=>f.co_benefit_type===b);o(6,me=d?d.value_per_capita:null),N=await Se(Ys(b)),console.log("data",N),At=await Se(Xs()),o(5,pe=At[0].total_value),as.forEach(f=>{M[f]=+M[f]}),o(4,T=Is(P,f=>f.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),o(20,ct=!0)}let U,at;function gt(d,f){if(!U)return;const D=20,z=15,W=Math.floor(200/D),ot=z*W,_=nt.reduce((y,tt)=>y+tt.total,0),R=[];for(const y of nt){const tt=Math.round(Math.abs(y.total)/_*ot),Tt=y.total<0;for(let ge=0;ge<tt;ge++)R.push({type:y.co_benefit_type,negative:Tt})}for(;R.length<ot;)R.push({type:"empty"});R.sort((y,tt)=>y.type==="empty"?1:tt.type==="empty"?-1:y.negative&&!tt.negative?1:!y.negative&&tt.negative?-1:0);const Qt=R.map((y,tt)=>({x:tt%z,y:Math.floor(tt/z),...y})),ft=Pe({width:D*z,height:D*W,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:ls.map(y=>y.id),range:zs,unknown:"#eee",legend:!1},marks:[ts(Qt.filter(y=>!y.negative),{x:y=>y.x*D,y:y=>y.y*D,fill:"type",fillOpacity:y=>f&&y.type!==f?.15:1}),ts(Qt.filter(y=>y.negative),{x:y=>y.x*D,y:y=>y.y*D,stroke:"type",strokeOpacity:y=>f&&y.type!==f?.15:1,strokeWidth:1,fill:"none"})]});at&&(o(12,at.style.width=`${D*z}px`,at),o(12,at.style.height=`${d-100}px`,at)),o(11,U.innerHTML="",U),U.append(ft)}function Oe(){c?.append(Pe({height:ke/1.5,...Ws,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazones",grid:!0},x:{label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Ns(N,Qs({y:"count"},{x:d=>d.total*1e3,fill:Lt(b)[0],tip:!0,fillOpacity:.5,stroke:Lt(b)[0],strokeWidth:2})),es({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),dl([0],{stroke:"#333",strokeWidth:.75})]}))}function Ie(){let d=P.flatMap(f=>Fs.map(D=>({time:D,value:f[D],total:f.total,scenario:f.scenario})));x?.append(Pe({height:ke/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:f=>f.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[Zs(d,Ms({y:"sum"},{x:"time",y:f=>f.value/1e3,fill:Lt(b)[0],tip:{format:{y:f=>`${f.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),es({anchor:"left",grid:!0,label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"}),dl([0],{stroke:"#333",strokeWidth:.75})]}))}function Te(){const d=f=>f.LAD.startsWith("S")?"S":f.LAD.startsWith("N")?"N":f.LAD.startsWith("E")?"E":"W";as.forEach((f,D)=>{let z;if(Us.includes(f)){const W=Rs[f],ot=W?Object.keys(W).map(Number):N.filter(_=>_.SEFMAME==f).map(_=>_.SE);z=Pe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:ke/1.4,width:ke*1.2,marginLeft:70,marginBottom:f==="Typology"?80:60,marginRight:20,marginTop:30,x:{domain:ot,label:ca(f),tickFormat:_=>W?.[_]??_,tickRotate:f==="Typology"?-20:0},y:{label:"£, thousand",labelArrow:"none"},color:{legend:!0},marks:[ua(N.filter(_=>_.SEFMAME==f),{x:"SE",y:_=>_.total*1e3,r:1.8,fillOpacity:.7,fill:_=>_.LAD.startsWith("S")?Lt(b)[1]:_.LAD.startsWith("N")?Lt(b)[2]:_.LAD.startsWith("E")?Lt(b)[3]:Lt(b)[4]}),dl([0],{stroke:"#333",strokeWidth:.75})]})}else{let W=N.filter(_=>_.SEFMAME===f&&(G===null||d(_)==G)),ot=W.reduce(function(_,R){return _.SE<R.SE?_:R});z=Pe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:ke/1.4,width:ke*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:30,x:{label:ca(f),labelArrow:!1,labelAnchor:"center"},y:{label:"£, thousand",labelArrow:!1},color:{legend:!0},marks:[D==6?Za(["Each dot represents a Local Authority District (LAD)."],{x:["Under_35","Over_65","Unemployment"].includes(f)?ot.SE*100:ot.SE,y:ot.total*1e3,textPadding:6,opacity:.5,lineWidth:12}):[],ua(W,{x:_=>["Under_35","Over_65","Unemployment"].includes(f)?_.SE*100:_.SE,y:_=>_.total*1e3,fill:_=>{const R=["S","N","E","W"].indexOf(d(_));return Le(b)[R]},r:2,fillOpacity:.1,channels:{LAD:"LAD"}}),ua(W,{x:_=>["Under_35","Over_65","Unemployment"].includes(f)?_.SE*100:_.SE,y:_=>_.total*1e3,fill:_=>{const R=["S","N","E","W"].indexOf(d(_));return Le(b)[R]},r:3.5,fillOpacity:1}),Ts({label:ca(f),labelArrow:!1,labelAnchor:"center"}),dl([0],{stroke:"#333",strokeWidth:.75}),xs([0],{stroke:"#333",strokeWidth:.75}),Za(W,Vs({x:_=>["Under_35","Over_65","Unemployment"].includes(f)?_.SE*100:_.SE,y:_=>_.total*1e3,title:_=>[`LAD: ${_.LAD}`,"Click to navigate to page."].join(`
`)}))]}),console.log($a(z).select('g[aria-label="dot"]').selectAll("circle")),$a(z).selectAll('g[aria-label="dot"]').selectAll("circle").style("cursor","pointer").on("click",(_,R,Qt)=>{let ft=W[R].LAD;window.open(`${Ps}/location?location=${ft}`,"_blank").focus()})}A[f]?.append(z)})}function dt(){o(21,G=null)}Ja(()=>{document.querySelectorAll(".nation-button").forEach(d=>{d.addEventListener("click",()=>{const f=d.getAttribute("data-nation");G===f?(o(21,G=null),d.classList.remove("active")):(o(21,G=f),document.querySelectorAll(".nation-button").forEach(D=>D.classList.remove("active")),d.classList.add("active"))})})});function vt(d){he[d?"unshift":"push"](()=>{U=d,o(11,U)})}function _t(d){he[d?"unshift":"push"](()=>{at=d,o(12,at)})}function Fe(d){he[d?"unshift":"push"](()=>{x=d,o(0,x)})}function xe(d){he[d?"unshift":"push"](()=>{c=d,o(3,c)})}function bt(d){he[d?"unshift":"push"](()=>{F=d,o(8,F)})}function Ve(d,f){he[d?"unshift":"push"](()=>{A[f.id]=d,o(1,A)})}function Ne(d){he[d?"unshift":"push"](()=>{g=d,o(2,g)})}return i.$$set=d=>{"data"in d&&o(19,I=d.data)},i.$$.update=()=>{i.$$.dirty[0]&1048577&&ct&&(x?.firstChild?.remove(),Oe(),Ie(),gt(300,b)),i.$$.dirty[0]&3145730&&ct&&G!==void 0&&(Object.values(A).forEach(d=>{d.firstChild?.remove()}),Te()),i.$$.dirty[0]&4194304&&o(13,h=`color: ${a}; font-weight: bold; font-size: 22px;`)},o(22,a=Lt(b)[0]),[x,A,g,c,T,pe,me,Xt,F,lt,it,U,at,h,b,V,C,It,dt,I,ct,G,a,vt,_t,Fe,xe,bt,Ve,Ne]}class Dn extends ys{constructor(e){super(),Es(this,e,cn,rn,hs,{data:19},null,[-1,-1])}}export{Dn as component};
