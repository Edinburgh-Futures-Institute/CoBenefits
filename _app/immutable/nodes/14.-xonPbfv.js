import{s as wa,a as p,e as a,t as y,g as m,c as n,b as u,p as k,f as o,d as w,q as l,r as He,v as jt,i as F,h as t,w as Ca,x as Da,y as Qs,z as Sa,j as Oe,H as ka,A as La,B as he}from"../chunks/scheduler.Uo5vrMzy.js";import{S as Aa,i as Ia,c as Zs,b as $s,m as ta,t as ea,a as la,d as sa}from"../chunks/index.CfagcI6h.js";import{N as Ta,e as aa}from"../chunks/NavigationBar.DmUW6qqq.js";import"../chunks/transform.BNP73y-7.js";import{F as xa,G as Pe,H as vl,I as na,J as Va,K as Na,L as Ma,N as ia,O as ra,P as Pa,Q as oa,R as Ba}from"../chunks/index.BijtlihT.js";import{b as Ha}from"../chunks/paths.CccibVs_.js";import{f as Oa}from"../chunks/module.BDHLYmQ2.js";import{M as Fa}from"../chunks/mapUK.B0lpgo9m.js";import{C as Le,a as ca,D as Ua,b as Be,S as da,c as fa,g as za,T as Ra,d as Wa,e as fs,f as Ka,h as qa,M as Ga,i as ja}from"../chunks/globals.LRqkLXH3.js";import{g as Se,c as Ya,d as Xa,e as Ja,f as Qa,h as Za,i as $a}from"../chunks/duckdb.C2uT7ASB.js";import{t as vs,p as tn}from"../chunks/percentage.Cu08Svdw.js";import{p as us}from"../chunks/per_capita.COcMrZFY.js";import{F as en}from"../chunks/Footer.CZ0Rr6NC.js";import{b as ln}from"../chunks/box.DdPWxBx2.js";import{d as va}from"../chunks/dot.o3Wq83Nt.js";import{b as sn}from"../chunks/bin.Dm3GvWfY.js";import{b as an}from"../chunks/bar.RgVc80ea.js";function ua(i,e,r){const s=i.slice();return s[47]=e[r],s[48]=e,s[49]=r,s}function ha(i){let e,r,s=i[4].toLocaleString()+"",h;return{c(){e=a("span"),r=y("£"),h=y(s),this.h()},l(b){e=n(b,"SPAN",{class:!0});var d=u(e);r=w(d,"£"),h=w(d,s),d.forEach(o),this.h()},h(){l(e,"class","waffle-big svelte-b9v0tr")},m(b,d){F(b,e,d),t(e,r),t(e,h)},p(b,d){d[0]&16&&s!==(s=b[4].toLocaleString()+"")&&Oe(h,s)},d(b){b&&o(e)}}}function nn(i){let e,r="National costs";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-o12owz"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function rn(i){let e,r="National benefits";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-10ytukz"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function pa(i){let e,r,s=i[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",h;return{c(){e=a("span"),r=y("£"),h=y(s),this.h()},l(b){e=n(b,"SPAN",{class:!0});var d=u(e);r=w(d,"£"),h=w(d,s),d.forEach(o),this.h()},h(){l(e,"class","waffle-big svelte-b9v0tr")},m(b,d){F(b,e,d),t(e,r),t(e,h)},p(b,d){d[0]&64&&s!==(s=b[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Oe(h,s)},d(b){b&&o(e)}}}function on(i){let e,r="Per capita costs";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-6pmcl0"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function cn(i){let e,r="Per capita benefits";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-g1rvwk"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function ma(i){let e,r,s=(i[4]/i[5]*100).toFixed(2)+"",h,b,d,x="%";return{c(){e=a("div"),r=a("span"),h=y(s),b=p(),d=a("span"),d.textContent=x,this.h()},l(A){e=n(A,"DIV",{class:!0});var I=u(e);r=n(I,"SPAN",{class:!0});var _=u(r);h=w(_,s),_.forEach(o),b=m(I),d=n(I,"SPAN",{class:!0,"data-svelte-h":!0}),k(d)!=="svelte-jxggz7"&&(d.textContent=x),I.forEach(o),this.h()},h(){l(r,"class","waffle-big svelte-b9v0tr"),l(d,"class","small svelte-b9v0tr"),l(e,"class","waffle-value svelte-b9v0tr")},m(A,I){F(A,e,I),t(e,r),t(r,h),t(e,b),t(e,d)},p(A,I){I[0]&48&&s!==(s=(A[4]/A[5]*100).toFixed(2)+"")&&Oe(h,s)},d(A){A&&o(e)}}}function ba(i){let e,r,s,h,b,d,x,A,I,_=ya(i[10])+"",V,C=i[4]&&ga(i);return{c(){e=a("div"),r=a("div"),s=a("img"),b=p(),d=a("span"),x=y(i[15]),A=p(),C&&C.c(),I=y(`\r
                    >> `),V=y(_),this.h()},l(P){e=n(P,"DIV",{class:!0});var N=u(e);r=n(N,"DIV",{class:!0});var M=u(r);s=n(M,"IMG",{src:!0,alt:!0,class:!0}),b=m(M),d=n(M,"SPAN",{class:!0});var T=u(d);x=w(T,i[15]),A=m(T),C&&C.l(T),I=w(T,`\r
                    >> `),V=w(T,_),T.forEach(o),M.forEach(o),N.forEach(o),this.h()},h(){He(s.src,h=i[17])||l(s,"src",h),l(s,"alt","Icon"),l(s,"class","mini-heading-icon"),l(d,"class","mini-header-text"),l(r,"class","mini-header-content"),l(e,"class","mini-header")},m(P,N){F(P,e,N),t(e,r),t(r,s),t(r,b),t(r,d),t(d,x),t(d,A),C&&C.m(d,null),t(d,I),t(d,V)},p(P,N){P[4]?C?C.p(P,N):(C=ga(P),C.c(),C.m(d,I)):C&&(C.d(1),C=null),N[0]&1024&&_!==(_=ya(P[10])+"")&&Oe(V,_)},d(P){P&&o(e),C&&C.d()}}}function ga(i){let e,r,s,h;return{c(){e=a("span"),r=y("(UK total: £"),s=y(i[4]),h=y(" billion)"),this.h()},l(b){e=n(b,"SPAN",{class:!0});var d=u(e);r=w(d,"(UK total: £"),s=w(d,i[4]),h=w(d," billion)"),d.forEach(o),this.h()},h(){l(e,"class","mini-header-value")},m(b,d){F(b,e,d),t(e,r),t(e,s),t(e,h)},p(b,d){d[0]&16&&Oe(s,b[4])},d(b){b&&o(e)}}}function dn(i){let e,r=`Each bar shows the predicted total costs in billion pounds for each\r
                            five-year periods for all of UK.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-1v08yjw"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function fn(i){let e,r=`Each bar shows the predicted total benefits in billion pounds for each\r
                            five-year periods for all of UK.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-3v1xr6"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function vn(i){let e,r=`The x-axis represents the value of costs, while the y-axis shows the\r
                            number of data zones falling within each benefit range.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-92e6ig"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function un(i){let e,r=`The x-axis represents the predicted value of benefits, measured in\r
                            billion pounds, while the y-axis shows the number of data zones falling within each benefit\r
                            range.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-flkfm5"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function _a(i){let e,r,s=i[7].legend().outerHTML+"";return{c(){e=a("div"),r=new ka(!1),this.h()},l(h){e=n(h,"DIV",{id:!0});var b=u(e);r=La(b,!1),b.forEach(o),this.h()},h(){r.a=null,l(e,"id","legend")},m(h,b){F(h,e,b),r.m(s,e)},p(h,b){b[0]&128&&s!==(s=h[7].legend().outerHTML+"")&&r.p(s)},d(h){h&&o(e)}}}function Ea(i){let e,r,s=i[47].label+"",h,b,d,x=i[47].def+"",A,I,_,V=i[47],C;const P=()=>i[28](_,V),N=()=>i[28](null,V);return{c(){e=a("div"),r=a("h3"),h=y(s),b=p(),d=a("p"),A=y(x),I=p(),_=a("div"),C=p(),this.h()},l(M){e=n(M,"DIV",{class:!0});var T=u(e);r=n(T,"H3",{class:!0});var it=u(r);h=w(it,s),it.forEach(o),b=m(T),d=n(T,"P",{class:!0});var ot=u(d);A=w(ot,x),ot.forEach(o),I=m(T),_=n(T,"DIV",{class:!0}),u(_).forEach(o),C=m(T),T.forEach(o),this.h()},h(){l(r,"class","component-chart-title svelte-b9v0tr"),l(d,"class","component-chart-caption svelte-b9v0tr"),l(_,"class","plot"),l(e,"class","plot-container svelte-b9v0tr")},m(M,T){F(M,e,T),t(e,r),t(r,h),t(e,b),t(e,d),t(d,A),t(e,I),t(e,_),P(),t(e,C)},p(M,T){i=M,V!==i[47]&&(N(),V=i[47],P())},d(M){M&&o(e),N()}}}function hn(i){let e,r,s,h,b,d,x,A="Co-Benefit Report",I,_,V,C,P,N,M,T,it,ot,Lt,pe,ct,me,Yt,U,At,lt,st,vt,G,Xt,Ae,z,at,bt,Fe="billion",Ie,Te,dt,ut,gt,Ue,xe,_t,Ve,Ne,v,f,D,R,W,rt,g,K="Contribution to national benefits",Jt,ft,E="Share of total benefits",tt,It,be,ge,ul,ze,Tt,xt,Qt,hs='<p class="section-subtitle">Overview</p>',hl,Et,L,Vt,pl,Zt,ps=i[15].toLowerCase()+"",ml,bl,gl,Re,$t,ms=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${vs}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,_l,_e,El,yl,wl,yt,Cl,te,bs=i[15].toLowerCase()+"",Dl,Sl,ee,gs=`data zones
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,kl,We,le,_s=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${vs}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,Ll,Nt,Es="",Al,Il,Tl,Z,Mt,xl,se,ys=i[15].toLowerCase()+"",Vl,Nl,Ml,ae,ws=`Each local authority is coloured by the predicted per capita benefits/cost,\r
                        showing regional variation in how benefits/cost are distributed. Scroll for zooming in and\r
                        out.`,Pl,ne,Cs=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${us}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Bl,Ke,wt,Ds="",Hl,Pt,ie,Ss='<p class="section-subtitle">Socio-economic factors</p>',Ol,ht,nt,Bt,Fl,re,ks=i[15]?.toLowerCase()+"",Ul,zl,Rl,oe,Ls=`Each chart shows how benefits or costs are distributed across UK local\r
                        authorities in correlation with a specific household social-economic factor.`,Wl,$,ce,As=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${us}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Kl,de,Is="Legend:",ql,Gl,jl,Ee,Ts="The scatter points are coloured by nation. Click the buttons below to filter.",Yl,O,Xl,Jl,Ht,Ql,Zl,Ot,$l,ts,Ft,es,ls,Ut,ss,as,ns,is,zt,xs="Reset",rs,Rt,Vs=`<p style="margin: 0 0 0.5rem 0;"><strong>Discrete scales:</strong> The first set of
                            socio-economic factors are using categorical values where the x-axis is non-linear.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots
                            represent modelled associations and should not be interpreted as direct causal
                            relationships.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Aggregated data:</strong> Each socio-economic factor
                            for a given local authority is aggregated from the data zones within its boundary.</p>`,os,fe,Wt,qe,ve,Kt,cs,Ns;e=new Ta({});let j=i[4]&&ha(i);function Ms(c,S){return c[4]>0?rn:nn}let Ge=Ms(i),Ct=Ge(i),Y=i[4]&&pa(i);function Ps(c,S){return c[4]>0?cn:on}let je=Ps(i),Dt=je(i),X=i[4]&&ma(i),J=i[9]&&ba(i);function Bs(c,S){return c[4]>0?fn:dn}let Ye=Bs(i),St=Ye(i);function Hs(c,S){return c[4]>0?un:vn}let Xe=Hs(i),kt=Xe(i),Q=i[7]&&_a(i),ye=aa(fa),q=[];for(let c=0;c<ye.length;c+=1)q[c]=Ea(ua(i,ye,c));return ve=new en({}),{c(){Zs(e.$$.fragment),r=p(),s=a("div"),h=a("div"),b=a("div"),d=a("div"),x=a("p"),x.textContent=A,I=p(),_=a("div"),V=a("h1"),C=a("img"),N=p(),M=a("div"),T=p(),it=y(i[15]),ot=p(),Lt=a("div"),pe=p(),ct=a("p"),me=y(i[16]),Yt=p(),U=a("div"),At=a("div"),lt=a("div"),st=a("div"),vt=a("div"),G=a("img"),Ae=p(),z=a("div"),j&&j.c(),at=p(),bt=a("span"),bt.textContent=Fe,Ie=p(),Ct.c(),Te=p(),dt=a("div"),ut=a("div"),gt=a("img"),xe=p(),_t=a("div"),Y&&Y.c(),Ve=p(),Dt.c(),Ne=p(),v=a("div"),f=a("div"),D=a("img"),W=p(),X&&X.c(),rt=p(),g=a("div"),g.textContent=K,Jt=p(),ft=a("h3"),ft.textContent=E,tt=p(),It=a("div"),be=p(),ge=a("div"),ul=p(),J&&J.c(),ze=p(),Tt=a("div"),xt=a("div"),Qt=a("div"),Qt.innerHTML=hs,hl=p(),Et=a("div"),L=a("div"),Vt=a("h3"),pl=y("Total "),Zt=a("span"),ml=y(ps),bl=y(" over time 2025-2050"),gl=p(),St.c(),Re=p(),$t=a("div"),$t.innerHTML=ms,_l=p(),_e=a("div"),El=p(),yl=a("br"),wl=p(),yt=a("h3"),Cl=y("Distribution of "),te=a("span"),Dl=y(bs),Sl=y(` across UK\r
                        \r
\r
                        `),ee=a("span"),ee.innerHTML=gs,kl=p(),kt.c(),We=p(),le=a("div"),le.innerHTML=_s,Ll=p(),Nt=a("div"),Nt.innerHTML=Es,Al=p(),Il=a("br"),Tl=p(),Z=a("div"),Mt=a("h3"),xl=y("Per Capita "),se=a("span"),Vl=y(ys),Nl=y(" by UK local authorities"),Ml=p(),ae=a("p"),ae.textContent=ws,Pl=p(),ne=a("div"),ne.innerHTML=Cs,Bl=p(),Q&&Q.c(),Ke=p(),wt=a("div"),wt.innerHTML=Ds,Hl=p(),Pt=a("div"),ie=a("div"),ie.innerHTML=Ss,Ol=p(),ht=a("div"),nt=a("div"),Bt=a("h3"),Fl=y("How "),re=a("span"),Ul=y(ks),zl=y(` vary by household social-economic\r
                        factors`),Rl=p(),oe=a("p"),oe.textContent=Ls,Wl=p(),$=a("div"),ce=a("div"),ce.innerHTML=As,Kl=p(),de=a("strong"),de.textContent=Is,ql=p(),Gl=a("br"),jl=p(),Ee=a("span"),Ee.textContent=Ts,Yl=p(),O=a("div"),Xl=a("br"),Jl=p(),Ht=a("button"),Ql=y("Scotland"),Zl=p(),Ot=a("button"),$l=y("Northern Ireland"),ts=p(),Ft=a("button"),es=y("England"),ls=p(),Ut=a("button"),ss=y("Wales"),as=p(),ns=a("br"),is=p(),zt=a("button"),zt.textContent=xs,rs=p(),Rt=a("div"),Rt.innerHTML=Vs,os=p(),fe=a("div"),Wt=a("div");for(let c=0;c<q.length;c+=1)q[c].c();qe=p(),Zs(ve.$$.fragment),this.h()},l(c){$s(e.$$.fragment,c),r=m(c),s=n(c,"DIV",{class:!0});var S=u(s);h=n(S,"DIV",{class:!0});var B=u(h);b=n(B,"DIV",{class:!0});var ue=u(b);d=n(ue,"DIV",{class:!0});var Je=u(d);x=n(Je,"P",{class:!0,"data-svelte-h":!0}),k(x)!=="svelte-1flv0v9"&&(x.textContent=A),I=m(Je),_=n(Je,"DIV",{class:!0});var we=u(_);V=n(we,"H1",{class:!0});var Ce=u(V);C=n(Ce,"IMG",{src:!0,alt:!0,class:!0}),N=m(Ce),M=n(Ce,"DIV",{style:!0}),u(M).forEach(o),T=m(Ce),it=w(Ce,i[15]),Ce.forEach(o),ot=m(we),Lt=n(we,"DIV",{style:!0}),u(Lt).forEach(o),pe=m(we),ct=n(we,"P",{class:!0});var Os=u(ct);me=w(Os,i[16]),Os.forEach(o),we.forEach(o),Je.forEach(o),Yt=m(ue),U=n(ue,"DIV",{class:!0});var qt=u(U);At=n(qt,"DIV",{class:!0});var Fs=u(At);lt=n(Fs,"DIV",{class:!0});var De=u(lt);st=n(De,"DIV",{class:!0});var Qe=u(st);vt=n(Qe,"DIV",{class:!0});var Ze=u(vt);G=n(Ze,"IMG",{class:!0,src:!0,alt:!0}),Ae=m(Ze),z=n(Ze,"DIV",{class:!0});var $e=u(z);j&&j.l($e),at=m($e),bt=n($e,"SPAN",{class:!0,"data-svelte-h":!0}),k(bt)!=="svelte-tlhydp"&&(bt.textContent=Fe),$e.forEach(o),Ze.forEach(o),Ie=m(Qe),Ct.l(Qe),Qe.forEach(o),Te=m(De),dt=n(De,"DIV",{class:!0});var tl=u(dt);ut=n(tl,"DIV",{class:!0});var el=u(ut);gt=n(el,"IMG",{class:!0,src:!0,alt:!0}),xe=m(el),_t=n(el,"DIV",{class:!0});var Us=u(_t);Y&&Y.l(Us),Us.forEach(o),el.forEach(o),Ve=m(tl),Dt.l(tl),tl.forEach(o),Ne=m(De),v=n(De,"DIV",{class:!0});var ll=u(v);f=n(ll,"DIV",{class:!0});var sl=u(f);D=n(sl,"IMG",{class:!0,src:!0,alt:!0}),W=m(sl),X&&X.l(sl),sl.forEach(o),rt=m(ll),g=n(ll,"DIV",{class:!0,"data-svelte-h":!0}),k(g)!=="svelte-1v3rfza"&&(g.textContent=K),ll.forEach(o),De.forEach(o),Fs.forEach(o),Jt=m(qt),ft=n(qt,"H3",{class:!0,"data-svelte-h":!0}),k(ft)!=="svelte-1vkchgj"&&(ft.textContent=E),tt=m(qt),It=n(qt,"DIV",{class:!0}),u(It).forEach(o),be=m(qt),ge=n(qt,"DIV",{class:!0}),u(ge).forEach(o),qt.forEach(o),ue.forEach(o),B.forEach(o),ul=m(S),J&&J.l(S),ze=m(S),Tt=n(S,"DIV",{class:!0});var al=u(Tt);xt=n(al,"DIV",{id:!0});var nl=u(xt);Qt=n(nl,"DIV",{class:!0,"data-svelte-h":!0}),k(Qt)!=="svelte-ll1i43"&&(Qt.innerHTML=hs),hl=m(nl),Et=n(nl,"DIV",{id:!0,class:!0});var il=u(Et);L=n(il,"DIV",{class:!0});var H=u(L);Vt=n(H,"H3",{class:!0});var rl=u(Vt);pl=w(rl,"Total "),Zt=n(rl,"SPAN",{style:!0});var zs=u(Zt);ml=w(zs,ps),zs.forEach(o),bl=w(rl," over time 2025-2050"),rl.forEach(o),gl=m(H),St.l(H),Re=m(H),$t=n(H,"DIV",{class:!0,"data-svelte-h":!0}),k($t)!=="svelte-1yzemw8"&&($t.innerHTML=ms),_l=m(H),_e=n(H,"DIV",{class:!0}),u(_e).forEach(o),El=m(H),yl=n(H,"BR",{}),wl=m(H),yt=n(H,"H3",{class:!0});var Me=u(yt);Cl=w(Me,"Distribution of "),te=n(Me,"SPAN",{style:!0});var Rs=u(te);Dl=w(Rs,bs),Rs.forEach(o),Sl=w(Me,` across UK\r
                        \r
\r
                        `),ee=n(Me,"SPAN",{class:!0,"data-svelte-h":!0}),k(ee)!=="svelte-7glovi"&&(ee.innerHTML=gs),Me.forEach(o),kl=m(H),kt.l(H),We=m(H),le=n(H,"DIV",{class:!0,"data-svelte-h":!0}),k(le)!=="svelte-1yzemw8"&&(le.innerHTML=_s),Ll=m(H),Nt=n(H,"DIV",{class:!0,"data-svelte-h":!0}),k(Nt)!=="svelte-17463th"&&(Nt.innerHTML=Es),Al=m(H),Il=n(H,"BR",{}),H.forEach(o),Tl=m(il),Z=n(il,"DIV",{class:!0});var pt=u(Z);Mt=n(pt,"H3",{class:!0});var ol=u(Mt);xl=w(ol,"Per Capita "),se=n(ol,"SPAN",{style:!0});var Ws=u(se);Vl=w(Ws,ys),Ws.forEach(o),Nl=w(ol," by UK local authorities"),ol.forEach(o),Ml=m(pt),ae=n(pt,"P",{class:!0,"data-svelte-h":!0}),k(ae)!=="svelte-32j67s"&&(ae.textContent=ws),Pl=m(pt),ne=n(pt,"DIV",{class:!0,"data-svelte-h":!0}),k(ne)!=="svelte-1pbiq4x"&&(ne.innerHTML=Cs),Bl=m(pt),Q&&Q.l(pt),Ke=m(pt),wt=n(pt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),k(wt)!=="svelte-1bex1ev"&&(wt.innerHTML=Ds),pt.forEach(o),il.forEach(o),nl.forEach(o),Hl=m(al),Pt=n(al,"DIV",{id:!0});var cl=u(Pt);ie=n(cl,"DIV",{class:!0,"data-svelte-h":!0}),k(ie)!=="svelte-1l51yw7"&&(ie.innerHTML=Ss),Ol=m(cl),ht=n(cl,"DIV",{id:!0,class:!0,style:!0});var dl=u(ht);nt=n(dl,"DIV",{id:!0,class:!0});var Gt=u(nt);Bt=n(Gt,"H3",{class:!0});var fl=u(Bt);Fl=w(fl,"How "),re=n(fl,"SPAN",{style:!0});var Ks=u(re);Ul=w(Ks,ks),Ks.forEach(o),zl=w(fl,` vary by household social-economic\r
                        factors`),fl.forEach(o),Rl=m(Gt),oe=n(Gt,"P",{class:!0,"data-svelte-h":!0}),k(oe)!=="svelte-r5sqj1"&&(oe.textContent=Ls),Wl=m(Gt),$=n(Gt,"DIV",{id:!0,class:!0});var mt=u($);ce=n(mt,"DIV",{class:!0,"data-svelte-h":!0}),k(ce)!=="svelte-131efpe"&&(ce.innerHTML=As),Kl=m(mt),de=n(mt,"STRONG",{style:!0,"data-svelte-h":!0}),k(de)!=="svelte-1s0qlts"&&(de.textContent=Is),ql=m(mt),Gl=n(mt,"BR",{}),jl=m(mt),Ee=n(mt,"SPAN",{"data-svelte-h":!0}),k(Ee)!=="svelte-av8zq9"&&(Ee.textContent=Ts),Yl=m(mt),O=n(mt,"DIV",{class:!0});var et=u(O);Xl=n(et,"BR",{}),Jl=m(et),Ht=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var qs=u(Ht);Ql=w(qs,"Scotland"),qs.forEach(o),Zl=m(et),Ot=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Gs=u(Ot);$l=w(Gs,"Northern Ireland"),Gs.forEach(o),ts=m(et),Ft=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var js=u(Ft);es=w(js,"England"),js.forEach(o),ls=m(et),Ut=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ys=u(Ut);ss=w(Ys,"Wales"),Ys.forEach(o),as=m(et),ns=n(et,"BR",{}),is=m(et),zt=n(et,"BUTTON",{class:!0,"data-svelte-h":!0}),k(zt)!=="svelte-2t5u5r"&&(zt.textContent=xs),et.forEach(o),mt.forEach(o),rs=m(Gt),Rt=n(Gt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),k(Rt)!=="svelte-p1d3q2"&&(Rt.innerHTML=Vs),Gt.forEach(o),os=m(dl),fe=n(dl,"DIV",{id:!0,class:!0});var Xs=u(fe);Wt=n(Xs,"DIV",{id:!0,class:!0});var Js=u(Wt);for(let ds=0;ds<q.length;ds+=1)q[ds].l(Js);Js.forEach(o),Xs.forEach(o),dl.forEach(o),cl.forEach(o),al.forEach(o),S.forEach(o),qe=m(c),$s(ve.$$.fragment,c),this.h()},h(){l(x,"class","page-subtitle svelte-b9v0tr"),He(C.src,P=i[17])||l(C,"src",P),l(C,"alt","Icon"),l(C,"class","heading-icon svelte-b9v0tr"),jt(M,"margin-top","10px"),l(V,"class","page-title svelte-b9v0tr"),jt(Lt,"margin-top","14px"),l(ct,"class","definition svelte-b9v0tr"),l(_,"class","title-container"),l(d,"class","header-text svelte-b9v0tr"),l(G,"class","aggregation-icon-small svelte-b9v0tr"),He(G.src,Xt=vs)||l(G,"src",Xt),l(G,"alt","icon"),l(bt,"class","small svelte-b9v0tr"),l(z,"class","waffle-value svelte-b9v0tr"),l(vt,"class","waffle-value-container svelte-b9v0tr"),l(st,"class","waffle-stat svelte-b9v0tr"),l(gt,"class","aggregation-icon-small svelte-b9v0tr"),He(gt.src,Ue=us)||l(gt,"src",Ue),l(gt,"alt","icon"),l(_t,"class","waffle-value svelte-b9v0tr"),l(ut,"class","waffle-value-container svelte-b9v0tr"),l(dt,"class","waffle-stat svelte-b9v0tr"),l(D,"class","aggregation-icon-small svelte-b9v0tr"),He(D.src,R=tn)||l(D,"src",R),l(D,"alt","icon"),l(f,"class","waffle-value-container svelte-b9v0tr"),l(g,"class","waffle-caption svelte-b9v0tr"),l(v,"class","waffle-stat svelte-b9v0tr"),l(lt,"class","waffle-stats svelte-b9v0tr"),l(At,"class","waffle-label svelte-b9v0tr"),l(ft,"class","component-title"),l(It,"class","waffle-el"),l(ge,"class","waffle-bg svelte-b9v0tr"),l(U,"class","header-waffle-wrapper svelte-b9v0tr"),l(b,"class","header-content svelte-b9v0tr"),l(h,"class","section header svelte-b9v0tr"),l(Qt,"class","section-header"),l(Zt,"style",i[13]),l(Vt,"class","component-title"),l($t,"class","aggregation-icon-container"),l(_e,"class","plot-bar svelte-b9v0tr"),l(te,"style",i[13]),l(ee,"class","tooltip-term"),l(yt,"class","component-title"),l(le,"class","aggregation-icon-container"),l(Nt,"class","plot-bar svelte-b9v0tr"),l(L,"class","component singlevis"),l(se,"style",i[13]),l(Mt,"class","component-title"),l(ae,"class","description svelte-b9v0tr"),l(ne,"class","aggregation-icon-container2 svelte-b9v0tr"),l(wt,"id","map"),l(wt,"class","svelte-b9v0tr"),l(Z,"class","component column"),l(Et,"id","vis-block"),l(Et,"class","svelte-b9v0tr"),l(xt,"id","overview"),l(ie,"class","section-header"),l(re,"style",i[13]),l(Bt,"class","component-title"),l(oe,"class","explanation"),l(ce,"class","aggregation-icon-container2 svelte-b9v0tr"),jt(de,"margin-bottom","0.8rem"),l(Ht,"class","nation-button svelte-b9v0tr"),l(Ht,"data-nation","S"),jt(Ht,"background-color",Le(i[14])[0]),l(Ot,"class","nation-button svelte-b9v0tr"),l(Ot,"data-nation","N"),jt(Ot,"background-color",Le(i[14])[1]),l(Ft,"class","nation-button svelte-b9v0tr"),l(Ft,"data-nation","E"),jt(Ft,"background-color",Le(i[14])[2]),l(Ut,"class","nation-button svelte-b9v0tr"),l(Ut,"data-nation","W"),jt(Ut,"background-color",Le(i[14])[3]),l(zt,"class","reset-button svelte-b9v0tr"),l(O,"class","legend-buttons svelte-b9v0tr"),l($,"id","se-legend"),l($,"class","legend-box svelte-b9v0tr"),l(Rt,"id","se-disclaimer"),l(Rt,"class","disclaimer-box svelte-b9v0tr"),l(nt,"id","se-title"),l(nt,"class","svelte-b9v0tr"),l(Wt,"id","multiple-plots"),l(Wt,"class","svelte-b9v0tr"),l(fe,"id","multiple-comp"),l(fe,"class","svelte-b9v0tr"),l(ht,"id","se-block"),l(ht,"class","component svelte-b9v0tr"),jt(ht,"margin-left","1rem"),l(Pt,"id","compare"),l(Tt,"class","section"),l(s,"class","page-container")},m(c,S){ta(e,c,S),F(c,r,S),F(c,s,S),t(s,h),t(h,b),t(b,d),t(d,x),t(d,I),t(d,_),t(_,V),t(V,C),t(V,N),t(V,M),t(V,T),t(V,it),t(_,ot),t(_,Lt),t(_,pe),t(_,ct),t(ct,me),t(b,Yt),t(b,U),t(U,At),t(At,lt),t(lt,st),t(st,vt),t(vt,G),t(vt,Ae),t(vt,z),j&&j.m(z,null),t(z,at),t(z,bt),t(st,Ie),Ct.m(st,null),t(lt,Te),t(lt,dt),t(dt,ut),t(ut,gt),t(ut,xe),t(ut,_t),Y&&Y.m(_t,null),t(dt,Ve),Dt.m(dt,null),t(lt,Ne),t(lt,v),t(v,f),t(f,D),t(f,W),X&&X.m(f,null),t(v,rt),t(v,g),t(U,Jt),t(U,ft),t(U,tt),t(U,It),i[23](It),t(U,be),t(U,ge),i[24](ge),t(s,ul),J&&J.m(s,null),t(s,ze),t(s,Tt),t(Tt,xt),t(xt,Qt),t(xt,hl),t(xt,Et),t(Et,L),t(L,Vt),t(Vt,pl),t(Vt,Zt),t(Zt,ml),t(Vt,bl),t(L,gl),St.m(L,null),t(L,Re),t(L,$t),t(L,_l),t(L,_e),i[25](_e),t(L,El),t(L,yl),t(L,wl),t(L,yt),t(yt,Cl),t(yt,te),t(te,Dl),t(yt,Sl),t(yt,ee),t(L,kl),kt.m(L,null),t(L,We),t(L,le),t(L,Ll),t(L,Nt),i[26](Nt),t(L,Al),t(L,Il),t(Et,Tl),t(Et,Z),t(Z,Mt),t(Mt,xl),t(Mt,se),t(se,Vl),t(Mt,Nl),t(Z,Ml),t(Z,ae),t(Z,Pl),t(Z,ne),t(Z,Bl),Q&&Q.m(Z,null),t(Z,Ke),t(Z,wt),i[27](wt),t(Tt,Hl),t(Tt,Pt),t(Pt,ie),t(Pt,Ol),t(Pt,ht),t(ht,nt),t(nt,Bt),t(Bt,Fl),t(Bt,re),t(re,Ul),t(Bt,zl),t(nt,Rl),t(nt,oe),t(nt,Wl),t(nt,$),t($,ce),t($,Kl),t($,de),t($,ql),t($,Gl),t($,jl),t($,Ee),t($,Yl),t($,O),t(O,Xl),t(O,Jl),t(O,Ht),t(Ht,Ql),t(O,Zl),t(O,Ot),t(Ot,$l),t(O,ts),t(O,Ft),t(Ft,es),t(O,ls),t(O,Ut),t(Ut,ss),t(O,as),t(O,ns),t(O,is),t(O,zt),t(nt,rs),t(nt,Rt),t(ht,os),t(ht,fe),t(fe,Wt);for(let B=0;B<q.length;B+=1)q[B]&&q[B].m(Wt,null);i[29](s),F(c,qe,S),ta(ve,c,S),Kt=!0,cs||(Ns=Ca(zt,"click",i[18]),cs=!0)},p(c,S){if(c[4]?j?j.p(c,S):(j=ha(c),j.c(),j.m(z,at)):j&&(j.d(1),j=null),Ge!==(Ge=Ms(c))&&(Ct.d(1),Ct=Ge(c),Ct&&(Ct.c(),Ct.m(st,null))),c[4]?Y?Y.p(c,S):(Y=pa(c),Y.c(),Y.m(_t,null)):Y&&(Y.d(1),Y=null),je!==(je=Ps(c))&&(Dt.d(1),Dt=je(c),Dt&&(Dt.c(),Dt.m(dt,null))),c[4]?X?X.p(c,S):(X=ma(c),X.c(),X.m(f,null)):X&&(X.d(1),X=null),c[9]?J?J.p(c,S):(J=ba(c),J.c(),J.m(s,ze)):J&&(J.d(1),J=null),(!Kt||S[0]&8192)&&l(Zt,"style",c[13]),Ye!==(Ye=Bs(c))&&(St.d(1),St=Ye(c),St&&(St.c(),St.m(L,Re))),(!Kt||S[0]&8192)&&l(te,"style",c[13]),Xe!==(Xe=Hs(c))&&(kt.d(1),kt=Xe(c),kt&&(kt.c(),kt.m(L,We))),(!Kt||S[0]&8192)&&l(se,"style",c[13]),c[7]?Q?Q.p(c,S):(Q=_a(c),Q.c(),Q.m(Z,Ke)):Q&&(Q.d(1),Q=null),(!Kt||S[0]&8192)&&l(re,"style",c[13]),S[0]&2){ye=aa(fa);let B;for(B=0;B<ye.length;B+=1){const ue=ua(c,ye,B);q[B]?q[B].p(ue,S):(q[B]=Ea(ue),q[B].c(),q[B].m(Wt,null))}for(;B<q.length;B+=1)q[B].d(1);q.length=ye.length}},i(c){Kt||(ea(e.$$.fragment,c),ea(ve.$$.fragment,c),Kt=!0)},o(c){la(e.$$.fragment,c),la(ve.$$.fragment,c),Kt=!1},d(c){c&&(o(r),o(s),o(qe)),sa(e,c),j&&j.d(),Ct.d(),Y&&Y.d(),Dt.d(),X&&X.d(),i[23](null),i[24](null),J&&J.d(),St.d(),i[25](null),kt.d(),i[26](null),Q&&Q.d(),i[27](null),Da(q,c),i[29](null),sa(ve,c),cs=!1,Ns()}}}let ke=400;function ya(i){return{overview:"Overview",compare:"Compare by socio-economic factor"}[i]||""}function pn(i,e,r){let s,h,b,d,x,A={},{data:I}=e;const _=I.coBenefit,V=ca.find(v=>v.id===_)?.label??_,C=Ua.find(v=>v.id===_)?.def??_;let P,N,M,T,it,ot,Lt,pe,ct=!1,me,Yt,U;Ae().then(()=>{let v=JSON.parse(JSON.stringify(Be(_)));v.shift(),v=v.reverse(),r(7,Yt=new Fa(N,"LAD",U,"total",!0,"LAD",!1,v)),Yt.initMap()});let At=za(_),lt=!1,st="";const vt=["overview","compare"];let G=null;function Xt(){const v=window.scrollY;r(9,lt=v>250);for(const f of vt){const D=document.getElementById(f);if(!D)continue;const R=D.getBoundingClientRect();if(R.top<=150&&R.bottom>=150){st!==f&&Oa.capture("section entered (coben)",{section_name:f}),r(10,st=f);break}}}Qs(()=>(window.addEventListener("scroll",Xt),Xt(),()=>window.removeEventListener("scroll",Xt))),Sa(()=>{window.removeEventListener("scroll",Xt)});async function Ae(){P=await Se(Ya(_)),M=await Se(Xa(_)),it=await Se(Ja()),it=it.sort((f,D)=>D.total-f.total),ot=await Se(Qa()),ot=ot.sort((f,D)=>D.total_value-f.total_value);const v=ot.find(f=>f.co_benefit_type===_);r(6,me=v?v.value_per_capita:null),N=await Se(Za(_)),console.log("data",N),Lt=await Se($a()),r(5,pe=Lt[0].total_value),da.forEach(f=>{M[f]=+M[f]}),r(4,T=xa(P,f=>f.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),r(20,ct=!0)}let z,at;function bt(v,f){if(!z)return;const D=20,R=15,W=Math.floor(200/D),rt=R*W,g=it.reduce((E,tt)=>E+tt.total,0),K=[];for(const E of it){const tt=Math.round(Math.abs(E.total)/g*rt),It=E.total<0;for(let be=0;be<tt;be++)K.push({type:E.co_benefit_type,negative:It})}for(;K.length<rt;)K.push({type:"empty"});K.sort((E,tt)=>E.type==="empty"?1:tt.type==="empty"?-1:E.negative&&!tt.negative?1:!E.negative&&tt.negative?-1:0);const Jt=K.map((E,tt)=>({x:tt%R,y:Math.floor(tt/R),...E})),ft=Pe({width:D*R,height:D*W,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:ca.map(E=>E.id),range:qa,unknown:"#eee",legend:!1},marks:[ra(Jt.filter(E=>!E.negative),{x:E=>E.x*D,y:E=>E.y*D,fill:"type",fillOpacity:E=>f&&E.type!==f?.15:1}),ra(Jt.filter(E=>E.negative),{x:E=>E.x*D,y:E=>E.y*D,stroke:"type",strokeOpacity:E=>f&&E.type!==f?.15:1,strokeWidth:1,fill:"none"})]});at&&(r(12,at.style.width=`${D*R}px`,at),r(12,at.style.height=`${v-100}px`,at)),r(11,z.innerHTML="",z),z.append(ft)}function Fe(){d?.append(Pe({height:ke/1.5,...Ga,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazones",grid:!0},x:{label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Pa(N,sn({y:"count"},{x:v=>v.total*1e3,fill:Be(_)[0],tip:!0,fillOpacity:.5,stroke:Be(_)[0],strokeWidth:2})),oa({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),vl([0],{stroke:"#333",strokeWidth:.75})]}))}function Ie(){let v=P.flatMap(f=>Ra.map(D=>({time:D,value:f[D],total:f.total,scenario:f.scenario})));x?.append(Pe({height:ke/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:f=>f.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[an(v,Ba({y:"sum"},{x:"time",y:f=>f.value/1e3,fill:Be(_)[0],tip:{format:{y:f=>`${f.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),oa({anchor:"left",grid:!0,label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"}),vl([0],{stroke:"#333",strokeWidth:.75})]}))}function Te(){const v=f=>f.LAD.startsWith("S")?"S":f.LAD.startsWith("N")?"N":f.LAD.startsWith("E")?"E":"W";da.forEach((f,D)=>{let R;if(Wa.includes(f)){const W=ja[f],rt=W?Object.keys(W).map(Number):N.filter(g=>g.SEFMAME==f).map(g=>g.SE);R=Pe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:ke/1.4,width:ke*1.2,marginLeft:70,marginBottom:f==="Typology"?80:60,marginRight:20,marginTop:30,x:{domain:rt,label:fs(f),tickFormat:g=>W?.[g]??g,tickRotate:f==="Typology"?-20:0},y:{label:"£, thousand",labelArrow:"none"},color:{legend:!0},marks:[ln(N.filter(g=>g.SEFMAME==f),{x:"SE",y:g=>g.total*1e3,r:1.8,fillOpacity:.7,fill:Ka(_)}),vl([0],{stroke:"#333",strokeWidth:.75})]})}else{let W=N.filter(g=>g.SEFMAME===f&&(G===null||v(g)==G)),rt=W.reduce(function(g,K){return g.SE<K.SE?g:K});R=Pe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:ke/1.4,width:ke*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:30,x:{label:fs(f),labelArrow:!1,labelAnchor:"center"},y:{label:"£, thousand",labelArrow:!1},color:{legend:!0},marks:[D==6?na(["Each dot represents a Local Authority District (LAD)."],{x:["Under_35","Over_65","Unemployment"].includes(f)?rt.SE*100:rt.SE,y:rt.total*1e3,textPadding:6,opacity:.5,lineWidth:12}):[],va(W,{x:g=>["Under_35","Over_65","Unemployment"].includes(f)?g.SE*100:g.SE,y:g=>g.total*1e3,fill:g=>{const K=["S","N","E","W"].indexOf(v(g));return Le(_)[K]},r:2,fillOpacity:.1,channels:{LAD:"LAD"}}),va(W,{x:g=>["Under_35","Over_65","Unemployment"].includes(f)?g.SE*100:g.SE,y:g=>g.total*1e3,fill:g=>{const K=["S","N","E","W"].indexOf(v(g));return Le(_)[K]},r:3.5,fillOpacity:1}),Va({label:fs(f),labelArrow:!1,labelAnchor:"center"}),vl([0],{stroke:"#333",strokeWidth:.75}),Na([0],{stroke:"#333",strokeWidth:.75}),na(W,Ma({x:g=>["Under_35","Over_65","Unemployment"].includes(f)?g.SE*100:g.SE,y:g=>g.total*1e3,title:g=>[`LAD: ${g.LAD}`,"Click to navigate to page."].join(`
`)}))]}),console.log(ia(R).select('g[aria-label="dot"]').selectAll("circle")),ia(R).selectAll('g[aria-label="dot"]').selectAll("circle").style("cursor","pointer").on("click",(g,K,Jt)=>{let ft=W[K].LAD;window.open(`${Ha}/location?location=${ft}`,"_blank").focus()})}A[f]?.append(R)})}function dt(){r(21,G=null)}Qs(()=>{document.querySelectorAll(".nation-button").forEach(v=>{v.addEventListener("click",()=>{const f=v.getAttribute("data-nation");G===f?(r(21,G=null),v.classList.remove("active")):(r(21,G=f),document.querySelectorAll(".nation-button").forEach(D=>D.classList.remove("active")),v.classList.add("active"))})})});function ut(v){he[v?"unshift":"push"](()=>{z=v,r(11,z)})}function gt(v){he[v?"unshift":"push"](()=>{at=v,r(12,at)})}function Ue(v){he[v?"unshift":"push"](()=>{x=v,r(0,x)})}function xe(v){he[v?"unshift":"push"](()=>{d=v,r(3,d)})}function _t(v){he[v?"unshift":"push"](()=>{U=v,r(8,U)})}function Ve(v,f){he[v?"unshift":"push"](()=>{A[f.id]=v,r(1,A)})}function Ne(v){he[v?"unshift":"push"](()=>{b=v,r(2,b)})}return i.$$set=v=>{"data"in v&&r(19,I=v.data)},i.$$.update=()=>{i.$$.dirty[0]&1048577&&ct&&(x?.firstChild?.remove(),Fe(),Ie(),bt(300,_)),i.$$.dirty[0]&3145730&&ct&&G!==void 0&&(Object.values(A).forEach(v=>{v.firstChild?.remove()}),Te()),i.$$.dirty[0]&4194304&&r(13,h=`color: ${s}; font-weight: bold; font-size: 22px;`)},r(22,s=Be(_)[0]),[x,A,b,d,T,pe,me,Yt,U,lt,st,z,at,h,_,V,C,At,dt,I,ct,G,s,ut,gt,Ue,xe,_t,Ve,Ne]}class Nn extends Aa{constructor(e){super(),Ia(this,e,pn,hn,wa,{data:19},null,[-1,-1])}}export{Nn as component};
