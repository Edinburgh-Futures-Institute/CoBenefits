import{s as Ne,d as _,x as Te,y as ue,i as ee,b as l,z as J,q as t,g as E,c,e as x,p as F,j as L,h as r,v as Me,A as fe,w as De,n as Pe,f as Se,t as xe,B as Ie,C as Ve}from"../chunks/CrcYK4S3.js";import{S as Fe,i as Ue,d as we,t as He,a as Oe,m as je,c as qe,b as ze}from"../chunks/CjO9S5jK.js";import{N as Ge,e as de}from"../chunks/PZEsZt2J.js";import"../chunks/DRyxMU8n.js";import"../chunks/BzrjCcuE.js";import{M as Ye}from"../chunks/CHh-3C3n.js";import{g as re,d as be,e as Ce,f as Re,h as Ze}from"../chunks/bSPe4o60.js";import{C as ve,a as Je,S as ke,g as Be}from"../chunks/BKBYTH2a.js";function ye(i,e,a){const n=i.slice();return n[30]=e[a],n}function Ee(i,e,a){const n=i.slice();return n[27]=e[a],n}function Ke(i){let e,a,n="Social Economic Factor",p,g,C=de(ke),u=[];for(let f=0;f<C.length;f+=1)u[f]=Le(ye(i,C,f));return{c(){e=r("div"),a=r("h2"),a.textContent=n,p=L(),g=r("div");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=c(f,"DIV",{class:!0});var s=x(e);a=c(s,"H2",{"data-svelte-h":!0}),F(a)!=="svelte-1ld89ev"&&(a.textContent=n),p=E(s),g=c(s,"DIV",{id:!0,class:!0});var d=x(g);for(let h=0;h<u.length;h+=1)u[h].l(d);d.forEach(_),s.forEach(_),this.h()},h(){t(g,"id","time"),t(g,"class","svelte-1fccofk"),t(e,"class","tabcontent svelte-1fccofk")},m(f,s){ee(f,e,s),l(e,a),l(e,p),l(e,g);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(g,null)},p(f,s){if(s[0]&514){C=de(ke);let d;for(d=0;d<C.length;d+=1){const h=ye(f,C,d);u[d]?u[d].p(h,s):(u[d]=Le(h),u[d].c(),u[d].m(g,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=C.length}},d(f){f&&_(e),De(u,f)}}}function Qe(i){let e,a,n,p="Co-Benefits",g,C,u,f,s="Time",d,h,b,I,D,T="Total",B,y,M,q,V="2025-2029",O,N,z,G,U="2030-2034",ae,Y,o,A,R="2035-2039",X,te,K,H,se="2040-2044",$,le,Q,j,oe="2045-2049",ce,ie,Z=de(ve.concat({id:"total",label:"Total"})),m=[];for(let v=0;v<Z.length;v+=1)m[v]=Ae(Ee(i,Z,v));return{c(){e=r("div"),a=r("div"),n=r("h2"),n.textContent=p,g=L();for(let v=0;v<m.length;v+=1)m[v].c();C=L(),u=r("div"),f=r("h2"),f.textContent=s,d=L(),h=r("div"),b=r("label"),I=r("input"),D=r("span"),D.textContent=T,B=L(),y=r("label"),M=r("input"),q=r("span"),q.textContent=V,O=L(),N=r("label"),z=r("input"),G=r("span"),G.textContent=U,ae=L(),Y=r("label"),o=r("input"),A=r("span"),A.textContent=R,X=L(),te=r("label"),K=r("input"),H=r("span"),H.textContent=se,$=L(),le=r("label"),Q=r("input"),j=r("span"),j.textContent=oe,this.h()},l(v){e=c(v,"DIV",{class:!0});var S=x(e);a=c(S,"DIV",{class:!0});var k=x(a);n=c(k,"H2",{"data-svelte-h":!0}),F(n)!=="svelte-uglilz"&&(n.textContent=p),g=E(k);for(let ge=0;ge<m.length;ge+=1)m[ge].l(k);k.forEach(_),C=E(S),u=c(S,"DIV",{class:!0});var w=x(u);f=c(w,"H2",{"data-svelte-h":!0}),F(f)!=="svelte-hletp"&&(f.textContent=s),d=E(w),h=c(w,"DIV",{id:!0,class:!0});var P=x(h);b=c(P,"LABEL",{class:!0});var ne=x(b);I=c(ne,"INPUT",{type:!0,name:!0,class:!0}),D=c(ne,"SPAN",{class:!0,"data-svelte-h":!0}),F(D)!=="svelte-2fqrek"&&(D.textContent=T),ne.forEach(_),B=E(P),y=c(P,"LABEL",{class:!0});var W=x(y);M=c(W,"INPUT",{type:!0,name:!0,class:!0}),q=c(W,"SPAN",{class:!0,"data-svelte-h":!0}),F(q)!=="svelte-177152l"&&(q.textContent=V),W.forEach(_),O=E(P),N=c(P,"LABEL",{class:!0});var he=x(N);z=c(he,"INPUT",{type:!0,name:!0,class:!0}),G=c(he,"SPAN",{class:!0,"data-svelte-h":!0}),F(G)!=="svelte-sne3j9"&&(G.textContent=U),he.forEach(_),ae=E(P),Y=c(P,"LABEL",{class:!0});var pe=x(Y);o=c(pe,"INPUT",{type:!0,name:!0,class:!0}),A=c(pe,"SPAN",{class:!0,"data-svelte-h":!0}),F(A)!=="svelte-13ifhof"&&(A.textContent=R),pe.forEach(_),X=E(P),te=c(P,"LABEL",{class:!0});var me=x(te);K=c(me,"INPUT",{type:!0,name:!0,class:!0}),H=c(me,"SPAN",{class:!0,"data-svelte-h":!0}),F(H)!=="svelte-1pug1mv"&&(H.textContent=se),me.forEach(_),$=E(P),le=c(P,"LABEL",{class:!0});var _e=x(le);Q=c(_e,"INPUT",{type:!0,name:!0,class:!0}),j=c(_e,"SPAN",{class:!0,"data-svelte-h":!0}),F(j)!=="svelte-3f05xd"&&(j.textContent=oe),_e.forEach(_),P.forEach(_),w.forEach(_),S.forEach(_),this.h()},h(){t(a,"class","component"),t(I,"type","radio"),t(I,"name","toggle"),I.value="total",I.checked=!0,t(I,"class","svelte-1fccofk"),t(D,"class","svelte-1fccofk"),t(b,"class","time-radio svelte-1fccofk"),t(M,"type","radio"),t(M,"name","toggle"),M.value="Y2025_2029",t(M,"class","svelte-1fccofk"),t(q,"class","svelte-1fccofk"),t(y,"class","time-radio svelte-1fccofk"),t(z,"type","radio"),t(z,"name","toggle"),z.value="Y2030_2034",t(z,"class","svelte-1fccofk"),t(G,"class","svelte-1fccofk"),t(N,"class","time-radio svelte-1fccofk"),t(o,"type","radio"),t(o,"name","toggle"),o.value="Y2035_2039",t(o,"class","svelte-1fccofk"),t(A,"class","svelte-1fccofk"),t(Y,"class","time-radio svelte-1fccofk"),t(K,"type","radio"),t(K,"name","toggle"),K.value="Y2040_2044",t(K,"class","svelte-1fccofk"),t(H,"class","svelte-1fccofk"),t(te,"class","time-radio svelte-1fccofk"),t(Q,"type","radio"),t(Q,"name","toggle"),Q.value="Y2045_2049",t(Q,"class","svelte-1fccofk"),t(j,"class","svelte-1fccofk"),t(le,"class","time-radio svelte-1fccofk"),t(h,"id","time"),t(h,"class","svelte-1fccofk"),t(u,"class","component"),t(e,"class","tabcontent svelte-1fccofk")},m(v,S){ee(v,e,S),l(e,a),l(a,n),l(a,g);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(a,null);l(e,C),l(e,u),l(u,f),l(u,d),l(u,h),l(h,b),l(b,I),l(b,D),l(h,B),l(h,y),l(y,M),l(y,q),l(h,O),l(h,N),l(N,z),l(N,G),l(h,ae),l(h,Y),l(Y,o),l(Y,A),l(h,X),l(h,te),l(te,K),l(te,H),l(h,$),l(h,le),l(le,Q),l(le,j),ce||(ie=[J(I,"change",i[7]),J(M,"change",i[7]),J(z,"change",i[7]),J(o,"change",i[7]),J(K,"change",i[7]),J(Q,"change",i[7])],ce=!0)},p(v,S){if(S[0]&64){Z=de(ve.concat({id:"total",label:"Total"}));let k;for(k=0;k<Z.length;k+=1){const w=Ee(v,Z,k);m[k]?m[k].p(w,S):(m[k]=Ae(w),m[k].c(),m[k].m(a,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=Z.length}},d(v){v&&_(e),De(m,v),ce=!1,Te(ie)}}}function Le(i){let e,a,n,p,g,C,u,f;return{c(){e=r("input"),n=L(),p=r("label"),g=xe(i[30]),C=r("br"),this.h()},l(s){e=c(s,"INPUT",{type:!0,id:!0,name:!0,class:!0}),n=E(s),p=c(s,"LABEL",{for:!0});var d=x(p);g=Se(d,i[30]),d.forEach(_),C=c(s,"BR",{}),this.h()},h(){t(e,"type","radio"),t(e,"id","html"),t(e,"name","fav_language"),e.value=i[30],e.checked=a=i[30]==i[1],t(e,"class","svelte-1fccofk"),t(p,"for","html")},m(s,d){ee(s,e,d),ee(s,n,d),ee(s,p,d),l(p,g),ee(s,C,d),u||(f=J(e,"change",i[9]),u=!0)},p(s,d){d[0]&2&&a!==(a=s[30]==s[1])&&(e.checked=a)},d(s){s&&(_(e),_(n),_(p),_(C)),u=!1,f()}}}function We(i){let e,a;return{c(){e=r("img"),this.h()},l(n){e=c(n,"IMG",{style:!0,class:!0,src:!0}),this.h()},h(){Ve(e,"opacity","0"),t(e,"class","icon svelte-1fccofk"),Ie(e.src,a=Be("Air quality"))||t(e,"src",a)},m(n,p){ee(n,e,p)},d(n){n&&_(e)}}}function Xe(i){let e,a;return{c(){e=r("img"),this.h()},l(n){e=c(n,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){t(e,"alt","cobenefit icon"),t(e,"class","icon svelte-1fccofk"),Ie(e.src,a=Be(i[27].id))||t(e,"src",a)},m(n,p){ee(n,e,p)},d(n){n&&_(e)}}}function Ae(i){let e,a,n,p,g,C=i[27].label+"",u,f,s,d,h,b;function I(B,y){return B[27].id!="total"?Xe:We}let T=I(i)(i);return{c(){e=r("div"),T.c(),a=L(),n=r("input"),p=L(),g=r("label"),u=xe(C),f=L(),s=r("br"),d=L(),this.h()},l(B){e=c(B,"DIV",{class:!0});var y=x(e);T.l(y),a=E(y),n=c(y,"INPUT",{type:!0,name:!0}),p=E(y),g=c(y,"LABEL",{for:!0});var M=x(g);u=Se(M,C),M.forEach(_),f=E(y),s=c(y,"BR",{}),d=E(y),y.forEach(_),this.h()},h(){t(n,"type","radio"),t(n,"name","cobenef"),n.value=i[27].id,n.checked=!0,t(g,"for","css"),t(e,"class","checkbox-div svelte-1fccofk")},m(B,y){ee(B,e,y),T.m(e,null),l(e,a),l(e,n),l(e,p),l(e,g),l(g,u),l(e,f),l(e,s),l(e,d),h||(b=J(n,"change",i[6]),h=!0)},p:Pe,d(B){B&&_(e),T.d(),h=!1,b()}}}function $e(i){let e,a,n,p,g=`<h2>Map</h2> <p>This interactive map allows to explore both the co-benefit values and the socio-economic factor at the local
            authorities and datazones levels.</p>`,C,u,f,s,d="",h,b,I="",D,T,B="Export",y,M,q,V,O,N,z="CoBenefits",G,U,ae=`Socio-Economic
                    Factors`,Y,o,A,R,X,te="Local Authorities",K,H,se,$,le="Data Zones",Q,j,oe,ce;e=new Ge({});function ie(v,S){if(v[0]=="Cobenefit")return Qe;if(v[0]=="SEF")return Ke}let Z=ie(i),m=Z&&Z(i);return{c(){ze(e.$$.fragment),a=L(),n=r("div"),p=r("div"),p.innerHTML=g,C=L(),u=r("div"),f=r("div"),s=r("div"),s.innerHTML=d,h=L(),b=r("div"),b.innerHTML=I,D=L(),T=r("button"),T.textContent=B,y=L(),M=r("div"),q=L(),V=r("div"),O=r("div"),N=r("button"),N.textContent=z,G=L(),U=r("button"),U.textContent=ae,Y=L(),o=r("div"),A=r("input"),R=L(),X=r("label"),X.textContent=te,K=L(),H=r("input"),se=L(),$=r("label"),$.textContent=le,Q=L(),m&&m.c(),this.h()},l(v){qe(e.$$.fragment,v),a=E(v),n=c(v,"DIV",{class:!0});var S=x(n);p=c(S,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),F(p)!=="svelte-kh4rrc"&&(p.innerHTML=g),C=E(S),u=c(S,"DIV",{id:!0,class:!0});var k=x(u);f=c(k,"DIV",{class:!0,id:!0});var w=x(f);s=c(w,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),F(s)!=="svelte-1ej9vmv"&&(s.innerHTML=d),h=E(w),b=c(w,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),F(b)!=="svelte-1j653gg"&&(b.innerHTML=I),D=E(w),T=c(w,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),F(T)!=="svelte-zgluur"&&(T.textContent=B),y=E(w),M=c(w,"DIV",{id:!0,class:!0}),x(M).forEach(_),w.forEach(_),q=E(k),V=c(k,"DIV",{class:!0,id:!0});var P=x(V);O=c(P,"DIV",{class:!0});var ne=x(O);N=c(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),F(N)!=="svelte-14nmzoo"&&(N.textContent=z),G=E(ne),U=c(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),F(U)!=="svelte-xxvynj"&&(U.textContent=ae),ne.forEach(_),Y=E(P),o=c(P,"DIV",{class:!0});var W=x(o);A=c(W,"INPUT",{type:!0,name:!0}),R=E(W),X=c(W,"LABEL",{for:!0,"data-svelte-h":!0}),F(X)!=="svelte-p8irzv"&&(X.textContent=te),K=E(W),H=c(W,"INPUT",{type:!0,name:!0}),se=E(W),$=c(W,"LABEL",{for:!0,"data-svelte-h":!0}),F($)!=="svelte-1ytveqc"&&($.textContent=le),W.forEach(_),Q=E(P),m&&m.l(P),P.forEach(_),k.forEach(_),S.forEach(_),this.h()},h(){t(p,"class","component"),t(p,"id","heaser"),t(s,"id","map"),t(s,"class","svelte-1fccofk"),t(b,"id","map-legend"),t(b,"class","svelte-1fccofk"),t(T,"id","export-button"),t(T,"class","svelte-1fccofk"),t(M,"id","tooltip"),t(M,"class","tooltip svelte-1fccofk"),t(f,"class","component column svelte-1fccofk"),t(f,"id","mapComp"),t(N,"class","tablinks svelte-1fccofk"),N.value="Cobenefit",ue(N,"active",i[0]=="Cobenefit"),t(U,"class","tablinks svelte-1fccofk"),U.value="SEF",ue(U,"active",i[0]=="SEF"),t(O,"class","tab svelte-1fccofk"),t(A,"type","radio"),t(A,"name","granularity"),A.value="LAD",A.checked=!0,t(X,"for","LAD"),t(H,"type","radio"),t(H,"name","granularity"),H.value="LSOA",t($,"for","LSOA"),t(o,"class","component"),t(V,"class","component column svelte-1fccofk"),t(V,"id","control-panel"),t(u,"id","map-row"),t(u,"class","row svelte-1fccofk"),t(n,"class","page-container svelte-1fccofk")},m(v,S){je(e,v,S),ee(v,a,S),ee(v,n,S),l(n,p),l(n,C),l(n,u),l(u,f),l(f,s),i[18](s),l(f,h),l(f,b),i[19](b),l(f,D),l(f,T),i[20](T),l(f,y),l(f,M),l(u,q),l(u,V),l(V,O),l(O,N),l(O,G),l(O,U),l(V,Y),l(V,o),l(o,A),l(o,R),l(o,X),l(o,K),l(o,H),l(o,se),l(o,$),l(V,Q),m&&m.m(V,null),i[21](n),j=!0,oe||(ce=[J(T,"click",et),J(N,"click",i[8]),J(U,"click",i[8]),J(A,"change",i[10]),J(H,"change",i[10])],oe=!0)},p(v,S){(!j||S[0]&1)&&ue(N,"active",v[0]=="Cobenefit"),(!j||S[0]&1)&&ue(U,"active",v[0]=="SEF"),Z===(Z=ie(v))&&m?m.p(v,S):(m&&m.d(1),m=Z&&Z(v),m&&(m.c(),m.m(V,null)))},i(v){j||(Oe(e.$$.fragment,v),j=!0)},o(v){He(e.$$.fragment,v),j=!1},d(v){v&&(_(a),_(n)),we(e,v),i[18](null),i[19](null),i[20](null),m&&m.d(),i[21](null),oe=!1,Te(ce)}}}function et(){const e=document.getElementsByClassName("maplibregl-canvas")[0].toDataURL("image/png");var a=document.createElement("a");a.download="map.png",a.href=e,a.dataset.downloadurl=["image/png",a.download,a.href].join(":"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function tt(i,e,a){let{data:n}=e,p,g,C,u,f,s,d="Cobenefit",h="BNZ",b=ve.map(o=>o.id),I="total",D="LAD",T="EPC",B;function y(){C=s.legend(M()),a(4,u.innerHTML="",u),u.append(C)}function M(){if(d=="SEF")return`${T} (Millions of £)`;if(d=="Cobenefit")return"Cobenefits (Millions of £)"}Me(async()=>{let o;D=="LAD"?o=await re(be(Array.from(b),h,I)):D=="LSOA"&&(o=await re(Ce(Array.from(b),h,I))),a(12,s=new Ye(o,D,g,"val",!1,"Lookup_Value",!0)),s.initMap(),C=s.legend(),u.append(C)});const q=o=>{const A=o.currentTarget.value;A=="total"?a(14,b=ve.map(R=>R.id)):a(14,b=[A])},V=o=>{const A=o.currentTarget.value;a(15,I=A)};function O(o,A){a(0,d=o.currentTarget.value)}const N=o=>{a(1,T=o.currentTarget.value)},z=o=>{s.removeLayers(),s.removeSources(),a(16,D=o.currentTarget.value),a(12,s.granularity=D,s)};function G(o){fe[o?"unshift":"push"](()=>{g=o,a(3,g)})}function U(o){fe[o?"unshift":"push"](()=>{u=o,a(4,u)})}function ae(o){fe[o?"unshift":"push"](()=>{f=o,a(5,f)})}function Y(o){fe[o?"unshift":"push"](()=>{p=o,a(2,p)})}return i.$$set=o=>{"data"in o&&a(11,n=o.data)},i.$$.update=()=>{i.$$.dirty[0]&258051&&s?.loaded&&(d=="Cobenefit"?D=="LAD"?a(17,B=re(be(Array.from(b),h,I))):D=="LSOA"&&a(17,B=re(Ce(Array.from(b),h,I))):a(0,d="SEF")&&(D=="LAD"?a(17,B=re(Re(T))):D=="LSOA"&&a(17,B=re(Ze(T)))),B.then(o=>{let A=!1;s.map.getStyle().layers.length==0&&(A=!0);let R;b.length==1?(R=Je(b[0]),R.shift()):R=["red","white","black"],s.update(o,d,A,R),y()}))},[d,T,p,g,u,f,q,V,O,N,z,n,s,h,b,I,D,B,G,U,ae,Y]}class ut extends Fe{constructor(e){super(),Ue(this,e,tt,$e,Ne,{data:11},null,[-1,-1])}}export{ut as component};
