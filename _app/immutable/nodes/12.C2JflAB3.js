import{s as At,e as r,a as L,t as re,c,b as v,g as z,d as ce,f,q as i,i as J,h as o,K as ul,x as Ue,n as ut,y as ml,L as ea,v as yt,j as ge,p as G,w as Te,A as kt,B as Pe,H as ta,G as Sl,D as la,T as aa,a0 as Il,a1 as sa,r as oa,F as na,z as Et}from"../chunks/scheduler.BVm0POKv.js";import{S as Wt,i as Kt,c as Lt,b as zt,m as wt,t as Me,a as Ke,e as Ml,d as Vt,g as Pl}from"../chunks/index.C_bTuQvQ.js";import{e as Ge,N as ia,s as ra}from"../chunks/NavigationBar.Dy1MZ6A0.js";import{b as ie}from"../chunks/paths.BMOWNvJN.js";import"../chunks/entry.DjjUxoCa.js";import{q as xt,u as ca,r as hl,l as fa,ad as Nl,z as ua}from"../chunks/index.DrA8R0kw.js";import{g as dl,C as vl,e as ha,f as da,r as va,j as ma,h as _a}from"../chunks/globals.Dyz3DRdf.js";import{p as pa,t as ga}from"../chunks/percentage.Cu08Svdw.js";import{p as ba}from"../chunks/per_capita.COcMrZFY.js";import{g as jt,q as Ca,r as Da,s as Ea,p as La}from"../chunks/duckdb.DE5jd6Eb.js";import"../chunks/transform.Db-NgJu-.js";import{F as za}from"../chunks/Footer.BTK65yPV.js";import{c as fl}from"../chunks/dsv.XhNTmijJ.js";function Fl(a,e,t){const l=a.slice();return l[10]=e[t],l}function Ol(a){let e,t=Ge(a[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=ql(Fl(a,t,s));return{c(){e=r("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=c(s,"UL",{class:!0});var n=v(e);for(let u=0;u<l.length;u+=1)l[u].l(n);n.forEach(f),this.h()},h(){i(e,"class","suggestions svelte-1kj8esc")},m(s,n){J(s,e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(s,n){if(n&12){t=Ge(s[2]);let u;for(u=0;u<t.length;u+=1){const h=Fl(s,t,u);l[u]?l[u].p(h,n):(l[u]=ql(h),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(s){s&&f(e),yt(l,s)}}}function ql(a){let e,t=a[10][1]+"",l,s,n;function u(){return a[8](a[10])}return{c(){e=r("li"),l=re(t),this.h()},l(h){e=c(h,"LI",{class:!0});var m=v(e);l=ce(m,t),m.forEach(f),this.h()},h(){i(e,"class","svelte-1kj8esc")},m(h,m){J(h,e,m),o(e,l),s||(n=Ue(e,"click",u),s=!0)},p(h,m){a=h,m&4&&t!==(t=a[10][1]+"")&&ge(l,t)},d(h){h&&f(e),s=!1,n()}}}function wa(a){let e,t,l,s,n,u,h,m,g,p,d=a[2].length&&Ol(a);return{c(){e=r("div"),t=r("div"),l=r("input"),s=L(),n=r("button"),u=re("See Report"),m=L(),d&&d.c(),this.h()},l(w){e=c(w,"DIV",{class:!0});var b=v(e);t=c(b,"DIV",{class:!0});var C=v(t);l=c(C,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),s=z(C),n=c(C,"BUTTON",{type:!0,class:!0});var B=v(n);u=ce(B,"See Report"),B.forEach(f),C.forEach(f),m=z(b),d&&d.l(b),b.forEach(f),this.h()},h(){i(l,"type","text"),i(l,"placeholder","Type local authority name to search..."),i(l,"autocomplete","off"),i(l,"class","svelte-1kj8esc"),i(n,"type","button"),i(n,"class","search-btn svelte-1kj8esc"),n.disabled=h=!a[1],i(t,"class","input-group svelte-1kj8esc"),i(e,"class","autocomplete svelte-1kj8esc")},m(w,b){J(w,e,b),o(e,t),o(t,l),ul(l,a[0]),o(t,s),o(t,n),o(n,u),o(e,m),d&&d.m(e,null),g||(p=[Ue(l,"input",a[7]),Ue(n,"click",a[4])],g=!0)},p(w,[b]){b&1&&l.value!==w[0]&&ul(l,w[0]),b&2&&h!==(h=!w[1])&&(n.disabled=h),w[2].length?d?d.p(w,b):(d=Ol(w),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:ut,o:ut,d(w){w&&f(e),d&&d.d(),g=!1,ml(p)}}}function Va(a,e,t){let l,s;const n=ea();let{items:u}=e,h="",m=null;function g([b,C]){t(0,h=C),t(1,m=b),n("select",b),console.log(`Selected code: ${b}`,`Name: ${C}`)}function p(){m&&n("search",m)}function d(){h=this.value,t(0,h)}const w=b=>g(b);return a.$$set=b=>{"items"in b&&t(5,u=b.items)},a.$$.update=()=>{a.$$.dirty&32&&t(6,l=Object.entries(u)),a.$$.dirty&65&&t(2,s=h?l.filter(([b,C])=>C.toLowerCase().includes(h.toLowerCase())).slice(0,10):[])},[h,m,s,g,p,u,l,d,w]}class ya extends Wt{constructor(e){super(),Kt(this,e,Va,wa,At,{items:5})}}function Rl(a,e,t){const l=a.slice();return l[11]=e[t],l}function Ul(a){let e,t=(a[6]==="total"?a[8](a[11].total_value,a[1],a[2],a[11].co_benefit_type,a[5]):a[8](a[11].value_per_capita,a[3],a[4],a[11].co_benefit_type,a[5]))+"",l;return{c(){e=new ta(!1),l=Sl(),this.h()},l(s){e=la(s,!1),l=Sl(),this.h()},h(){e.a=l},m(s,n){e.m(t,s,n),J(s,l,n)},p(s,n){n&127&&t!==(t=(s[6]==="total"?s[8](s[11].total_value,s[1],s[2],s[11].co_benefit_type,s[5]):s[8](s[11].value_per_capita,s[3],s[4],s[11].co_benefit_type,s[5]))+"")&&e.p(t)},d(s){s&&(f(l),e.d())}}}function ka(a){let e,t=a[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=re(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=ce(n,t),n.forEach(f)},m(s,n){J(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&ge(l,t)},d(s){s&&f(e)}}}function Aa(a){let e,t=a[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=re(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=ce(n,t),n.forEach(f)},m(s,n){J(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&ge(l,t)},d(s){s&&f(e)}}}function Gl(a){let e,t,l,s,n,u,h,m=a[7](a[11].co_benefit_type)+"",g,p,d,w,b,C=a[6],B,H,k,E=Ul(a);function _(M,S){return M[6]==="total"?Aa:ka}let P=_(a),N=P(a);return{c(){e=r("tr"),t=r("td"),l=r("div"),s=r("img"),u=L(),h=r("a"),g=re(m),d=L(),w=r("td"),b=r("div"),E.c(),B=L(),H=r("td"),N.c(),k=L(),this.h()},l(M){e=c(M,"TR",{});var S=v(e);t=c(S,"TD",{});var W=v(t);l=c(W,"DIV",{class:!0});var oe=v(l);s=c(oe,"IMG",{src:!0,alt:!0,class:!0}),u=z(oe),h=c(oe,"A",{href:!0,target:!0});var X=v(h);g=ce(X,m),X.forEach(f),oe.forEach(f),W.forEach(f),d=z(S),w=c(S,"TD",{});var U=v(w);b=c(U,"DIV",{class:!0});var V=v(b);E.l(V),V.forEach(f),U.forEach(f),B=z(S),H=c(S,"TD",{});var q=v(H);N.l(q),q.forEach(f),k=z(S),S.forEach(f),this.h()},h(){Pe(s.src,n=dl(a[11].co_benefit_type))||i(s,"src",n),i(s,"alt","Icon"),i(s,"class","in-table-icon"),i(h,"href",p=ie+"/cobenefit?cobenefit="+a[11].co_benefit_type),i(h,"target","_blank"),i(l,"class","coben-content"),i(b,"class","bar-cell")},m(M,S){J(M,e,S),o(e,t),o(t,l),o(l,s),o(l,u),o(l,h),o(h,g),o(e,d),o(e,w),o(w,b),E.m(b,null),o(e,B),o(e,H),N.m(H,null),o(e,k)},p(M,S){S&1&&!Pe(s.src,n=dl(M[11].co_benefit_type))&&i(s,"src",n),S&1&&m!==(m=M[7](M[11].co_benefit_type)+"")&&ge(g,m),S&1&&p!==(p=ie+"/cobenefit?cobenefit="+M[11].co_benefit_type)&&i(h,"href",p),S&64&&At(C,C=M[6])?(E.d(1),E=Ul(M),E.c(),E.m(b,null)):E.p(M,S),P===(P=_(M))&&N?N.p(M,S):(N.d(1),N=P(M),N&&(N.c(),N.m(H,null)))},d(M){M&&f(e),E.d(M),N.d()}}}function Ta(a){let e,t,l,s="Total",n,u,h="Per Capita",m,g,p,d,w,b="Name",C,B,H=a[6]==="total"?"Total":"Per Capita",k,E,_,P=a[6]==="total"?"£, billion":"£",N,M,S,W,oe,X=Ge(a[0]),U=[];for(let V=0;V<X.length;V+=1)U[V]=Gl(Rl(a,X,V));return{c(){e=r("div"),t=r("div"),l=r("button"),l.textContent=s,n=L(),u=r("button"),u.textContent=h,m=L(),g=r("table"),p=r("thead"),d=r("tr"),w=r("th"),w.textContent=b,C=L(),B=r("th"),k=re(H),E=L(),_=r("th"),N=re(P),M=L(),S=r("tbody");for(let V=0;V<U.length;V+=1)U[V].c();this.h()},l(V){e=c(V,"DIV",{class:!0});var q=v(e);t=c(q,"DIV",{class:!0});var O=v(t);l=c(O,"BUTTON",{"data-svelte-h":!0}),G(l)!=="svelte-15mf98g"&&(l.textContent=s),n=z(O),u=c(O,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1ts3a4f"&&(u.textContent=h),O.forEach(f),q.forEach(f),m=z(V),g=c(V,"TABLE",{class:!0});var $=v(g);p=c($,"THEAD",{});var F=v(p);d=c(F,"TR",{});var K=v(d);w=c(K,"TH",{"data-svelte-h":!0}),G(w)!=="svelte-13ju7y1"&&(w.textContent=b),C=z(K),B=c(K,"TH",{style:!0});var R=v(B);k=ce(R,H),R.forEach(f),E=z(K),_=c(K,"TH",{style:!0});var T=v(_);N=ce(T,P),T.forEach(f),K.forEach(f),F.forEach(f),M=z($),S=c($,"TBODY",{});var j=v(S);for(let y=0;y<U.length;y+=1)U[y].l(j);j.forEach(f),$.forEach(f),this.h()},h(){Te(l,"selected",a[6]==="total"),Te(u,"selected",a[6]==="per_capita"),i(t,"class","button-group"),i(e,"class","controls"),kt(B,"width","180px"),kt(_,"width","80px"),i(g,"class","data-table")},m(V,q){J(V,e,q),o(e,t),o(t,l),o(t,n),o(t,u),J(V,m,q),J(V,g,q),o(g,p),o(p,d),o(d,w),o(d,C),o(d,B),o(B,k),o(d,E),o(d,_),o(_,N),o(g,M),o(g,S);for(let O=0;O<U.length;O+=1)U[O]&&U[O].m(S,null);W||(oe=[Ue(l,"click",a[9]),Ue(u,"click",a[10])],W=!0)},p(V,[q]){if(q&64&&Te(l,"selected",V[6]==="total"),q&64&&Te(u,"selected",V[6]==="per_capita"),q&64&&H!==(H=V[6]==="total"?"Total":"Per Capita")&&ge(k,H),q&64&&P!==(P=V[6]==="total"?"£, billion":"£")&&ge(N,P),q&511){X=Ge(V[0]);let O;for(O=0;O<X.length;O+=1){const $=Rl(V,X,O);U[O]?U[O].p($,q):(U[O]=Gl($),U[O].c(),U[O].m(S,null))}for(;O<U.length;O+=1)U[O].d(1);U.length=X.length}},i:ut,o:ut,d(V){V&&(f(e),f(m),f(g)),yt(U,V),W=!1,ml(oe)}}}function Ha(a,e,t){let{aggregationPerCapitaPerBenefit:l}=e,{minCoBenefValue:s}=e,{maxCoBenefValue:n}=e,{minHHCoBenefValue:u}=e,{maxHHCoBenefValue:h}=e,{COBENEFS_SCALE:m}=e;function g(C){return vl.find(B=>B.id===C)?.label??C}let p="total";function d(C,B,H,k,E){const _=E(k);return xt({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[B,H],axis:null},marks:[ca([0],{stroke:"#3C3C3C"}),hl([C],{x:N=>N,y:0,fill:_})]}).outerHTML}const w=()=>t(6,p="total"),b=()=>t(6,p="per_capita");return a.$$set=C=>{"aggregationPerCapitaPerBenefit"in C&&t(0,l=C.aggregationPerCapitaPerBenefit),"minCoBenefValue"in C&&t(1,s=C.minCoBenefValue),"maxCoBenefValue"in C&&t(2,n=C.maxCoBenefValue),"minHHCoBenefValue"in C&&t(3,u=C.minHHCoBenefValue),"maxHHCoBenefValue"in C&&t(4,h=C.maxHHCoBenefValue),"COBENEFS_SCALE"in C&&t(5,m=C.COBENEFS_SCALE)},[l,s,n,u,h,m,p,g,d,w,b]}class Ba extends Wt{constructor(e){super(),Kt(this,e,Ha,Ta,At,{aggregationPerCapitaPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function jl(a,e,t){const l=a.slice();return l[16]=e[t],l}function xl(a,e,t){const l=a.slice();return l[19]=e[t],l}function Wl(a){let e,t=a[19].label+"",l;return{c(){e=r("option"),l=re(t),this.h()},l(s){e=c(s,"OPTION",{});var n=v(e);l=ce(n,t),n.forEach(f),this.h()},h(){e.__value=a[19].value,ul(e,e.__value)},m(s,n){J(s,e,n),o(e,l)},p:ut,d(s){s&&f(e)}}}function Sa(a){let e,t=a[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=re(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=ce(n,t),n.forEach(f)},m(s,n){J(s,e,n),o(e,l)},p(s,n){n&2&&t!==(t=s[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&ge(l,t)},d(s){s&&f(e)}}}function Ia(a){let e,t=a[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=re(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=ce(n,t),n.forEach(f)},m(s,n){J(s,e,n),o(e,l)},p(s,n){n&2&&t!==(t=s[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&ge(l,t)},d(s){s&&f(e)}}}function Kl(a){let e,t,l,s=(a[5][a[16].LAD]??a[16].LAD)+"",n,u,h,m,g,p,d=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_capita,a[4]))+"",w,b,C;function B(E,_){return E[2]==="total"?Ia:Sa}let H=B(a),k=H(a);return{c(){e=r("tr"),t=r("td"),l=r("a"),n=re(s),h=L(),m=r("td"),g=r("div"),p=new ta(!1),w=L(),b=r("td"),k.c(),C=L(),this.h()},l(E){e=c(E,"TR",{});var _=v(e);t=c(_,"TD",{});var P=v(t);l=c(P,"A",{href:!0,target:!0});var N=v(l);n=ce(N,s),N.forEach(f),P.forEach(f),h=z(_),m=c(_,"TD",{});var M=v(m);g=c(M,"DIV",{class:!0});var S=v(g);p=la(S,!1),S.forEach(f),M.forEach(f),w=z(_),b=c(_,"TD",{});var W=v(b);k.l(W),W.forEach(f),C=z(_),_.forEach(f),this.h()},h(){i(l,"href",u=ie+"/location?location="+a[16].LAD),i(l,"target","_blank"),p.a=null,i(g,"class","bar-cell")},m(E,_){J(E,e,_),o(e,t),o(t,l),o(l,n),o(e,h),o(e,m),o(m,g),p.m(d,g),o(e,w),o(e,b),k.m(b,null),o(e,C)},p(E,_){_&34&&s!==(s=(E[5][E[16].LAD]??E[16].LAD)+"")&&ge(n,s),_&2&&u!==(u=ie+"/location?location="+E[16].LAD)&&i(l,"href",u),_&30&&d!==(d=(E[2]==="total"?E[9](E[16].total_value,E[3]):E[10](E[16].value_per_capita,E[4]))+"")&&p.p(d),H===(H=B(E))&&k?k.p(E,_):(k.d(1),k=H(E),k&&(k.c(),k.m(b,null)))},d(E){E&&f(e),k.d()}}}function Ma(a){let e,t,l="Nation:",s,n,u,h,m,g="Total",p,d,w="Per Capita",b,C,B,H,k,E='Name <span style="font-weight:300; color: #545454">(Top 12 in display)</span>',_,P,N=a[2]==="total"?"Total":"Per Capita",M,S,W,oe=a[2]==="total"?"£, billion":"£",X,U,V,q,O,$=Ge(a[7]),F=[];for(let T=0;T<$.length;T+=1)F[T]=Wl(xl(a,$,T));let K=Ge(a[1]),R=[];for(let T=0;T<K.length;T+=1)R[T]=Kl(jl(a,K,T));return{c(){e=r("div"),t=r("label"),t.textContent=l,s=L(),n=r("select");for(let T=0;T<F.length;T+=1)F[T].c();u=L(),h=r("div"),m=r("button"),m.textContent=g,p=L(),d=r("button"),d.textContent=w,b=L(),C=r("table"),B=r("thead"),H=r("tr"),k=r("th"),k.innerHTML=E,_=L(),P=r("th"),M=re(N),S=L(),W=r("th"),X=re(oe),U=L(),V=r("tbody");for(let T=0;T<R.length;T+=1)R[T].c();this.h()},l(T){e=c(T,"DIV",{class:!0});var j=v(e);t=c(j,"LABEL",{"data-svelte-h":!0}),G(t)!=="svelte-1ecnfnj"&&(t.textContent=l),s=z(j),n=c(j,"SELECT",{});var y=v(n);for(let Le=0;Le<F.length;Le+=1)F[Le].l(y);y.forEach(f),u=z(j),h=c(j,"DIV",{class:!0});var ee=v(h);m=c(ee,"BUTTON",{"data-svelte-h":!0}),G(m)!=="svelte-2dev6e"&&(m.textContent=g),p=z(ee),d=c(ee,"BUTTON",{"data-svelte-h":!0}),G(d)!=="svelte-1q4fgxf"&&(d.textContent=w),ee.forEach(f),j.forEach(f),b=z(T),C=c(T,"TABLE",{class:!0});var be=v(C);B=c(be,"THEAD",{});var Ne=v(B);H=c(Ne,"TR",{});var we=v(H);k=c(we,"TH",{"data-svelte-h":!0}),G(k)!=="svelte-1homman"&&(k.innerHTML=E),_=z(we),P=c(we,"TH",{style:!0});var Ye=v(P);M=ce(Ye,N),Ye.forEach(f),S=z(we),W=c(we,"TH",{style:!0});var Fe=v(W);X=ce(Fe,oe),Fe.forEach(f),we.forEach(f),Ne.forEach(f),U=z(be),V=c(be,"TBODY",{});var Ve=v(V);for(let Le=0;Le<R.length;Le+=1)R[Le].l(Ve);Ve.forEach(f),be.forEach(f),this.h()},h(){a[0]===void 0&&aa(()=>a[13].call(n)),Te(m,"selected",a[2]==="total"),Te(d,"selected",a[2]==="per_capita"),i(h,"class","button-group"),i(e,"class","controls"),kt(P,"width","120px"),kt(W,"width","80px"),i(C,"class","data-table")},m(T,j){J(T,e,j),o(e,t),o(e,s),o(e,n);for(let y=0;y<F.length;y+=1)F[y]&&F[y].m(n,null);Il(n,a[0],!0),o(e,u),o(e,h),o(h,m),o(h,p),o(h,d),J(T,b,j),J(T,C,j),o(C,B),o(B,H),o(H,k),o(H,_),o(H,P),o(P,M),o(H,S),o(H,W),o(W,X),o(C,U),o(C,V);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(V,null);q||(O=[Ue(n,"change",a[13]),Ue(n,"change",a[8]),Ue(m,"click",a[14]),Ue(d,"click",a[15])],q=!0)},p(T,[j]){if(j&128){$=Ge(T[7]);let y;for(y=0;y<$.length;y+=1){const ee=xl(T,$,y);F[y]?F[y].p(ee,j):(F[y]=Wl(ee),F[y].c(),F[y].m(n,null))}for(;y<F.length;y+=1)F[y].d(1);F.length=$.length}if(j&129&&Il(n,T[0]),j&4&&Te(m,"selected",T[2]==="total"),j&4&&Te(d,"selected",T[2]==="per_capita"),j&4&&N!==(N=T[2]==="total"?"Total":"Per Capita")&&ge(M,N),j&4&&oe!==(oe=T[2]==="total"?"£, billion":"£")&&ge(X,oe),j&1598){K=Ge(T[1]);let y;for(y=0;y<K.length;y+=1){const ee=jl(T,K,y);R[y]?R[y].p(ee,j):(R[y]=Kl(ee),R[y].c(),R[y].m(V,null))}for(;y<R.length;y+=1)R[y].d(1);R.length=K.length}},i:ut,o:ut,d(T){T&&(f(e),f(b),f(C)),yt(F,T),yt(R,T),q=!1,ml(O)}}}function Pa(a,e,t){const l=ea();let{ladData:s=[]}=e,{region:n}=e,{sortBy:u}=e,{maxLADValue:h}=e,{maxHHLADValue:m}=e,{LADToName:g={}}=e,{viewMode:p="total"}=e,{selectedRegion:d="All"}=e;const w=[{label:"All",value:"All"},{label:"England",value:"England"},{label:"Wales",value:"Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function b(_){l("filterChange",{region:_.target.value,sortBy:u})}function C(_,P){return xt({width:80,height:20,margin:0,x:{domain:[0,P],axis:null},marks:[hl([_],{x:M=>M,y:0,fill:"#ccc"})]}).outerHTML}function B(_,P){return xt({width:80,height:20,margin:0,x:{domain:[0,P],axis:null},marks:[hl([_],{x:M=>M,y:0,fill:"#ccc"})]}).outerHTML}function H(){n=sa(this),t(0,n),t(7,w)}const k=()=>l("filterChange",{region:n,sortBy:"total"}),E=()=>l("filterChange",{region:n,sortBy:"per_capita"});return a.$$set=_=>{"ladData"in _&&t(1,s=_.ladData),"region"in _&&t(0,n=_.region),"sortBy"in _&&t(2,u=_.sortBy),"maxLADValue"in _&&t(3,h=_.maxLADValue),"maxHHLADValue"in _&&t(4,m=_.maxHHLADValue),"LADToName"in _&&t(5,g=_.LADToName),"viewMode"in _&&t(11,p=_.viewMode),"selectedRegion"in _&&t(12,d=_.selectedRegion)},[n,s,u,h,m,g,l,w,b,C,B,p,d,H,k,E]}class Na extends Wt{constructor(e){super(),Kt(this,e,Pa,Ma,At,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function Yl(a,e,t){const l=a.slice();return l[51]=e[t],l[53]=t,l}function Xl(a){let e,t,l,s,n,u,h;return{c(){e=r("div"),t=r("img"),n=L(),u=r("img"),this.h()},l(m){e=c(m,"DIV",{class:!0});var g=v(e);t=c(g,"IMG",{class:!0,src:!0,alt:!0}),n=z(g),u=c(g,"IMG",{class:!0,src:!0,alt:!0}),g.forEach(f),this.h()},h(){i(t,"class","slide-image"),Pe(t.src,l=a[51].image)||i(t,"src",l),i(t,"alt",s=a[51].label),i(u,"class","slide-map svelte-cz0ono"),Pe(u.src,h=a[51].mapImage)||i(u,"src",h),i(u,"alt","Map overlay"),i(e,"class","hero-slide svelte-cz0ono"),Te(e,"active",a[53]===a[24]),Te(e,"previous",a[53]===a[25])},m(m,g){J(m,e,g),o(e,t),o(e,n),o(e,u)},p(m,g){g[0]&2097152&&!Pe(t.src,l=m[51].image)&&i(t,"src",l),g[0]&2097152&&s!==(s=m[51].label)&&i(t,"alt",s),g[0]&2097152&&!Pe(u.src,h=m[51].mapImage)&&i(u,"src",h),g[0]&16777216&&Te(e,"active",m[53]===m[24]),g[0]&33554432&&Te(e,"previous",m[53]===m[25])},d(m){m&&f(e)}}}function Zl(a){let e,t,l;return{c(){e=r("div"),t=r("img"),this.h()},l(s){e=c(s,"DIV",{class:!0});var n=v(e);t=c(n,"IMG",{src:!0,alt:!0,class:!0}),n.forEach(f),this.h()},h(){Pe(t.src,l=a[20])||i(t,"src",l),i(t,"alt","Icon"),i(t,"class","svelte-cz0ono"),i(e,"class","waffle-icon svelte-cz0ono")},m(s,n){J(s,e,n),o(e,t)},p(s,n){n[0]&1048576&&!Pe(t.src,l=s[20])&&i(t,"src",l)},d(s){s&&f(e)}}}function Fa(a){let e,t="National costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-o12owz"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-cz0ono")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Oa(a){let e,t="National benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-10ytukz"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-cz0ono")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function qa(a){let e,t="Per capita costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-6pmcl0"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-cz0ono")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Ra(a){let e,t="Per capita benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-g1rvwk"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-cz0ono")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Jl(a){let e,t,l,s,n,u,h,m,g,p,d="%",w,b,C="Contribution";return{c(){e=r("div"),t=r("div"),l=r("img"),n=L(),u=r("div"),h=r("span"),m=re(a[19]),g=L(),p=r("span"),p.textContent=d,w=L(),b=r("div"),b.textContent=C,this.h()},l(B){e=c(B,"DIV",{class:!0});var H=v(e);t=c(H,"DIV",{class:!0});var k=v(t);l=c(k,"IMG",{class:!0,src:!0,alt:!0}),n=z(k),u=c(k,"DIV",{class:!0});var E=v(u);h=c(E,"SPAN",{class:!0});var _=v(h);m=ce(_,a[19]),_.forEach(f),g=z(E),p=c(E,"SPAN",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-jxggz7"&&(p.textContent=d),E.forEach(f),k.forEach(f),w=z(H),b=c(H,"DIV",{class:!0,"data-svelte-h":!0}),G(b)!=="svelte-1ahdmih"&&(b.textContent=C),H.forEach(f),this.h()},h(){i(l,"class","aggregation-icon-small svelte-cz0ono"),Pe(l.src,s=pa)||i(l,"src",s),i(l,"alt","icon"),i(h,"class","waffle-big svelte-cz0ono"),i(p,"class","small svelte-cz0ono"),i(u,"class","waffle-value svelte-cz0ono"),i(t,"class","waffle-value-container svelte-cz0ono"),i(b,"class","waffle-caption svelte-cz0ono"),i(e,"class","waffle-stat svelte-cz0ono")},m(B,H){J(B,e,H),o(e,t),o(t,l),o(t,n),o(t,u),o(u,h),o(h,m),o(u,g),o(u,p),o(e,w),o(e,b)},p(B,H){H[0]&524288&&ge(m,B[19])},d(B){B&&f(e)}}}function Ql(a){let e,t;return e=new Na({props:{ladData:a[8],region:a[9],sortBy:a[10],maxLADValue:a[11],maxHHLADValue:a[12],LADToName:a[0]}}),e.$on("filterChange",a[27]),{c(){Lt(e.$$.fragment)},l(l){zt(e.$$.fragment,l)},m(l,s){wt(e,l,s),t=!0},p(l,s){const n={};s[0]&256&&(n.ladData=l[8]),s[0]&512&&(n.region=l[9]),s[0]&1024&&(n.sortBy=l[10]),s[0]&2048&&(n.maxLADValue=l[11]),s[0]&4096&&(n.maxHHLADValue=l[12]),s[0]&1&&(n.LADToName=l[0]),e.$set(n)},i(l){t||(Me(e.$$.fragment,l),t=!0)},o(l){Ke(e.$$.fragment,l),t=!1},d(l){Vt(e,l)}}}function $l(a){let e,t;return e=new Ba({props:{aggregationPerCapitaPerBenefit:a[2],minCoBenefValue:a[4],maxCoBenefValue:a[3],minHHCoBenefValue:a[5],maxHHCoBenefValue:a[6],COBENEFS_SCALE:ha}}),{c(){Lt(e.$$.fragment)},l(l){zt(e.$$.fragment,l)},m(l,s){wt(e,l,s),t=!0},p(l,s){const n={};s[0]&4&&(n.aggregationPerCapitaPerBenefit=l[2]),s[0]&16&&(n.minCoBenefValue=l[4]),s[0]&8&&(n.maxCoBenefValue=l[3]),s[0]&32&&(n.minHHCoBenefValue=l[5]),s[0]&64&&(n.maxHHCoBenefValue=l[6]),e.$set(n)},i(l){t||(Me(e.$$.fragment,l),t=!0)},o(l){Ke(e.$$.fragment,l),t=!1},d(l){Vt(e,l)}}}function Ua(a){let e,t,l,s,n,u,h,m=`<img src="${ie}/atlas-logos/logo-colored-waffle-png.png" alt="Logo" height="0px"/> <div class="hero-box svelte-cz0ono"><h1 class="hero-title svelte-cz0ono">The UK <br/> <span class="multicolor svelte-cz0ono"><span style="--clr:#71C35D;" class="svelte-cz0ono">C</span> <span style="--clr:#E11484;" class="svelte-cz0ono">o</span> <span style="--clr:#00AED9;" class="svelte-cz0ono">-</span> <span style="--clr:#EF402B;" class="svelte-cz0ono">B</span> <span style="--clr:#007DBC;" class="svelte-cz0ono">e</span> <span style="--clr:#8F1838;" class="svelte-cz0ono">n</span> <span style="--clr:#C31F33;" class="svelte-cz0ono">e</span> <span style="--clr:#CF8D2A;" class="svelte-cz0ono">f</span> <span style="--clr:#F36D25;" class="svelte-cz0ono">i</span> <span style="--clr:#48773E;" class="svelte-cz0ono">t</span> <span style="--clr:#D3A029;" class="svelte-cz0ono">s</span></span>
                   Atlas</h1> <h4 class="svelte-cz0ono">Explore and learn about co-benefits and co-costs of reaching net zero in the UK.</h4></div>`,g,p,d,w,b,C,B,H,k,E,_,P,N,M,S,W,oe,X,U,V,q="billion",O,$,F,K,R,T,j,y,ee,be,Ne,we,Ye,Fe,Ve,Le,Oe,Tt="Co-benefits",gt,Xe,bt,D,Y,fe,te="Negative impacts",ze,le,Q=`<div class="columns svelte-cz0ono"><div class="column svelte-cz0ono"><h2>What are co-benefits?</h2> <p>Climate actions lower greenhouse gas (GHG) emissions but the gains for society reach further. The
                CO-BENS project models 11 additional benefits based on actions recommended by the Climate Change
                Committee (CCC) in its Seventh Carbon Budget (2025) across 45,000 communities and regions within the
                UK.</p></div> <div class="column svelte-cz0ono"><h2>What is the Atlas?</h2> <p>The Atlas is a resource that reveals how, when, and for whom benefits emerge, uncovering connections across social, 
                economic, and environmental priorities to guide more informed and effective decisions.</p>
            To understand more about the analysis or if you would like bespoke co-benefit modelling please get
                    in
                    touch by emailing <a href="mailto:cobens@ed.ac.uk">cobens@ed.ac.uk</a></div> <div class="column svelte-cz0ono"><h2>How to use the Atlas</h2> <p>View report pages on each of the 11 co-benefits, search for local areas or explore the interactive map.</p></div></div>`,He,ne,Z,Ce,Ze="Explore the Atlas",ye,qe,ke,De,je="Find My Place",Be,I,ue,Je,ve,Ct=`<div class="explore-block svelte-cz0ono"><h2>Read Stories and Analyses</h2> <div class="explore-stories svelte-cz0ono"><div class="explore-page svelte-cz0ono"><a href="/stories/story.pdf" target="_blank" rel="noopener noreferrer" class="svelte-cz0ono"><img class="story-teaser-img svelte-cz0ono" src="${ie}/stories/Derry_picture.png"/> <h3 class="hover-underline svelte-cz0ono">Accelerating climate financing in Derry City and Strabane District Council</h3></a></div> <div class="explore-page svelte-cz0ono"><br/> <br/> <br/> <h3 class="svelte-cz0ono">More to come...</h3> <p class="svelte-cz0ono">In the meantime, if you have your own ideas for collaboration on stories related to
                            co-benefits please get in touch using the
                            <a href="https://docs.google.com/forms/d/1w-8Lt9bESZ56PdklTIT38plec7dPgDbJtORkatoXFVY/viewform?edit_requested=true" class="svelte-cz0ono">feedback
                                form.</a></p></div></div></div>`,Dt,Qe,ht,_l="Browse Report Pages",Yt,Ee,$e,pl=`<div class="explore-page svelte-cz0ono"><img src="${ie}/pages-teasers/coben.png" alt="Open Co-Benefits Dropdown"/> <h3 class="svelte-cz0ono">11 Co-Benefits Pages</h3> <p class="svelte-cz0ono">A Co-benefit page shows the spatial and temporal distribution of a given co-benefit, and
                                its relationship with socio-economic factors.</p></div>`,Xt,et,gl=`<div class="explore-page svelte-cz0ono"><img class="page-teaser-img svelte-cz0ono" src="${ie}/pages-teasers/location.png"/> <h3 class="svelte-cz0ono">382 Local Area Pages</h3> <p class="svelte-cz0ono">A Local Area page shows the different co-benefits in this area, temporal distributions,
                                and their relationships with local socio-economic distributions.</p></div>`,Zt,tt,bl=`<div class="explore-page svelte-cz0ono"><img class="page-teaser-img svelte-cz0ono" src="${ie}/pages-teasers/sef.png"/> <h3 class="svelte-cz0ono">17 Socio-Economic Factors Pages</h3> <p class="svelte-cz0ono">A Socio-Economic Factor Page shows the spatial distribution of a given factor and it&#39;s
                                relationships with the different co-benefits.</p></div>`,Jt,lt,Cl=`<div class="explore-page svelte-cz0ono"><img class="page-teaser-img svelte-cz0ono" src="${ie}/pages-teasers/map.png"/> <h3 class="svelte-cz0ono">Interactive Map</h3> <p class="svelte-cz0ono">The interactive map enables exploring the spatial distributions of both the co-benefits
                                and the socio-economic factors at the datazones and local area levels.</p></div>`,Qt,at,Dl=`<div class="explore-page svelte-cz0ono"><img class="page-teaser-img svelte-cz0ono" src="${ie}/pages-teasers/nation.png"/> <h3 class="svelte-cz0ono">Nation Pages</h3> <p class="svelte-cz0ono">The nation pages shows the different co-benefits in this nation and temporal distributions.</p></div>`,$t,st,Se,ot,El="Explore by Local Authority",el,nt,Ll="Click to see local authority data report.",tl,ll,Ie,it,zl="Explore by Co-Benefit",al,rt,wl="Click to see each co-benefit data report.",sl,ol,ct,ft,nl,Vl;t=new ia({});let dt=Ge(a[21]),he=[];for(let A=0;A<dt.length;A+=1)he[A]=Xl(Yl(a,dt,A));let me=a[20]&&Zl(a);function yl(A,x){return A[17]>0?Oa:Fa}let Ht=yl(a),xe=Ht(a);function kl(A,x){return A[18]>0?Ra:qa}let Bt=kl(a),We=Bt(a),_e=a[23]!==null&&Jl(a);ue=new ya({props:{items:a[0]}}),ue.$on("search",a[34]);let ae=!a[7]&&Ql(a),se=!a[7]&&$l(a);return ct=new za({}),{c(){e=r("div"),Lt(t.$$.fragment),l=L(),s=r("section");for(let A=0;A<he.length;A+=1)he[A].c();n=L(),u=r("div"),h=r("div"),h.innerHTML=m,g=L(),p=r("div"),d=r("div"),w=r("div"),me&&me.c(),b=L(),C=r("div"),B=re(a[16]),H=L(),k=r("div"),E=r("div"),_=r("div"),P=r("img"),M=L(),S=r("div"),W=r("span"),oe=re("£"),X=re(a[17]),U=L(),V=r("span"),V.textContent=q,O=L(),xe.c(),$=L(),F=r("div"),K=r("div"),R=r("img"),j=L(),y=r("div"),ee=r("span"),be=re("£"),Ne=re(a[18]),we=L(),We.c(),Ye=L(),_e&&_e.c(),Fe=L(),Ve=r("div"),Le=L(),Oe=r("span"),Oe.textContent=Tt,gt=L(),Xe=r("div"),bt=L(),D=r("div"),Y=L(),fe=r("span"),fe.textContent=te,ze=L(),le=r("section"),le.innerHTML=Q,He=L(),ne=r("section"),Z=r("div"),Ce=r("h1"),Ce.textContent=Ze,ye=L(),qe=r("div"),ke=r("div"),De=r("h1"),De.textContent=je,Be=L(),I=r("div"),Lt(ue.$$.fragment),Je=L(),ve=r("div"),ve.innerHTML=Ct,Dt=L(),Qe=r("div"),ht=r("h2"),ht.textContent=_l,Yt=L(),Ee=r("div"),$e=r("div"),$e.innerHTML=pl,Xt=L(),et=r("a"),et.innerHTML=gl,Zt=L(),tt=r("a"),tt.innerHTML=bl,Jt=L(),lt=r("a"),lt.innerHTML=Cl,Qt=L(),at=r("a"),at.innerHTML=Dl,$t=L(),st=r("section"),Se=r("div"),ot=r("h2"),ot.textContent=El,el=L(),nt=r("p"),nt.textContent=Ll,tl=L(),ae&&ae.c(),ll=L(),Ie=r("div"),it=r("h2"),it.textContent=zl,al=L(),rt=r("p"),rt.textContent=wl,sl=L(),se&&se.c(),ol=L(),Lt(ct.$$.fragment),this.h()},l(A){e=c(A,"DIV",{});var x=v(e);zt(t.$$.fragment,x),l=z(x),s=c(x,"SECTION",{class:!0});var Ae=v(s);for(let cl=0;cl<he.length;cl+=1)he[cl].l(Ae);n=z(Ae),u=c(Ae,"DIV",{class:!0});var de=v(u);h=c(de,"DIV",{class:!0,"data-svelte-h":!0}),G(h)!=="svelte-dmnnot"&&(h.innerHTML=m),g=z(de),p=c(de,"DIV",{class:!0});var pe=v(p);d=c(pe,"DIV",{class:!0});var St=v(d);w=c(St,"DIV",{class:!0});var It=v(w);me&&me.l(It),b=z(It),C=c(It,"DIV",{class:!0});var Al=v(C);B=ce(Al,a[16]),Al.forEach(f),It.forEach(f),H=z(St),k=c(St,"DIV",{class:!0});var vt=v(k);E=c(vt,"DIV",{class:!0});var Mt=v(E);_=c(Mt,"DIV",{class:!0});var Pt=v(_);P=c(Pt,"IMG",{class:!0,src:!0,alt:!0}),M=z(Pt),S=c(Pt,"DIV",{class:!0});var Nt=v(S);W=c(Nt,"SPAN",{class:!0});var il=v(W);oe=ce(il,"£"),X=ce(il,a[17]),il.forEach(f),U=z(Nt),V=c(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),G(V)!=="svelte-tlhydp"&&(V.textContent=q),Nt.forEach(f),Pt.forEach(f),O=z(Mt),xe.l(Mt),Mt.forEach(f),$=z(vt),F=c(vt,"DIV",{class:!0});var Ft=v(F);K=c(Ft,"DIV",{class:!0});var Ot=v(K);R=c(Ot,"IMG",{class:!0,src:!0,alt:!0}),j=z(Ot),y=c(Ot,"DIV",{class:!0});var Tl=v(y);ee=c(Tl,"SPAN",{class:!0});var rl=v(ee);be=ce(rl,"£"),Ne=ce(rl,a[18]),rl.forEach(f),Tl.forEach(f),Ot.forEach(f),we=z(Ft),We.l(Ft),Ft.forEach(f),Ye=z(vt),_e&&_e.l(vt),vt.forEach(f),St.forEach(f),Fe=z(pe),Ve=c(pe,"DIV",{class:!0}),v(Ve).forEach(f),Le=z(pe),Oe=c(pe,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),G(Oe)!=="svelte-17e5mfb"&&(Oe.textContent=Tt),gt=z(pe),Xe=c(pe,"DIV",{class:!0}),v(Xe).forEach(f),bt=z(pe),D=c(pe,"DIV",{id:!0,class:!0}),v(D).forEach(f),Y=z(pe),fe=c(pe,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),G(fe)!=="svelte-t2ovnm"&&(fe.textContent=te),pe.forEach(f),de.forEach(f),Ae.forEach(f),ze=z(x),le=c(x,"SECTION",{id:!0,"data-svelte-h":!0}),G(le)!=="svelte-1h97ysi"&&(le.innerHTML=Q),He=z(x),ne=c(x,"SECTION",{id:!0,class:!0});var mt=v(ne);Z=c(mt,"DIV",{class:!0});var qt=v(Z);Ce=c(qt,"H1",{id:!0,class:!0,"data-svelte-h":!0}),G(Ce)!=="svelte-157b9z3"&&(Ce.textContent=Ze),ye=z(qt),qe=c(qt,"DIV",{class:!0});var Hl=v(qe);ke=c(Hl,"DIV",{class:!0});var Rt=v(ke);De=c(Rt,"H1",{class:!0,"data-svelte-h":!0}),G(De)!=="svelte-2t7dxi"&&(De.textContent=je),Be=z(Rt),I=c(Rt,"DIV",{class:!0});var Bl=v(I);zt(ue.$$.fragment,Bl),Bl.forEach(f),Rt.forEach(f),Hl.forEach(f),qt.forEach(f),Je=z(mt),ve=c(mt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),G(ve)!=="svelte-6ot2l2"&&(ve.innerHTML=Ct),Dt=z(mt),Qe=c(mt,"DIV",{class:!0});var Ut=v(Qe);ht=c(Ut,"H2",{"data-svelte-h":!0}),G(ht)!=="svelte-1ig97qq"&&(ht.textContent=_l),Yt=z(Ut),Ee=c(Ut,"DIV",{class:!0});var Re=v(Ee);$e=c(Re,"DIV",{style:!0,"data-svelte-h":!0}),G($e)!=="svelte-lq89xs"&&($e.innerHTML=pl),Xt=z(Re),et=c(Re,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(et)!=="svelte-13xts9j"&&(et.innerHTML=gl),Zt=z(Re),tt=c(Re,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(tt)!=="svelte-1j5qio4"&&(tt.innerHTML=bl),Jt=z(Re),lt=c(Re,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(lt)!=="svelte-ss09fy"&&(lt.innerHTML=Cl),Qt=z(Re),at=c(Re,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(at)!=="svelte-15eng4z"&&(at.innerHTML=Dl),Re.forEach(f),Ut.forEach(f),mt.forEach(f),$t=z(x),st=c(x,"SECTION",{class:!0});var Gt=v(st);Se=c(Gt,"DIV",{class:!0});var _t=v(Se);ot=c(_t,"H2",{class:!0,"data-svelte-h":!0}),G(ot)!=="svelte-pgup4c"&&(ot.textContent=El),el=z(_t),nt=c(_t,"P",{class:!0,"data-svelte-h":!0}),G(nt)!=="svelte-owmq24"&&(nt.textContent=Ll),tl=z(_t),ae&&ae.l(_t),_t.forEach(f),ll=z(Gt),Ie=c(Gt,"DIV",{class:!0});var pt=v(Ie);it=c(pt,"H2",{class:!0,"data-svelte-h":!0}),G(it)!=="svelte-9nk5va"&&(it.textContent=zl),al=z(pt),rt=c(pt,"P",{class:!0,"data-svelte-h":!0}),G(rt)!=="svelte-4140on"&&(rt.textContent=wl),sl=z(pt),se&&se.l(pt),pt.forEach(f),Gt.forEach(f),ol=z(x),zt(ct.$$.fragment,x),x.forEach(f),this.h()},h(){i(h,"class","hero-text svelte-cz0ono"),i(C,"class","waffle-title svelte-cz0ono"),i(w,"class","waffle-header svelte-cz0ono"),i(P,"class","aggregation-icon-small svelte-cz0ono"),Pe(P.src,N=ga)||i(P,"src",N),i(P,"alt","icon"),i(W,"class","waffle-big svelte-cz0ono"),i(V,"class","small svelte-cz0ono"),i(S,"class","waffle-value svelte-cz0ono"),i(_,"class","waffle-value-container svelte-cz0ono"),i(E,"class","waffle-stat svelte-cz0ono"),i(R,"class","aggregation-icon-small svelte-cz0ono"),Pe(R.src,T=ba)||i(R,"src",T),i(R,"alt","icon"),i(ee,"class","waffle-big svelte-cz0ono"),i(y,"class","waffle-value svelte-cz0ono"),i(K,"class","waffle-value-container svelte-cz0ono"),i(F,"class","waffle-stat svelte-cz0ono"),i(k,"class","waffle-stats svelte-cz0ono"),i(d,"class","waffle-label svelte-cz0ono"),i(Ve,"class","waffle-bg svelte-cz0ono"),i(Oe,"id","waffleTopLabel"),i(Oe,"class","waffle-text svelte-cz0ono"),i(Xe,"class","waffle"),i(D,"id","waffleLabels"),i(D,"class","waffle-chart-labels svelte-cz0ono"),i(fe,"id","waffleBottomLabel"),i(fe,"class","waffle-text svelte-cz0ono"),i(p,"class","waffle-overlay svelte-cz0ono"),i(u,"class","hero-content svelte-cz0ono"),i(s,"class","hero-container svelte-cz0ono"),i(le,"id","guide"),i(Ce,"id","explore-title"),i(Ce,"class","svelte-cz0ono"),i(De,"class","search-label svelte-cz0ono"),i(I,"class","search-container svelte-cz0ono"),i(ke,"class","search-label-and-input svelte-cz0ono"),i(qe,"class","explore-block search-section svelte-cz0ono"),i(Z,"class","explore-header svelte-cz0ono"),i(ve,"id","explore-section-main"),i(ve,"class","svelte-cz0ono"),kt($e,"cursor","pointer"),i(et,"href",ie+"/lad"),i(et,"class","svelte-cz0ono"),i(tt,"href",ie+"/sefs"),i(tt,"class","svelte-cz0ono"),i(lt,"href",ie+"/map"),i(lt,"class","svelte-cz0ono"),i(at,"href",ie+"/lad"),i(at,"class","svelte-cz0ono"),i(Ee,"class","explore-pages svelte-cz0ono"),i(Qe,"class","explore-block svelte-cz0ono"),i(ne,"id","explore-section"),i(ne,"class","svelte-cz0ono"),i(ot,"class","svelte-cz0ono"),i(nt,"class","svelte-cz0ono"),i(Se,"class","side-box svelte-cz0ono"),i(it,"class","svelte-cz0ono"),i(rt,"class","svelte-cz0ono"),i(Ie,"class","side-box svelte-cz0ono"),i(st,"class","side-by-side-section svelte-cz0ono")},m(A,x){J(A,e,x),wt(t,e,null),o(e,l),o(e,s);for(let Ae=0;Ae<he.length;Ae+=1)he[Ae]&&he[Ae].m(s,null);o(s,n),o(s,u),o(u,h),o(u,g),o(u,p),o(p,d),o(d,w),me&&me.m(w,null),o(w,b),o(w,C),o(C,B),o(d,H),o(d,k),o(k,E),o(E,_),o(_,P),o(_,M),o(_,S),o(S,W),o(W,oe),o(W,X),o(S,U),o(S,V),o(E,O),xe.m(E,null),o(k,$),o(k,F),o(F,K),o(K,R),o(K,j),o(K,y),o(y,ee),o(ee,be),o(ee,Ne),o(F,we),We.m(F,null),o(k,Ye),_e&&_e.m(k,null),a[30](d),o(p,Fe),o(p,Ve),a[31](Ve),o(p,Le),o(p,Oe),o(p,gt),o(p,Xe),a[32](Xe),o(p,bt),o(p,D),o(p,Y),o(p,fe),a[33](s),o(e,ze),o(e,le),o(e,He),o(e,ne),o(ne,Z),o(Z,Ce),o(Z,ye),o(Z,qe),o(qe,ke),o(ke,De),o(ke,Be),o(ke,I),wt(ue,I,null),o(ne,Je),o(ne,ve),o(ne,Dt),o(ne,Qe),o(Qe,ht),o(Qe,Yt),o(Qe,Ee),o(Ee,$e),o(Ee,Xt),o(Ee,et),o(Ee,Zt),o(Ee,tt),o(Ee,Jt),o(Ee,lt),o(Ee,Qt),o(Ee,at),o(e,$t),o(e,st),o(st,Se),o(Se,ot),o(Se,el),o(Se,nt),o(Se,tl),ae&&ae.m(Se,null),o(st,ll),o(st,Ie),o(Ie,it),o(Ie,al),o(Ie,rt),o(Ie,sl),se&&se.m(Ie,null),o(e,ol),wt(ct,e,null),a[35](e),ft=!0,nl||(Vl=Ue($e,"click",a[26]),nl=!0)},p(A,x){if(x[0]&52428800){dt=Ge(A[21]);let de;for(de=0;de<dt.length;de+=1){const pe=Yl(A,dt,de);he[de]?he[de].p(pe,x):(he[de]=Xl(pe),he[de].c(),he[de].m(s,n))}for(;de<he.length;de+=1)he[de].d(1);he.length=dt.length}A[20]?me?me.p(A,x):(me=Zl(A),me.c(),me.m(w,b)):me&&(me.d(1),me=null),(!ft||x[0]&65536)&&ge(B,A[16]),(!ft||x[0]&131072)&&ge(X,A[17]),Ht!==(Ht=yl(A))&&(xe.d(1),xe=Ht(A),xe&&(xe.c(),xe.m(E,null))),(!ft||x[0]&262144)&&ge(Ne,A[18]),Bt!==(Bt=kl(A))&&(We.d(1),We=Bt(A),We&&(We.c(),We.m(F,null))),A[23]!==null?_e?_e.p(A,x):(_e=Jl(A),_e.c(),_e.m(k,null)):_e&&(_e.d(1),_e=null);const Ae={};x[0]&1&&(Ae.items=A[0]),ue.$set(Ae),A[7]?ae&&(Pl(),Ke(ae,1,1,()=>{ae=null}),Ml()):ae?(ae.p(A,x),x[0]&128&&Me(ae,1)):(ae=Ql(A),ae.c(),Me(ae,1),ae.m(Se,null)),A[7]?se&&(Pl(),Ke(se,1,1,()=>{se=null}),Ml()):se?(se.p(A,x),x[0]&128&&Me(se,1)):(se=$l(A),se.c(),Me(se,1),se.m(Ie,null))},i(A){ft||(Me(t.$$.fragment,A),Me(ue.$$.fragment,A),Me(ae),Me(se),Me(ct.$$.fragment,A),ft=!0)},o(A){Ke(t.$$.fragment,A),Ke(ue.$$.fragment,A),Ke(ae),Ke(se),Ke(ct.$$.fragment,A),ft=!1},d(A){A&&f(e),Vt(t),yt(he,A),me&&me.d(),xe.d(),We.d(),_e&&_e.d(),a[30](null),a[31](null),a[32](null),a[33](null),Vt(ue),ae&&ae.d(),se&&se.d(),Vt(ct),a[35](null),nl=!1,Vl()}}}function Ga(a,e,t){function l(){ra.set(!0)}const s=`${ie}/LAD/Eng_Wales_LSOA_LADs.csv`,n=`${ie}/LAD/NI_DZ_LAD.csv`,u=`${ie}/LAD/Scotland_DZ_LA.csv`;let h={},{data:m}=e,g,p,d,w,b,C,B,H,k=!0;async function E(){p=await jt(Ca()),t(2,d=await jt(Da())),await jt(Ea()),p=[...p].sort((D,Y)=>Y.total-D.total),t(2,d=[...d].sort((D,Y)=>Y.total_value-D.total_value)),w=fa(d,D=>D.value_per_capita),t(3,b=Math.max(...d.map(D=>D.total_value))),t(4,C=Math.min(...d.map(D=>D.total_value))),t(5,B=Math.min(...d.map(D=>D.value_per_capita))),t(6,H=Math.max(...d.map(D=>D.value_per_capita))),await fl(s).then(D=>{for(let Y of D)t(0,h[Y.LAD22CD]=Y.LAD22NM,h)}),await fl(n).then(D=>{for(let Y of D)t(0,h[Y.LGD2014_code]=Y.LGD2014_name,h)}),await fl(u).then(D=>{for(let Y of D)t(0,h[Y.LA_Code]=Y.LA_Name,h)}),t(7,k=!1)}let _=[],P="All",N="total",M=0,S=0;async function W(){const D=La({region:P,sortBy:N}),Y=await jt(D);t(8,_=Y),t(11,M=Math.max(...Y.map(fe=>fe.total_value))),t(12,S=Math.max(...Y.map(fe=>fe.value_per_capita)))}function oe(D){t(9,P=D.detail.region),t(10,N=D.detail.sortBy),W()}let X,U=[],V=null,q,O,$,F,K="",R,T=null,j=[],y,ee=null,be=0,Ne=0,we;function Ye(D){const Y=X.filter(Q=>Q.type!=="empty").map(Q=>Q.type),fe=Array.from(new Set(Y)),te=p.reduce((Q,He)=>Q+He.total,0),ze=[{type:null,label:"Total Co-Benefits",icon:null,totalValue:te.toFixed(2),perCapitaValue:w.toFixed(2),percentValue:"100%"},...fe.map(Q=>{const ne=vl.find(Be=>Be.id===Q)?.label??Q;let Z=dl(Q);const Ce=p.find(Be=>Be.co_benefit_type===Q),Ze=d.find(Be=>Be.co_benefit_type===Q),ye=Ce?.total??0,qe=Ze?.value_per_capita??0,ke=ye.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),De=qe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),je=te>0?(ye/te*100).toFixed(2):0;return{type:Q,label:ne,icon:Z,totalValue:ke,perCapitaValue:De,percentValue:je}})];setInterval(()=>{t(25,Ne=be),t(24,be=(be+1)%ze.length);const{type:Q,label:He,icon:ne,totalValue:Z,perCapitaValue:Ce,percentValue:Ze}=ze[be];t(23,ee=Q),t(16,$=He),t(17,F=Z),t(18,K=Ce),t(19,R=Ze),t(20,T=ne),Fe(D,Q)},6e3);const le=ze[0];t(23,ee=le.type),t(16,$=le.label),t(17,F=le.totalValue),t(18,K=le.perCapitaValue),t(19,R=le.percentValue),Fe(D,le.type)}function Fe(D,Y){if(!V)return;t(13,V.innerHTML="",V);const fe=1,te=12,ze=[],le=[];for(const I of p){const ue=Math.round(Math.abs(I.total)/fe),Je=Array.from({length:ue},()=>({type:I.co_benefit_type,negative:I.total<0}));I.total<0?le.push(...Je):ze.push(...Je)}const Q=Math.ceil(ze.length/te),He=Math.ceil(le.length/te),ne=Q+He,Z=Math.floor(D/ne),Ce=ze.map((I,ue)=>({x:ue%te,y:Math.floor(ue/te),...I})),Ze=le.map((I,ue)=>({x:ue%te,y:Q+Math.floor(ue/te),...I}));X=[...Ce,...Ze];const ye=50,qe=Math.floor(Q*te/ye)*ye,ke=-Math.floor(He*te/ye)*ye,De=document.getElementById("waffleLabels");if(De){De.innerHTML="";for(let I=qe;I>=ke;I-=ye){const Je=(Q*te-I)/te,ve=document.createElement("div");ve.textContent=`${I>0?"+":""}${I}bn`,ve.style.position="absolute",ve.style.left="0";const Ct=Math.max(8,Math.floor(Z*.6)),Dt=Je*Z+Z/2-Ct/2-15;ve.style.top=`${Dt}px`,ve.style.fontSize=`${Ct}px`,ve.style.lineHeight="1",De.appendChild(ve)}De.style.height=`${Z*ne}px`}U=Array.from(new Set(X.map(I=>I.type).filter(I=>I!=="empty"))),t(21,j=ma(U));const je=Y??null,Be=xt({width:Z*te*1.1,height:Z*ne-30,margin:0,marginRight:35,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:vl.map(I=>I.id),range:_a,unknown:"#eee",legend:!1},marks:[Nl(X.filter(I=>!I.negative),{x:I=>I.x*Z,y:I=>I.y*Z,fill:"type",fillOpacity:I=>je&&I.type!==je?.15:1}),ua([Q*Z-10],{stroke:"grey",strokeWidth:1.2}),Nl(X.filter(I=>I.negative),{x:I=>I.x*Z,y:I=>I.y*Z,stroke:"type",strokeOpacity:I=>je&&I.type!==je?.15:1,strokeWidth:1,fill:"none"})]});q&&(t(14,q.style.width=`${Z*te+30}px`,q),t(14,q.style.height=`${D}px`,q)),t(13,V.innerHTML="",V),V.append(Be)}function Ve(D){window.open(`${ie}/location?location=${D}`,"_blank")}oa(()=>{da(g),E().then(()=>{W();const D=y.getBoundingClientRect().height,Y=document.getElementById("waffleTopLabel"),fe=document.getElementById("waffleBottomLabel"),te=Y?.offsetHeight??0,ze=fe?.offsetHeight??0,le=D-te-ze;Fe(le),Ye(D),va(g)})}),na(()=>{clearInterval(we)});function Le(D){Et[D?"unshift":"push"](()=>{O=D,t(15,O)})}function Oe(D){Et[D?"unshift":"push"](()=>{q=D,t(14,q)})}function Tt(D){Et[D?"unshift":"push"](()=>{V=D,t(13,V)})}function gt(D){Et[D?"unshift":"push"](()=>{y=D,t(22,y)})}const Xe=D=>Ve(D.detail);function bt(D){Et[D?"unshift":"push"](()=>{g=D,t(1,g)})}return a.$$set=D=>{"data"in D&&t(29,m=D.data)},a.$$.update=()=>{a.$$.dirty[0]&536870912},[h,g,d,b,C,B,H,k,_,P,N,M,S,V,q,O,$,F,K,R,T,j,y,ee,be,Ne,l,oe,Ve,m,Le,Oe,Tt,gt,Xe,bt]}class as extends Wt{constructor(e){super(),Kt(this,e,Ga,Ua,At,{data:29},null,[-1,-1])}}export{as as component};
