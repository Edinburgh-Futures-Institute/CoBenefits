import{s as ws,a as y,e as s,t as w,H as kl,g as E,c as o,b,p as Y,d as A,f as p,E as xl,q as r,B as Le,i as Ae,h as e,y as wl,j as ge,w as Vr,z as As,r as ks,G as xs,n as Ls,A as Lt}from"../chunks/scheduler.DxTP-Qzi.js";import{S as Ds,i as Ss,c as Br,b as Hr,m as Rr,t as Fr,a as Or,d as Ur}from"../chunks/index.CDFQmUj4.js";import{N as Ts,e as Gn}from"../chunks/NavigationBar.YjIgI8Y7.js";import"../chunks/transform.BNP73y-7.js";import{ao as hs,ap as vs,G as Jn,q as js,r as Is,M as ps,az as ms,R as Ps,c as bs,b as gs,d as _s,aW as Ms,e as ys,aX as qs,aY as zs,T as Es,U as ia,h as Ns,i as Vs,aZ as Bs,a_ as Hs,a$ as Rs,b0 as Fs,l as Os,F as Us,H as Wn,I as qe,J as Gs,K as aa,L as Yn,N as it,P as Re,O as Gr,V as Wr,Q as Ws}from"../chunks/index.BLoJmirk.js";import{b as Qn}from"../chunks/paths.DUL3tRBr.js";import"../chunks/entry.DGfLtvDt.js";import{f as Yr}from"../chunks/module.BDHLYmQ2.js";import{M as Ys,g as Kr}from"../chunks/mapUK.DH85_Ksa.js";import{V as St,A as _e,e as sa,C as oa,c as Xr,r as Ks,f as Xs,M as $e,k as Zs,S as Zr,d as na,a as Jr,u as Js,v as Qs,T as Kn,h as $s}from"../chunks/globals.1IBIOW7t.js";import{g as Fe,j as Qr,k as eo,d as $r,l as to,m as es,z as lo,A as ao,p as no}from"../chunks/duckdb.-XNuYltr.js";import{F as ro}from"../chunks/Footer.D48Tbyji.js";import{b as Xn,a as Ut}from"../chunks/bar.CuW7nKQD.js";import{m as so,c as ts,s as oo,a as Al}from"../chunks/area.DT-3kh2Q.js";import{t as io,m as co,b as ra}from"../chunks/bin.vDT_EE8z.js";import{n as uo}from"../chunks/nice.DHxIpIBp.js";import{d as ls}from"../chunks/dot.pNaywhZp.js";const fo=ho(vo);function ho(t){return function(l,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!n&&!a)return l;const v=n&&t(n),C=a&&t(a),f=u.slice();return v&&C?(yl(v,f,u,i,c),yl(v,u,f,i,c),yl(v,f,u,i,c),El(C,u,f,i,c),El(C,f,u,i,c),El(C,u,f,i,c)):v?(yl(v,u,f,i,c),yl(v,f,u,i,c),yl(v,u,f,i,c)):C&&(El(C,u,f,i,c),El(C,f,u,i,c),El(C,u,f,i,c)),l}}function yl(t,l,n,a,u){for(let i=0,c=a*u;i<c;)t(l,n,i,i+=a,1)}function El(t,l,n,a,u){for(let i=0,c=a*u;i<a;++i)t(l,n,i,i+c,a)}function vo(t){const l=Math.floor(t);if(l===t)return po(t);const n=t-l,a=2*t+1;return(u,i,c,v,C)=>{if(!((v-=C)>=c))return;let f=l*i[c];const h=C*l,L=h+C;for(let _=c,S=c+h;_<S;_+=C)f+=i[Math.min(v,_)];for(let _=c,S=v;_<=S;_+=C)f+=i[Math.min(v,_+h)],u[_]=(f+n*(i[Math.max(c,_-L)]+i[Math.min(v,_+L)]))/a,f-=i[Math.max(c,_-h)]}}function po(t){const l=2*t+1;return(n,a,u,i,c)=>{if(!((i-=c)>=u))return;let v=t*a[u];const C=c*t;for(let f=u,h=u+C;f<h;f+=c)v+=a[Math.min(i,f)];for(let f=u,h=i;f<=h;f+=c)v+=a[Math.min(i,f+C)],n[f]=v/l,v-=a[Math.max(u,f-C)]}}var mo=Array.prototype,Cs=mo.slice;function bo(t,l){return t-l}function go(t){for(var l=0,n=t.length,a=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++l<n;)a+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return a}const Dt=t=>()=>t;function _o(t,l){for(var n=-1,a=l.length,u;++n<a;)if(u=yo(t,l[n]))return u;return 0}function yo(t,l){for(var n=l[0],a=l[1],u=-1,i=0,c=t.length,v=c-1;i<c;v=i++){var C=t[i],f=C[0],h=C[1],L=t[v],_=L[0],S=L[1];if(Eo(C,L,l))return 0;h>a!=S>a&&n<(_-f)*(a-h)/(S-h)+f&&(u=-u)}return u}function Eo(t,l,n){var a;return Co(t,l,n)&&wo(t[a=+(t[0]===l[0])],n[a],l[a])}function Co(t,l,n){return(l[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(l[1]-t[1])}function wo(t,l,n){return t<=l&&l<=n||n<=l&&l<=t}function Ao(){}var ct=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function as(){var t=1,l=1,n=io,a=C;function u(f){var h=n(f);if(Array.isArray(h))h=h.slice().sort(bo);else{const L=hs(f,ko);for(h=vs(...uo(L[0],L[1],h),h);h[h.length-1]>=L[1];)h.pop();for(;h[1]<L[0];)h.shift()}return h.map(L=>i(f,L))}function i(f,h){const L=h==null?NaN:+h;if(isNaN(L))throw new Error(`invalid value: ${h}`);var _=[],S=[];return c(f,L,function(D){a(D,f,L),go(D)>0?_.push([D]):S.push(D)}),S.forEach(function(D){for(var k=0,I=_.length,g;k<I;++k)if(_o((g=_[k])[0],D)!==-1){g.push(D);return}}),{type:"MultiPolygon",value:h,coordinates:_}}function c(f,h,L){var _=new Array,S=new Array,D,k,I,g,m,T;for(D=k=-1,g=Gt(f[0],h),ct[g<<1].forEach(j);++D<t-1;)I=g,g=Gt(f[D+1],h),ct[I|g<<1].forEach(j);for(ct[g<<0].forEach(j);++k<l-1;){for(D=-1,g=Gt(f[k*t+t],h),m=Gt(f[k*t],h),ct[g<<1|m<<2].forEach(j);++D<t-1;)I=g,g=Gt(f[k*t+t+D+1],h),T=m,m=Gt(f[k*t+D+1],h),ct[I|g<<1|m<<2|T<<3].forEach(j);ct[g|m<<3].forEach(j)}for(D=-1,m=f[k*t]>=h,ct[m<<2].forEach(j);++D<t-1;)T=m,m=Gt(f[k*t+D+1],h),ct[m<<2|T<<3].forEach(j);ct[m<<3].forEach(j);function j(M){var B=[M[0][0]+D,M[0][1]+k],q=[M[1][0]+D,M[1][1]+k],G=v(B),H=v(q),P,z;(P=S[G])?(z=_[H])?(delete S[P.end],delete _[z.start],P===z?(P.ring.push(q),L(P.ring)):_[P.start]=S[z.end]={start:P.start,end:z.end,ring:P.ring.concat(z.ring)}):(delete S[P.end],P.ring.push(q),S[P.end=H]=P):(P=_[H])?(z=S[G])?(delete _[P.start],delete S[z.end],P===z?(P.ring.push(q),L(P.ring)):_[z.start]=S[P.end]={start:z.start,end:P.end,ring:z.ring.concat(P.ring)}):(delete _[P.start],P.ring.unshift(B),_[P.start=G]=P):_[G]=S[H]={start:G,end:H,ring:[B,q]}}}function v(f){return f[0]*2+f[1]*(t+1)*4}function C(f,h,L){f.forEach(function(_){var S=_[0],D=_[1],k=S|0,I=D|0,g=Zn(h[I*t+k]);S>0&&S<t&&k===S&&(_[0]=ns(S,Zn(h[I*t+k-1]),g,L)),D>0&&D<l&&I===D&&(_[1]=ns(D,Zn(h[(I-1)*t+k]),g,L))})}return u.contour=i,u.size=function(f){if(!arguments.length)return[t,l];var h=Math.floor(f[0]),L=Math.floor(f[1]);if(!(h>=0&&L>=0))throw new Error("invalid size");return t=h,l=L,u},u.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?Dt(Cs.call(f)):Dt(f),u):n},u.smooth=function(f){return arguments.length?(a=f?C:Ao,u):a===C},u}function ko(t){return isFinite(t)?t:NaN}function Gt(t,l){return t==null?!1:+t>=l}function Zn(t){return t==null||isNaN(t=+t)?-1/0:t}function ns(t,l,n,a){const u=a-l,i=n-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function xo(t){return t[0]}function Lo(t){return t[1]}function Do(){return 1}function So(){var t=xo,l=Lo,n=Do,a=960,u=500,i=20,c=2,v=i*3,C=a+v*2>>c,f=u+v*2>>c,h=Dt(20);function L(m){var T=new Float32Array(C*f),j=Math.pow(2,-c),M=-1;for(const N of m){var B=(t(N,++M,m)+v)*j,q=(l(N,M,m)+v)*j,G=+n(N,M,m);if(G&&B>=0&&B<C&&q>=0&&q<f){var H=Math.floor(B),P=Math.floor(q),z=B-H-.5,se=q-P-.5;T[H+P*C]+=(1-z)*(1-se)*G,T[H+1+P*C]+=z*(1-se)*G,T[H+1+(P+1)*C]+=z*se*G,T[H+(P+1)*C]+=(1-z)*se*G}}return fo({data:T,width:C,height:f},i*j),T}function _(m){var T=L(m),j=h(T),M=Math.pow(2,2*c);return Array.isArray(j)||(j=vs(Number.MIN_VALUE,Jn(T)/M,j)),as().size([C,f]).thresholds(j.map(B=>B*M))(T).map((B,q)=>(B.value=+j[q],S(B)))}_.contours=function(m){var T=L(m),j=as().size([C,f]),M=Math.pow(2,2*c),B=q=>{q=+q;var G=S(j.contour(T,q*M));return G.value=q,G};return Object.defineProperty(B,"max",{get:()=>Jn(T)/M}),B};function S(m){return m.coordinates.forEach(D),m}function D(m){m.forEach(k)}function k(m){m.forEach(I)}function I(m){m[0]=m[0]*Math.pow(2,c)-v,m[1]=m[1]*Math.pow(2,c)-v}function g(){return v=i*3,C=a+v*2>>c,f=u+v*2>>c,_}return _.x=function(m){return arguments.length?(t=typeof m=="function"?m:Dt(+m),_):t},_.y=function(m){return arguments.length?(l=typeof m=="function"?m:Dt(+m),_):l},_.weight=function(m){return arguments.length?(n=typeof m=="function"?m:Dt(+m),_):n},_.size=function(m){if(!arguments.length)return[a,u];var T=+m[0],j=+m[1];if(!(T>=0&&j>=0))throw new Error("invalid size");return a=T,u=j,g()},_.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),g()},_.thresholds=function(m){return arguments.length?(h=typeof m=="function"?m:Array.isArray(m)?Dt(Cs.call(m)):Dt(m),_):h},_.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,g()},_}const To={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class jo extends ps{constructor(l,n={}){const{x:a,y:u,z:i,curve:c,tension:v}=n;super(l,{x:{value:a,scale:"x"},y:{value:u,scale:"y"},z:{value:ms(n),optional:!0}},n,To),this.z=i,this.curve=so(c,v),Ps(this,n)}filter(l){return l}project(l,n,a){this.curve!==ts&&super.project(l,n,a)}render(l,n,a,u,i){const{x:c,y:v}=a,{curve:C}=this;return bs("svg:g",i).call(gs,this,u,i).call(_s,this,n).call(f=>f.selectAll().data(Ms(l,[c,v],this,a)).enter().append("path").call(ys,this).call(qs,this,a).call(zs,this,a,i).attr("d",C===ts&&i.projection?Io(i.projection,c,v):oo().curve(C).defined(h=>h>=0).x(h=>c[h]).y(h=>v[h]))).node()}}function Io(t,l,n){const a=Es(t);return l=ia(l),n=ia(n),u=>{let i=[];const c=[i];for(const v of u)v===-1?(i=[],c.push(i)):i.push([l[v],n[v]]);return a({type:"MultiLineString",coordinates:c})}}function Po(t,{x:l=js,y:n=Is,...a}={}){return new jo(t,co({...a,x:l,y:n}))}const Mo={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class qo extends ps{constructor(l,{x:n,y:a,z:u,weight:i,fill:c,stroke:v,...C}={}){const f=ss(c)&&(c="currentColor",!0),h=ss(v)&&(v="currentColor",!0);super(l,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:ms({z:u,fill:c,stroke:v}),optional:!0},weight:{value:i,optional:!0}},No({...C,fill:c,stroke:v},f,h),Mo),f&&(this.fill=void 0),h&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,n,a,u,i){const{contours:c}=a,v=Es();return bs("svg:g",i).call(gs,this,u,i).call(_s,this,{}).call(C=>C.selectAll().data(l).enter().append("path").call(ys,this).call(Ns,this,a).attr("d",f=>v(c[f]))).node()}}function rs(t,{x:l,y:n,...a}={}){return[l,n]=Vs(l,n),new qo(t,{...a,x:l,y:n})}const zo=new Set(["x","y","z","weight"]);function No(t,l,n){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?ia(i):+i,Bs(t,function(c,v,C,f,h,L){const _=C.weight?ia(C.weight.value):null,S=C.z?.value,{z:D}=this,[k,I]=Os(this,h),{width:g,height:m}=h,{x:T,y:j}=Hs(C,f,L),M=Object.fromEntries(Object.entries(C).filter(([N])=>!zo.has(N)).map(([N,Z])=>[N,{...Z,value:[]}])),B=l&&[],q=n&&[],G=So().x(T?N=>T[N]:k).y(j?N=>j[N]:I).weight(_?N=>_[N]:1).size([g,m]).bandwidth(u),H=[];for(const N of v){const Z=[];H.push(Z);for(const ae of S?Rs(N,S,D):[N]){const O=G.contours(ae);Z.push([ae,O])}}let P=i;if(!(P instanceof Fs)){let N=0;for(const Z of H)for(const[,ae]of Z){const O=ae.max;O>N&&(N=O)}P=Float64Array.from({length:i-1},(Z,ae)=>N*100*(ae+1)/i)}const z=[],se=[];for(const N of H){const Z=[];z.push(Z);for(const[ae,O]of N)for(const ie of P){Z.push(se.length),se.push(O(ie/100)),B&&B.push(ie),q&&q.push(ie);for(const ve in M)M[ve].value.push(C[ve].value[ae[0]])}}return B&&B.push(0),q&&q.push(0),{data:c,facets:z,channels:{...M,...B&&{fill:{value:B,scale:"color"}},...q&&{stroke:{value:q,scale:"color"}},contours:{value:se}}}})}function ss(t){return/^density$/i.test(t)}function os(t,l,n){const a=t.slice();return a[56]=l[n],a[57]=l,a[58]=n,a}function Vo(t,l,n){const a=t.slice();return a[59]=l[n],a}function is(t){let l,n,a,u=t[19][t[18]]+"",i,c,v,C=ds(t[16])+"",f,h=t[9]&&cs(t);return{c(){l=s("div"),n=s("div"),a=s("span"),i=w(u),c=y(),h&&h.c(),v=w(`\r
              >> `),f=w(C),this.h()},l(L){l=o(L,"DIV",{class:!0});var _=b(l);n=o(_,"DIV",{class:!0});var S=b(n);a=o(S,"SPAN",{class:!0});var D=b(a);i=A(D,u),c=E(D),h&&h.l(D),v=A(D,`\r
              >> `),f=A(D,C),D.forEach(p),S.forEach(p),_.forEach(p),this.h()},h(){r(a,"class","mini-header-text"),r(n,"class","mini-header-content"),r(l,"class","mini-header")},m(L,_){Ae(L,l,_),e(l,n),e(n,a),e(a,i),e(a,c),h&&h.m(a,null),e(a,v),e(a,f)},p(L,_){L[9]?h?h.p(L,_):(h=cs(L),h.c(),h.m(a,v)):h&&(h.d(1),h=null),_[0]&65536&&C!==(C=ds(L[16])+"")&&ge(f,C)},d(L){L&&p(l),h&&h.d()}}}function cs(t){let l,n,a=t[9].toLocaleString()+"",u,i;return{c(){l=s("span"),n=w("(Total: £"),u=w(a),i=w(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var v=b(l);n=A(v,"(Total: £"),u=A(v,a),i=A(v," billion)"),v.forEach(p),this.h()},h(){r(l,"class","mini-header-value")},m(c,v){Ae(c,l,v),e(l,n),e(l,u),e(l,i)},p(c,v){v[0]&512&&a!==(a=c[9].toLocaleString()+"")&&ge(u,a)},d(c){c&&p(l)}}}function us(t){let l,n,a,u,i=t[20](t[9],t[11],St)+"",c,v,C,f=t[9].toLocaleString()+"",h,L,_,S="billion",D,k,I,g=t[20](t[13],t[11],_e)+"",m,T,j,M,B,q=t[20](t[10],t[12],St)+"",G,H,P,z=t[10].toLocaleString()+"",se,N,Z,ae,O,ie,ve=t[20](t[14],t[12],_e)+"",ce,ze,ye,ne,$,ue,fe;function Te(F,le){return F[9]>0?Ho:Bo}let Ee=Te(t),re=Ee(t);function De(F,le){return F[9]>0?Fo:Ro}let de=De(t),ke=de(t);return{c(){l=s("div"),n=s("div"),a=s("div"),u=new kl(!1),c=y(),v=s("span"),C=w("£"),h=w(f),L=y(),_=s("span"),_.textContent=S,D=y(),k=s("div"),I=new kl(!1),m=y(),re.c(),T=y(),j=s("div"),M=s("div"),B=new kl(!1),G=y(),H=s("span"),P=w("£"),se=w(z),N=y(),Z=s("span"),ae=y(),O=s("div"),ie=new kl(!1),ce=y(),ke.c(),ze=y(),ye=s("span"),ne=s("i"),$=w("Grey bars indicate average value for "),ue=s("span"),fe=w(t[7]),this.h()},l(F){l=o(F,"DIV",{class:!0});var le=b(l);n=o(le,"DIV",{class:!0});var Ue=b(n);a=o(Ue,"DIV",{class:!0});var he=b(a);u=xl(he,!1),c=E(he),v=o(he,"SPAN",{class:!0});var d=b(v);C=A(d,"£"),h=A(d,f),d.forEach(p),L=E(he),_=o(he,"SPAN",{class:!0,"data-svelte-h":!0}),Y(_)!=="svelte-tlhydp"&&(_.textContent=S),he.forEach(p),D=E(Ue),k=o(Ue,"DIV",{class:!0});var R=b(k);I=xl(R,!1),m=E(R),re.l(R),R.forEach(p),Ue.forEach(p),T=E(le),j=o(le,"DIV",{class:!0});var ee=b(j);M=o(ee,"DIV",{class:!0});var X=b(M);B=xl(X,!1),G=E(X),H=o(X,"SPAN",{class:!0});var V=b(H);P=A(V,"£"),se=A(V,z),V.forEach(p),N=E(X),Z=o(X,"SPAN",{class:!0}),b(Z).forEach(p),X.forEach(p),ae=E(ee),O=o(ee,"DIV",{class:!0});var J=b(O);ie=xl(J,!1),ce=E(J),ke.l(J),J.forEach(p),ze=E(ee),ye=o(ee,"SPAN",{class:!0});var U=b(ye);ne=o(U,"I",{});var oe=b(ne);$=A(oe,"Grey bars indicate average value for "),ue=o(oe,"SPAN",{class:!0});var je=b(ue);fe=A(je,t[7]),je.forEach(p),oe.forEach(p),U.forEach(p),ee.forEach(p),le.forEach(p),this.h()},h(){u.a=c,r(v,"class","waffle-big svelte-j2xbeq"),r(_,"class","small svelte-j2xbeq"),r(a,"class","waffle-value svelte-j2xbeq"),I.a=m,r(k,"class","waffle-value svelte-j2xbeq"),r(n,"class","waffle-stat svelte-j2xbeq"),B.a=G,r(H,"class","waffle-big svelte-j2xbeq"),r(Z,"class","small svelte-j2xbeq"),r(M,"class","waffle-value svelte-j2xbeq"),ie.a=ce,r(O,"class","waffle-value svelte-j2xbeq"),r(ue,"class","nation-label svelte-j2xbeq"),r(ye,"class","waffle-caption svelte-j2xbeq"),r(j,"class","waffle-stat svelte-j2xbeq"),r(l,"class","waffle-stats")},m(F,le){Ae(F,l,le),e(l,n),e(n,a),u.m(i,a),e(a,c),e(a,v),e(v,C),e(v,h),e(a,L),e(a,_),e(n,D),e(n,k),I.m(g,k),e(k,m),re.m(k,null),e(l,T),e(l,j),e(j,M),B.m(q,M),e(M,G),e(M,H),e(H,P),e(H,se),e(M,N),e(M,Z),e(j,ae),e(j,O),ie.m(ve,O),e(O,ce),ke.m(O,null),e(j,ze),e(j,ye),e(ye,ne),e(ne,$),e(ne,ue),e(ue,fe)},p(F,le){le[0]&2560&&i!==(i=F[20](F[9],F[11],St)+"")&&u.p(i),le[0]&512&&f!==(f=F[9].toLocaleString()+"")&&ge(h,f),le[0]&10240&&g!==(g=F[20](F[13],F[11],_e)+"")&&I.p(g),Ee!==(Ee=Te(F))&&(re.d(1),re=Ee(F),re&&(re.c(),re.m(k,null))),le[0]&5120&&q!==(q=F[20](F[10],F[12],St)+"")&&B.p(q),le[0]&1024&&z!==(z=F[10].toLocaleString()+"")&&ge(se,z),le[0]&20480&&ve!==(ve=F[20](F[14],F[12],_e)+"")&&ie.p(ve),de!==(de=De(F))&&(ke.d(1),ke=de(F),ke&&(ke.c(),ke.m(O,null))),le[0]&128&&ge(fe,F[7])},d(F){F&&p(l),re.d(),ke.d()}}}function Bo(t){let l,n="Local area costs";return{c(){l=s("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-pi7zpb"&&(l.textContent=n),this.h()},h(){r(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Ho(t){let l,n="Local area benefits";return{c(){l=s("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-cjpgg1"&&(l.textContent=n),this.h()},h(){r(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Ro(t){let l,n="Per capita costs";return{c(){l=s("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-k47gg8"&&(l.textContent=n),this.h()},h(){r(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Fo(t){let l,n="Per capita benefits";return{c(){l=s("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1jc8yoe"&&(l.textContent=n),this.h()},h(){r(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Oo(t){let l,n,a,u,i=t[59].label+"",c,v;return{c(){l=s("li"),n=s("span"),a=y(),u=s("a"),c=w(i),v=y(),this.h()},l(C){l=o(C,"LI",{});var f=b(l);n=o(f,"SPAN",{class:!0,style:!0}),b(n).forEach(p),a=E(f),u=o(f,"A",{href:!0,target:!0,class:!0});var h=b(u);c=A(h,i),h.forEach(p),v=E(f),f.forEach(p),this.h()},h(){r(n,"class","legend-color svelte-j2xbeq"),Le(n,"background-color",sa(t[59].id)),r(u,"href",Qn+"/cobenefit?cobenefit="+t[59].id),r(u,"target","_blank"),r(u,"class","link")},m(C,f){Ae(C,l,f),e(l,n),e(l,a),e(l,u),e(u,c),e(l,v)},p:Ls,d(C){C&&p(l)}}}function Uo(t){let l,n,a,u=`Data zones
                                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,i,c,v,C,f,h,L=`The histogram shows the number of data zones\r
                                        distributed\r
                                        across\r
                                        different household social economic factors.`,_,S,D="",k=t[56],I,g,m,T,j,M=t[56].label+"",B,q,G,H,P,z=t[19][t[18]]+"",se,N,Z,ae,O,ie="";const ve=()=>t[33](S,k),ce=()=>t[33](null,k),ze=()=>t[34](O,k),ye=()=>t[34](null,k);return{c(){l=s("div"),n=s("h3"),a=s("span"),a.innerHTML=u,i=w(`\r
                                            distribution (vs. `),c=s("span"),v=w(t[7]),C=w(" average)"),f=y(),h=s("p"),h.textContent=L,_=y(),S=s("div"),S.innerHTML=D,I=y(),g=s("div"),m=s("div"),T=s("h3"),j=w(`Co-benefits received by data zones\r
                                            across `),B=w(M),q=w(`\r
                                            values`),G=y(),H=s("p"),P=w(`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),se=w(z),N=w("."),Z=y(),ae=s("div"),O=s("div"),O.innerHTML=ie,this.h()},l(ne){l=o(ne,"DIV",{class:!0});var $=b(l);n=o($,"H3",{class:!0});var ue=b(n);a=o(ue,"SPAN",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-zeycni"&&(a.innerHTML=u),i=A(ue,`\r
                                            distribution (vs. `),c=o(ue,"SPAN",{class:!0});var fe=b(c);v=A(fe,t[7]),fe.forEach(p),C=A(ue," average)"),ue.forEach(p),f=E($),h=o($,"P",{class:!0,"data-svelte-h":!0}),Y(h)!=="svelte-zr1gq8"&&(h.textContent=L),_=E($),S=o($,"DIV",{class:!0,"data-svelte-h":!0}),Y(S)!=="svelte-6ldqab"&&(S.innerHTML=D),$.forEach(p),I=E(ne),g=o(ne,"DIV",{class:!0});var Te=b(g);m=o(Te,"DIV",{});var Ee=b(m);T=o(Ee,"H3",{class:!0});var re=b(T);j=A(re,`Co-benefits received by data zones\r
                                            across `),B=A(re,M),q=A(re,`\r
                                            values`),re.forEach(p),G=E(Ee),H=o(Ee,"P",{class:!0});var De=b(H);P=A(De,`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),se=A(De,z),N=A(De,"."),De.forEach(p),Ee.forEach(p),Z=E(Te),ae=o(Te,"DIV",{});var de=b(ae);O=o(de,"DIV",{class:!0,"data-svelte-h":!0}),Y(O)!=="svelte-12l832e"&&(O.innerHTML=ie),de.forEach(p),Te.forEach(p),this.h()},h(){r(a,"class","tooltip-term"),r(c,"class","nation-label svelte-j2xbeq"),r(n,"class","component-title"),r(h,"class","description short"),r(S,"class","plot"),r(l,"class","component column svelte-j2xbeq"),r(T,"class","component-title"),r(H,"class","description short"),r(O,"class","plot"),r(g,"class","component column svelte-j2xbeq")},m(ne,$){Ae(ne,l,$),e(l,n),e(n,a),e(n,i),e(n,c),e(c,v),e(n,C),e(l,f),e(l,h),e(l,_),e(l,S),ve(),Ae(ne,I,$),Ae(ne,g,$),e(g,m),e(m,T),e(T,j),e(T,B),e(T,q),e(m,G),e(m,H),e(H,P),e(H,se),e(H,N),e(g,Z),e(g,ae),e(ae,O),ze()},p(ne,$){t=ne,$[0]&128&&ge(v,t[7]),k!==t[56]&&(ce(),k=t[56],ve()),k!==t[56]&&(ye(),k=t[56],ze())},d(ne){ne&&(p(l),p(I),p(g)),ce(),ye()}}}function fs(t){let l,n,a,u=t[56].label+"",i,c,v,C=t[56].def+"",f,h,L,_;function S(I,g){return Uo}let k=S()(t);return{c(){l=s("div"),n=s("h2"),a=s("a"),i=w(u),c=y(),v=s("p"),f=w(C),h=y(),L=s("div"),k.c(),_=y(),this.h()},l(I){l=o(I,"DIV",{class:!0});var g=b(l);n=o(g,"H2",{class:!0});var m=b(n);a=o(m,"A",{class:!0,target:!0,href:!0});var T=b(a);i=A(T,u),T.forEach(p),m.forEach(p),c=E(g),v=o(g,"P",{class:!0});var j=b(v);f=A(j,C),j.forEach(p),h=E(g),L=o(g,"DIV",{class:!0});var M=b(L);k.l(M),M.forEach(p),_=E(g),g.forEach(p),this.h()},h(){r(a,"class","link"),r(a,"target","_blank"),r(a,"href",Qn+"/sef?sef="+t[56].id),r(n,"class","column-chart-title svelte-j2xbeq"),r(v,"class","column-chart-caption svelte-j2xbeq"),r(L,"class","row"),r(l,"class","household-column svelte-j2xbeq")},m(I,g){Ae(I,l,g),e(l,n),e(n,a),e(a,i),e(l,c),e(l,v),e(v,f),e(l,h),e(l,L),k.m(L,null),e(l,_)},p(I,g){k.p(I,g)},d(I){I&&p(l),k.d()}}}function Go(t){let l,n,a,u,i,c,v,C="Local Authority Report",f,h,L=t[19][t[18]]+"",_,S,D,k=`Explore how this local authority will benefit from achieving Net Zero and learn about\r
                the characteristics of its households.`,I,g,m,T,j,M,B,q,G="UK",H,P,z,se,N,Z="England",ae,O,ie,ve,ce,ze="Wales",ye,ne,$,ue,fe,Te="Scotland",Ee,re,De,de,ke="Northern Ireland",F,le,Ue,he,d,R=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ee,X,V,J,U,oe,je=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,W,Ie,Ll,ca,ua,Ge,fa,$n=t[19][t[18]]+"",da,ha,Yt,Dl,va,pa,ma,ba,Cl,Sl=t[21](t[5],t[8])+"",Tl,ut,ga,Kt,jl,_a,ya,We,Ea,er=t[19][t[18]]+"",Ca,wa,Xt,Il,Aa,ka,ft,tr="",xa,Pe,dt,La,lr=t[19][t[18]]+"",Da,Sa,Ta,Tt,ar=t[19][t[18]]+"",ja,Ia,Pa,jt,nr="*Scroll for zooming in and out",Ma,et,rr="",qa,tt,It,sr=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,za,lt,at,nt,ht,Na,Zt,Pl,Va,Ba,Ne,Ha,or=t[19][t[18]]+"",Ra,Fa,Jt,Ml,Oa,Ua,Ye,Pt,ir="Legend:",Ga,Wa,Ya,vt,pt,Qt,Ka,cr=t[19][t[18]]+"",Xa,Za,mt,$t,Ja,el,ql,Qa,tl,$a,Ve,rt,bt,en,ur=t[19][t[18]]+"",tn,ln,an,gt,fr=`Total gains and losses are shown at five-year\r
                        intervals for each co-benefit. The curve between points is smoothed to show the general\r
                        trends.`,nn,Me,Mt,dr="Legend:",rn,sn,on,qt,cn,ll,un,_t,hr=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,fn,st,Ke,zt,vr="Households",dn,Nt,pr=t[19][t[18]]+"",hn,vn,pn,Vt,mr=`We describe the distribution of household economic factors aggregated on the data\r
                zone level and the different level of co-benefits received by those data zones.`,mn,Xe,Ce,Ze,bn,br=t[19][t[18]]+"",gn,_n,zl,yn,En,Cn,wn,Be,Bt,gr="Legend:",An,kn,xn,yt,Et,al,Ln,_r=t[19][t[18]]+"",Dn,Sn,Ct,nl,Tn,Nl,jn,Se,Ht,yr="Interpreting the charts:",In,Pn,Mn,rl,Er=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,qn,Je,sl,Cr="Scatterplot:",zn,wr=t[19][t[18]]+"",Nn,Vn,Vl,Bn,Hn,wt,Ar=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,Rn,At,Bl,Rt,we,Fn,kr;l=new Ts({});let me=t[15]&&is(t),be=t[9]&&us(t),xr=Gn(oa),ot=[];for(let x=0;x<xr.length;x+=1)ot[x]=Oo(Vo(t,xr,x));let ol=Gn(Xr),pe=[];for(let x=0;x<ol.length;x+=1)pe[x]=fs(os(t,ol,x));return Rt=new ro({}),{c(){Br(l.$$.fragment),n=y(),a=s("div"),me&&me.c(),u=y(),i=s("div"),c=s("div"),v=s("p"),v.textContent=C,f=y(),h=s("h1"),_=w(L),S=y(),D=s("p"),D.textContent=k,I=y(),g=s("div"),m=w("Compare this Local Authority District (LAD) against:"),T=s("br"),j=y(),M=s("input"),B=y(),q=s("label"),q.textContent=G,H=s("br"),P=y(),z=s("input"),se=y(),N=s("label"),N.textContent=Z,ae=s("br"),O=y(),ie=s("input"),ve=y(),ce=s("label"),ce.textContent=ze,ye=s("br"),ne=y(),$=s("input"),ue=y(),fe=s("label"),fe.textContent=Te,Ee=y(),re=s("input"),De=y(),de=s("label"),de.textContent=ke,F=y(),le=s("div"),be&&be.c(),Ue=y(),he=s("div"),d=s("div"),d.innerHTML=R,ee=y(),X=s("div"),V=s("div"),J=s("h3"),U=w(`Distribution of the cobenefit per\r
                        `),oe=s("span"),oe.innerHTML=je,W=w(`\r
                        compared to `),Ie=s("span"),Ll=w(t[7]),ca=w(" Average)"),ua=y(),Ge=s("p"),fa=w("Co-benefit values for "),da=w($n),ha=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Yt=s("span"),Dl=w(t[7]),va=w(" (grey)."),pa=y(),ma=s("br"),ba=y(),Cl=new kl(!1),Tl=y(),ut=s("h3"),ga=w("11 types of co-benefit values (vs. "),Kt=s("span"),jl=w(t[7]),_a=w(" Average)"),ya=y(),We=s("p"),Ea=w("Co-benefit values for "),Ca=w(er),wa=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Xt=s("span"),Il=w(t[7]),Aa=w(" (grey)."),ka=y(),ft=s("div"),ft.innerHTML=tr,xa=y(),Pe=s("div"),dt=s("h3"),La=w("Where is "),Da=w(lr),Sa=w("?"),Ta=y(),Tt=s("p"),ja=w(ar),Ia=w(" has been highlighted in dark grey on this UK map."),Pa=y(),jt=s("p"),jt.textContent=nr,Ma=y(),et=s("div"),et.innerHTML=rr,qa=y(),tt=s("div"),It=s("div"),It.innerHTML=sr,za=y(),lt=s("div"),at=s("div"),nt=s("div"),ht=s("h3"),Na=w("Total co-benefit distribution from 2025-2049 (vs. "),Zt=s("span"),Pl=w(t[7]),Va=w(" Average)"),Ba=y(),Ne=s("p"),Ha=w(`Aggregated values from 2025-2049\r
                        in `),Ra=w(or),Fa=w(` compared to average value of benefits received across all local authorities\r
                        in `),Jt=s("span"),Ml=w(t[7]),Oa=w("."),Ua=y(),Ye=s("div"),Pt=s("strong"),Pt.textContent=ir,Ga=y(),Wa=s("br"),Ya=y(),vt=s("ul"),pt=s("li"),Qt=s("span"),Ka=y(),Xa=w(cr),Za=y(),mt=s("li"),$t=s("span"),Ja=y(),el=s("span"),ql=w(t[7]),Qa=y(),tl=s("div"),$a=y(),Ve=s("div"),rt=s("div"),bt=s("h3"),en=w("Co-benefit gain/loss for "),tn=w(ur),ln=w(" over 5 year intervals"),an=y(),gt=s("p"),gt.textContent=fr,nn=y(),Me=s("div"),Mt=s("strong"),Mt.textContent=dr,rn=y(),sn=s("br"),on=y(),qt=s("ul");for(let x=0;x<ot.length;x+=1)ot[x].c();cn=y(),ll=s("div"),un=y(),_t=s("div"),_t.innerHTML=hr,fn=y(),st=s("div"),Ke=s("div"),zt=s("p"),zt.textContent=vr,dn=y(),Nt=s("h2"),hn=w(pr),vn=w(" social-economic factors"),pn=y(),Vt=s("p"),Vt.textContent=mr,mn=y(),Xe=s("div"),Ce=s("div"),Ze=s("h3"),bn=w("Comparing the Socio-Economic factors distributions of "),gn=w(br),_n=w(`\r
                    and `),zl=w(t[7]),yn=w(", and their correlation with co-benefits."),En=y(),Cn=s("br"),wn=y(),Be=s("div"),Bt=s("strong"),Bt.textContent=gr,An=y(),kn=s("br"),xn=y(),yt=s("ul"),Et=s("li"),al=s("span"),Ln=y(),Dn=w(_r),Sn=y(),Ct=s("li"),nl=s("span"),Tn=y(),Nl=w(t[7]),jn=y(),Se=s("div"),Ht=s("strong"),Ht.textContent=yr,In=y(),Pn=s("br"),Mn=y(),rl=s("p"),rl.innerHTML=Er,qn=y(),Je=s("p"),sl=s("strong"),sl.textContent=Cr,zn=w(" Each dot represents a datazone inside "),Nn=w(wr),Vn=w(`. The cloud\r
                        shows the distribution for `),Vl=w(t[7]),Bn=w("."),Hn=y(),wt=s("div"),wt.innerHTML=Ar,Rn=y(),At=s("div");for(let x=0;x<pe.length;x+=1)pe[x].c();Bl=y(),Br(Rt.$$.fragment),this.h()},l(x){Hr(l.$$.fragment,x),n=E(x),a=o(x,"DIV",{class:!0});var K=b(a);me&&me.l(K),u=E(K),i=o(K,"DIV",{class:!0,id:!0});var Q=b(i);c=o(Q,"DIV",{});var He=b(c);v=o(He,"P",{class:!0,"data-svelte-h":!0}),Y(v)!=="svelte-wtex57"&&(v.textContent=C),f=E(He),h=o(He,"H1",{class:!0});var Lr=b(h);_=A(Lr,L),Lr.forEach(p),S=E(He),D=o(He,"P",{class:!0,"data-svelte-h":!0}),Y(D)!=="svelte-q4fx5o"&&(D.textContent=k),I=E(He),g=o(He,"DIV",{class:!0});var te=b(g);m=A(te,"Compare this Local Authority District (LAD) against:"),T=o(te,"BR",{}),j=E(te),M=o(te,"INPUT",{type:!0,name:!0}),B=E(te),q=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(q)!=="svelte-829ruk"&&(q.textContent=G),H=o(te,"BR",{}),P=E(te),z=o(te,"INPUT",{type:!0,name:!0}),se=E(te),N=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(N)!=="svelte-11zyrfp"&&(N.textContent=Z),ae=o(te,"BR",{}),O=E(te),ie=o(te,"INPUT",{type:!0,name:!0}),ve=E(te),ce=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(ce)!=="svelte-18hrmu4"&&(ce.textContent=ze),ye=o(te,"BR",{}),ne=E(te),$=o(te,"INPUT",{type:!0,name:!0}),ue=E(te),fe=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(fe)!=="svelte-mkxs8y"&&(fe.textContent=Te),Ee=E(te),re=o(te,"INPUT",{type:!0,name:!0}),De=E(te),de=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(de)!=="svelte-g19yfx"&&(de.textContent=ke),te.forEach(p),He.forEach(p),F=E(Q),le=o(Q,"DIV",{});var Dr=b(le);be&&be.l(Dr),Dr.forEach(p),Q.forEach(p),Ue=E(K),he=o(K,"DIV",{class:!0,id:!0});var Hl=b(he);d=o(Hl,"DIV",{class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-lw225h"&&(d.innerHTML=R),ee=E(Hl),X=o(Hl,"DIV",{id:!0,class:!0});var Rl=b(X);V=o(Rl,"DIV",{class:!0});var xe=b(V);J=o(xe,"H3",{class:!0});var il=b(J);U=A(il,`Distribution of the cobenefit per\r
                        `),oe=o(il,"SPAN",{class:!0,"data-svelte-h":!0}),Y(oe)!=="svelte-z1whcf"&&(oe.innerHTML=je),W=A(il,`\r
                        compared to `),Ie=o(il,"SPAN",{class:!0});var Sr=b(Ie);Ll=A(Sr,t[7]),Sr.forEach(p),ca=A(il," Average)"),il.forEach(p),ua=E(xe),Ge=o(xe,"P",{class:!0});var cl=b(Ge);fa=A(cl,"Co-benefit values for "),da=A(cl,$n),ha=A(cl,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Yt=o(cl,"SPAN",{class:!0});var Tr=b(Yt);Dl=A(Tr,t[7]),Tr.forEach(p),va=A(cl," (grey)."),cl.forEach(p),pa=E(xe),ma=o(xe,"BR",{}),ba=E(xe),Cl=xl(xe,!1),Tl=E(xe),ut=o(xe,"H3",{class:!0});var Fl=b(ut);ga=A(Fl,"11 types of co-benefit values (vs. "),Kt=o(Fl,"SPAN",{class:!0});var jr=b(Kt);jl=A(jr,t[7]),jr.forEach(p),_a=A(Fl," Average)"),Fl.forEach(p),ya=E(xe),We=o(xe,"P",{class:!0});var ul=b(We);Ea=A(ul,"Co-benefit values for "),Ca=A(ul,er),wa=A(ul,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Xt=o(ul,"SPAN",{class:!0});var Ir=b(Xt);Il=A(Ir,t[7]),Ir.forEach(p),Aa=A(ul," (grey)."),ul.forEach(p),ka=E(xe),ft=o(xe,"DIV",{class:!0,"data-svelte-h":!0}),Y(ft)!=="svelte-11dzfub"&&(ft.innerHTML=tr),xe.forEach(p),xa=E(Rl),Pe=o(Rl,"DIV",{class:!0});var kt=b(Pe);dt=o(kt,"H3",{class:!0});var Ol=b(dt);La=A(Ol,"Where is "),Da=A(Ol,lr),Sa=A(Ol,"?"),Ol.forEach(p),Ta=E(kt),Tt=o(kt,"P",{class:!0});var On=b(Tt);ja=A(On,ar),Ia=A(On," has been highlighted in dark grey on this UK map."),On.forEach(p),Pa=E(kt),jt=o(kt,"P",{class:!0,"data-svelte-h":!0}),Y(jt)!=="svelte-vsj698"&&(jt.textContent=nr),Ma=E(kt),et=o(kt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(et)!=="svelte-13ehpmu"&&(et.innerHTML=rr),kt.forEach(p),Rl.forEach(p),Hl.forEach(p),qa=E(K),tt=o(K,"DIV",{class:!0,id:!0});var Ul=b(tt);It=o(Ul,"DIV",{class:!0,"data-svelte-h":!0}),Y(It)!=="svelte-10cbt4"&&(It.innerHTML=sr),za=E(Ul),lt=o(Ul,"DIV",{id:!0,class:!0});var Gl=b(lt);at=o(Gl,"DIV",{id:!0,class:!0});var Wl=b(at);nt=o(Wl,"DIV",{});var fl=b(nt);ht=o(fl,"H3",{class:!0});var Yl=b(ht);Na=A(Yl,"Total co-benefit distribution from 2025-2049 (vs. "),Zt=o(Yl,"SPAN",{class:!0});var Pr=b(Zt);Pl=A(Pr,t[7]),Pr.forEach(p),Va=A(Yl," Average)"),Yl.forEach(p),Ba=E(fl),Ne=o(fl,"P",{class:!0,style:!0});var dl=b(Ne);Ha=A(dl,`Aggregated values from 2025-2049\r
                        in `),Ra=A(dl,or),Fa=A(dl,` compared to average value of benefits received across all local authorities\r
                        in `),Jt=o(dl,"SPAN",{class:!0});var Mr=b(Jt);Ml=A(Mr,t[7]),Mr.forEach(p),Oa=A(dl,"."),dl.forEach(p),Ua=E(fl),Ye=o(fl,"DIV",{class:!0});var hl=b(Ye);Pt=o(hl,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=ir),Ga=E(hl),Wa=o(hl,"BR",{}),Ya=E(hl),vt=o(hl,"UL",{class:!0});var Kl=b(vt);pt=o(Kl,"LI",{class:!0});var Xl=b(pt);Qt=o(Xl,"SPAN",{class:!0,style:!0}),b(Qt).forEach(p),Ka=E(Xl),Xa=A(Xl,cr),Xl.forEach(p),Za=E(Kl),mt=o(Kl,"LI",{class:!0});var Zl=b(mt);$t=o(Zl,"SPAN",{class:!0,style:!0}),b($t).forEach(p),Ja=E(Zl),el=o(Zl,"SPAN",{class:!0});var qr=b(el);ql=A(qr,t[7]),qr.forEach(p),Zl.forEach(p),Kl.forEach(p),hl.forEach(p),fl.forEach(p),Qa=E(Wl),tl=o(Wl,"DIV",{class:!0}),b(tl).forEach(p),Wl.forEach(p),$a=E(Gl),Ve=o(Gl,"DIV",{id:!0,class:!0});var vl=b(Ve);rt=o(vl,"DIV",{});var pl=b(rt);bt=o(pl,"H3",{class:!0});var Jl=b(bt);en=A(Jl,"Co-benefit gain/loss for "),tn=A(Jl,ur),ln=A(Jl," over 5 year intervals"),Jl.forEach(p),an=E(pl),gt=o(pl,"P",{class:!0,style:!0,"data-svelte-h":!0}),Y(gt)!=="svelte-1na17f1"&&(gt.textContent=fr),nn=E(pl),Me=o(pl,"DIV",{id:!0,class:!0,style:!0});var ml=b(Me);Mt=o(ml,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Mt)!=="svelte-1fi0dip"&&(Mt.textContent=dr),rn=E(ml),sn=o(ml,"BR",{}),on=E(ml),qt=o(ml,"UL",{class:!0,style:!0});var zr=b(qt);for(let Ot=0;Ot<ot.length;Ot+=1)ot[Ot].l(zr);zr.forEach(p),ml.forEach(p),pl.forEach(p),cn=E(vl),ll=o(vl,"DIV",{class:!0}),b(ll).forEach(p),un=E(vl),_t=o(vl,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(_t)!=="svelte-1xqy5mf"&&(_t.innerHTML=hr),vl.forEach(p),Gl.forEach(p),Ul.forEach(p),fn=E(K),st=o(K,"DIV",{class:!0,id:!0});var Ql=b(st);Ke=o(Ql,"DIV",{class:!0});var bl=b(Ke);zt=o(bl,"P",{class:!0,"data-svelte-h":!0}),Y(zt)!=="svelte-ceroz1"&&(zt.textContent=vr),dn=E(bl),Nt=o(bl,"H2",{class:!0});var Un=b(Nt);hn=A(Un,pr),vn=A(Un," social-economic factors"),Un.forEach(p),pn=E(bl),Vt=o(bl,"P",{class:!0,"data-svelte-h":!0}),Y(Vt)!=="svelte-45d07w"&&(Vt.textContent=mr),bl.forEach(p),mn=E(Ql),Xe=o(Ql,"DIV",{id:!0,class:!0,style:!0});var $l=b(Xe);Ce=o($l,"DIV",{id:!0,class:!0});var Qe=b(Ce);Ze=o(Qe,"H3",{class:!0});var gl=b(Ze);bn=A(gl,"Comparing the Socio-Economic factors distributions of "),gn=A(gl,br),_n=A(gl,`\r
                    and `),zl=A(gl,t[7]),yn=A(gl,", and their correlation with co-benefits."),gl.forEach(p),En=E(Qe),Cn=o(Qe,"BR",{}),wn=E(Qe),Be=o(Qe,"DIV",{id:!0,class:!0});var _l=b(Be);Bt=o(_l,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Bt)!=="svelte-xb363n"&&(Bt.textContent=gr),An=E(_l),kn=o(_l,"BR",{}),xn=E(_l),yt=o(_l,"UL",{class:!0});var ea=b(yt);Et=o(ea,"LI",{class:!0});var ta=b(Et);al=o(ta,"SPAN",{class:!0,style:!0}),b(al).forEach(p),Ln=E(ta),Dn=A(ta,_r),ta.forEach(p),Sn=E(ea),Ct=o(ea,"LI",{class:!0});var la=b(Ct);nl=o(la,"SPAN",{class:!0,style:!0}),b(nl).forEach(p),Tn=E(la),Nl=A(la,t[7]),la.forEach(p),ea.forEach(p),_l.forEach(p),jn=E(Qe),Se=o(Qe,"DIV",{id:!0,class:!0});var xt=b(Se);Ht=o(xt,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Ht)!=="svelte-ucmfvz"&&(Ht.textContent=yr),In=E(xt),Pn=o(xt,"BR",{}),Mn=E(xt),rl=o(xt,"P",{"data-svelte-h":!0}),Y(rl)!=="svelte-mm528r"&&(rl.innerHTML=Er),qn=E(xt),Je=o(xt,"P",{});var Ft=b(Je);sl=o(Ft,"STRONG",{"data-svelte-h":!0}),Y(sl)!=="svelte-1ij32sd"&&(sl.textContent=Cr),zn=A(Ft," Each dot represents a datazone inside "),Nn=A(Ft,wr),Vn=A(Ft,`. The cloud\r
                        shows the distribution for `),Vl=A(Ft,t[7]),Bn=A(Ft,"."),Ft.forEach(p),xt.forEach(p),Hn=E(Qe),wt=o(Qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(wt)!=="svelte-gofjep"&&(wt.innerHTML=Ar),Qe.forEach(p),Rn=E($l),At=o($l,"DIV",{id:!0,class:!0});var Nr=b(At);for(let Ot=0;Ot<pe.length;Ot+=1)pe[Ot].l(Nr);Nr.forEach(p),$l.forEach(p),Ql.forEach(p),K.forEach(p),Bl=E(x),Hr(Rt.$$.fragment,x),this.h()},h(){r(v,"class","page-subtitle"),r(h,"class","page-title"),r(D,"class","description"),r(M,"type","radio"),r(M,"name","compare"),M.value="UK",M.checked=!0,r(q,"class","nation-label svelte-j2xbeq"),r(q,"for","html"),r(z,"type","radio"),r(z,"name","compare"),z.value="England",r(N,"class","nation-label svelte-j2xbeq"),r(N,"for","html"),r(ie,"type","radio"),r(ie,"name","compare"),ie.value="Wales",r(ce,"class","nation-label svelte-j2xbeq"),r(ce,"for","html"),r($,"type","radio"),r($,"name","compare"),$.value="Scotland",r(fe,"class","nation-label svelte-j2xbeq"),r(fe,"for","javascript"),r(re,"type","radio"),r(re,"name","compare"),re.value="NI",r(de,"class","nation-label svelte-j2xbeq"),r(de,"for","javascript"),r(g,"class","radio-set"),r(i,"class","section header header-row svelte-j2xbeq"),r(i,"id","head"),r(d,"class","section-header"),r(oe,"class","tooltip-term"),r(Ie,"class","nation-label svelte-j2xbeq"),r(J,"class","component-title"),r(Yt,"class","nation-label svelte-j2xbeq"),r(Ge,"class","description"),Cl.a=Tl,r(Kt,"class","nation-label svelte-j2xbeq"),r(ut,"class","component-title"),r(Xt,"class","nation-label svelte-j2xbeq"),r(We,"class","description"),r(ft,"class","plot"),r(V,"class","component column"),r(dt,"class","component-title"),r(Tt,"class","description"),r(jt,"class","description"),r(et,"id","map"),r(et,"class","svelte-j2xbeq"),r(Pe,"class","component column"),r(X,"id","vis-block"),r(X,"class","svelte-j2xbeq"),r(he,"class","section"),r(he,"id","overview"),r(It,"class","section-header"),r(Zt,"class","nation-label svelte-j2xbeq"),r(ht,"class","component-title"),r(Jt,"class","nation-label svelte-j2xbeq"),r(Ne,"class","description"),Le(Ne,"margin-bottom","5px"),Le(Pt,"margin-bottom","0.5rem"),r(Qt,"class","legend-color svelte-j2xbeq"),Le(Qt,"background-color",St),r(pt,"class","svelte-j2xbeq"),r($t,"class","legend-color svelte-j2xbeq"),Le($t,"background-color",_e),r(el,"class","nation-label svelte-j2xbeq"),r(mt,"class","svelte-j2xbeq"),r(vt,"class","legend-list svelte-j2xbeq"),r(Ye,"class","legend-box svelte-j2xbeq"),r(tl,"class","plot side svelte-j2xbeq"),r(at,"id","main-block"),r(at,"class","component column svelte-j2xbeq"),r(bt,"class","component-title"),r(gt,"class","description"),Le(gt,"margin-bottom","5px"),Le(Mt,"margin-bottom","0.5rem"),r(qt,"class","horizontal-legend-list svelte-j2xbeq"),Le(qt,"margin-bottom","5px"),r(Me,"id","main-legend"),r(Me,"class","legend-box svelte-j2xbeq"),Le(Me,"margin-bottom","5px"),r(ll,"class","plot side svelte-j2xbeq"),r(_t,"id","main-disclaimer"),r(_t,"class","disclaimer-box svelte-j2xbeq"),r(Ve,"id","main-block"),r(Ve,"class","component column svelte-j2xbeq"),r(lt,"id","vis-block"),r(lt,"class","svelte-j2xbeq"),r(tt,"class","section"),r(tt,"id","temporal"),r(zt,"class","section-subtitle"),r(Nt,"class","section-title"),r(Vt,"class","description"),r(Ke,"class","section-header"),r(Ze,"class","component-title"),Le(Bt,"margin-bottom","1rem"),r(al,"class","legend-color svelte-j2xbeq"),Le(al,"background-color",St),r(Et,"class","svelte-j2xbeq"),r(nl,"class","legend-color svelte-j2xbeq"),Le(nl,"background-color",_e),r(Ct,"class","svelte-j2xbeq"),r(yt,"class","legend-list svelte-j2xbeq"),r(Be,"id","se-legend"),r(Be,"class","legend-box svelte-j2xbeq"),Le(Ht,"margin-bottom","1rem"),r(Se,"id","se-legend"),r(Se,"class","legend-box svelte-j2xbeq"),r(wt,"id","se-disclaimer"),r(wt,"class","disclaimer-box svelte-j2xbeq"),r(Ce,"id","se-title"),r(Ce,"class","svelte-j2xbeq"),r(At,"id","multiple-comp"),r(At,"class","svelte-j2xbeq"),r(Xe,"id","se-block"),r(Xe,"class","component svelte-j2xbeq"),Le(Xe,"margin-left","1rem"),r(st,"class","section"),r(st,"id","households"),r(a,"class","page-container")},m(x,K){Rr(l,x,K),Ae(x,n,K),Ae(x,a,K),me&&me.m(a,null),e(a,u),e(a,i),e(i,c),e(c,v),e(c,f),e(c,h),e(h,_),e(c,S),e(c,D),e(c,I),e(c,g),e(g,m),e(g,T),e(g,j),e(g,M),e(g,B),e(g,q),e(g,H),e(g,P),e(g,z),e(g,se),e(g,N),e(g,ae),e(g,O),e(g,ie),e(g,ve),e(g,ce),e(g,ye),e(g,ne),e(g,$),e(g,ue),e(g,fe),e(g,Ee),e(g,re),e(g,De),e(g,de),e(i,F),e(i,le),be&&be.m(le,null),e(a,Ue),e(a,he),e(he,d),e(he,ee),e(he,X),e(X,V),e(V,J),e(J,U),e(J,oe),e(J,W),e(J,Ie),e(Ie,Ll),e(J,ca),e(V,ua),e(V,Ge),e(Ge,fa),e(Ge,da),e(Ge,ha),e(Ge,Yt),e(Yt,Dl),e(Ge,va),e(V,pa),e(V,ma),e(V,ba),Cl.m(Sl,V),e(V,Tl),e(V,ut),e(ut,ga),e(ut,Kt),e(Kt,jl),e(ut,_a),e(V,ya),e(V,We),e(We,Ea),e(We,Ca),e(We,wa),e(We,Xt),e(Xt,Il),e(We,Aa),e(V,ka),e(V,ft),t[28](ft),e(X,xa),e(X,Pe),e(Pe,dt),e(dt,La),e(dt,Da),e(dt,Sa),e(Pe,Ta),e(Pe,Tt),e(Tt,ja),e(Tt,Ia),e(Pe,Pa),e(Pe,jt),e(Pe,Ma),e(Pe,et),t[29](et),e(a,qa),e(a,tt),e(tt,It),e(tt,za),e(tt,lt),e(lt,at),e(at,nt),e(nt,ht),e(ht,Na),e(ht,Zt),e(Zt,Pl),e(ht,Va),e(nt,Ba),e(nt,Ne),e(Ne,Ha),e(Ne,Ra),e(Ne,Fa),e(Ne,Jt),e(Jt,Ml),e(Ne,Oa),e(nt,Ua),e(nt,Ye),e(Ye,Pt),e(Ye,Ga),e(Ye,Wa),e(Ye,Ya),e(Ye,vt),e(vt,pt),e(pt,Qt),e(pt,Ka),e(pt,Xa),e(vt,Za),e(vt,mt),e(mt,$t),e(mt,Ja),e(mt,el),e(el,ql),e(at,Qa),e(at,tl),t[30](tl),e(lt,$a),e(lt,Ve),e(Ve,rt),e(rt,bt),e(bt,en),e(bt,tn),e(bt,ln),e(rt,an),e(rt,gt),e(rt,nn),e(rt,Me),e(Me,Mt),e(Me,rn),e(Me,sn),e(Me,on),e(Me,qt);for(let Q=0;Q<ot.length;Q+=1)ot[Q]&&ot[Q].m(qt,null);e(Ve,cn),e(Ve,ll),t[31](ll),e(Ve,un),e(Ve,_t),e(a,fn),e(a,st),e(st,Ke),e(Ke,zt),e(Ke,dn),e(Ke,Nt),e(Nt,hn),e(Nt,vn),e(Ke,pn),e(Ke,Vt),e(st,mn),e(st,Xe),e(Xe,Ce),e(Ce,Ze),e(Ze,bn),e(Ze,gn),e(Ze,_n),e(Ze,zl),e(Ze,yn),e(Ce,En),e(Ce,Cn),e(Ce,wn),e(Ce,Be),e(Be,Bt),e(Be,An),e(Be,kn),e(Be,xn),e(Be,yt),e(yt,Et),e(Et,al),e(Et,Ln),e(Et,Dn),e(yt,Sn),e(yt,Ct),e(Ct,nl),e(Ct,Tn),e(Ct,Nl),e(Ce,jn),e(Ce,Se),e(Se,Ht),e(Se,In),e(Se,Pn),e(Se,Mn),e(Se,rl),e(Se,qn),e(Se,Je),e(Je,sl),e(Je,zn),e(Je,Nn),e(Je,Vn),e(Je,Vl),e(Je,Bn),e(Ce,Hn),e(Ce,wt),e(Xe,Rn),e(Xe,At);for(let Q=0;Q<pe.length;Q+=1)pe[Q]&&pe[Q].m(At,null);t[35](a),Ae(x,Bl,K),Rr(Rt,x,K),we=!0,Fn||(kr=[wl(M,"change",t[22]),wl(z,"change",t[22]),wl(ie,"change",t[22]),wl($,"change",t[22]),wl(re,"change",t[22])],Fn=!0)},p(x,K){if(x[15]?me?me.p(x,K):(me=is(x),me.c(),me.m(a,u)):me&&(me.d(1),me=null),x[9]?be?be.p(x,K):(be=us(x),be.c(),be.m(le,null)):be&&(be.d(1),be=null),(!we||K[0]&128)&&ge(Ll,x[7]),(!we||K[0]&128)&&ge(Dl,x[7]),(!we||K[0]&288)&&Sl!==(Sl=x[21](x[5],x[8])+"")&&Cl.p(Sl),(!we||K[0]&128)&&ge(jl,x[7]),(!we||K[0]&128)&&ge(Il,x[7]),(!we||K[0]&128)&&ge(Pl,x[7]),(!we||K[0]&128)&&ge(Ml,x[7]),(!we||K[0]&128)&&ge(ql,x[7]),(!we||K[0]&128)&&ge(zl,x[7]),(!we||K[0]&128)&&ge(Nl,x[7]),(!we||K[0]&128)&&ge(Vl,x[7]),K[0]&786584){ol=Gn(Xr);let Q;for(Q=0;Q<ol.length;Q+=1){const He=os(x,ol,Q);pe[Q]?pe[Q].p(He,K):(pe[Q]=fs(He),pe[Q].c(),pe[Q].m(At,null))}for(;Q<pe.length;Q+=1)pe[Q].d(1);pe.length=ol.length}},i(x){we||(Fr(l.$$.fragment,x),Fr(Rt.$$.fragment,x),we=!0)},o(x){Or(l.$$.fragment,x),Or(Rt.$$.fragment,x),we=!1},d(x){x&&(p(n),p(a),p(Bl)),Ur(l,x),me&&me.d(),be&&be.d(),t[28](null),t[29](null),t[30](null),Vr(ot,x),t[31](null),Vr(pe,x),t[35](null),Ur(Rt,x),Fn=!1,As(kr)}}}let Oe=400;function ds(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Wt(t){const l=t.querySelector("figure");l&&l.remove();const n=t.querySelector("svg");n&&n.remove()}function Wo(t,l,n){let a,u,i,c,v={},C={},f={},h={},L="barchart",{data:_}=l;const S=_.LAD;let D="UK",k,I,g,m,T,j,M,B,q,G,H,P,z=!1;async function se(){n(5,k=await Fe(Qr())),await Fe(eo()),k.forEach(d=>{d.isPageLAD=d.LAD==S}),n(25,I=await Fe($r([]))),g=await Fe(to(oa.map(d=>d.id))),n(26,m=await Fe(es())),n(8,T=await Fe(lo(S))),j=await Fe(ao(S)),n(9,M=(Us(T,d=>d.total)/1e3).toFixed(3)),n(11,q=Jn(I,d=>d.val)/1e3),n(10,B=(Wn(T,d=>d.totalPerCapita)*1e6).toFixed(1)),n(12,G=await Fe(no({limit:1,sortBy:"per_capita"}))),n(12,G=G[0].value_per_capita),n(27,z=!0),Ks(a)}se();let N=!1,Z="";const ae=["overview","temporal","households"];function O(){const d=window.scrollY;n(15,N=d>100);for(const R of ae){const ee=document.getElementById(R);if(!ee)continue;const X=ee.getBoundingClientRect();if(X.top<=150&&X.bottom>=150){Z!==R&&Yr.capture("section entered (lad)",{section_name:R}),n(16,Z=R);break}}}const ie=_.LADToName;let ve,ce;ks(()=>(Xs(a),ve=new Ys(S,"LAD",ce,"val",!0,"Lookup_value",!1,null,8),ve.initMap(!1),window.addEventListener("scroll",O),O(),()=>window.removeEventListener("scroll",O))),xs(()=>{window.removeEventListener("scroll",O)});function ze(d,R,ee="black"){return qe({width:80,height:20,margin:0,x:{domain:[0,R],axis:null},marks:[Xn([d],{x:V=>V,y:0,fill:ee})]}).outerHTML}function ye(d,R){if(!d||!R)return;let ee=d.filter(V=>V.total<20);return qe({height:Oe/1.6,...$e,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[Al(ee,ra({y:(V,J)=>V.length/ee.length/(J.x2-J.x1)},{x:"total",fill:_e,stroke:_e,fillOpacity:.3,strokeWidth:2})),Al(R,ra({y:(V,J)=>V.length/R.length/(J.x2-J.x1)},{x:"total",tip:!0,fill:St,stroke:"black",fillOpacity:.3,strokeWidth:2})),Gs([0],{stroke:"#1E1E1E",strokeWidth:1}),aa({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),Yn({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function ne(){{let d=qe({height:Oe/1.4,...$e,x:{type:"band"},style:{fontSize:"18px"},marks:[Ut(I,it({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ut(T,it({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const R=Re(d).selectAll("g[aria-label='bar']");Re(R.nodes()[0]);const ee=Re(R.nodes()[1]);ee.selectAll("rect").each(function(){}),ee.remove()},1e3)}}function $(){if(u){let d=qe({height:Oe/1,width:811,...$e,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:sa.range(),domain:sa.domain()},marks:[Ut(m,it({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:_e,sort:{x:"y",reverse:!0},tip:!0})),Ut(j,it({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:R=>sa(R.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),aa({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),Yn({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Gr([0],{stroke:"#333",strokeWidth:.75})]});Re(d).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(R,ee,X)=>{let V=R.target.textContent,J=oa.find(U=>U.id==V);window.open(`${Qn}/cobenefit?cobenefit=${J.id}`,"_blank").focus()}),u.append(d)}}function ue(){Zs.forEach(d=>{let R;Zr.includes(d)?R=qe({height:Oe/1.2,...$e,marginLeft:100,marginTop:40,marginBottom:d==="Typology"?100:60,x:{grid:!0,padding:.6,label:na(d),tickFormat:W=>Jr[d]?.[W]??W,tickRotate:d==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ut(k,it({y:"proportion"},{x:d,dx:12,fill:_e})),Ut(T,it({y:"proportion"},{x:d,dx:-12}))]}):R=qe({height:Oe/1.2,...$e,x:{label:na(d)},style:{fontSize:"18px"},marks:[Al(T,ra({y:(W,Ie)=>W.length/T.length/(Ie.x2-Ie.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],tip:!0,fill:_e,stroke:_e,fillOpacity:.2,strokeWidth:3})),Al(k,ra({y:(W,Ie)=>W.length/k.length/(Ie.x2-Ie.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),C[d]?.append(void 0),v[d]?.append(R);let X=k.map(W=>W.total),V=hs(X);X.sort();var J=X.length,U=Math.floor(J*1)-1;let oe=X[U];V[1]=oe+2,V[0]=-5;let je;Zr.includes(d)?je=qe({height:Oe/1.2,...$e,marginBottom:d==="Typology"?100:60,marginLeft:100,x:{label:na(d),type:"point",tickFormat:W=>Jr[d]?.[W]??W,tickRotate:d==="Typology"?-20:0},y:{domain:V,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[rs(Kr(k,15e3),{x:W=>`${W[d]}`,y:"total",fill:"density",bandwidth:3}),ls(T,{x:W=>`${W[d]}`,y:"total",fill:"black",r:2}),aa({label:"Datazone Co-Benefit (millions £)"})]}):je=qe({height:Oe/1.2,...$e,x:{label:na(d)},y:{domain:V},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[rs(Kr(k,2e4),{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],y:"total",fill:"density",thresholds:10}),ls(T,{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],y:"total",fill:"black",r:2}),aa({label:"Datazone Co-Benefit (£)"}),Yn({anchor:"bottom"})]}),f[d]&&n(4,f[d].innerHTML="",f),f[d]?.append(je)})}function fe(){for(let d of Js){let R=qe({height:Oe,width:410,...$e,marginRight:0,marginLeft:100,marks:[Xn(g,Wr({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Qs/2,fill:_e,tip:!0})),Xn(j,Wr({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});h[d]?.append(R)}}function Te(){let d=T.flatMap(U=>Kn.map(oe=>({time:oe,value:U[oe],scenario:U.scenario,zone:"local"}))),R=k.flatMap(U=>Kn.map(oe=>({time:oe,value:U[oe],scenario:U.scenario,zone:"UK"}))),ee=d.concat(R),X=qe({height:Oe,width:800,...$e,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[_e,St],legend:!1},marks:[Ut(ee,it({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Ws({anchor:"bottom",tickFormat:U=>U.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(X),Re(i).select("g[aria-label='bar']").selectAll("g").each(function(U,oe){const je=Re(this).selectAll("rect").nodes()[0],W=Re(je).attr("transform")||"";Re(je).attr("transform",`${W} translate(-20, 0)`),Re(this).selectAll("rect").nodes()[0].getAttribute("height"),Re(this).selectAll("rect").nodes()[1].getAttribute("height"),Re(this).selectAll("rect")}),qe({height:Oe,width:800,...$e,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Po(ee,it({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let V=j.flatMap(U=>Kn.map(oe=>({time:oe,value:U[oe],cobenefit:U.co_benefit_type})));console.log("dataCBs",V);let J=qe({height:Oe,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([U])=>`Cobenefit ${U.cobenefit}`},x:{label:"Years",tickFormat:U=>U.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:$s,domain:oa.map(U=>U.id)},marks:[Al(V,it({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:U=>`${(+U).toFixed(3)}`,x:U=>`${U.replace(/^Y/,"").replace("_","-")}`,fill:U=>`${U}`}}})),Gr([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(J)}async function Ee(d){n(7,D=d.currentTarget.value),n(26,m=await Fe(es("total",D))),n(25,I=await Fe($r([],D))),n(5,k=await Fe(Qr(D))),Yr.capture("clicked nation filter",{nation:d.currentTarget.value})}function re(d){Lt[d?"unshift":"push"](()=>{u=d,n(0,u)})}function De(d){Lt[d?"unshift":"push"](()=>{ce=d,n(17,ce)})}function de(d){Lt[d?"unshift":"push"](()=>{i=d,n(1,i)})}function ke(d){Lt[d?"unshift":"push"](()=>{c=d,n(2,c)})}function F(d,R){Lt[d?"unshift":"push"](()=>{v[R.id]=d,n(3,v)})}function le(d,R){Lt[d?"unshift":"push"](()=>{v[R.id]=d,n(3,v)})}function Ue(d,R){Lt[d?"unshift":"push"](()=>{f[R.id]=d,n(4,f)})}function he(d){Lt[d?"unshift":"push"](()=>{a=d,n(6,a)})}return t.$$set=d=>{"data"in d&&n(23,_=d.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&I&&(n(13,H=Wn(I.map(d=>d.val))/1e3),n(14,P=Wn(I.map(d=>d.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(u&&Wt(u),i&&Wt(i),c&&Wt(c),z&&m&&I&&k&&(ne(),$(),Te())),t.$$.dirty[0]&134217752&&(Object.values(v).forEach(d=>{d&&Wt(d)}),Object.values(C).forEach(d=>{d&&Wt(d)}),Object.values(f).forEach(d=>{d&&Wt(d)}),z&&ue()),t.$$.dirty[0]&134217728&&(Object.values(h).forEach(d=>{d&&Wt(d)}),z&&fe())},[u,i,c,v,f,k,a,D,T,M,B,q,G,H,P,N,Z,ce,S,ie,ze,ye,Ee,_,L,I,m,z,re,De,de,ke,F,le,Ue,he]}class ui extends Ds{constructor(l){super(),Ss(this,l,Wo,Go,ws,{data:23},null,[-1,-1])}}export{ui as component};
