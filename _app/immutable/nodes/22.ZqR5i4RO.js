import{s as ta,a as V,e as f,t as A,g as C,c as d,b as m,p as re,d as D,f as n,q as u,B as ul,A as Me,i as S,h as r,x as fl,v as Il,r as la,F as aa,H as sa,D as ia,j as be,z as ze,n as Ge}from"../chunks/scheduler.BVm0POKv.js";import{S as ra,i as oa,c as ql,b as Nl,m as Tl,t as Ml,a as Ol,d as Fl}from"../chunks/index.C_bTuQvQ.js";import{N as na,e as zt}from"../chunks/NavigationBar.Bkz2vWZu.js";import"../chunks/transform.Db-NgJu-.js";import{aq as ca,o as Pl,ar as ua,as as fa,at as da,q as it,G as ha,u as rt,w as Dt,z as Et,x as pa,y as Hl,au as _a,v as St}from"../chunks/index.DrA8R0kw.js";import{f as il}from"../chunks/module.BDHLYmQ2.js";import{b as Wt}from"../chunks/paths.cXIroZZX.js";import{M as va}from"../chunks/mapUK.Lfdt33g4.js";import{m as ma,n as ba,o as ga,p as ya,q as ka,s as La,a as Bl,e as jt,g as Aa,S as Xe,t as Ut,f as Da,u as rl,r as Ea,d as Sa}from"../chunks/globals.B18zH91B.js";import{g as wt,i as wa,h as Va,w as Ca,x as Ia,r as qa}from"../chunks/duckdb.DwjL38lg.js";import{p as Kt}from"../chunks/per_capita.COcMrZFY.js";import{F as Na}from"../chunks/Footer.4QomPlPn.js";import{e as ol,a as Ta,t as Rl,b as Ma,m as Oa}from"../chunks/linear.DZfyr4Dt.js";import{n as Fa}from"../chunks/nice.J2OPSXwp.js";import{t as Pa,b as Ha}from"../chunks/bin.CLltLqji.js";import{c as nl}from"../chunks/dsv.XhNTmijJ.js";import{d as Gt}from"../chunks/dot.BXu9dTF1.js";var Ba=Array.prototype,Ra=Ba.slice;function cl(a){return()=>a}function za(){var a=ca,t=ol,e=Pa;function l(s){Array.isArray(s)||(s=Array.from(s));var o,c=s.length,_,I,L=new Array(c);for(o=0;o<c;++o)L[o]=a(s[o],o,s);var h=t(L),v=h[0],y=h[1],k=e(L,v,y);if(!Array.isArray(k)){const w=y,T=+k;if(t===ol&&([v,y]=Fa(v,y,T)),k=Ta(v,y,T),k[0]<=v&&(I=Rl(v,y,T)),k[k.length-1]>=y)if(w>=y&&t===ol){const F=Rl(v,y,T);isFinite(F)&&(F>0?y=(Math.floor(y/F)+1)*F:F<0&&(y=(Math.ceil(y*-F)+1)/-F))}else k.pop()}for(var b=k.length,g=0,E=b;k[g]<=v;)++g;for(;k[E-1]>y;)--E;(g||E<b)&&(k=k.slice(g,E),b=E-g);var N=new Array(b+1),H;for(o=0;o<=b;++o)H=N[o]=[],H.x0=o>0?k[o-1]:v,H.x1=o<b?k[o]:y;if(isFinite(I)){if(I>0)for(o=0;o<c;++o)(_=L[o])!=null&&v<=_&&_<=y&&N[Math.min(b,Math.floor((_-v)/I))].push(s[o]);else if(I<0){for(o=0;o<c;++o)if((_=L[o])!=null&&v<=_&&_<=y){const w=Math.floor((v-_)*I);N[Math.min(b,w+(k[w]<=_))].push(s[o])}}}else for(o=0;o<c;++o)(_=L[o])!=null&&v<=_&&_<=y&&N[Ma(k,_,0,b)].push(s[o]);return N}return l.value=function(s){return arguments.length?(a=typeof s=="function"?s:cl(s),l):a},l.domain=function(s){return arguments.length?(t=typeof s=="function"?s:cl([s[0],s[1]]),l):t},l.thresholds=function(s){return arguments.length?(e=typeof s=="function"?s:cl(Array.isArray(s)?Ra.call(s):s),l):e},l}const Xl=""+new URL("../assets/negative.BhphYhmj.png",import.meta.url).href;function zl(a,t,e){const l=a.slice();return l[73]=t[e],l[74]=t,l[75]=e,l}function Ul(a,t,e){const l=a.slice();return l[73]=t[e],l}function Ua(a){let t;return{c(){t=f("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){S(e,t,l),a[44](t)},p:Ge,d(e){e&&n(t),a[44](null)}}}function Ga(a){let t;return{c(){t=f("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){S(e,t,l),a[43](t)},p:Ge,d(e){e&&n(t),a[43](null)}}}function Wa(a){let t,e,l=a[25].toLowerCase()+"",s,o,c,_,I=Ue(a[15],a[28])+"",L,h,v;function y(g,E){return g[7]==g[2]?Ya:Ka}let k=y(a),b=k(a);return{c(){t=f("h3"),e=A("Distribution of "),s=A(l),o=A(" across the UK"),c=A(`\r
                    Max value: `),_=f("strong"),L=A(I),h=A(` \r
                    (`),b.c(),v=A(")"),this.h()},l(g){t=d(g,"H3",{class:!0});var E=m(t);e=D(E,"Distribution of "),s=D(E,l),o=D(E," across the UK"),E.forEach(n),c=D(g,`\r
                    Max value: `),_=d(g,"STRONG",{});var N=m(_);L=D(N,I),N.forEach(n),h=D(g,` \r
                    (`),b.l(g),v=D(g,")"),this.h()},h(){u(t,"class","component-title")},m(g,E){S(g,t,E),r(t,e),r(t,s),r(t,o),S(g,c,E),S(g,_,E),r(_,L),S(g,h,E),b.m(g,E),S(g,v,E)},p(g,E){E[0]&32768&&I!==(I=Ue(g[15],g[28])+"")&&be(L,I),k===(k=y(g))&&b?b.p(g,E):(b.d(1),b=k(g),b&&(b.c(),b.m(v.parentNode,v)))},d(g){g&&(n(t),n(c),n(_),n(h),n(v)),b.d(g)}}}function ja(a){let t,e,l=a[25].toLowerCase()+"",s,o,c=a[29].toLowerCase()+"",_,I;return{c(){t=f("h3"),e=A("Distribution of "),s=A(l),o=A(" by "),_=A(c),I=A(" across the UK"),this.h()},l(L){t=d(L,"H3",{class:!0});var h=m(t);e=D(h,"Distribution of "),s=D(h,l),o=D(h," by "),_=D(h,c),I=D(h," across the UK"),h.forEach(n),this.h()},h(){u(t,"class","component-title")},m(L,h){S(L,t,h),r(t,e),r(t,s),r(t,o),r(t,_),r(t,I)},p:Ge,d(L){L&&n(t)}}}function Ka(a){let t;return{c(){t=A(a[23])},l(e){t=D(e,a[23])},m(e,l){S(e,t,l)},p(e,l){l[0]&8388608&&be(t,e[23])},d(e){e&&n(t)}}}function Ya(a){let t=a[5][a[3]]+"",e;return{c(){e=A(t)},l(l){e=D(l,t)},m(l,s){S(l,e,s)},p(l,s){s[0]&40&&t!==(t=l[5][l[3]]+"")&&be(e,t)},d(l){l&&n(e)}}}function Ja(a){let t,e,l=Ue(a[13],a[28])+"",s;return{c(){t=A("Average value: "),e=f("strong"),s=A(l),this.h()},l(o){t=D(o,"Average value: "),e=d(o,"STRONG",{style:!0});var c=m(e);s=D(c,l),c.forEach(n),this.h()},h(){Me(e,"color","#BD210E")},m(o,c){S(o,t,c),S(o,e,c),r(e,s)},p(o,c){c[0]&8192&&l!==(l=Ue(o[13],o[28])+"")&&be(s,l)},d(o){o&&(n(t),n(e))}}}function Xa(a){let t;return{c(){t=A(" ")},l(e){t=D(e," ")},m(e,l){S(e,t,l)},p:Ge,d(e){e&&n(t)}}}function Za(a){let t,e,l=Ue(a[16],a[28])+"",s,o,c;function _(h,v){return h[7]==h[2]?$a:xa}let I=_(a),L=I(a);return{c(){t=A("Min value: "),e=f("strong"),s=A(l),o=A(` \r
                    (`),L.c(),c=A(")")},l(h){t=D(h,"Min value: "),e=d(h,"STRONG",{});var v=m(e);s=D(v,l),v.forEach(n),o=D(h,` \r
                    (`),L.l(h),c=D(h,")")},m(h,v){S(h,t,v),S(h,e,v),r(e,s),S(h,o,v),L.m(h,v),S(h,c,v)},p(h,v){v[0]&65536&&l!==(l=Ue(h[16],h[28])+"")&&be(s,l),I===(I=_(h))&&L?L.p(h,v):(L.d(1),L=I(h),L&&(L.c(),L.m(c.parentNode,c)))},d(h){h&&(n(t),n(e),n(o),n(c)),L.d(h)}}}function Qa(a){let t,e,l=Ue(a[14],a[28])+"",s;return{c(){t=A("Most common category: "),e=f("strong"),s=A(l),this.h()},l(o){t=D(o,"Most common category: "),e=d(o,"STRONG",{style:!0});var c=m(e);s=D(c,l),c.forEach(n),this.h()},h(){Me(e,"color","#BD210E")},m(o,c){S(o,t,c),S(o,e,c),r(e,s)},p(o,c){c[0]&16384&&l!==(l=Ue(o[14],o[28])+"")&&be(s,l)},d(o){o&&(n(t),n(e))}}}function xa(a){let t;return{c(){t=A(a[22])},l(e){t=D(e,a[22])},m(e,l){S(e,t,l)},p(e,l){l[0]&4194304&&be(t,e[22])},d(e){e&&n(t)}}}function $a(a){let t=a[5][a[4]]+"",e;return{c(){e=A(t)},l(l){e=D(l,t)},m(l,s){S(l,e,s)},p(l,s){s[0]&48&&t!==(t=l[5][l[4]]+"")&&be(e,t)},d(l){l&&n(e)}}}function es(a){let t=a[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).",e;return{c(){e=A(t)},l(l){e=D(l,t)},m(l,s){S(l,e,s)},p(l,s){s[0]&64&&t!==(t=l[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).")&&be(e,t)},d(l){l&&n(e)}}}function ts(a){let t,e;return{c(){t=f("span"),e=A(`\r
                        Loading...`),this.h()},l(l){t=d(l,"SPAN",{class:!0}),m(t).forEach(n),e=D(l,`\r
                        Loading...`),this.h()},h(){u(t,"class","spinner svelte-1qi276a")},m(l,s){S(l,t,s),S(l,e,s)},p:Ge,d(l){l&&(n(t),n(e))}}}function Gl(a){let t,e,l,s,o,c,_,I,L;function h(k,b){return k[21]?as:ls}let v=h(a),y=v(a);return{c(){t=f("div"),e=f("div"),l=f("span"),s=A(a[25]),o=A(" >>"),c=V(),_=f("button"),y.c(),this.h()},l(k){t=d(k,"DIV",{class:!0});var b=m(t);e=d(b,"DIV",{class:!0});var g=m(e);l=d(g,"SPAN",{class:!0});var E=m(l);s=D(E,a[25]),o=D(E," >>"),E.forEach(n),c=C(g),_=d(g,"BUTTON",{class:!0});var N=m(_);y.l(N),N.forEach(n),g.forEach(n),b.forEach(n),this.h()},h(){u(l,"class","mini-header-text"),u(_,"class","switch-button-sticky svelte-1qi276a"),_.disabled=a[21],u(e,"class","mini-header-content"),u(t,"class","mini-header")},m(k,b){S(k,t,b),r(t,e),r(e,l),r(l,s),r(l,o),r(e,c),r(e,_),y.m(_,null),I||(L=fl(_,"click",a[31]),I=!0)},p(k,b){v===(v=h(k))&&y?y.p(k,b):(y.d(1),y=v(k),y&&(y.c(),y.m(_,null))),b[0]&2097152&&(_.disabled=k[21])},d(k){k&&n(t),y.d(),I=!1,L()}}}function ls(a){let t=a[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).",e;return{c(){e=A(t)},l(l){e=D(l,t)},m(l,s){S(l,e,s)},p(l,s){s[0]&64&&t!==(t=l[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).")&&be(e,t)},d(l){l&&n(e)}}}function as(a){let t,e;return{c(){t=f("span"),e=A(`\r
                Loading...`),this.h()},l(l){t=d(l,"SPAN",{class:!0}),m(t).forEach(n),e=D(l,`\r
                Loading...`),this.h()},h(){u(t,"class","spinner svelte-1qi276a")},m(l,s){S(l,t,s),S(l,e,s)},p:Ge,d(l){l&&(n(t),n(e))}}}function ss(a){let t;return{c(){t=A("data zone (LSOA).")},l(e){t=D(e,"data zone (LSOA).")},m(e,l){S(e,t,l)},d(e){e&&n(t)}}}function is(a){let t;return{c(){t=A("local authority (LAD).")},l(e){t=D(e,"local authority (LAD).")},m(e,l){S(e,t,l)},d(e){e&&n(t)}}}function Wl(a){let t,e,l,s,o="This chart includes negative values.";return{c(){t=f("img"),l=V(),s=f("span"),s.textContent=o,this.h()},l(c){t=d(c,"IMG",{class:!0,src:!0,alt:!0}),l=C(c),s=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),re(s)!=="svelte-56pton"&&(s.textContent=o),this.h()},h(){u(t,"class","aggregation-icon"),ul(t.src,e=Xl)||u(t,"src",e),u(t,"alt","icon"),u(s,"class","tooltip-text-neg svelte-1qi276a")},m(c,_){S(c,t,_),S(c,l,_),S(c,s,_)},d(c){c&&(n(t),n(l),n(s))}}}function rs(a){let t;return{c(){t=f("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){S(e,t,l),a[46](t)},p:Ge,d(e){e&&n(t),a[46](null)}}}function os(a){let t;return{c(){t=f("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){S(e,t,l),a[45](t)},p:Ge,d(e){e&&n(t),a[45](null)}}}function jl(a){let t,e,l=a[17].legend(a[29]).outerHTML+"";return{c(){t=f("div"),e=new sa(!1),this.h()},l(s){t=d(s,"DIV",{id:!0});var o=m(t);e=ia(o,!1),o.forEach(n),this.h()},h(){e.a=null,u(t,"id","legend")},m(s,o){S(s,t,o),e.m(l,t)},p(s,o){o[0]&131072&&l!==(l=s[17].legend(s[29]).outerHTML+"")&&e.p(l)},d(s){s&&n(t)}}}function Kl(a){let t,e,l,s,o=a[73].def+"",c,_,I,L,h,v=a[73].id+"",y,k;return{c(){t=f("div"),e=f("div"),l=f("div"),s=V(),c=A(o),_=V(),I=f("br"),L=V(),h=f("a"),y=A(v),k=A(" report page"),this.h()},l(b){t=d(b,"DIV",{class:!0});var g=m(t);e=d(g,"DIV",{class:!0});var E=m(e);l=d(E,"DIV",{style:!0}),m(l).forEach(n),s=C(E),c=D(E,o),_=C(E),I=d(E,"BR",{}),L=C(E),h=d(E,"A",{class:!0,href:!0,target:!0,rel:!0,style:!0});var N=m(h);y=D(N,v),k=D(N," report page"),N.forEach(n),E.forEach(n),g.forEach(n),this.h()},h(){Me(l,"height","0.8em"),u(h,"class","link"),u(h,"href",Wt+"/cobenefit?cobenefit="+a[73].id),u(h,"target","_blank"),u(h,"rel","noopener noreferrer"),Me(h,"color",jt(a[73].id)),Me(h,"text-decoration","underline"),u(e,"class","legend-description svelte-1qi276a"),u(t,"class","legend-description-box svelte-1qi276a")},m(b,g){S(b,t,g),r(t,e),r(e,l),r(e,s),r(e,c),r(e,_),r(e,I),r(e,L),r(e,h),r(h,y),r(h,k)},d(b){b&&n(t)}}}function Yl(a){let t,e,l,s,o,c=a[73].label+"",_,I,L,h,v=a[20].has(a[73].id)?"▲":"▼",y,k,b=a[20].has(a[73].id),g,E,N;function H(){return a[48](a[73])}let w=b&&Kl(a);return{c(){t=f("div"),e=f("div"),l=f("span"),s=V(),o=f("span"),_=A(c),L=V(),h=f("span"),y=A(v),k=V(),w&&w.c(),g=V(),this.h()},l(T){t=d(T,"DIV",{class:!0});var F=m(t);e=d(F,"DIV",{class:!0,style:!0});var j=m(e);l=d(j,"SPAN",{class:!0,style:!0}),m(l).forEach(n),s=C(j),o=d(j,"SPAN",{class:!0});var Ae=m(o);_=D(Ae,c),Ae.forEach(n),L=C(j),h=d(j,"SPAN",{class:!0});var oe=m(h);y=D(oe,v),oe.forEach(n),j.forEach(n),k=C(F),w&&w.l(F),g=C(F),F.forEach(n),this.h()},h(){u(l,"class","legend-color svelte-1qi276a"),Me(l,"background-color",jt(a[73].id)),u(o,"class",I="legend-text "+(a[20].has(a[73].id)?"expanded":"")+" svelte-1qi276a"),u(h,"class","toggle-icon svelte-1qi276a"),u(e,"class","legend-header svelte-1qi276a"),Me(e,"cursor","pointer"),u(t,"class","legend-item svelte-1qi276a")},m(T,F){S(T,t,F),r(t,e),r(e,l),r(e,s),r(e,o),r(o,_),r(e,L),r(e,h),r(h,y),r(t,k),w&&w.m(t,null),r(t,g),E||(N=fl(e,"click",H),E=!0)},p(T,F){a=T,F[0]&1048576&&I!==(I="legend-text "+(a[20].has(a[73].id)?"expanded":"")+" svelte-1qi276a")&&u(o,"class",I),F[0]&1048576&&v!==(v=a[20].has(a[73].id)?"▲":"▼")&&be(y,v),F[0]&1048576&&(b=a[20].has(a[73].id)),b?w||(w=Kl(a),w.c(),w.m(t,g)):w&&(w.d(1),w=null)},d(T){T&&n(t),w&&w.d(),E=!1,N()}}}function ns(a){let t,e=`<img class="sm-icon svelte-1qi276a" src="${Kt}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each area.</span>`;return{c(){t=f("div"),t.innerHTML=e,this.h()},l(l){t=d(l,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-1lqh0bd"&&(t.innerHTML=e),this.h()},h(){u(t,"class","tooltip-wrapper")},m(l,s){S(l,t,s)},d(l){l&&n(t)}}}function cs(a){let t,e=`<img class="sm-icon svelte-1qi276a" src="${Kt}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each area.</span>`,l,s,o=`<img class="sm-icon svelte-1qi276a" src="${Xl}" alt="icon"/> <span class="tooltip-text-neg svelte-1qi276a">This chart includes negative values.</span>`;return{c(){t=f("div"),t.innerHTML=e,l=V(),s=f("div"),s.innerHTML=o,this.h()},l(c){t=d(c,"DIV",{class:!0,"data-svelte-h":!0}),re(t)!=="svelte-1tqucbd"&&(t.innerHTML=e),l=C(c),s=d(c,"DIV",{class:!0,"data-svelte-h":!0}),re(s)!=="svelte-10ijo5a"&&(s.innerHTML=o),this.h()},h(){u(t,"class","tooltip-wrapper"),u(s,"class","tooltip-wrapper")},m(c,_){S(c,t,_),S(c,l,_),S(c,s,_)},d(c){c&&(n(t),n(l),n(s))}}}function us(a){let t,e=a[73];const l=()=>a[50](t,e),s=()=>a[50](null,e);return{c(){t=f("div"),this.h()},l(o){t=d(o,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(o,c){S(o,t,c),l()},p(o,c){a=o,e!==a[73]&&(s(),e=a[73],l())},d(o){o&&n(t),s()}}}function fs(a){let t,e=a[73];const l=()=>a[49](t,e),s=()=>a[49](null,e);return{c(){t=f("div"),this.h()},l(o){t=d(o,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(o,c){S(o,t,c),l()},p(o,c){a=o,e!==a[73]&&(s(),e=a[73],l())},d(o){o&&n(t),s()}}}function Jl(a){let t,e,l,s,o,c,_=a[73].label+"",I,L,h,v;function y(H,w){return H[73].id=="Longer travel times"||H[73].id=="Road repairs"||H[73].id=="Road safety"||H[73].id=="Congestion"||H[73].id=="Excess heat"?cs:ns}let b=y(a)(a);function g(H,w){return Xe.includes(H[24])?fs:us}let N=g(a)(a);return{c(){t=f("div"),e=f("div"),l=f("img"),o=V(),c=f("h3"),I=A(_),L=V(),b.c(),h=V(),N.c(),v=V(),this.h()},l(H){t=d(H,"DIV",{class:!0});var w=m(t);e=d(w,"DIV",{class:!0});var T=m(e);l=d(T,"IMG",{class:!0,src:!0,alt:!0}),o=C(T),c=d(T,"H3",{class:!0});var F=m(c);I=D(F,_),F.forEach(n),L=C(T),b.l(T),T.forEach(n),h=C(w),N.l(w),v=C(w),w.forEach(n),this.h()},h(){u(l,"class","sm-cb-icon svelte-1qi276a"),ul(l.src,s=Aa(a[73].id))||u(l,"src",s),u(l,"alt",a[73].label+" icon"),u(c,"class","chart-component-title"),u(e,"class","component-chart-title-container svelte-1qi276a"),u(t,"class","plot-container svelte-1qi276a")},m(H,w){S(H,t,w),r(t,e),r(e,l),r(e,o),r(e,c),r(c,I),r(e,L),b.m(e,null),r(t,h),N.m(t,null),r(t,v)},p(H,w){N.p(H,w)},d(H){H&&n(t),b.d(),N.d()}}}function ds(a){let t,e,l,s,o,c,_,I="Socio-Economic Factor Report",L,h,v,y,k,b,g,E,N,H,w,T,F,j,Ae,oe,Ze,De,z,ge,ne,le,ee,ce,Qe='<p class="section-subtitle svelte-1qi276a">Overview</p>',U,G,te,Ee,ot,nt,ae,ue,Oe,xe,Se,se,B,x,Fe,we,ct="This chart uses per capita values. i.e. shows the cost/benefit per person in each area.",Pe,ut,_e,W,ve,ft,Ve,dt,Ce,Vt="Scroll for zooming in and out.",ht,Ie,Ct=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Kt}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each area.</span></div>`,pt,$e,qe,_t,ye,Ne,It='<p class="section-subtitle svelte-1qi276a">By Co-benefits</p>',vt,fe,i,q,P,We=a[25].toLowerCase()+"",J,R,de,X,dl="Each plot shows the distribution of benefits or costs for each of the 11 co-benefits.",Yt,Jt,Xt,ie,et,hl="Co-benefits:",Zt,Qt,mt,xt,$t,He,pl='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Varying y-axis scales:</strong> The scatter plots have different scales on the y-axis due to the nature of each co-benefit.</p>',el,je,Be,qt,Ke,bt,tl,_l;t=new na({});function Zl(p,O){return Xe.includes(p[24])?Ga:Ua}let gt=Zl(a)(a);function Ql(p,O){return Xe.includes(p[24])?ja:Wa}let yt=Ql(a)(a);function xl(p,O){return Xe.includes(p[24])?Xa:Ja}let kt=xl(a)(a);function $l(p,O){return Xe.includes(p[24])?Qa:Za}let Lt=$l(a)(a);function vl(p,O){return p[21]?ts:es}let Nt=vl(a),me=Nt(a),Z=a[19]&&Gl(a);function ml(p,O){return p[7]==p[2]?is:ss}let Tt=ml(a),Te=Tt(a),$=a[6]&&Wl();function ea(p,O){return Xe.includes(p[24])?os:rs}let At=ea(a)(a),Q=a[17]&&jl(a),tt=zt(Ut),K=[];for(let p=0;p<tt.length;p+=1)K[p]=Yl(Ul(a,tt,p));let lt=zt(Ut),Y=[];for(let p=0;p<lt.length;p+=1)Y[p]=Jl(zl(a,lt,p));return Ke=new Na({}),{c(){ql(t.$$.fragment),e=V(),l=f("div"),s=f("div"),o=f("div"),c=f("div"),_=f("p"),_.textContent=I,L=V(),h=f("div"),v=f("h1"),y=A(a[27]),k=V(),b=f("p"),g=A(a[26]),E=V(),N=f("div"),gt.c(),H=V(),w=f("div"),T=f("p"),yt.c(),F=V(),j=f("p"),kt.c(),Ae=V(),oe=f("p"),Lt.c(),Ze=V(),De=f("div"),z=f("button"),me.c(),ge=V(),Z&&Z.c(),ne=V(),le=f("div"),ee=f("div"),ce=f("div"),ce.innerHTML=Qe,U=V(),G=f("div"),te=f("div"),Ee=f("h3"),ot=A(a[25]),nt=A(" against per capita co-benefit values (£, thousand)"),ae=V(),ue=f("p"),Oe=A(`Each point in the chart below represents a UK \r
                        `),Te.c(),xe=V(),Se=f("div"),se=f("div"),B=f("img"),Fe=V(),we=f("span"),we.textContent=ct,Pe=V(),$&&$.c(),ut=V(),At.c(),_e=V(),W=f("div"),ve=f("h3"),ft=A(a[25]),Ve=A(" at data zone (LSOA) level"),dt=V(),Ce=f("p"),Ce.textContent=Vt,ht=V(),Ie=f("div"),Ie.innerHTML=Ct,pt=V(),Q&&Q.c(),$e=V(),qe=f("div"),_t=V(),ye=f("div"),Ne=f("div"),Ne.innerHTML=It,vt=V(),fe=f("div"),i=f("div"),q=f("h3"),P=A(`Plotting \r
                    \r
                    `),J=A(We),R=A(`\r
                \r
                against the gain/loss (£, thousand) per capita for each co-benefit`),de=V(),X=f("p"),X.textContent=dl,Yt=V(),Jt=f("br"),Xt=V(),ie=f("div"),et=f("strong"),et.textContent=hl,Zt=f("br"),Qt=A(`Expand for detailed explanation\r
                    `),mt=f("div"),xt=V();for(let p=0;p<K.length;p+=1)K[p].c();$t=V(),He=f("div"),He.innerHTML=pl,el=V(),je=f("div"),Be=f("div");for(let p=0;p<Y.length;p+=1)Y[p].c();qt=V(),ql(Ke.$$.fragment),this.h()},l(p){Nl(t.$$.fragment,p),e=C(p),l=d(p,"DIV",{class:!0});var O=m(l);s=d(O,"DIV",{class:!0});var M=m(s);o=d(M,"DIV",{class:!0});var he=m(o);c=d(he,"DIV",{class:!0});var Mt=m(c);_=d(Mt,"P",{class:!0,"data-svelte-h":!0}),re(_)!=="svelte-16ymxs7"&&(_.textContent=I),L=C(Mt),h=d(Mt,"DIV",{class:!0});var Ot=m(h);v=d(Ot,"H1",{class:!0});var bl=m(v);y=D(bl,a[27]),bl.forEach(n),k=C(Ot),b=d(Ot,"P",{class:!0});var gl=m(b);g=D(gl,a[26]),gl.forEach(n),Ot.forEach(n),Mt.forEach(n),E=C(he),N=d(he,"DIV",{class:!0});var yl=m(N);gt.l(yl),yl.forEach(n),H=C(he),w=d(he,"DIV",{class:!0});var at=m(w);T=d(at,"P",{class:!0});var kl=m(T);yt.l(kl),kl.forEach(n),F=C(at),j=d(at,"P",{class:!0});var Ll=m(j);kt.l(Ll),Ll.forEach(n),Ae=C(at),oe=d(at,"P",{class:!0});var Al=m(oe);Lt.l(Al),Al.forEach(n),at.forEach(n),he.forEach(n),M.forEach(n),Ze=C(O),De=d(O,"DIV",{class:!0});var Dl=m(De);z=d(Dl,"BUTTON",{class:!0});var El=m(z);me.l(El),El.forEach(n),Dl.forEach(n),ge=C(O),Z&&Z.l(O),ne=C(O),le=d(O,"DIV",{class:!0});var Sl=m(le);ee=d(Sl,"DIV",{id:!0});var Ft=m(ee);ce=d(Ft,"DIV",{class:!0,"data-svelte-h":!0}),re(ce)!=="svelte-ll1i43"&&(ce.innerHTML=Qe),U=C(Ft),G=d(Ft,"DIV",{id:!0,class:!0});var Pt=m(G);te=d(Pt,"DIV",{class:!0});var Re=m(te);Ee=d(Re,"H3",{class:!0});var ll=m(Ee);ot=D(ll,a[25]),nt=D(ll," against per capita co-benefit values (£, thousand)"),ll.forEach(n),ae=C(Re),ue=d(Re,"P",{class:!0});var al=m(ue);Oe=D(al,`Each point in the chart below represents a UK \r
                        `),Te.l(al),al.forEach(n),xe=C(Re),Se=d(Re,"DIV",{class:!0});var wl=m(Se);se=d(wl,"DIV",{class:!0});var st=m(se);B=d(st,"IMG",{class:!0,src:!0,alt:!0}),Fe=C(st),we=d(st,"SPAN",{class:!0,"data-svelte-h":!0}),re(we)!=="svelte-1iyw7e6"&&(we.textContent=ct),Pe=C(st),$&&$.l(st),st.forEach(n),wl.forEach(n),ut=C(Re),At.l(Re),Re.forEach(n),_e=C(Pt),W=d(Pt,"DIV",{class:!0});var ke=m(W);ve=d(ke,"H3",{class:!0});var sl=m(ve);ft=D(sl,a[25]),Ve=D(sl," at data zone (LSOA) level"),sl.forEach(n),dt=C(ke),Ce=d(ke,"P",{class:!0,"data-svelte-h":!0}),re(Ce)!=="svelte-1ask2se"&&(Ce.textContent=Vt),ht=C(ke),Ie=d(ke,"DIV",{class:!0,"data-svelte-h":!0}),re(Ie)!=="svelte-7b2hds"&&(Ie.innerHTML=Ct),pt=C(ke),Q&&Q.l(ke),$e=C(ke),qe=d(ke,"DIV",{id:!0,class:!0}),m(qe).forEach(n),ke.forEach(n),Pt.forEach(n),Ft.forEach(n),Sl.forEach(n),_t=C(O),ye=d(O,"DIV",{id:!0});var Ht=m(ye);Ne=d(Ht,"DIV",{class:!0,"data-svelte-h":!0}),re(Ne)!=="svelte-1av3fse"&&(Ne.innerHTML=It),vt=C(Ht),fe=d(Ht,"DIV",{id:!0,class:!0,style:!0});var Bt=m(fe);i=d(Bt,"DIV",{id:!0,class:!0});var Le=m(i);q=d(Le,"H3",{class:!0});var Rt=m(q);P=D(Rt,`Plotting \r
                    \r
                    `),J=D(Rt,We),R=D(Rt,`\r
                \r
                against the gain/loss (£, thousand) per capita for each co-benefit`),Rt.forEach(n),de=C(Le),X=d(Le,"P",{class:!0,"data-svelte-h":!0}),re(X)!=="svelte-1h97e3k"&&(X.textContent=dl),Yt=C(Le),Jt=d(Le,"BR",{}),Xt=C(Le),ie=d(Le,"DIV",{id:!0,class:!0});var Ye=m(ie);et=d(Ye,"STRONG",{"data-svelte-h":!0}),re(et)!=="svelte-1qu96kx"&&(et.textContent=hl),Zt=d(Ye,"BR",{}),Qt=D(Ye,`Expand for detailed explanation\r
                    `),mt=d(Ye,"DIV",{style:!0}),m(mt).forEach(n),xt=C(Ye);for(let Je=0;Je<K.length;Je+=1)K[Je].l(Ye);Ye.forEach(n),$t=C(Le),He=d(Le,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),re(He)!=="svelte-11g4vkg"&&(He.innerHTML=pl),Le.forEach(n),el=C(Bt),je=d(Bt,"DIV",{id:!0,class:!0});var Vl=m(je);Be=d(Vl,"DIV",{id:!0,class:!0});var Cl=m(Be);for(let Je=0;Je<Y.length;Je+=1)Y[Je].l(Cl);Cl.forEach(n),Vl.forEach(n),Bt.forEach(n),Ht.forEach(n),O.forEach(n),qt=C(p),Nl(Ke.$$.fragment,p),this.h()},h(){u(_,"class","page-subtitle svelte-1qi276a"),u(v,"class","page-title svelte-1qi276a"),u(b,"class","definition"),u(h,"class","title-container"),u(c,"class","header-text svelte-1qi276a"),u(N,"class","header-vis svelte-1qi276a"),u(T,"class","definition-stat svelte-1qi276a"),u(j,"class","definition-stat svelte-1qi276a"),u(oe,"class","definition-stat svelte-1qi276a"),u(w,"class","header-stats svelte-1qi276a"),u(o,"class","header-content svelte-1qi276a"),u(s,"class","section header svelte-1qi276a"),u(z,"class","switch-button svelte-1qi276a"),z.disabled=a[21],u(De,"class","button-wrapper svelte-1qi276a"),u(ce,"class","section-header"),u(Ee,"class","component-title"),u(ue,"class","description"),u(B,"class","aggregation-icon"),ul(B.src,x=Kt)||u(B,"src",x),u(B,"alt","icon"),u(we,"class","tooltip-text"),u(se,"class","tooltip-wrapper"),u(Se,"class","aggregation-icon-container2 svelte-1qi276a"),u(te,"class","component column"),u(ve,"class","component-title"),u(Ce,"class","description"),u(Ie,"class","aggregation-icon-container2 svelte-1qi276a"),u(qe,"id","map"),u(qe,"class","svelte-1qi276a"),u(W,"class","component column"),u(G,"id","vis-block"),u(G,"class","svelte-1qi276a"),u(ee,"id","overview"),u(le,"class","section"),u(Ne,"class","section-header"),u(q,"class","component-title"),u(X,"class","explanation"),Me(mt,"height","0.8em"),u(ie,"id","main-legend"),u(ie,"class","legend-box svelte-1qi276a"),u(He,"id","se-disclaimer"),u(He,"class","disclaimer-box svelte-1qi276a"),u(i,"id","se-title"),u(i,"class","svelte-1qi276a"),u(Be,"id","multiple-plots"),u(Be,"class","svelte-1qi276a"),u(je,"id","multiple-comp"),u(je,"class","svelte-1qi276a"),u(fe,"id","se-block"),u(fe,"class","component svelte-1qi276a"),Me(fe,"margin-left","1rem"),u(ye,"id","compare"),u(l,"class","page-container")},m(p,O){Tl(t,p,O),S(p,e,O),S(p,l,O),r(l,s),r(s,o),r(o,c),r(c,_),r(c,L),r(c,h),r(h,v),r(v,y),r(h,k),r(h,b),r(b,g),r(o,E),r(o,N),gt.m(N,null),r(o,H),r(o,w),r(w,T),yt.m(T,null),r(w,F),r(w,j),kt.m(j,null),r(w,Ae),r(w,oe),Lt.m(oe,null),r(l,Ze),r(l,De),r(De,z),me.m(z,null),r(l,ge),Z&&Z.m(l,null),r(l,ne),r(l,le),r(le,ee),r(ee,ce),r(ee,U),r(ee,G),r(G,te),r(te,Ee),r(Ee,ot),r(Ee,nt),r(te,ae),r(te,ue),r(ue,Oe),Te.m(ue,null),r(te,xe),r(te,Se),r(Se,se),r(se,B),r(se,Fe),r(se,we),r(se,Pe),$&&$.m(se,null),r(te,ut),At.m(te,null),r(G,_e),r(G,W),r(W,ve),r(ve,ft),r(ve,Ve),r(W,dt),r(W,Ce),r(W,ht),r(W,Ie),r(W,pt),Q&&Q.m(W,null),r(W,$e),r(W,qe),a[47](qe),r(l,_t),r(l,ye),r(ye,Ne),r(ye,vt),r(ye,fe),r(fe,i),r(i,q),r(q,P),r(q,J),r(q,R),r(i,de),r(i,X),r(i,Yt),r(i,Jt),r(i,Xt),r(i,ie),r(ie,et),r(ie,Zt),r(ie,Qt),r(ie,mt),r(ie,xt);for(let M=0;M<K.length;M+=1)K[M]&&K[M].m(ie,null);r(i,$t),r(i,He),r(fe,el),r(fe,je),r(je,Be);for(let M=0;M<Y.length;M+=1)Y[M]&&Y[M].m(Be,null);a[51](l),S(p,qt,O),Tl(Ke,p,O),bt=!0,tl||(_l=fl(z,"click",a[31]),tl=!0)},p(p,O){if(gt.p(p,O),yt.p(p,O),kt.p(p,O),Lt.p(p,O),Nt===(Nt=vl(p))&&me?me.p(p,O):(me.d(1),me=Nt(p),me&&(me.c(),me.m(z,null))),(!bt||O[0]&2097152)&&(z.disabled=p[21]),p[19]?Z?Z.p(p,O):(Z=Gl(p),Z.c(),Z.m(l,ne)):Z&&(Z.d(1),Z=null),Tt!==(Tt=ml(p))&&(Te.d(1),Te=Tt(p),Te&&(Te.c(),Te.m(ue,null))),p[6]?$||($=Wl(),$.c(),$.m(se,null)):$&&($.d(1),$=null),At.p(p,O),p[17]?Q?Q.p(p,O):(Q=jl(p),Q.c(),Q.m(W,$e)):Q&&(Q.d(1),Q=null),O[0]&1074790400){tt=zt(Ut);let M;for(M=0;M<tt.length;M+=1){const he=Ul(p,tt,M);K[M]?K[M].p(he,O):(K[M]=Yl(he),K[M].c(),K[M].m(ie,null))}for(;M<K.length;M+=1)K[M].d(1);K.length=tt.length}if(O[0]&16777219){lt=zt(Ut);let M;for(M=0;M<lt.length;M+=1){const he=zl(p,lt,M);Y[M]?Y[M].p(he,O):(Y[M]=Jl(he),Y[M].c(),Y[M].m(Be,null))}for(;M<Y.length;M+=1)Y[M].d(1);Y.length=lt.length}},i(p){bt||(Ml(t.$$.fragment,p),Ml(Ke.$$.fragment,p),bt=!0)},o(p){Ol(t.$$.fragment,p),Ol(Ke.$$.fragment,p),bt=!1},d(p){p&&(n(e),n(l),n(qt)),Fl(t,p),gt.d(),yt.d(),kt.d(),Lt.d(),me.d(),Z&&Z.d(),Te.d(),$&&$.d(),At.d(),Q&&Q.d(),a[47](null),Il(K,p),Il(Y,p),a[51](null),Fl(Ke,p),tl=!1,_l()}}}let pe=400;function Ue(a,t){return t==="£"?`${t}${a}`:`${a} ${t}`}function hs(a,t,e){let l,s,o,c;const _=`${Wt}/LAD/Eng_Wales_LSOA_LADs.csv`,I=`${Wt}/LAD/NI_DZ_LAD.csv`,L=`${Wt}/LAD/Scotland_DZ_LA.csv`;let h,v,y,k,b,g={},E={},N,H,w,T,F,j=!1,Ae,oe,Ze,De,z,ge,ne,le,ee,ce,{data:Qe}=t;const U=Qe.SEF,G=ma.find(i=>i.id===U)?.id??U,te=ba.find(i=>i.id===U)?.label??U,Ee=ga.find(i=>i.id===U)?.def??U,ot=ya.find(i=>i.id===U)?.description??U,nt=ka.find(i=>i.id===U)?.short_units??U,ae=La.find(i=>i.id===U)?.units??U;let ue,Oe,xe=!1,Se="";const se=["overview","compare"],B={},x={};let Fe=!1;async function we(){try{const i=new Set,q=await nl(_);for(let J of q){const R=J.LAD22CD?.trim(),de=J.LAD22NM?.trim(),X=J.LSOA11CD?.trim();X&&R&&e(41,x[X]=R,x),!i.has(R)&&R&&de&&(e(5,B[R]=de,B),i.add(R))}const P=await nl(I);for(let J of P){const R=J.LGD2014_code?.trim(),de=J.LGD2014_name?.trim(),X=J.DZ2021_code?.trim();X&&R&&e(41,x[X]=R,x),!i.has(R)&&R&&de&&(e(5,B[R]=de,B),i.add(R))}const We=await nl(L);for(let J of We){const R=J.LA_Code?.trim(),de=J.LA_Name?.trim(),X=J.DZ2011_Code?.trim();X&&R&&e(41,x[X]=R,x),!i.has(R)&&R&&de&&(e(5,B[R]=de,B),i.add(R))}e(42,Fe=!0),console.log("Loaded LAD names:",Object.keys(B).length,B),console.log("SmallArea → LAD mapping:",Object.keys(x).length,x)}catch(i){console.error("Error loading LAD names:",i)}}function ct(i){if(!i)return"Unknown";const q=x[i];return q?B[q]||"Unknown Name":"Unknown LAD"}we();function Pe(){const i=window.scrollY;e(19,xe=i>250);for(const q of se){const P=document.getElementById(q);if(!P)continue;const We=P.getBoundingClientRect();if(We.top<=150&&We.bottom>=150){Se!==q&&il.capture("section entered (sef)",{section_name:q}),Se=q;break}}}la(()=>(Da(h),window.addEventListener("scroll",Pe),Pe(),()=>window.removeEventListener("scroll",Pe))),aa(()=>{window.removeEventListener("scroll",Pe)});async function ut(){e(33,N=await wt(wa(U))),console.log("totals",N),e(2,T=await wt(Va(U))),console.log("LAD data 1 ",T),e(34,H=await wt(Ca(U))),console.log("by cobens",H),e(35,F=await wt(Ia(U))),console.log("LADsef",F),w=await wt(qa()),console.log("per_capita_data",w),rl.forEach(i=>{e(34,H[i]=+H[i],H)}),e(36,j=!0),Ea(h)}ut().then(()=>{e(17,ue=new va(N,"LSOA",Oe,"val",!1,"Lookup_Value",!1)),ue.initMap()});let _e=new Set;function W(i){_e.has(i)?_e.delete(i):_e.add(i),e(20,_e=new Set(_e))}let ve=!1;function ft(){e(21,ve=!0),setTimeout(()=>{e(6,Ve=!Ve),e(21,ve=!1)},1e3)}let Ve=!0;function dt(){const i=Pl(N,q=>q.val)??0;Oa(za().thresholds(20).value(q=>q.val)(N),q=>q.length),e(9,v.innerHTML="",v),v?.append(it({height:pe/1.9,width:pe*1.7,marginLeft:60,marginTop:30,marginRight:20,marginBottom:50,x:{label:`${ae}`},y:{label:l===T?"No. of LADs":"No. of LSOAs",labelArrow:!1},style:{fontSize:"16px"},marks:[ha(l,Ha({y:"count"},{x:{value:"val",thresholds:20},fill:"black",fillOpacity:.5,stroke:"black",srokeWidth:5})),rt([i],{stroke:"#BD210E",strokeWidth:4,channels:{average:{value:i,label:"Average"}},tip:{format:{average:q=>`${q.toFixed(2)}`,x:!1}}}),Dt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}))}function Ce(){const i=Bl[G],q=i?Object.keys(i).map(Number):l.filter(P=>P.SEFMAME==G).map(P=>P.SE);e(11,k.innerHTML="",k),k?.append(it({height:pe/1.9,width:pe*1.7,marginLeft:60,marginTop:30,marginRight:20,marginBottom:G==="Typology"?80:50,x:{domain:q,label:Sa(G),tickFormat:P=>i?.[P]??P,tickRotate:G==="Typology"?-10:0,padding:.5},style:{fontSize:"16px"},marks:[Et([0],{stroke:"#333",strokeWidth:.75}),rt([0],{stroke:"#333",strokeWidth:.75}),pa(l,Hl({y:"count"},{x:"val",fill:"black",opacity:.5,tooltip:!0,title:P=>`Count: ${P.count}`})),_a(l,Hl({y:"count",text:"count"},{x:"val",text:P=>P.count,dy:-15,fill:"#333",fontWeight:500})),St({label:l===T?"No. of LADs":"No. of LSOAs",labelArrow:!1})]}))}function Vt(){e(10,y.innerHTML="",y),y?.append(it({height:pe*1.5,width:pe*2,marginLeft:60,marginTop:60,marginRight:10,marginBottom:60,x:{grid:!1},y:{grid:!0},style:{fontSize:"16px"},marks:[Et([0],{stroke:"#333",strokeWidth:.75}),rt([0],{stroke:"#333",strokeWidth:.75}),Gt(l,{x:G=="Rurality"?i=>i.val+(Math.random()-.5)*.02:i=>i.val,y:i=>i.total_per_capita*1e3,fill:i=>i.total_per_capita<0?"#BD210E":"#242424",r:l===T?4:.9,fillOpacity:.75,channels:{location:{value:i=>l===T?B[i.Lookup_Value]||"Unknown":ct(i.Lookup_Value),label:"Location"},sef:{value:"val",label:`${ae}`},value:{value:i=>i.total_per_capita*1e3,label:"Co-Benefit Value (£, thousand)"}},tip:{format:{location:!0,sef:!0,value:!0,x:!1,y:!1}}}),St({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"center"}),Dt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}))}function ht(){e(12,b.innerHTML="",b),b?.append(it({height:pe*1.5,width:pe*2,marginLeft:60,marginTop:60,marginRight:10,marginBottom:60,x:{grid:!1},y:{grid:!0},style:{fontSize:"16px"},marks:[Et([0],{stroke:"#333",strokeWidth:1.25}),rt([0],{stroke:"#333",strokeWidth:.75}),Gt(l,{x:s===F?i=>i.val+(Math.random()-.5)*.05:i=>i.val+(Math.random()-.5)*.1,y:i=>i.total_per_capita*1e3,fill:i=>i.total_per_capita<0?"#BD210E":"#242424",r:l===T?4:.9,fillOpacity:.75,channels:{location:{value:"Lookup_Value",label:"Location"},sef:{value:"val",label:`${ae}`},value:{value:i=>i.total_per_capita*1e3,label:"Co-Benefit Value (£, thousand)"}},tip:{format:{location:!0,sef:!0,value:!0,x:!1,y:!1}}}),St({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"center"}),Dt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}))}function Ie(){rl.forEach(i=>{let q;q=it({height:pe,width:pe,marginLeft:i==="Excess heat"?80:60,marginTop:40,marginRight:10,marginBottom:50,x:{label:null},y:{label:null},style:{fontSize:"14px"},marks:[Et([0],{stroke:"#333",strokeWidth:1.25}),rt([0],{stroke:"#333",strokeWidth:.75}),Gt(s.filter(P=>P.co_benefit_type==i),{x:G=="Rurality"?P=>P.val+(Math.random()-.5)*.02:P=>P.val,y:"total",fill:jt(i),fillOpacity:.5,r:s===F?3.5:.5,channels:{location:{value:P=>l===T?B[P.Lookup_Value]||"Unknown":ct(P.Lookup_Value),label:"Location"}},tip:{format:{location:!0,x:!1,y:!1}}}),St({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"top"}),Dt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}),g[i]?.append(q)})}function Ct(){rl.forEach(i=>{let q;q=it({height:pe,width:pe,marginLeft:60,marginTop:40,marginRight:10,marginBottom:50,x:{label:null},y:{label:null},style:{fontSize:"14px"},marks:[Et([0],{stroke:"#333",strokeWidth:1.25}),rt([0],{stroke:"#333",strokeWidth:.75}),Gt(s.filter(P=>P.co_benefit_type==i),{x:s===F?P=>P.val+(Math.random()-.5)*.1:P=>P.val+(Math.random()-.5)*.2,y:"total",fill:jt(i),fillOpacity:.5,r:s===F?3.5:.5,channels:{location:{value:"Lookup_Value",label:"Location"}},tip:{format:{location:!0,x:!1,y:!1}}}),St({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"top"}),Dt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}),E[i]?.append(q)})}function pt(i){ze[i?"unshift":"push"](()=>{k=i,e(11,k)})}function $e(i){ze[i?"unshift":"push"](()=>{v=i,e(9,v)})}function qe(i){ze[i?"unshift":"push"](()=>{b=i,e(12,b)})}function _t(i){ze[i?"unshift":"push"](()=>{y=i,e(10,y)})}function ye(i){ze[i?"unshift":"push"](()=>{Oe=i,e(18,Oe)})}const Ne=i=>{const q=_e.has(i.id);W(i.id),q?il.capture("cobenefit closed",{cobenefit:i.label}):il.capture("cobenefit opened",{cobenefit:i.label})};function It(i,q){ze[i?"unshift":"push"](()=>{E[q.id]=i,e(1,E)})}function vt(i,q){ze[i?"unshift":"push"](()=>{g[q.id]=i,e(0,g)})}function fe(i){ze[i?"unshift":"push"](()=>{h=i,e(8,h)})}return a.$$set=i=>{"data"in i&&e(32,Qe=i.data)},a.$$.update=()=>{a.$$.dirty[0]&68|a.$$.dirty[1]&4&&e(7,l=Ve?T:N),a.$$.dirty[0]&64|a.$$.dirty[1]&24&&(s=Ve?F:H),a.$$.dirty[0]&128&&e(13,Ae=l?(Pl(l,i=>i.val)??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&128&&e(39,ee=l?ua(l,i=>i.val):null),a.$$.dirty[1]&768&&e(14,oe=ee!=null&&ce?ce[ee]??ee:"N/A"),a.$$.dirty[0]&128&&e(37,ge=l?fa(l,i=>i.val):-1),a.$$.dirty[0]&128|a.$$.dirty[1]&64&&e(3,z=ge!==-1&&l?l[ge].Lookup_Value?.trim()??"N/A":"N/A"),a.$$.dirty[0]&128|a.$$.dirty[1]&64&&e(15,Ze=ge!==-1&&l?(l[ge].val??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&128&&e(38,le=l?da(l,i=>i.val):-1),a.$$.dirty[0]&128|a.$$.dirty[1]&128&&e(4,ne=le!==-1&&l?l[le].Lookup_Value?.trim()??"N/A":"N/A"),a.$$.dirty[0]&128|a.$$.dirty[1]&128&&e(16,De=le!==-1&&l?(l[le].val??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&172|a.$$.dirty[1]&3072&&e(23,o=Fe&&z!=="N/A"?l===T?B[z]??z:B[x[z]]??z:"Loading..."),a.$$.dirty[0]&180|a.$$.dirty[1]&3072&&e(22,c=Fe&&ne!=="N/A"?l===T?B[ne]??ne:B[x[ne]]??ne:"Loading..."),a.$$.dirty[0]&8&&console.log("maxLookupValue:",z),a.$$.dirty[0]&40&&console.log("LAD name for maxLookupValue:",B[z]),a.$$.dirty[0]&131|a.$$.dirty[1]&32&&(Object.values(g).forEach(i=>{i.firstChild?.remove()}),Object.values(E).forEach(i=>{i.firstChild?.remove()}),j&&l&&(Xe.includes(G)?(Ce(),Ct(),ht()):(Vt(),Ie(),dt())))},e(40,ce=Bl[G]),[g,E,T,z,ne,B,Ve,l,h,v,y,k,b,Ae,oe,Ze,De,ue,Oe,xe,_e,ve,c,o,G,te,Ee,ot,nt,ae,W,ft,Qe,N,H,F,j,ge,le,ee,ce,x,Fe,pt,$e,qe,_t,ye,Ne,It,vt,fe]}class Fs extends ra{constructor(t){super(),oa(this,t,hs,ds,ta,{data:32},null,[-1,-1,-1])}}export{Fs as component};
