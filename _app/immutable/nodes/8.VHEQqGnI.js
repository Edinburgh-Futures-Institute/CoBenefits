import{s as lt,d as at,n as Q,o as st,e as X}from"../chunks/scheduler.tir__IPy.js";import{S as ot,i as rt,e as h,b as G,s as S,c as v,d as A,f as O,g as D,h as k,m as B,n as I,j as it,k as n,p as dt,o as ct}from"../chunks/index.bU9Y8Vjw.js";import{e as U}from"../chunks/each.-gASlQSi.js";import"../chunks/transform.Bxaw71Wc.js";import{p as W}from"../chunks/index.BB3F7tZ8.js";import"../chunks/map.Di09rdZe.js";import{S as K,a as ht}from"../chunks/globals.xEjTdJsR.js";import{c as $,a as tt}from"../chunks/bar.DRnp5WFh.js";function et(e,i,a){const r=e.slice();return r[19]=i[a],r[20]=i,r[21]=a,r}function nt(e){let i,a,r,g,d,_,E,c,F="",o=e[19],m,y,x,b,L="",M;const j=()=>e[10](c,o),z=()=>e[10](null,o),t=()=>e[11](b,o),C=()=>e[11](null,o);return{c(){i=h("div"),a=h("strong"),r=G(e[19]),g=S(),d=h("div"),_=h("div"),E=G(`LAD Distribution:
                        `),c=h("div"),c.innerHTML=F,m=S(),y=h("div"),x=G(`Global Distribution:
                        `),b=h("div"),b.innerHTML=L,M=S(),this.h()},l(p){i=v(p,"DIV",{});var l=A(i);a=v(l,"STRONG",{});var H=A(a);r=O(H,e[19]),H.forEach(D),g=k(l),d=v(l,"DIV",{class:!0});var w=A(d);_=v(w,"DIV",{});var P=A(_);E=O(P,`LAD Distribution:
                        `),c=v(P,"DIV",{class:!0,"data-svelte-h":!0}),B(c)!=="svelte-nw1ojy"&&(c.innerHTML=F),P.forEach(D),m=k(w),y=v(w,"DIV",{});var V=A(y);x=O(V,`Global Distribution:
                        `),b=v(V,"DIV",{class:!0,"data-svelte-h":!0}),B(b)!=="svelte-1i7x0dr"&&(b.innerHTML=L),V.forEach(D),w.forEach(D),M=k(l),l.forEach(D),this.h()},h(){I(c,"class","plot"),I(b,"class","plot"),I(d,"class","inside-row svelte-11y8ase")},m(p,l){it(p,i,l),n(i,a),n(a,r),n(i,g),n(i,d),n(d,_),n(_,E),n(_,c),j(),n(d,m),n(d,y),n(y,x),n(y,b),t(),n(i,M)},p(p,l){e=p,o!==e[19]&&(z(),o=e[19],j()),o!==e[19]&&(C(),o=e[19],t())},d(p){p&&D(i),z(),C()}}}function vt(e){let i,a,r,g,d,_,E,c,F,o,m,y="",x,b,L,M,j="Map",z,t,C="",p,l,H,w="Socio Economic Factors",P,V=U(K),u=[];for(let f=0;f<V.length;f+=1)u[f]=nt(et(e,V,f));return{c(){i=h("div"),a=h("div"),r=h("h1"),g=G(e[5]),d=S(),_=h("p"),E=G(e[5]),c=G(" is ..."),F=S(),o=h("div"),m=h("div"),m.innerHTML=y,b=S(),L=h("div"),M=h("h3"),M.textContent=j,z=S(),t=h("div"),t.innerHTML=C,p=S(),l=h("div"),H=h("h2"),H.textContent=w,P=S();for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){i=v(f,"DIV",{class:!0});var T=A(i);a=v(T,"DIV",{class:!0});var s=A(a);r=v(s,"H1",{});var R=A(r);g=O(R,e[5]),R.forEach(D),d=k(s),_=v(s,"P",{});var Y=A(_);E=O(Y,e[5]),c=O(Y," is ..."),Y.forEach(D),s.forEach(D),F=k(T),o=v(T,"DIV",{id:!0,class:!0});var q=A(o);m=v(q,"DIV",{class:!0,"data-svelte-h":!0}),B(m)!=="svelte-vdeqzi"&&(m.innerHTML=y),b=k(q),L=v(q,"DIV",{class:!0});var Z=A(L);M=v(Z,"H3",{"data-svelte-h":!0}),B(M)!=="svelte-vcuthw"&&(M.textContent=j),z=k(Z),t=v(Z,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1ej9vmv"&&(t.innerHTML=C),Z.forEach(D),q.forEach(D),p=k(T),l=v(T,"DIV",{id:!0,class:!0});var N=A(l);H=v(N,"H2",{"data-svelte-h":!0}),B(H)!=="svelte-120oaoa"&&(H.textContent=w),P=k(N);for(let J=0;J<u.length;J+=1)u[J].l(N);N.forEach(D),T.forEach(D),this.h()},h(){I(a,"class","component"),I(m,"class","component column"),at(()=>e[8].call(m)),I(t,"id","map"),I(t,"class","svelte-11y8ase"),I(L,"class","component column"),I(o,"id","vis-block"),I(o,"class","svelte-11y8ase"),I(l,"id","multiple-comp"),I(l,"class","component svelte-11y8ase"),I(i,"class","page-container")},m(f,T){it(f,i,T),n(i,a),n(a,r),n(r,g),n(a,d),n(a,_),n(_,E),n(_,c),n(i,F),n(i,o),n(o,m),x=dt(m,e[8].bind(m)),n(o,b),n(o,L),n(L,M),n(L,z),n(L,t),e[9](t),n(i,p),n(i,l),n(l,H),n(l,P);for(let s=0;s<u.length;s+=1)u[s]&&u[s].m(l,null);e[12](i)},p(f,[T]){if(T&3){V=U(K);let s;for(s=0;s<V.length;s+=1){const R=et(f,V,s);u[s]?u[s].p(R,T):(u[s]=nt(R),u[s].c(),u[s].m(l,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=V.length}},i:Q,o:Q,d(f){f&&D(i),x(),e[9](null),ct(u,f),e[12](null)}}}function ut(e,i,a){let r,g={},d={},_="barchart",E=300,{data:c}=i;const F=c.oneLADData,o=c.LAD,m=c.totalCBAllZones;let y;st(()=>{});function x(){K.forEach(t=>{let C,p;ht.includes(t)&&(p=W({height:E/2,width:500,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:t,type:"band",tickFormat:l=>Math.floor(l)},style:{fontSize:"18px"},color:{legend:!0},marks:[$(m,tt({y:"count"},{x:l=>Math.floor(l[t])}))]}),d[t]?.append(p),C=W({height:E/2,width:500,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:t,domain:p.scale("x").domain,type:"band",tickFormat:l=>Math.floor(l)},style:{fontSize:"18px"},color:{legend:!0},marks:[$(F,tt({y:"count"},{x:l=>Math.floor(l[t])}))]}),g[t]?.append(C)),g[t]?.append(C)})}function b(){E=this.clientHeight,a(3,E)}function L(t){X[t?"unshift":"push"](()=>{y=t,a(4,y)})}function M(t,C){X[t?"unshift":"push"](()=>{g[C]=t,a(0,g)})}function j(t,C){X[t?"unshift":"push"](()=>{d[C]=t,a(1,d)})}function z(t){X[t?"unshift":"push"](()=>{r=t,a(2,r)})}return e.$$set=t=>{"data"in t&&a(6,c=t.data)},e.$$.update=()=>{e.$$.dirty&131&&(Object.values(g).forEach(t=>{t.firstChild?.remove()}),Object.values(d).forEach(t=>{t.firstChild?.remove()}),x())},[g,d,r,E,y,o,c,_,b,L,M,j,z]}class yt extends ot{constructor(i){super(),rt(this,i,ut,vt,lt,{data:6})}}export{yt as component};
