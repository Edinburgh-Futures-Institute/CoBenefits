import{s as Be,d as u,q as Ie,r as n,i as Dt,b as t,A as Me,g as b,c as r,e as p,p as rt,f as T,j as y,h as i,t as L,y as ke,a as Pe,B as Ve,z as gt}from"../chunks/BCTyX47f.js";import{S as we,i as Fe,d as Ne,t as Oe,a as qe,m as He,c as ze,b as Re}from"../chunks/8Kg-X87S.js";import{N as Ye,e as pe}from"../chunks/Do0lbjIu.js";import"../chunks/DRyxMU8n.js";import{t as We,u as be,v as je,w as ye,i as Ge,x as Xe,y as xe,z as Ee,A as Ke,B as At,C as Ct,D as ve}from"../chunks/CvoddFb4.js";import{M as Ue}from"../chunks/4N1o8F0c.js";import{S as St,a as R,g as Ze,T as Je,b as Qe,M as $e}from"../chunks/CXyd_JTm.js";import{g as te,k as tl,l as el,m as ll}from"../chunks/yndP5zWl.js";import{d as Ae,m as al,t as nl}from"../chunks/D92kKu6L.js";import{b as Ce}from"../chunks/D6g-7Txl.js";import{a as sl,b as rl}from"../chunks/CHvUI5rQ.js";function il(e,{y:l=Ge,x:a=null,r:c,fill:v="#ccc",fillOpacity:_,stroke:d="currentColor",strokeOpacity:h,strokeWidth:E=2,sort:P,...A}={}){const o=a!=null?be:je;return We(ye(e,o({y1:De,y2:Se},{x:a,y:l,stroke:d,strokeOpacity:h,...A})),Ce(e,o({y1:"p25",y2:"p75"},{x:a,y:l,fill:v,fillOpacity:_,...A})),nl(e,o({y:"p50"},{x:a,y:l,stroke:d,strokeOpacity:h,strokeWidth:E,sort:P,...A})),Ae(e,al({y:ol},{x:a,y:l,z:a,r:c,stroke:d,strokeOpacity:h,...A})))}function ol(e){const l=De(e),a=Se(e);return e.map(c=>c<l||c>a?c:NaN)}function De(e){const l=Te(e)*2.5-Le(e)*1.5;return Xe(e,a=>a>=l?a:NaN)}function Se(e){const l=Le(e)*2.5-Te(e)*1.5;return xe(e,a=>a<=l?a:NaN)}function Te(e){return Ee(e,.25)}function Le(e){return Ee(e,.75)}function me(e,l,a){const c=e.slice();return c[28]=l[a],c[29]=l,c[30]=a,c}function ge(e){let l,a,c=e[4].toLocaleString()+"",v,_;return{c(){l=i("p"),a=L("Total Cost Benefit: £"),v=L(c),_=L(" million"),this.h()},l(d){l=r(d,"P",{class:!0});var h=p(l);a=T(h,"Total Cost Benefit: £"),v=T(h,c),_=T(h," million"),h.forEach(u),this.h()},h(){n(l,"class","total-value svelte-vh70br")},m(d,h){Dt(d,l,h),t(l,a),t(l,v),t(l,_)},p(d,h){h&16&&c!==(c=d[4].toLocaleString()+"")&&Pe(v,c)},d(d){d&&u(l)}}}function _e(e){let l,a,c=e[28].replaceAll("_"," ")+"",v,_,d,h=e[28],E;const P=()=>e[16](d,h),A=()=>e[16](null,h);return{c(){l=i("div"),a=i("h3"),v=L(c),_=y(),d=i("div"),E=y(),this.h()},l(o){l=r(o,"DIV",{class:!0});var B=p(l);a=r(B,"H3",{class:!0,style:!0});var w=p(a);v=T(w,c),w.forEach(u),_=b(B),d=r(B,"DIV",{class:!0}),p(d).forEach(u),E=b(B),B.forEach(u),this.h()},h(){n(a,"class","component-title"),Ve(a,"text-align","center"),n(d,"class","plot"),n(l,"class","plot-container")},m(o,B){Dt(o,l,B),t(l,a),t(a,v),t(l,_),t(l,d),P(),t(l,E)},p(o,B){e=o,h!==e[28]&&(A(),h=e[28],P())},d(o){o&&u(l),A()}}}function cl(e){let l,a,c,v,_,d="Co-Benefit Report",h,E,P,A,o,B,w,X,it,F,J,V,ht,q,dt,pt,vt,H,N,g,Y,W,mt,s,k,C,ee="The total? cost benefit per capita for each 5 year interval.",Tt,x,le="",Lt,Bt,It,K,Mt,Q,kt,Pt,Vt,$,ae="The total cost benefit per capita for each LSOA.",wt,U,ne="",Ft,Nt,Ot,z,tt,et,qt,Ht,zt,lt,se="Scroll for zooming in and out.",Rt,j,re="",Yt,O,at,nt,Wt,jt,Gt,Xt,xt,Z,G;l=new Ye({});let I=e[4]&&ge(e),ot=pe(St),D=[];for(let f=0;f<ot.length;f+=1)D[f]=_e(me(e,ot,f));return{c(){Re(l.$$.fragment),a=y(),c=i("div"),v=i("div"),_=i("p"),_.textContent=d,h=y(),E=i("div"),P=i("div"),A=i("h1"),o=i("img"),w=y(),X=L(e[7]),it=y(),F=i("div"),I&&I.c(),J=y(),V=i("p"),ht=L("Total cost benefit regarding "),q=i("span"),dt=L(e[7]),pt=L(":"),vt=y(),H=i("div"),N=i("div"),g=i("div"),Y=i("h3"),W=i("span"),mt=L(e[7]),s=L(" Total Cost Benefit Over Time"),k=y(),C=i("p"),C.textContent=ee,Tt=y(),x=i("div"),x.innerHTML=le,Lt=y(),Bt=i("br"),It=y(),K=i("h3"),Mt=L("Distribution of "),Q=i("span"),kt=L(e[7]),Pt=L(` Total Cost
                    Benefit by LSOA`),Vt=y(),$=i("p"),$.textContent=ae,wt=y(),U=i("div"),U.innerHTML=ne,Ft=y(),Nt=i("br"),Ot=y(),z=i("div"),tt=i("h3"),et=i("span"),qt=L(e[7]),Ht=L(" on UK Map"),zt=y(),lt=i("p"),lt.textContent=se,Rt=y(),j=i("div"),j.innerHTML=re,Yt=y(),O=i("div"),at=i("h3"),nt=i("span"),Wt=L(e[7]),jt=L(` Cost Benefit by Socio-Economic
                Factors`),Gt=y(),Xt=i("br"),xt=y(),Z=i("div");for(let f=0;f<D.length;f+=1)D[f].c();this.h()},l(f){ze(l.$$.fragment,f),a=b(f),c=r(f,"DIV",{class:!0});var S=p(c);v=r(S,"DIV",{class:!0});var m=p(v);_=r(m,"P",{class:!0,"data-svelte-h":!0}),rt(_)!=="svelte-1flv0v9"&&(_.textContent=d),h=b(m),E=r(m,"DIV",{class:!0});var st=p(E);P=r(st,"DIV",{class:!0});var ie=p(P);A=r(ie,"H1",{class:!0});var _t=p(A);o=r(_t,"IMG",{src:!0,alt:!0,class:!0}),w=b(_t),X=T(_t,e[7]),_t.forEach(u),ie.forEach(u),it=b(st),F=r(st,"DIV",{class:!0});var oe=p(F);I&&I.l(oe),oe.forEach(u),st.forEach(u),J=b(m),V=r(m,"P",{class:!0});var Kt=p(V);ht=T(Kt,"Total cost benefit regarding "),q=r(Kt,"SPAN",{style:!0});var Ut=p(q);dt=T(Ut,e[7]),pt=T(Ut,":"),Ut.forEach(u),Kt.forEach(u),m.forEach(u),vt=b(S),H=r(S,"DIV",{class:!0});var bt=p(H);N=r(bt,"DIV",{id:!0,class:!0});var yt=p(N);g=r(yt,"DIV",{class:!0});var M=p(g);Y=r(M,"H3",{class:!0});var Zt=p(Y);W=r(Zt,"SPAN",{style:!0});var ce=p(W);mt=T(ce,e[7]),ce.forEach(u),s=T(Zt," Total Cost Benefit Over Time"),Zt.forEach(u),k=b(M),C=r(M,"P",{class:!0,"data-svelte-h":!0}),rt(C)!=="svelte-p4didb"&&(C.textContent=ee),Tt=b(M),x=r(M,"DIV",{class:!0,"data-svelte-h":!0}),rt(x)!=="svelte-l1ce0t"&&(x.innerHTML=le),Lt=b(M),Bt=r(M,"BR",{}),It=b(M),K=r(M,"H3",{class:!0});var Et=p(K);Mt=T(Et,"Distribution of "),Q=r(Et,"SPAN",{style:!0});var fe=p(Q);kt=T(fe,e[7]),fe.forEach(u),Pt=T(Et,` Total Cost
                    Benefit by LSOA`),Et.forEach(u),Vt=b(M),$=r(M,"P",{class:!0,"data-svelte-h":!0}),rt($)!=="svelte-ae39jc"&&($.textContent=ae),wt=b(M),U=r(M,"DIV",{class:!0,"data-svelte-h":!0}),rt(U)!=="svelte-1xqwcwc"&&(U.innerHTML=ne),Ft=b(M),Nt=r(M,"BR",{}),M.forEach(u),Ot=b(yt),z=r(yt,"DIV",{class:!0});var ct=p(z);tt=r(ct,"H3",{class:!0});var Jt=p(tt);et=r(Jt,"SPAN",{style:!0});var ue=p(et);qt=T(ue,e[7]),ue.forEach(u),Ht=T(Jt," on UK Map"),Jt.forEach(u),zt=b(ct),lt=r(ct,"P",{class:!0,"data-svelte-h":!0}),rt(lt)!=="svelte-1ask2se"&&(lt.textContent=se),Rt=b(ct),j=r(ct,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),rt(j)!=="svelte-ipahrb"&&(j.innerHTML=re),ct.forEach(u),yt.forEach(u),Yt=b(bt),O=r(bt,"DIV",{id:!0,class:!0});var ft=p(O);at=r(ft,"H3",{class:!0});var Qt=p(at);nt=r(Qt,"SPAN",{style:!0});var he=p(nt);Wt=T(he,e[7]),he.forEach(u),jt=T(Qt,` Cost Benefit by Socio-Economic
                Factors`),Qt.forEach(u),Gt=b(ft),Xt=r(ft,"BR",{}),xt=b(ft),Z=r(ft,"DIV",{id:!0,class:!0});var de=p(Z);for(let $t=0;$t<D.length;$t+=1)D[$t].l(de);de.forEach(u),ft.forEach(u),bt.forEach(u),S.forEach(u),this.h()},h(){n(_,"class","page-subtitle"),Me(o.src,B=e[8])||n(o,"src",B),n(o,"alt","Icon"),n(o,"class","heading-icon svelte-vh70br"),n(A,"class","page-title"),n(P,"class","title-container svelte-vh70br"),n(F,"class","total-value-container svelte-vh70br"),n(E,"class","header-container svelte-vh70br"),n(q,"style",e[6]),n(V,"class","description"),n(v,"class","section header"),n(W,"style",e[6]),n(Y,"class","component-title"),n(C,"class","description"),n(x,"class","plot"),n(Q,"style",e[6]),n(K,"class","component-title"),n($,"class","description"),n(U,"class","plot"),n(g,"class","component singlevis"),n(et,"style",e[6]),n(tt,"class","component-title"),n(lt,"class","description"),n(j,"id","map"),n(j,"class","svelte-vh70br"),n(z,"class","component column"),n(N,"id","vis-block"),n(N,"class","svelte-vh70br"),n(nt,"style",e[6]),n(at,"class","component-title"),n(Z,"id","multiple-plots"),n(Z,"class","svelte-vh70br"),n(O,"id","multiple-comp"),n(O,"class","component svelte-vh70br"),n(H,"class","section"),n(c,"class","page-container")},m(f,S){He(l,f,S),Dt(f,a,S),Dt(f,c,S),t(c,v),t(v,_),t(v,h),t(v,E),t(E,P),t(P,A),t(A,o),t(A,w),t(A,X),t(E,it),t(E,F),I&&I.m(F,null),t(v,J),t(v,V),t(V,ht),t(V,q),t(q,dt),t(q,pt),t(c,vt),t(c,H),t(H,N),t(N,g),t(g,Y),t(Y,W),t(W,mt),t(Y,s),t(g,k),t(g,C),t(g,Tt),t(g,x),e[13](x),t(g,Lt),t(g,Bt),t(g,It),t(g,K),t(K,Mt),t(K,Q),t(Q,kt),t(K,Pt),t(g,Vt),t(g,$),t(g,wt),t(g,U),e[14](U),t(g,Ft),t(g,Nt),t(N,Ot),t(N,z),t(z,tt),t(tt,et),t(et,qt),t(tt,Ht),t(z,zt),t(z,lt),t(z,Rt),t(z,j),e[15](j),t(H,Yt),t(H,O),t(O,at),t(at,nt),t(nt,Wt),t(at,jt),t(O,Gt),t(O,Xt),t(O,xt),t(O,Z);for(let m=0;m<D.length;m+=1)D[m]&&D[m].m(Z,null);e[17](c),G=!0},p(f,[S]){if(f[4]?I?I.p(f,S):(I=ge(f),I.c(),I.m(F,null)):I&&(I.d(1),I=null),(!G||S&64)&&n(q,"style",f[6]),(!G||S&64)&&n(W,"style",f[6]),(!G||S&64)&&n(Q,"style",f[6]),(!G||S&64)&&n(et,"style",f[6]),(!G||S&64)&&n(nt,"style",f[6]),S&2){ot=pe(St);let m;for(m=0;m<ot.length;m+=1){const st=me(f,ot,m);D[m]?D[m].p(st,S):(D[m]=_e(st),D[m].c(),D[m].m(Z,null))}for(;m<D.length;m+=1)D[m].d(1);D.length=ot.length}},i(f){G||(qe(l.$$.fragment,f),G=!0)},o(f){Oe(l.$$.fragment,f),G=!1},d(f){f&&(u(a),u(c)),Ne(l,f),I&&I.d(),e[13](null),e[14](null),e[15](null),Ie(D,f),e[17](null)}}}let ut=400;function fl(e,l,a){let c,v,_,d,h,E={},P="barchart",{data:A}=l;const o=A.coBenefit;let B,w,X,it,F=!1,J,V,ht;dt().then(()=>{J=new Ue(w,"LAD",V,"total",!1,"LAD"),J.initMap();let s=J.legend();ht.append(s)});let q=Ze(o);ke(()=>{});async function dt(){B=await te(tl(o)),X=await te(el(o)),w=await te(ll(o)),console.log(22,w),St.forEach(s=>{X[s]=+X[s]}),a(4,it=Math.round(Ke(B,s=>s.total))),a(11,F=!0)}function pt(){d?.append(At({height:ut/1.2,...$e,marginLeft:80,marginTop:40,marginRight:40,y:{label:"Datazones Frequency"},x:{label:"£/capita",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"18px"},marks:[sl(B,rl({y:"count"},{x:"total",fill:R(o)[0],tip:!0,fillOpacity:.5,stroke:R(o)[0],strokeWidth:3})),Ct({anchor:"left",label:"Datazone frequency",labelArrow:"none",labelAnchor:"center"}),ye([0])]}))}function vt(){let s=B.flatMap(k=>Je.map(C=>({time:C,value:k[C],total:k.total,scenario:k.scenario})));h?.append(At({height:ut/1.2,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"18px"},x:{type:"band",tickFormat:k=>k.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{label:"Cost Benefit £/Capita",grid:!0},marks:[Ce(s,be({y:"sum"},{x:"time",y:"value",fill:R(o)[0],tip:!0,fillOpacity:.8,insetLeft:15,insetRight:15})),Ct({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"})]}))}function H(){St.forEach(s=>{let k;Qe.includes(s)?k=At({style:{fontSize:"16px",textAnchor:"middle",fill:"#333"},height:ut/1.4,width:ut/1.5,marginLeft:60,marginBottom:60,marginRight:10,marginTop:10,x:{grid:!0,label:null,type:"band",tickFormat:C=>Math.floor(C)},color:{legend:!0},marks:[il(X.filter(C=>C.SEFMAME==s),{x:"SE",y:"total",stroke:R(o)[0],fill:R(o)[4],r:1,strokeOpacity:.5,fillOpacity:.3}),Ct({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"}),ve([0])]}):k=At({style:{fontSize:"16px",textAnchor:"middle",fill:"#333"},height:ut/1.4,width:ut/1.5,marginLeft:60,marginBottom:60,marginRight:20,marginTop:10,x:{grid:!0,label:null},y:{grid:!0},color:{legend:!0},marks:[Ae(w.filter(C=>C.SEFMAME==s),{x:"SE",y:"total",fill:C=>C.LAD.startsWith("S")?R(o)[1]:C.LAD.startsWith("N")?R(o)[2]:C.LAD.startsWith("E")?R(o)[3]:R(o)[4],r:2,fillOpacity:1}),Ct({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"}),ve([0])]}),E[s]?.append(k)})}function N(s){gt[s?"unshift":"push"](()=>{h=s,a(0,h)})}function g(s){gt[s?"unshift":"push"](()=>{d=s,a(3,d)})}function Y(s){gt[s?"unshift":"push"](()=>{V=s,a(5,V)})}function W(s,k){gt[s?"unshift":"push"](()=>{E[k]=s,a(1,E)})}function mt(s){gt[s?"unshift":"push"](()=>{_=s,a(2,_)})}return e.$$set=s=>{"data"in s&&a(9,A=s.data)},e.$$.update=()=>{e.$$.dirty&3075&&(h?.firstChild?.remove(),Object.values(E).forEach(s=>{s.firstChild?.remove()}),F&&(pt(),vt(),H())),e.$$.dirty&4096&&a(6,v=`color: ${c}; font-weight: bold; font-size: 22px;`)},a(12,c=R(o)[0]),[h,E,_,d,it,V,v,o,q,A,P,F,c,N,g,Y,W,mt]}class Al extends we{constructor(l){super(),Fe(this,l,fl,cl,Be,{data:9})}}export{Al as component};
