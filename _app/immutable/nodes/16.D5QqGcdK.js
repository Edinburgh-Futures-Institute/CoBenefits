import{s as st,a as q,v as K,g as y,i as x,f as A,r as ot,e as g,c as b,b as T,p as E,q as D,h as c,w as lt,n as at,t as M,d as S,j as nt}from"../chunks/scheduler.DxTP-Qzi.js";import{S as rt,i as it,c as ct,b as ft,m as ht,t as ut,a as _t,d as dt}from"../chunks/index.CDFQmUj4.js";import{N as pt,e as R}from"../chunks/NavigationBar.CHs0W_wA.js";import{b as w}from"../chunks/paths.DB4P3rpQ.js";import{g as vt,c as mt}from"../chunks/duckdb.CqqNOwjJ.js";import"../chunks/transform.BNP73y-7.js";import{c as Y}from"../chunks/dsv.XhNTmijJ.js";function Q(f,t,l){const a=f.slice();return a[10]=t[l],a}function X(f,t,l){const a=f.slice();return a[13]=t[l],a}function gt(f){let t,l,a="Browse by nation",s,n,o="Click on a nation for a detailed report.",p,e,r=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=England" target="_blank">England</a>`,d,i,k=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=NI" target="_blank">Northern Ireland</a>`,u,C,$=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=Scotland" target="_blank">Scotland</a>`,W,_,N=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=Wales" target="_blank">Wales</a>`,B,V,j,O,G,H,z="Browse by local authority",Z,I,F="Open the tabs and then click on a local authority for a detailed report.",U,P=R(f[2]),L=[];for(let m=0;m<P.length;m+=1)L[m]=et(Q(f,P,m));return{c(){t=g("main"),l=g("h1"),l.textContent=a,s=q(),n=g("p"),n.textContent=o,p=q(),e=g("div"),e.innerHTML=r,d=q(),i=g("div"),i.innerHTML=k,u=q(),C=g("div"),C.innerHTML=$,W=q(),_=g("div"),_.innerHTML=N,B=q(),V=g("br"),j=q(),O=g("br"),G=q(),H=g("h1"),H.textContent=z,Z=q(),I=g("p"),I.textContent=F,U=q();for(let m=0;m<L.length;m+=1)L[m].c();this.h()},l(m){t=b(m,"MAIN",{class:!0});var h=T(t);l=b(h,"H1",{"data-svelte-h":!0}),E(l)!=="svelte-9p8fnq"&&(l.textContent=a),s=y(h),n=b(h,"P",{class:!0,"data-svelte-h":!0}),E(n)!=="svelte-1lqwkbx"&&(n.textContent=o),p=y(h),e=b(h,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-9t3y58"&&(e.innerHTML=r),d=y(h),i=b(h,"DIV",{class:!0,"data-svelte-h":!0}),E(i)!=="svelte-1birb2o"&&(i.innerHTML=k),u=y(h),C=b(h,"DIV",{class:!0,"data-svelte-h":!0}),E(C)!=="svelte-5o99nm"&&(C.innerHTML=$),W=y(h),_=b(h,"DIV",{class:!0,"data-svelte-h":!0}),E(_)!=="svelte-3snel8"&&(_.innerHTML=N),B=y(h),V=b(h,"BR",{}),j=y(h),O=b(h,"BR",{}),G=y(h),H=b(h,"H1",{"data-svelte-h":!0}),E(H)!=="svelte-1bh1rjd"&&(H.textContent=z),Z=y(h),I=b(h,"P",{class:!0,"data-svelte-h":!0}),E(I)!=="svelte-1ildy7h"&&(I.textContent=F),U=y(h);for(let v=0;v<L.length;v+=1)L[v].l(h);h.forEach(A),this.h()},h(){D(n,"class","svelte-16qau9g"),D(e,"class","sef-link-wrapper svelte-16qau9g"),D(i,"class","sef-link-wrapper svelte-16qau9g"),D(C,"class","sef-link-wrapper svelte-16qau9g"),D(_,"class","sef-link-wrapper svelte-16qau9g"),D(I,"class","svelte-16qau9g"),D(t,"class","svelte-16qau9g")},m(m,h){x(m,t,h),c(t,l),c(t,s),c(t,n),c(t,p),c(t,e),c(t,d),c(t,i),c(t,u),c(t,C),c(t,W),c(t,_),c(t,B),c(t,V),c(t,j),c(t,O),c(t,G),c(t,H),c(t,Z),c(t,I),c(t,U);for(let v=0;v<L.length;v+=1)L[v]&&L[v].m(t,null)},p(m,h){if(h&6){P=R(m[2]);let v;for(v=0;v<P.length;v+=1){const J=Q(m,P,v);L[v]?L[v].p(J,h):(L[v]=et(J),L[v].c(),L[v].m(t,null))}for(;v<L.length;v+=1)L[v].d(1);L.length=P.length}},d(m){m&&A(t),lt(L,m)}}}function bt(f){let t,l="Loading local authoritiesâ€¦";return{c(){t=g("p"),t.textContent=l,this.h()},l(a){t=b(a,"P",{class:!0,"data-svelte-h":!0}),E(t)!=="svelte-12l6vp8"&&(t.textContent=l),this.h()},h(){D(t,"class","svelte-16qau9g")},m(a,s){x(a,t,s)},p:at,d(a){a&&A(t)}}}function kt(f){let t,l=f[10]+"",a,s,n=f[1][f[10]].length+"",o,p;return{c(){t=g("p"),a=M(l),s=M(" ("),o=M(n),p=M(")"),this.h()},l(e){t=b(e,"P",{class:!0});var r=T(t);a=S(r,l),s=S(r," ("),o=S(r,n),p=S(r,")"),r.forEach(A),this.h()},h(){D(t,"class","svelte-16qau9g")},m(e,r){x(e,t,r),c(t,a),c(t,s),c(t,o),c(t,p)},p(e,r){r&2&&n!==(n=e[1][e[10]].length+"")&&nt(o,n)},d(e){e&&A(t)}}}function Lt(f){let t,l=f[10]+"",a,s;return{c(){t=g("p"),a=M(l),s=M(" (317)"),this.h()},l(n){t=b(n,"P",{class:!0});var o=T(t);a=S(o,l),s=S(o," (317)"),o.forEach(A),this.h()},h(){D(t,"class","svelte-16qau9g")},m(n,o){x(n,t,o),c(t,a),c(t,s)},p:at,d(n){n&&A(t)}}}function tt(f){let t,l=f[13].name+"",a,s;return{c(){t=g("a"),a=M(l),this.h()},l(n){t=b(n,"A",{class:!0,href:!0});var o=T(t);a=S(o,l),o.forEach(A),this.h()},h(){D(t,"class","lad-link svelte-16qau9g"),D(t,"href",s=w+"/location?location="+f[13].code)},m(n,o){x(n,t,o),c(t,a)},p(n,o){o&2&&l!==(l=n[13].name+"")&&nt(a,l),o&2&&s!==(s=w+"/location?location="+n[13].code)&&D(t,"href",s)},d(n){n&&A(t)}}}function et(f){let t,l,a,s,n;function o(i,k){return i[10]=="England"?Lt:kt}let e=o(f)(f),r=R(f[1][f[10]]),d=[];for(let i=0;i<r.length;i+=1)d[i]=tt(X(f,r,i));return{c(){t=g("details"),l=g("summary"),e.c(),a=q(),s=g("div");for(let i=0;i<d.length;i+=1)d[i].c();n=q(),this.h()},l(i){t=b(i,"DETAILS",{class:!0});var k=T(t);l=b(k,"SUMMARY",{class:!0});var u=T(l);e.l(u),u.forEach(A),a=y(k),s=b(k,"DIV",{class:!0});var C=T(s);for(let $=0;$<d.length;$+=1)d[$].l(C);C.forEach(A),n=y(k),k.forEach(A),this.h()},h(){D(l,"class","svelte-16qau9g"),D(s,"class","lad-grid svelte-16qau9g"),D(t,"class","svelte-16qau9g")},m(i,k){x(i,t,k),c(t,l),e.m(l,null),c(t,a),c(t,s);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(s,null);c(t,n)},p(i,k){if(e.p(i,k),k&6){r=R(i[1][i[10]]);let u;for(u=0;u<r.length;u+=1){const C=X(i,r,u);d[u]?d[u].p(C,k):(d[u]=tt(C),d[u].c(),d[u].m(s,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=r.length}},d(i){i&&A(t),e.d(),lt(d,i)}}}function Dt(f){let t,l,a,s;t=new pt({});function n(e,r){return e[0].length===0?bt:gt}let o=n(f),p=o(f);return{c(){ct(t.$$.fragment),l=q(),p.c(),a=K()},l(e){ft(t.$$.fragment,e),l=y(e),p.l(e),a=K()},m(e,r){ht(t,e,r),x(e,l,r),p.m(e,r),x(e,a,r),s=!0},p(e,[r]){o===(o=n(e))&&p?p.p(e,r):(p.d(1),p=o(e),p&&(p.c(),p.m(a.parentNode,a)))},i(e){s||(ut(t.$$.fragment,e),s=!0)},o(e){_t(t.$$.fragment,e),s=!1},d(e){e&&(A(l),A(a)),dt(t,e),p.d(e)}}}function Ct(f,t,l){const a=`${w}/LAD/Eng_Wales_LSOA_LADs.csv`,s=`${w}/LAD/NI_DZ_LAD.csv`,n=`${w}/LAD/Scotland_DZ_LA.csv`;let o={},p={},e=[],r={},d=["England","Northern Ireland","Scotland","Wales"];const i={NI:"Northern Ireland",England:"England",Wales:"Wales",Scotland:"Scotland"};async function k(){const u=await Y(a);for(let _ of u)o[_.LAD22CD]=_.LAD22NM;const C=await Y(s);for(let _ of C)o[_.LGD2014_code]=_.LGD2014_name;const $=await Y(n);for(let _ of $)o[_.LA_Code]=_.LA_Name;const W=await vt(mt());for(let _ of W){const N=i[_.Nation]||_.Nation;p[_.LAD]=N}l(0,e=Object.entries(o).map(([_,N])=>({code:_,name:N,nation:p[_]}))),l(1,r={});for(let _ of d)l(1,r[_]=e.filter(N=>N.nation===_).sort((N,B)=>N.name.localeCompare(B.name)),r)}return ot(async()=>{await k()}),[e,r,d]}class xt extends rt{constructor(t){super(),it(this,t,Ct,Dt,st,{})}}export{xt as component};
