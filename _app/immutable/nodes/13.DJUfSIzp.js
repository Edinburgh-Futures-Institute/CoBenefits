import{s as $n,a as z,e as f,t as V,g as w,c as d,b as A,p as Z,d as B,f as y,q as c,B as Fl,i as me,h as l,y as Dt,j as et,w as ea,z as ta,v as la,V as yn,W as _n,A as Ke}from"../chunks/scheduler.B9T0ItC_.js";import{S as na,i as aa,c as sa,b as oa,m as ra,t as ia,a as ca,d as ua}from"../chunks/index.BVM93j1J.js";import{N as fa,e as Cn}from"../chunks/NavigationBar.Cs74HMY1.js";import"../chunks/transform.Cxf8x_5z.js";import{am as da,al as Rn,an as On,a4 as jt,i as ha,a as va,M as jn,H as Un,Q as pa,l as Wn,n as Yn,d as Gn,ao as ma,o as Zn,ap as ga,aq as ba,S as qn,T as Ut,q as ya,B as _a,a9 as Ca,aa as Ea,ar as za,as as wa,F as Aa,P as Da,at as Xn,Y as Zl,Z as ka,au as La,a3 as Ma,ac as Kn,av as xa,U as we,a6 as Te,ae as Ae,ad as En,aw as zn,X as wn,V as An,ax as Ia}from"../chunks/index.CqwntdJ0.js";import{M as Ta,a as Sa}from"../chunks/map.BcdPvx43.js";import{S as Gl,V as Qn,A as Je,C as Dn,h as Va,r as Ba,M as Qe,c as Rl,f as Na,b as Ol,i as Pa,j as Ha,T as jl,e as Fa}from"../chunks/globals.Cnw1J5u1.js";import{g as De,q as kn,r as Ra,d as Ln,s as Oa,t as Mn,u as ja,v as Ua}from"../chunks/duckdb.BdHkM2dp.js";import{b as Ul,a as st}from"../chunks/bar.DhIxBOxy.js";import{a as Wa,d as Ya}from"../chunks/map.DwrK_CFQ.js";import{t as Ga,e as Za,m as qa,a as xn,s as Xa,b as Wl,d as In}from"../chunks/area.BIxGMRa7.js";const Ka=Qa(Ja);function Qa(e){return function(t,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:s,width:o,height:r}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((r=Math.floor(r!==void 0?r:s.length/o))>=0))throw new RangeError("invalid height");if(!o||!r||!n&&!a)return t;const p=n&&e(n),g=a&&e(a),i=s.slice();return p&&g?(zt(p,i,s,o,r),zt(p,s,i,o,r),zt(p,i,s,o,r),wt(g,s,i,o,r),wt(g,i,s,o,r),wt(g,s,i,o,r)):p?(zt(p,s,i,o,r),zt(p,i,s,o,r),zt(p,s,i,o,r)):g&&(wt(g,s,i,o,r),wt(g,i,s,o,r),wt(g,s,i,o,r)),t}}function zt(e,t,n,a,s){for(let o=0,r=a*s;o<r;)e(t,n,o,o+=a,1)}function wt(e,t,n,a,s){for(let o=0,r=a*s;o<a;++o)e(t,n,o,o+r,a)}function Ja(e){const t=Math.floor(e);if(t===e)return $a(e);const n=e-t,a=2*e+1;return(s,o,r,p,g)=>{if(!((p-=g)>=r))return;let i=t*o[r];const h=g*t,C=h+g;for(let v=r,E=r+h;v<E;v+=g)i+=o[Math.min(p,v)];for(let v=r,E=p;v<=E;v+=g)i+=o[Math.min(p,v+h)],s[v]=(i+n*(o[Math.max(r,v-C)]+o[Math.min(p,v+C)]))/a,i-=o[Math.max(r,v-h)]}}function $a(e){const t=2*e+1;return(n,a,s,o,r)=>{if(!((o-=r)>=s))return;let p=e*a[s];const g=r*e;for(let i=s,h=s+g;i<h;i+=r)p+=a[Math.min(o,i)];for(let i=s,h=o;i<=h;i+=r)p+=a[Math.min(o,i+g)],n[i]=p/t,p-=a[Math.max(s,i-g)]}}function es(e,t,n){let a;for(;;){const s=da(e,t,n);if(s===a||s===0||!isFinite(s))return[e,t];s>0?(e=Math.floor(e/s)*s,t=Math.ceil(t/s)*s):s<0&&(e=Math.ceil(e*s)/s,t=Math.floor(t*s)/s),a=s}}var ts=Array.prototype,Jn=ts.slice;function ls(e,t){return e-t}function ns(e){for(var t=0,n=e.length,a=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)a+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return a}const $e=e=>()=>e;function as(e,t){for(var n=-1,a=t.length,s;++n<a;)if(s=ss(e,t[n]))return s;return 0}function ss(e,t){for(var n=t[0],a=t[1],s=-1,o=0,r=e.length,p=r-1;o<r;p=o++){var g=e[o],i=g[0],h=g[1],C=e[p],v=C[0],E=C[1];if(os(g,C,t))return 0;h>a!=E>a&&n<(v-i)*(a-h)/(E-h)+i&&(s=-s)}return s}function os(e,t,n){var a;return rs(e,t,n)&&is(e[a=+(e[0]===t[0])],n[a],t[a])}function rs(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function is(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function cs(){}var Se=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Tn(){var e=1,t=1,n=Ga,a=g;function s(i){var h=n(i);if(Array.isArray(h))h=h.slice().sort(ls);else{const C=Rn(i,us);for(h=On(...es(C[0],C[1],h),h);h[h.length-1]>=C[1];)h.pop();for(;h[1]<C[0];)h.shift()}return h.map(C=>o(i,C))}function o(i,h){const C=h==null?NaN:+h;if(isNaN(C))throw new Error(`invalid value: ${h}`);var v=[],E=[];return r(i,C,function(D){a(D,i,C),ns(D)>0?v.push([D]):E.push(D)}),E.forEach(function(D){for(var L=0,b=v.length,k;L<b;++L)if(as((k=v[L])[0],D)!==-1){k.push(D);return}}),{type:"MultiPolygon",value:h,coordinates:v}}function r(i,h,C){var v=new Array,E=new Array,D,L,b,k,u,x;for(D=L=-1,k=ot(i[0],h),Se[k<<1].forEach(M);++D<e-1;)b=k,k=ot(i[D+1],h),Se[b|k<<1].forEach(M);for(Se[k<<0].forEach(M);++L<t-1;){for(D=-1,k=ot(i[L*e+e],h),u=ot(i[L*e],h),Se[k<<1|u<<2].forEach(M);++D<e-1;)b=k,k=ot(i[L*e+e+D+1],h),x=u,u=ot(i[L*e+D+1],h),Se[b|k<<1|u<<2|x<<3].forEach(M);Se[k|u<<3].forEach(M)}for(D=-1,u=i[L*e]>=h,Se[u<<2].forEach(M);++D<e-1;)x=u,u=ot(i[L*e+D+1],h),Se[u<<2|x<<3].forEach(M);Se[u<<3].forEach(M);function M(N){var I=[N[0][0]+D,N[0][1]+L],T=[N[1][0]+D,N[1][1]+L],S=p(I),O=p(T),_,F;(_=E[S])?(F=v[O])?(delete E[_.end],delete v[F.start],_===F?(_.ring.push(T),C(_.ring)):v[_.start]=E[F.end]={start:_.start,end:F.end,ring:_.ring.concat(F.ring)}):(delete E[_.end],_.ring.push(T),E[_.end=O]=_):(_=v[O])?(F=E[S])?(delete v[_.start],delete E[F.end],_===F?(_.ring.push(T),C(_.ring)):v[F.start]=E[_.end]={start:F.start,end:_.end,ring:F.ring.concat(_.ring)}):(delete v[_.start],_.ring.unshift(I),v[_.start=S]=_):v[S]=E[O]={start:S,end:O,ring:[I,T]}}}function p(i){return i[0]*2+i[1]*(e+1)*4}function g(i,h,C){i.forEach(function(v){var E=v[0],D=v[1],L=E|0,b=D|0,k=Yl(h[b*e+L]);E>0&&E<e&&L===E&&(v[0]=Sn(E,Yl(h[b*e+L-1]),k,C)),D>0&&D<t&&b===D&&(v[1]=Sn(D,Yl(h[(b-1)*e+L]),k,C))})}return s.contour=o,s.size=function(i){if(!arguments.length)return[e,t];var h=Math.floor(i[0]),C=Math.floor(i[1]);if(!(h>=0&&C>=0))throw new Error("invalid size");return e=h,t=C,s},s.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?$e(Jn.call(i)):$e(i),s):n},s.smooth=function(i){return arguments.length?(a=i?g:cs,s):a===g},s}function us(e){return isFinite(e)?e:NaN}function ot(e,t){return e==null?!1:+e>=t}function Yl(e){return e==null||isNaN(e=+e)?-1/0:e}function Sn(e,t,n,a){const s=a-t,o=n-t,r=isFinite(s)||isFinite(o)?s/o:Math.sign(s)/Math.sign(o);return isNaN(r)?e:e+r-.5}function fs(e){return e[0]}function ds(e){return e[1]}function hs(){return 1}function vs(){var e=fs,t=ds,n=hs,a=960,s=500,o=20,r=2,p=o*3,g=a+p*2>>r,i=s+p*2>>r,h=$e(20);function C(u){var x=new Float32Array(g*i),M=Math.pow(2,-r),N=-1;for(const P of u){var I=(e(P,++N,u)+p)*M,T=(t(P,N,u)+p)*M,S=+n(P,N,u);if(S&&I>=0&&I<g&&T>=0&&T<i){var O=Math.floor(I),_=Math.floor(T),F=I-O-.5,q=T-_-.5;x[O+_*g]+=(1-F)*(1-q)*S,x[O+1+_*g]+=F*(1-q)*S,x[O+1+(_+1)*g]+=F*q*S,x[O+(_+1)*g]+=(1-F)*q*S}}return Ka({data:x,width:g,height:i},o*M),x}function v(u){var x=C(u),M=h(x),N=Math.pow(2,2*r);return Array.isArray(M)||(M=On(Number.MIN_VALUE,jt(x)/N,M)),Tn().size([g,i]).thresholds(M.map(I=>I*N))(x).map((I,T)=>(I.value=+M[T],E(I)))}v.contours=function(u){var x=C(u),M=Tn().size([g,i]),N=Math.pow(2,2*r),I=T=>{T=+T;var S=E(M.contour(x,T*N));return S.value=T,S};return Object.defineProperty(I,"max",{get:()=>jt(x)/N}),I};function E(u){return u.coordinates.forEach(D),u}function D(u){u.forEach(L)}function L(u){u.forEach(b)}function b(u){u[0]=u[0]*Math.pow(2,r)-p,u[1]=u[1]*Math.pow(2,r)-p}function k(){return p=o*3,g=a+p*2>>r,i=s+p*2>>r,v}return v.x=function(u){return arguments.length?(e=typeof u=="function"?u:$e(+u),v):e},v.y=function(u){return arguments.length?(t=typeof u=="function"?u:$e(+u),v):t},v.weight=function(u){return arguments.length?(n=typeof u=="function"?u:$e(+u),v):n},v.size=function(u){if(!arguments.length)return[a,s];var x=+u[0],M=+u[1];if(!(x>=0&&M>=0))throw new Error("invalid size");return a=x,s=M,k()},v.cellSize=function(u){if(!arguments.length)return 1<<r;if(!((u=+u)>=1))throw new Error("invalid cell size");return r=Math.floor(Math.log(u)/Math.LN2),k()},v.thresholds=function(u){return arguments.length?(h=typeof u=="function"?u:Array.isArray(u)?$e(Jn.call(u)):$e(u),v):h},v.bandwidth=function(u){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((u=+u)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*u*u+1)-1)/2,k()},v}const ps={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ms extends jn{constructor(t,n={}){const{x:a,y:s,z:o,curve:r,tension:p}=n;super(t,{x:{value:a,scale:"x"},y:{value:s,scale:"y"},z:{value:Un(n),optional:!0}},n,ps),this.z=o,this.curve=qa(r,p),pa(this,n)}filter(t){return t}project(t,n,a){this.curve!==xn&&super.project(t,n,a)}render(t,n,a,s,o){const{x:r,y:p}=a,{curve:g}=this;return Wn("svg:g",o).call(Yn,this,s,o).call(Gn,this,n).call(i=>i.selectAll().data(ma(t,[r,p],this,a)).enter().append("path").call(Zn,this).call(ga,this,a).call(ba,this,a,o).attr("d",g===xn&&o.projection?gs(o.projection,r,p):Xa().curve(g).defined(h=>h>=0).x(h=>r[h]).y(h=>p[h]))).node()}}function gs(e,t,n){const a=qn(e);return t=Ut(t),n=Ut(n),s=>{let o=[];const r=[o];for(const p of s)p===-1?(o=[],r.push(o)):o.push([t[p],n[p]]);return a({type:"MultiLineString",coordinates:r})}}function bs(e,{x:t=ha,y:n=va,...a}={}){return new ms(e,Za({...a,x:t,y:n}))}const ys={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class _s extends jn{constructor(t,{x:n,y:a,z:s,weight:o,fill:r,stroke:p,...g}={}){const i=Vn(r)&&(r="currentColor",!0),h=Vn(p)&&(p="currentColor",!0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:Un({z:s,fill:r,stroke:p}),optional:!0},weight:{value:o,optional:!0}},zs({...g,fill:r,stroke:p},i,h),ys),i&&(this.fill=void 0),h&&(this.stroke=void 0),this.z=s}filter(t){return t}render(t,n,a,s,o){const{contours:r}=a,p=qn();return Wn("svg:g",o).call(Yn,this,s,o).call(Gn,this,{}).call(g=>g.selectAll().data(t).enter().append("path").call(Zn,this).call(ya,this,a).attr("d",i=>p(r[i]))).node()}}function Cs(e,{x:t,y:n,...a}={}){return[t,n]=_a(t,n),new _s(e,{...a,x:t,y:n})}const Es=new Set(["x","y","z","weight"]);function zs(e,t,n){let{bandwidth:s,thresholds:o}=e;return s=s===void 0?20:+s,o=o===void 0?20:typeof o?.[Symbol.iterator]=="function"?Ut(o):+o,Ca(e,function(r,p,g,i,h,C){const v=g.weight?Ut(g.weight.value):null,E=g.z?.value,{z:D}=this,[L,b]=Aa(this,h),{width:k,height:u}=h,{x,y:M}=Ea(g,i,C),N=Object.fromEntries(Object.entries(g).filter(([P])=>!Es.has(P)).map(([P,U])=>[P,{...U,value:[]}])),I=t&&[],T=n&&[],S=vs().x(x?P=>x[P]:L).y(M?P=>M[P]:b).weight(v?P=>v[P]:1).size([k,u]).bandwidth(s),O=[];for(const P of p){const U=[];O.push(U);for(const Y of E?za(P,E,D):[P]){const R=S.contours(Y);U.push([Y,R])}}let _=o;if(!(_ instanceof wa)){let P=0;for(const U of O)for(const[,Y]of U){const R=Y.max;R>P&&(P=R)}_=Float64Array.from({length:o-1},(U,Y)=>P*100*(Y+1)/o)}const F=[],q=[];for(const P of O){const U=[];F.push(U);for(const[Y,R]of P)for(const G of _){U.push(q.length),q.push(R(G/100)),I&&I.push(G),T&&T.push(G);for(const K in N)N[K].value.push(g[K].value[Y[0]])}}return I&&I.push(0),T&&T.push(0),{data:r,facets:F,channels:{...N,...I&&{fill:{value:I,scale:"color"}},...T&&{stroke:{value:T,scale:"color"}},contours:{value:q}}}})}function Vn(e){return/^density$/i.test(e)}function Bn(e,t){return arguments.length===1&&({basis:e,...t}=e),Wa(ws(e),t)}function ws(e){if(e===void 0)return Nn;if(typeof e=="function")return Wt(Da(e));if(/^p\d{2}$/i.test(e))return At(xa(e));switch(`${e}`.toLowerCase()){case"deviation":return ks;case"first":return Nn;case"last":return Ds;case"max":return Ls;case"mean":return Ms;case"median":return xs;case"min":return Is;case"sum":return Ts;case"extent":return As}throw new Error(`invalid basis: ${e}`)}function Wt(e){return{mapIndex(t,n,a){const s=+e(t,n);for(const o of t)a[o]=n[o]===null?NaN:n[o]/s}}}function At(e){return Wt((t,n)=>e(t,a=>n[a]))}const As={mapIndex(e,t,n){const[a,s]=Rn(e,r=>t[r]),o=s-a;for(const r of e)n[r]=t[r]===null?NaN:(t[r]-a)/o}},Nn=Wt((e,t)=>{for(let n=0;n<e.length;++n){const a=t[e[n]];if(Xn(a))return a}}),Ds=Wt((e,t)=>{for(let n=e.length-1;n>=0;--n){const a=t[e[n]];if(Xn(a))return a}}),ks={mapIndex(e,t,n){const a=Zl(e,o=>t[o]),s=ka(e,o=>t[o]);for(const o of e)n[o]=t[o]===null?NaN:s?(t[o]-a)/s:0}},Ls=At(jt),Ms=At(Zl),xs=At(La),Is=At(Ma),Ts=At(Kn);function Pn(e,t,n){const a=e.slice();return a[47]=t[n],a[48]=t,a[49]=n,a}function Hn(e){let t,n,a,s,o=e[13](e[7],e[9])+"",r,p,g,i=e[7].toLocaleString()+"",h,C,v,E="billion",D,L,b,k,u,x=e[13](e[7],1e6)+"",M,N,I,T=e[8].toLocaleString()+"",S,O,_,F="thousand",q;function P(j,W){return j[7]>0?Vs:Ss}let U=P(e),Y=U(e);function R(j,W){return j[7]>0?Ns:Bs}let G=R(e),K=G(e);return{c(){t=f("div"),n=f("div"),a=f("div"),s=new yn(!1),r=z(),p=f("span"),g=V("£"),h=V(i),C=z(),v=f("span"),v.textContent=E,D=z(),Y.c(),L=z(),b=f("div"),k=f("div"),u=new yn(!1),M=z(),N=f("span"),I=V("£"),S=V(T),O=z(),_=f("span"),_.textContent=F,q=z(),K.c(),this.h()},l(j){t=d(j,"DIV",{class:!0});var W=A(t);n=d(W,"DIV",{class:!0});var se=A(n);a=d(se,"DIV",{class:!0});var Q=A(a);s=_n(Q,!1),r=w(Q),p=d(Q,"SPAN",{class:!0});var ve=A(p);g=B(ve,"£"),h=B(ve,i),ve.forEach(y),C=w(Q),v=d(Q,"SPAN",{class:!0,"data-svelte-h":!0}),Z(v)!=="svelte-tlhydp"&&(v.textContent=E),Q.forEach(y),D=w(se),Y.l(se),se.forEach(y),L=w(W),b=d(W,"DIV",{class:!0});var ge=A(b);k=d(ge,"DIV",{class:!0});var ne=A(k);u=_n(ne,!1),M=w(ne),N=d(ne,"SPAN",{class:!0});var ke=A(N);I=B(ke,"£"),S=B(ke,T),ke.forEach(y),O=w(ne),_=d(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Z(_)!=="svelte-ewwwhc"&&(_.textContent=F),ne.forEach(y),q=w(ge),K.l(ge),ge.forEach(y),W.forEach(y),this.h()},h(){s.a=r,c(p,"class","waffle-big svelte-u02o4z"),c(v,"class","small svelte-u02o4z"),c(a,"class","waffle-value svelte-u02o4z"),c(n,"class","waffle-stat svelte-u02o4z"),u.a=M,c(N,"class","waffle-big svelte-u02o4z"),c(_,"class","small svelte-u02o4z"),c(k,"class","waffle-value svelte-u02o4z"),c(b,"class","waffle-stat svelte-u02o4z"),c(t,"class","waffle-stats")},m(j,W){me(j,t,W),l(t,n),l(n,a),s.m(o,a),l(a,r),l(a,p),l(p,g),l(p,h),l(a,C),l(a,v),l(n,D),Y.m(n,null),l(t,L),l(t,b),l(b,k),u.m(x,k),l(k,M),l(k,N),l(N,I),l(N,S),l(k,O),l(k,_),l(b,q),K.m(b,null)},p(j,W){W[0]&640&&o!==(o=j[13](j[7],j[9])+"")&&s.p(o),W[0]&128&&i!==(i=j[7].toLocaleString()+"")&&et(h,i),U!==(U=P(j))&&(Y.d(1),Y=U(j),Y&&(Y.c(),Y.m(n,null))),W[0]&128&&x!==(x=j[13](j[7],1e6)+"")&&u.p(x),W[0]&256&&T!==(T=j[8].toLocaleString()+"")&&et(S,T),G!==(G=R(j))&&(K.d(1),K=G(j),K&&(K.c(),K.m(b,null)))},d(j){j&&y(t),Y.d(),K.d()}}}function Ss(e){let t,n="Local area costs";return{c(){t=f("div"),t.textContent=n,this.h()},l(a){t=d(a,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-mnkeh9"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){me(a,t,s)},d(a){a&&y(t)}}}function Vs(e){let t,n="Local area benefits";return{c(){t=f("div"),t.textContent=n,this.h()},l(a){t=d(a,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-bu718d"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){me(a,t,s)},d(a){a&&y(t)}}}function Bs(e){let t,n="Per capita costs";return{c(){t=f("div"),t.textContent=n,this.h()},l(a){t=d(a,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-6pmcl0"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){me(a,t,s)},d(a){a&&y(t)}}}function Ns(e){let t,n="Per capita benefits";return{c(){t=f("div"),t.textContent=n,this.h()},l(a){t=d(a,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-g1rvwk"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){me(a,t,s)},d(a){a&&y(t)}}}function Ps(e){let t,n,a,s,o,r,p,g,i=`Histogram shows the number of data zones distributed across
                                    different household social economic factors.`,h,C,v="",E=e[47],D,L,b,k,u,x,M,N,I,T=`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in the local authority.`,S,O,_,F="";const q=()=>e[26](C,E),P=()=>e[26](null,E),U=()=>e[27](_,E),Y=()=>e[27](null,E);return{c(){t=f("div"),n=f("h3"),a=V("Data Zones Distribution (vs. "),s=f("span"),o=V(e[6]),r=V(" average)"),p=z(),g=f("p"),g.textContent=i,h=z(),C=f("div"),C.innerHTML=v,D=z(),L=f("div"),b=f("div"),k=f("h3"),u=V("Co-benefits Recieved by Data Zones across "),x=V(e[47]),M=V(`
                                        Values`),N=z(),I=f("p"),I.textContent=T,S=z(),O=f("div"),_=f("div"),_.innerHTML=F,this.h()},l(R){t=d(R,"DIV",{class:!0});var G=A(t);n=d(G,"H3",{class:!0});var K=A(n);a=B(K,"Data Zones Distribution (vs. "),s=d(K,"SPAN",{class:!0});var j=A(s);o=B(j,e[6]),j.forEach(y),r=B(K," average)"),K.forEach(y),p=w(G),g=d(G,"P",{class:!0,"data-svelte-h":!0}),Z(g)!=="svelte-xcsopb"&&(g.textContent=i),h=w(G),C=d(G,"DIV",{class:!0,"data-svelte-h":!0}),Z(C)!=="svelte-1shkadq"&&(C.innerHTML=v),G.forEach(y),D=w(R),L=d(R,"DIV",{class:!0});var W=A(L);b=d(W,"DIV",{});var se=A(b);k=d(se,"H3",{class:!0});var Q=A(k);u=B(Q,"Co-benefits Recieved by Data Zones across "),x=B(Q,e[47]),M=B(Q,`
                                        Values`),Q.forEach(y),N=w(se),I=d(se,"P",{class:!0,"data-svelte-h":!0}),Z(I)!=="svelte-18bgpzu"&&(I.textContent=T),se.forEach(y),S=w(W),O=d(W,"DIV",{});var ve=A(O);_=d(ve,"DIV",{class:!0,"data-svelte-h":!0}),Z(_)!=="svelte-1vji5u3"&&(_.innerHTML=F),ve.forEach(y),W.forEach(y),this.h()},h(){c(s,"class","nation-label svelte-u02o4z"),c(n,"class","component-title"),c(g,"class","description short"),c(C,"class","plot"),c(t,"class","component"),c(k,"class","component-title"),c(I,"class","description short"),c(_,"class","plot"),c(L,"class","component")},m(R,G){me(R,t,G),l(t,n),l(n,a),l(n,s),l(s,o),l(n,r),l(t,p),l(t,g),l(t,h),l(t,C),q(),me(R,D,G),me(R,L,G),l(L,b),l(b,k),l(k,u),l(k,x),l(k,M),l(b,N),l(b,I),l(L,S),l(L,O),l(O,_),U()},p(R,G){e=R,G[0]&64&&et(o,e[6]),E!==e[47]&&(P(),E=e[47],q()),E!==e[47]&&(Y(),E=e[47],U())},d(R){R&&(y(t),y(D),y(L)),P(),Y()}}}function Fn(e){let t,n,a=e[47].replaceAll("_"," ")+"",s,o,r,p;function g(C,v){return Ps}let h=g()(e);return{c(){t=f("div"),n=f("h2"),s=V(a),o=z(),r=f("div"),h.c(),p=z(),this.h()},l(C){t=d(C,"DIV",{});var v=A(t);n=d(v,"H2",{});var E=A(n);s=B(E,a),E.forEach(y),o=w(v),r=d(v,"DIV",{class:!0});var D=A(r);h.l(D),D.forEach(y),p=w(v),v.forEach(y),this.h()},h(){c(r,"class","row")},m(C,v){me(C,t,v),l(t,n),l(n,s),l(t,o),l(t,r),h.m(r,null),l(t,p)},p(C,v){h.p(C,v)},d(C){C&&y(t),h.d()}}}function Hs(e){let t,n,a,s,o,r,p="Data Report",g,i,h=e[12][e[11]]+"",C,v,E,D="Explore how this local authority will benefit from achieving Net Zero and learn about the characteristics of its households.",L,b,k,u,x,M,N="UK",I,T,S,O,_,F="England",q,P,U,Y,R,G="Wales",K,j,W,se,Q,ve="Scotland",ge,ne,ke,be,m="Northern Ireland",J,oe,Le,ce,Me,te=`<p class="section-subtitle">Overview</p> <h2 class="section-title">How much co-benefits would this area recieve?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s 
                Sixth Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,re,ue,fe,Be,Yt,it,kt,Gt,Zt,ye,qt,ql=e[12][e[11]]+"",Xt,Kt,ct,Lt,Qt,Jt,Ne,Xl="",$t,de,Pe,el,Kl=e[12][e[11]]+"",tl,ll,nl,tt,Ql=e[12][e[11]]+"",al,sl,ol,lt,Jl="*Scroll for zooming in and out",rl,xe,$l="",il,_e,nt,en='<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of co-benefits.</p>',cl,he,He,ul,ut,Mt,fl,dl,Ce,hl,tn=e[12][e[11]]+"",vl,pl,ft,xt,ml,gl,bl,yl,Ee,Fe,dt,_l,ln=e[12][e[11]]+"",Cl,El,Re,ht,zl,vt,It,wl,pt,Oe,nn="",Al,ze,ie,je,Dl,an=e[12][e[11]]+"",kl,Ll,Ml,xl,Il,Ue,sn=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <span>The stacked area plot is coloured by co-benefit:</span> <br/><br/> <ul class="legend-list svelte-u02o4z"><li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #D3A029"></span>
                        Diet change</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #48773E"></span>
                        Physical activity</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #183668"></span>
                        Dampness</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #00AED9"></span>
                        Excess cold</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #E11484"></span>
                        Noise</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #71C35D"></span>
                        Air quality</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #8F1838"></span>
                        Congestion</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #EF402B"></span>
                        Excess heat</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #F36D25"></span>
                        Road safety</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #F99D26"></span>
                        Road repairs</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #C31F33"></span>
                        Hassle costs</li></ul>`,Tl,We,on=`<p style="margin: 0 0 0.5rem 0;"><strong>Some areas too small:</strong> Due to the nature of the co-benefits some values are very small in comparison 
                    to larger values so therefore are not visable on this plot.</p> <p style="margin: 0 0 0.5rem 0;">*Hover over areas for more information.</p>`,Sl,mt,Vl,Ye,at,rn=`<p class="section-subtitle">Households</p> <h2 class="section-title">Social Economic Factors of Households</h2> <p class="description">We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.</p>`,Bl,Ge,Ie,Nl,cn;t=new fa({});let ae=e[7]&&Hn(e),gt=Cn(Gl),le=[];for(let H=0;H<gt.length;H+=1)le[H]=Fn(Pn(e,gt,H));return{c(){sa(t.$$.fragment),n=z(),a=f("div"),s=f("div"),o=f("div"),r=f("p"),r.textContent=p,g=z(),i=f("h1"),C=V(h),v=z(),E=f("p"),E.textContent=D,L=z(),b=f("div"),k=V(`Compare this Local Authority District (LAD) against:
                `),u=f("input"),x=z(),M=f("label"),M.textContent=N,I=f("br"),T=z(),S=f("input"),O=z(),_=f("label"),_.textContent=F,q=f("br"),P=z(),U=f("input"),Y=z(),R=f("label"),R.textContent=G,K=f("br"),j=z(),W=f("input"),se=z(),Q=f("label"),Q.textContent=ve,ge=z(),ne=f("input"),ke=z(),be=f("label"),be.textContent=m,J=z(),oe=f("div"),ae&&ae.c(),Le=z(),ce=f("div"),Me=f("div"),Me.innerHTML=te,re=z(),ue=f("div"),fe=f("div"),Be=f("h3"),Yt=V("11 types of co-benefit values (vs. "),it=f("span"),kt=V(e[6]),Gt=V(" Average)"),Zt=z(),ye=f("p"),qt=V("Co-benefit values for "),Xt=V(ql),Kt=V(` compared to average value of benefits recieved across all local 
                    authorities in `),ct=f("span"),Lt=V(e[6]),Qt=V(" (in grey)."),Jt=z(),Ne=f("div"),Ne.innerHTML=Xl,$t=z(),de=f("div"),Pe=f("h3"),el=V("Where is "),tl=V(Kl),ll=V("?"),nl=z(),tt=f("p"),al=V(Ql),sl=V(" has been highlighted in red on this UK map."),ol=z(),lt=f("p"),lt.textContent=Jl,rl=z(),xe=f("div"),xe.innerHTML=$l,il=z(),_e=f("div"),nt=f("div"),nt.innerHTML=en,cl=z(),he=f("div"),He=f("h3"),ul=V("Total co-benefit distribution from 2025-2049 (vs. "),ut=f("span"),Mt=V(e[6]),fl=V(" Average)"),dl=z(),Ce=f("p"),hl=V("Aggregated values from 2025-2049 in "),vl=V(tn),pl=V(" compared to average value of benefits recieved across all local authorities in "),ft=f("span"),xt=V(e[6]),ml=V("."),gl=z(),bl=f("br"),yl=z(),Ee=f("ul"),Fe=f("li"),dt=f("span"),_l=z(),Cl=V(ln),El=z(),Re=f("li"),ht=f("span"),zl=z(),vt=f("span"),It=V(e[6]),wl=z(),pt=f("div"),Oe=f("div"),Oe.innerHTML=nn,Al=z(),ze=f("div"),ie=f("div"),je=f("h3"),Dl=V("Co-benefit gain/loss for "),kl=V(an),Ll=V(" over 5 year intervals"),Ml=z(),xl=f("br"),Il=z(),Ue=f("div"),Ue.innerHTML=sn,Tl=z(),We=f("div"),We.innerHTML=on,Sl=z(),mt=f("div"),Vl=z(),Ye=f("div"),at=f("div"),at.innerHTML=rn,Bl=z(),Ge=f("div");for(let H=0;H<le.length;H+=1)le[H].c();this.h()},l(H){oa(t.$$.fragment,H),n=w(H),a=d(H,"DIV",{class:!0});var ee=A(a);s=d(ee,"DIV",{class:!0});var $=A(s);o=d($,"DIV",{});var pe=A(o);r=d(pe,"P",{class:!0,"data-svelte-h":!0}),Z(r)!=="svelte-1gxb8h1"&&(r.textContent=p),g=w(pe),i=d(pe,"H1",{class:!0});var un=A(i);C=B(un,h),un.forEach(y),v=w(pe),E=d(pe,"P",{class:!0,"data-svelte-h":!0}),Z(E)!=="svelte-1ibp7y6"&&(E.textContent=D),L=w(pe),b=d(pe,"DIV",{class:!0});var X=A(b);k=B(X,`Compare this Local Authority District (LAD) against:
                `),u=d(X,"INPUT",{type:!0,name:!0}),x=w(X),M=d(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Z(M)!=="svelte-1yhxhao"&&(M.textContent=N),I=d(X,"BR",{}),T=w(X),S=d(X,"INPUT",{type:!0,name:!0}),O=w(X),_=d(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Z(_)!=="svelte-11zyrfp"&&(_.textContent=F),q=d(X,"BR",{}),P=w(X),U=d(X,"INPUT",{type:!0,name:!0}),Y=w(X),R=d(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Z(R)!=="svelte-18hrmu4"&&(R.textContent=G),K=d(X,"BR",{}),j=w(X),W=d(X,"INPUT",{type:!0,name:!0}),se=w(X),Q=d(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Z(Q)!=="svelte-16xf1ji"&&(Q.textContent=ve),ge=w(X),ne=d(X,"INPUT",{type:!0,name:!0}),ke=w(X),be=d(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Z(be)!=="svelte-g19yfx"&&(be.textContent=m),X.forEach(y),pe.forEach(y),J=w($),oe=d($,"DIV",{});var fn=A(oe);ae&&ae.l(fn),fn.forEach(y),$.forEach(y),Le=w(ee),ce=d(ee,"DIV",{class:!0});var Tt=A(ce);Me=d(Tt,"DIV",{class:!0,"data-svelte-h":!0}),Z(Me)!=="svelte-a0yfo5"&&(Me.innerHTML=te),re=w(Tt),ue=d(Tt,"DIV",{id:!0,class:!0});var St=A(ue);fe=d(St,"DIV",{class:!0});var bt=A(fe);Be=d(bt,"H3",{class:!0});var Vt=A(Be);Yt=B(Vt,"11 types of co-benefit values (vs. "),it=d(Vt,"SPAN",{class:!0});var dn=A(it);kt=B(dn,e[6]),dn.forEach(y),Gt=B(Vt," Average)"),Vt.forEach(y),Zt=w(bt),ye=d(bt,"P",{class:!0});var yt=A(ye);qt=B(yt,"Co-benefit values for "),Xt=B(yt,ql),Kt=B(yt,` compared to average value of benefits recieved across all local 
                    authorities in `),ct=d(yt,"SPAN",{class:!0});var hn=A(ct);Lt=B(hn,e[6]),hn.forEach(y),Qt=B(yt," (in grey)."),yt.forEach(y),Jt=w(bt),Ne=d(bt,"DIV",{class:!0,"data-svelte-h":!0}),Z(Ne)!=="svelte-1gmwtaj"&&(Ne.innerHTML=Xl),bt.forEach(y),$t=w(St),de=d(St,"DIV",{class:!0});var Ze=A(de);Pe=d(Ze,"H3",{class:!0});var Bt=A(Pe);el=B(Bt,"Where is "),tl=B(Bt,Kl),ll=B(Bt,"?"),Bt.forEach(y),nl=w(Ze),tt=d(Ze,"P",{class:!0});var Pl=A(tt);al=B(Pl,Ql),sl=B(Pl," has been highlighted in red on this UK map."),Pl.forEach(y),ol=w(Ze),lt=d(Ze,"P",{class:!0,"data-svelte-h":!0}),Z(lt)!=="svelte-vsj698"&&(lt.textContent=Jl),rl=w(Ze),xe=d(Ze,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Z(xe)!=="svelte-13ehpmu"&&(xe.innerHTML=$l),Ze.forEach(y),St.forEach(y),Tt.forEach(y),il=w(ee),_e=d(ee,"DIV",{class:!0});var _t=A(_e);nt=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),Z(nt)!=="svelte-1orla9a"&&(nt.innerHTML=en),cl=w(_t),he=d(_t,"DIV",{class:!0});var qe=A(he);He=d(qe,"H3",{class:!0});var Nt=A(He);ul=B(Nt,"Total co-benefit distribution from 2025-2049 (vs. "),ut=d(Nt,"SPAN",{class:!0});var vn=A(ut);Mt=B(vn,e[6]),vn.forEach(y),fl=B(Nt," Average)"),Nt.forEach(y),dl=w(qe),Ce=d(qe,"P",{class:!0});var Ct=A(Ce);hl=B(Ct,"Aggregated values from 2025-2049 in "),vl=B(Ct,tn),pl=B(Ct," compared to average value of benefits recieved across all local authorities in "),ft=d(Ct,"SPAN",{class:!0});var pn=A(ft);xt=B(pn,e[6]),pn.forEach(y),ml=B(Ct,"."),Ct.forEach(y),gl=w(qe),bl=d(qe,"BR",{}),yl=w(qe),Ee=d(qe,"UL",{class:!0});var Et=A(Ee);Fe=d(Et,"LI",{class:!0});var Pt=A(Fe);dt=d(Pt,"SPAN",{class:!0,style:!0}),A(dt).forEach(y),_l=w(Pt),Cl=B(Pt,ln),Pt.forEach(y),El=w(Et),Re=d(Et,"LI",{class:!0});var Ht=A(Re);ht=d(Ht,"SPAN",{class:!0,style:!0}),A(ht).forEach(y),zl=w(Ht),vt=d(Ht,"SPAN",{class:!0});var mn=A(vt);It=B(mn,e[6]),mn.forEach(y),Ht.forEach(y),wl=w(Et),pt=d(Et,"DIV",{class:!0});var gn=A(pt);Oe=d(gn,"DIV",{class:!0,"data-svelte-h":!0}),Z(Oe)!=="svelte-vuq0y7"&&(Oe.innerHTML=nn),gn.forEach(y),Et.forEach(y),qe.forEach(y),Al=w(_t),ze=d(_t,"DIV",{id:!0,class:!0,style:!0});var Ft=A(ze);ie=d(Ft,"DIV",{id:!0,class:!0});var Xe=A(ie);je=d(Xe,"H3",{class:!0});var Rt=A(je);Dl=B(Rt,"Co-benefit gain/loss for "),kl=B(Rt,an),Ll=B(Rt," over 5 year intervals"),Rt.forEach(y),Ml=w(Xe),xl=d(Xe,"BR",{}),Il=w(Xe),Ue=d(Xe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Z(Ue)!=="svelte-s69gpy"&&(Ue.innerHTML=sn),Tl=w(Xe),We=d(Xe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Z(We)!=="svelte-h7a03z"&&(We.innerHTML=on),Xe.forEach(y),Sl=w(Ft),mt=d(Ft,"DIV",{class:!0}),A(mt).forEach(y),Ft.forEach(y),_t.forEach(y),Vl=w(ee),Ye=d(ee,"DIV",{class:!0});var Ot=A(Ye);at=d(Ot,"DIV",{class:!0,"data-svelte-h":!0}),Z(at)!=="svelte-3mbpps"&&(at.innerHTML=rn),Bl=w(Ot),Ge=d(Ot,"DIV",{id:!0,class:!0});var bn=A(Ge);for(let Hl=0;Hl<le.length;Hl+=1)le[Hl].l(bn);bn.forEach(y),Ot.forEach(y),ee.forEach(y),this.h()},h(){c(r,"class","page-subtitle"),c(i,"class","page-title"),c(E,"class","description"),c(u,"type","radio"),c(u,"name","compare"),u.value="UK",u.checked=!0,c(M,"class","nation-label svelte-u02o4z"),c(M,"for","html"),c(S,"type","radio"),c(S,"name","compare"),S.value="England",c(_,"class","nation-label svelte-u02o4z"),c(_,"for","html"),c(U,"type","radio"),c(U,"name","compare"),U.value="Wales",c(R,"class","nation-label svelte-u02o4z"),c(R,"for","html"),c(W,"type","radio"),c(W,"name","compare"),W.value="Scotland",c(Q,"class","nation-label svelte-u02o4z"),c(Q,"for","javascript"),c(ne,"type","radio"),c(ne,"name","compare"),ne.value="NI",c(be,"class","nation-label svelte-u02o4z"),c(be,"for","javascript"),c(b,"class","radio-set"),c(s,"class","section header header-row svelte-u02o4z"),c(Me,"class","section-header"),c(it,"class","nation-label svelte-u02o4z"),c(Be,"class","component-title"),c(ct,"class","nation-label svelte-u02o4z"),c(ye,"class","description"),c(Ne,"class","plot"),c(fe,"class","component column"),c(Pe,"class","component-title"),c(tt,"class","description"),c(lt,"class","description"),c(xe,"id","map"),c(xe,"class","svelte-u02o4z"),c(de,"class","component column"),c(ue,"id","vis-block"),c(ue,"class","svelte-u02o4z"),c(ce,"class","section"),c(nt,"class","section-header"),c(ut,"class","nation-label svelte-u02o4z"),c(He,"class","component-title"),c(ft,"class","nation-label svelte-u02o4z"),c(Ce,"class","description"),c(dt,"class","legend-color svelte-u02o4z"),Fl(dt,"background-color",Qn),c(Fe,"class","svelte-u02o4z"),c(ht,"class","legend-color svelte-u02o4z"),Fl(ht,"background-color",Je),c(vt,"class","nation-label svelte-u02o4z"),c(Re,"class","svelte-u02o4z"),c(Oe,"class","plot"),c(pt,"class","row"),c(Ee,"class","legend-list svelte-u02o4z"),c(he,"class","component singlevis"),c(je,"class","component-title"),c(Ue,"id","main-legend"),c(Ue,"class","legend-box svelte-u02o4z"),c(We,"id","main-disclaimer"),c(We,"class","disclaimer-box svelte-u02o4z"),c(ie,"id","main-title"),c(ie,"class","svelte-u02o4z"),c(mt,"class","plot"),c(ze,"id","main-block"),c(ze,"class","component svelte-u02o4z"),Fl(ze,"margin-left","0.5rem"),c(_e,"class","section"),c(at,"class","section-header"),c(Ge,"id","multiple-comp"),c(Ge,"class","svelte-u02o4z"),c(Ye,"class","section"),c(a,"class","page-container")},m(H,ee){ra(t,H,ee),me(H,n,ee),me(H,a,ee),l(a,s),l(s,o),l(o,r),l(o,g),l(o,i),l(i,C),l(o,v),l(o,E),l(o,L),l(o,b),l(b,k),l(b,u),l(b,x),l(b,M),l(b,I),l(b,T),l(b,S),l(b,O),l(b,_),l(b,q),l(b,P),l(b,U),l(b,Y),l(b,R),l(b,K),l(b,j),l(b,W),l(b,se),l(b,Q),l(b,ge),l(b,ne),l(b,ke),l(b,be),l(s,J),l(s,oe),ae&&ae.m(oe,null),l(a,Le),l(a,ce),l(ce,Me),l(ce,re),l(ce,ue),l(ue,fe),l(fe,Be),l(Be,Yt),l(Be,it),l(it,kt),l(Be,Gt),l(fe,Zt),l(fe,ye),l(ye,qt),l(ye,Xt),l(ye,Kt),l(ye,ct),l(ct,Lt),l(ye,Qt),l(fe,Jt),l(fe,Ne),e[21](Ne),l(ue,$t),l(ue,de),l(de,Pe),l(Pe,el),l(Pe,tl),l(Pe,ll),l(de,nl),l(de,tt),l(tt,al),l(tt,sl),l(de,ol),l(de,lt),l(de,rl),l(de,xe),e[22](xe),l(a,il),l(a,_e),l(_e,nt),l(_e,cl),l(_e,he),l(he,He),l(He,ul),l(He,ut),l(ut,Mt),l(He,fl),l(he,dl),l(he,Ce),l(Ce,hl),l(Ce,vl),l(Ce,pl),l(Ce,ft),l(ft,xt),l(Ce,ml),l(he,gl),l(he,bl),l(he,yl),l(he,Ee),l(Ee,Fe),l(Fe,dt),l(Fe,_l),l(Fe,Cl),l(Ee,El),l(Ee,Re),l(Re,ht),l(Re,zl),l(Re,vt),l(vt,It),l(Ee,wl),l(Ee,pt),l(pt,Oe),e[23](Oe),l(_e,Al),l(_e,ze),l(ze,ie),l(ie,je),l(je,Dl),l(je,kl),l(je,Ll),l(ie,Ml),l(ie,xl),l(ie,Il),l(ie,Ue),l(ie,Tl),l(ie,We),l(ze,Sl),l(ze,mt),e[24](mt),l(a,Vl),l(a,Ye),l(Ye,at),l(Ye,Bl),l(Ye,Ge);for(let $=0;$<le.length;$+=1)le[$]&&le[$].m(Ge,null);e[28](a),Ie=!0,Nl||(cn=[Dt(u,"change",e[14]),Dt(S,"change",e[14]),Dt(U,"change",e[14]),Dt(W,"change",e[14]),Dt(ne,"change",e[14])],Nl=!0)},p(H,ee){if(H[7]?ae?ae.p(H,ee):(ae=Hn(H),ae.c(),ae.m(oe,null)):ae&&(ae.d(1),ae=null),(!Ie||ee[0]&64)&&et(kt,H[6]),(!Ie||ee[0]&64)&&et(Lt,H[6]),(!Ie||ee[0]&64)&&et(Mt,H[6]),(!Ie||ee[0]&64)&&et(xt,H[6]),(!Ie||ee[0]&64)&&et(It,H[6]),ee[0]&88){gt=Cn(Gl);let $;for($=0;$<gt.length;$+=1){const pe=Pn(H,gt,$);le[$]?le[$].p(pe,ee):(le[$]=Fn(pe),le[$].c(),le[$].m(Ge,null))}for(;$<le.length;$+=1)le[$].d(1);le.length=gt.length}},i(H){Ie||(ia(t.$$.fragment,H),Ie=!0)},o(H){ca(t.$$.fragment,H),Ie=!1},d(H){H&&(y(n),y(a)),ua(t,H),ae&&ae.d(),e[21](null),e[22](null),e[23](null),e[24](null),ea(le,H),e[28](null),Nl=!1,ta(cn)}}}let Ve=400;function rt(e){const t=e.querySelector("figure");t&&t.remove();const n=e.querySelector("svg");n&&n.remove()}function Fs(e,t,n){let a,s,o,r,p={},g={},i={},h={},C="barchart",{data:v}=t;const E=v.LAD;let D="UK",L,b,k,u,x,M,N,I,T,S=!1;async function O(){n(17,L=await De(kn())),await De(Ra()),n(18,b=await De(Ln([]))),k=await De(Oa(Dn.map(m=>m.id))),n(19,u=await De(Mn())),x=await De(ja(E)),M=await De(Ua(E)),n(7,N=(Kn(x,m=>m.total)/1e3).toFixed(3)),n(8,I=(Zl(x,m=>m.totalPerCapita)*1e3).toFixed(3)),n(9,T=jt(b,m=>m.val)/1e3),n(20,S=!0),Ba(a)}O();const _=v.LADToName;let F,q;la(()=>{Va(a),F=new Ta(E,"LAD",q,"val",!0),F.initMap(!1)});function P(m,J){return we({width:80,height:20,margin:0,x:{domain:[0,J],axis:null},marks:[Ul([m],{x:Le=>Le,y:0,fill:"#ccc"})]}).outerHTML}function U(){{let m=we({height:Ve/1.4,...Qe,x:{type:"band"},style:{fontSize:"18px"},marks:[st(b,Te({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),st(x,Te({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const J=Ae(m).selectAll("g[aria-label='bar']");Ae(J.nodes()[0]);const oe=Ae(J.nodes()[1]);oe.selectAll("rect").each(function(){}),oe.remove()},1e3)}}function Y(){s?.append(we({height:Ve*1.4,width:811,...Qe,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Rl.range(),domain:Rl.domain()},marks:[st(u,Te({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:Je,sort:{x:"y",reverse:!0},tip:!0})),st(M,Te({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:m=>Rl(m.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),En({label:"Total Co-Benefit (£)",labelAnchor:"center"}),zn({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),wn([0],{stroke:"#333",strokeWidth:.75})]}))}function R(){Gl.forEach(m=>{let J;Na.includes(m)?J=we({height:Ve/2,width:500,...Qe,marginLeft:100,x:{grid:!0,label:Ol(m),tickFormat:ce=>Math.floor(ce)},style:{fontSize:"18px"},color:{legend:!0},marks:[st(L,Bn(Te({y:"count"},{x:m,dx:20,fill:Je}))),st(x,Bn(Te({y:"count"},{x:m})))]}):J=we({height:Ve/2,...Qe,x:{label:Ol(m)},style:{fontSize:"18px"},marks:[Wl(x,In({y:"proportion"},{x:m,tip:!0,fill:Je,stroke:Je,fillOpacity:.2,strokeWidth:3})),Wl(L,In({y:"proportion"},{x:m,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),g[m]?.append(void 0),p[m]?.append(J);let Le=we({height:Ve/2,...Qe,x:{label:Ol(m)},style:{fontSize:"18px"},color:{range:["#e6e6e6",Je]},marks:[Cs(Sa(L,3e4),{x:m,y:"total",fill:"density",thresholds:10}),Ya(x,{x:m,y:"total",fill:"black",r:2}),En({label:"Datazone Co-Benefit (£)"}),zn({anchor:"bottom"})]});i[m]&&n(4,i[m].innerHTML="",i),i[m]?.append(Le)})}function G(){for(let m of Pa){let J=we({height:Ve,width:410,...Qe,marginRight:0,marginLeft:100,marks:[Ul(k,An({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Ha/2,fill:Je,tip:!0})),Ul(M,An({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});h[m]?.append(J)}}function K(){let m=x.flatMap(te=>jl.map(re=>({time:re,value:te[re],scenario:te.scenario,zone:"local"}))),J=L.flatMap(te=>jl.map(re=>({time:re,value:te[re],scenario:te.scenario,zone:"UK"}))),oe=m.concat(J),Le=we({height:Ve,width:800,...Qe,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[Je,Qn],legend:!1},marks:[st(oe,Te({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Ia({anchor:"bottom",tickFormat:te=>te.replace(/^Y/,"").replace("_","-"),label:"Years"})]});o?.append(Le),Ae(o).select("g[aria-label='bar']").selectAll("g").each(function(te,re){const ue=Ae(this).selectAll("rect").nodes()[0],fe=Ae(ue).attr("transform")||"";Ae(ue).attr("transform",`${fe} translate(-20, 0)`),Ae(this).selectAll("rect").nodes()[0].getAttribute("height"),Ae(this).selectAll("rect").nodes()[1].getAttribute("height"),Ae(this).selectAll("rect")}),we({height:Ve,width:800,...Qe,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[bs(oe,Te({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let ce=M.flatMap(te=>jl.map(re=>({time:re,value:te[re],cobenefit:te.co_benefit_type}))),Me=we({height:Ve*3,width:2500,marginRight:0,marginTop:40,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"30px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1},x:{label:"Years",tickFormat:te=>te.replace(/^Y/,"").split("_")[1]},color:{legend:!1,range:Fa,domain:Dn.map(te=>te.id)},marks:[Wl(ce,Te({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"]})),wn([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});r?.append(Me)}async function j(m){n(6,D=m.currentTarget.value),n(19,u=await De(Mn("total",D))),n(18,b=await De(Ln([],D))),n(17,L=await De(kn(D)))}function W(m){Ke[m?"unshift":"push"](()=>{s=m,n(0,s)})}function se(m){Ke[m?"unshift":"push"](()=>{q=m,n(10,q)})}function Q(m){Ke[m?"unshift":"push"](()=>{o=m,n(1,o)})}function ve(m){Ke[m?"unshift":"push"](()=>{r=m,n(2,r)})}function ge(m,J){Ke[m?"unshift":"push"](()=>{p[J]=m,n(3,p)})}function ne(m,J){Ke[m?"unshift":"push"](()=>{p[J]=m,n(3,p)})}function ke(m,J){Ke[m?"unshift":"push"](()=>{i[J]=m,n(4,i)})}function be(m){Ke[m?"unshift":"push"](()=>{a=m,n(5,a)})}return e.$$set=m=>{"data"in m&&n(15,v=m.data)},e.$$.update=()=>{e.$$.dirty[0]&2031623&&(s&&rt(s),o&&rt(o),r&&rt(r),S&&u&&b&&L&&(U(),Y(),K())),e.$$.dirty[0]&1048600&&(Object.values(p).forEach(m=>{m&&rt(m)}),Object.values(g).forEach(m=>{m&&rt(m)}),Object.values(i).forEach(m=>{m&&rt(m)}),S&&R()),e.$$.dirty[0]&1048576&&(Object.values(h).forEach(m=>{m&&rt(m)}),S&&G())},[s,o,r,p,i,a,D,N,I,T,q,E,_,P,j,v,C,L,b,u,S,W,se,Q,ve,ge,ne,ke,be]}class Qs extends na{constructor(t){super(),aa(this,t,Fs,Hs,$n,{data:15},null,[-1,-1])}}export{Qs as component};
