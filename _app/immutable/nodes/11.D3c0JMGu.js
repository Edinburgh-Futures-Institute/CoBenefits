import{s as si,d as u,w as ii,p as o,i as K,b as i,B as Ys,C as Ot,g as m,c,e as v,q as B,f as S,j as _,h as f,t as A,v as ni,_ as ri,a as Ae,E as ai,H as oi,A as ee}from"../chunks/ChnDNINx.js";import{S as ci,i as fi,d as ui,t as di,a as hi,m as vi,c as pi,b as gi}from"../chunks/BjCzwqlE.js";import{N as mi,e as Is}from"../chunks/32xf2dDW.js";import"../chunks/CIa2Jov7.js";import{i as Zl,$ as el,g as _i,a0 as bi,M as yi,Q as Ei,l as wi,n as Ci,o as Pi,q as Ii,R as Di,a1 as ki,a2 as Ks,a3 as Si,Z as Gl,a4 as Ai,a5 as Li,a6 as js,a7 as Ni,a8 as Vi,a9 as Ti,O as Mi,aa as Ds,z as Bi,ab as xi,T as ke,Y as ks,ac as Ss,_ as As}from"../chunks/D_9_qEkY.js";import{g as Fi,M as qi}from"../chunks/Bt18LqiV.js";import{a as H,C as Ls,D as Ri,S as Ns,g as Hi,f as Vs,T as Oi,h as zi,b as Ts,M as Wi,e as Ui}from"../chunks/DlsIlvjB.js";import{g as ge,n as Yi,o as Ki,l as ji,k as Gi,p as Xi,j as Ji}from"../chunks/B6AVF3tt.js";import{d as Xl,m as Zi}from"../chunks/qyO64moH.js";import{a as Gs}from"../chunks/CybERLEZ.js";import{b as Qi,d as $i}from"../chunks/BjKe_BHT.js";const tn={ariaLabel:"tick",fill:null,stroke:"currentColor"};class en extends yi{constructor(t,l,s){super(t,l,s,tn),Ei(this,s)}render(t,l,s,n,a){return wi("svg:g",a).call(Ci,this,n,a).call(this._transform,this,l).call(r=>r.selectAll().data(t).enter().append("line").call(Pi,this).attr("x1",this._x1(l,s,n)).attr("x2",this._x2(l,s,n)).attr("y1",this._y1(l,s,n)).attr("y2",this._y2(l,s,n)).call(Ii,this,s).call(Di,this,s,a)).node()}}class ln extends en{constructor(t,l={}){const{x:s,y:n,inset:a=0,insetRight:r=a,insetLeft:d=a}=l;super(t,{y:{value:n,scale:"y"},x:{value:s,scale:"x",type:"band",optional:!0}},l),this.insetRight=el(r),this.insetLeft=el(d)}_transform(t,l,{y:s}){t.call(_i,l,{y:s},0,bi)}_x1({x:t},{x:l},{marginLeft:s}){const{insetLeft:n}=this;return l&&t?a=>l[a]+n:s+n}_x2({x:t},{x:l},{width:s,marginRight:n}){const{insetRight:a}=this;return l&&t?r=>l[r]+t.bandwidth()-a:s-n-a}_y1(t,{y:l}){return s=>l[s]}_y2(t,{y:l}){return s=>l[s]}}function sn(e,{y:t=Zl,...l}={}){return new ln(e,{...l,y:t})}function nn(e,{y:t=Zl,x:l=null,r:s,fill:n="#ccc",fillOpacity:a,stroke:r="currentColor",strokeOpacity:d,strokeWidth:b=2,sort:k,...C}={}){const g=l!=null?Ks:Si;return ki(Gl(e,g({y1:Xs,y2:Js},{x:l,y:t,stroke:r,strokeOpacity:d,...C})),Gs(e,g({y1:"p25",y2:"p75"},{x:l,y:t,fill:n,fillOpacity:a,...C})),sn(e,g({y:"p50"},{x:l,y:t,stroke:r,strokeOpacity:d,strokeWidth:b,sort:k,...C})),Xl(e,Zi({y:rn},{x:l,y:t,z:l,r:s,stroke:r,strokeOpacity:d,...C})))}function rn(e){const t=Xs(e),l=Js(e);return e.map(s=>s<t||s>l?s:NaN)}function Xs(e){const t=Zs(e)*2.5-Qs(e)*1.5;return Ai(e,l=>l>=t?l:NaN)}function Js(e){const t=Qs(e)*2.5-Zs(e)*1.5;return Li(e,l=>l<=t?l:NaN)}function Zs(e){return js(e,.25)}function Qs(e){return js(e,.75)}function an(e,t,l,s,n){for(var a=n+1;s<=n;){var r=s+n>>>1,d=e[r],b=l!==void 0?l(d,t):d-t;b>=0?(a=r,n=r-1):s=r+1}return a}function on(e,t,l,s,n){for(var a=n+1;s<=n;){var r=s+n>>>1,d=e[r],b=l!==void 0?l(d,t):d-t;b>0?(a=r,n=r-1):s=r+1}return a}function cn(e,t,l,s,n){for(var a=s-1;s<=n;){var r=s+n>>>1,d=e[r],b=l!==void 0?l(d,t):d-t;b<0?(a=r,s=r+1):n=r-1}return a}function fn(e,t,l,s,n){for(var a=s-1;s<=n;){var r=s+n>>>1,d=e[r],b=l!==void 0?l(d,t):d-t;b<=0?(a=r,s=r+1):n=r-1}return a}function un(e,t,l,s,n){for(;s<=n;){var a=s+n>>>1,r=e[a],d=l!==void 0?l(r,t):r-t;if(d===0)return a;d<=0?s=a+1:n=a-1}return-1}function Se(e,t,l,s,n,a){return typeof l=="function"?a(e,t,l,s===void 0?0:s|0,n===void 0?e.length-1:n|0):a(e,t,void 0,l===void 0?0:l|0,s===void 0?e.length-1:s|0)}var dn={ge:function(e,t,l,s,n){return Se(e,t,l,s,n,an)},gt:function(e,t,l,s,n){return Se(e,t,l,s,n,on)},lt:function(e,t,l,s,n){return Se(e,t,l,s,n,cn)},le:function(e,t,l,s,n){return Se(e,t,l,s,n,fn)},eq:function(e,t,l,s,n){return Se(e,t,l,s,n,un)}},ll=dn,_e=0,le=1,tl=2,hn=pn;function Ql(e,t,l,s,n){this.mid=e,this.left=t,this.right=l,this.leftPoints=s,this.rightPoints=n,this.count=(t?t.count:0)+(l?l.count:0)+s.length}var Le=Ql.prototype;function jl(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function $s(e,t){var l=be(t);e.mid=l.mid,e.left=l.left,e.right=l.right,e.leftPoints=l.leftPoints,e.rightPoints=l.rightPoints,e.count=l.count}function Ms(e,t){var l=e.intervals([]);l.push(t),$s(e,l)}function Bs(e,t){var l=e.intervals([]),s=l.indexOf(t);return s<0?_e:(l.splice(s,1),$s(e,l),le)}Le.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e};Le.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?Ms(this,e):this.left.insert(e):this.left=be([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?Ms(this,e):this.right.insert(e):this.right=be([e]);else{var l=ll.ge(this.leftPoints,e,$l),s=ll.ge(this.rightPoints,e,ts);this.leftPoints.splice(l,0,e),this.rightPoints.splice(s,0,e)}};Le.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return _e;var l=this.right?this.right.count:0;if(4*l>3*(t-1))return Bs(this,e);var s=this.left.remove(e);return s===tl?(this.left=null,this.count-=1,le):(s===le&&(this.count-=1),s)}else if(e[0]>this.mid){if(!this.right)return _e;var n=this.left?this.left.count:0;if(4*n>3*(t-1))return Bs(this,e);var s=this.right.remove(e);return s===tl?(this.right=null,this.count-=1,le):(s===le&&(this.count-=1),s)}else{if(this.count===1)return this.leftPoints[0]===e?tl:_e;if(this.leftPoints.length===1&&this.leftPoints[0]===e){if(this.left&&this.right){for(var a=this,r=this.left;r.right;)a=r,r=r.right;if(a===this)r.right=this.right;else{var d=this.left,s=this.right;a.count-=r.count,a.right=r.left,r.left=d,r.right=s}jl(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?jl(this,this.left):jl(this,this.right);return le}for(var d=ll.ge(this.leftPoints,e,$l);d<this.leftPoints.length&&this.leftPoints[d][0]===e[0];++d)if(this.leftPoints[d]===e){this.count-=1,this.leftPoints.splice(d,1);for(var s=ll.ge(this.rightPoints,e,ts);s<this.rightPoints.length&&this.rightPoints[s][1]===e[1];++s)if(this.rightPoints[s]===e)return this.rightPoints.splice(s,1),le}return _e}};function ti(e,t,l){for(var s=0;s<e.length&&e[s][0]<=t;++s){var n=l(e[s]);if(n)return n}}function ei(e,t,l){for(var s=e.length-1;s>=0&&e[s][1]>=t;--s){var n=l(e[s]);if(n)return n}}function li(e,t){for(var l=0;l<e.length;++l){var s=t(e[l]);if(s)return s}}Le.queryPoint=function(e,t){if(e<this.mid){if(this.left){var l=this.left.queryPoint(e,t);if(l)return l}return ti(this.leftPoints,e,t)}else if(e>this.mid){if(this.right){var l=this.right.queryPoint(e,t);if(l)return l}return ei(this.rightPoints,e,t)}else return li(this.leftPoints,t)};Le.queryInterval=function(e,t,l){if(e<this.mid&&this.left){var s=this.left.queryInterval(e,t,l);if(s)return s}if(t>this.mid&&this.right){var s=this.right.queryInterval(e,t,l);if(s)return s}return t<this.mid?ti(this.leftPoints,t,l):e>this.mid?ei(this.rightPoints,e,l):li(this.leftPoints,l)};function vn(e,t){return e-t}function $l(e,t){var l=e[0]-t[0];return l||e[1]-t[1]}function ts(e,t){var l=e[1]-t[1];return l||e[0]-t[0]}function be(e){if(e.length===0)return null;for(var t=[],l=0;l<e.length;++l)t.push(e[l][0],e[l][1]);t.sort(vn);for(var s=t[t.length>>1],n=[],a=[],r=[],l=0;l<e.length;++l){var d=e[l];d[1]<s?n.push(d):s<d[0]?a.push(d):r.push(d)}var b=r,k=r.slice();return b.sort($l),k.sort(ts),new Ql(s,be(n),be(a),b,k)}function Jl(e){this.root=e}var ye=Jl.prototype;ye.insert=function(e){this.root?this.root.insert(e):this.root=new Ql(e[0],null,null,[e],[e])};ye.remove=function(e){if(this.root){var t=this.root.remove(e);return t===tl&&(this.root=null),t!==_e}return!1};ye.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)};ye.queryInterval=function(e,t,l){if(e<=t&&this.root)return this.root.queryInterval(e,t,l)};Object.defineProperty(ye,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(ye,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function pn(e){return!e||e.length===0?new Jl(null):new Jl(be(e))}const gn=Fi(hn),mn=({marginLeft:e})=>[1,e],_n=({width:e,marginRight:t})=>[-1,e-t],bn=({width:e,marginLeft:t,marginRight:l})=>[0,(t+e-l)/2];function yn(e){return typeof e=="string"?{anchor:e}:e}function En(e={},t={}){arguments.length===1&&([e,t]=wn(e));let{anchor:l="left",padding:s=1,r:n=t.r}=yn(e);switch(`${l}`.toLowerCase()){case"left":l=mn;break;case"right":l=_n;break;case"middle":l=bn;break;default:throw new Error(`unknown dodge anchor: ${l}`)}return Cn("x","y",l,el(s),n,t)}function wn(e){const{anchor:t,padding:l,...s}=e,{r:n}=s;return[{anchor:t,padding:l,r:n},s]}function Cn(e,t,l,s,n,a){if(n!=null&&typeof n!="number"){let{channels:r,sort:d,reverse:b}=a;r=Ni(r),r?.r===void 0&&(a={...a,channels:{...r,r:{value:n,scale:"r"}}}),d===void 0&&b===void 0&&(a.sort={channel:"-r"})}return Vi(a,function(r,d,b,k,C,g){let{[t]:E,r:P}=b;if(!b[t])throw new Error(`missing channel: ${t}`);({[t]:E}=Ti(b,k,g));const T=P?void 0:n!==void 0?el(n):this.r!==void 0?this.r:3;P&&(P=Mi(P.value,k[P.scale]||Zl,Float64Array));let[D,L]=l(C);const ht=D?In:Pn,O=new Float64Array(E.length),ut=P?$=>P[$]:()=>T;for(let $ of d){const tt=gn();$=$.filter(P?F=>Ds(E[F])&&Bi(P[F]):F=>Ds(E[F]));const ot=new Float64Array(2*$.length+2);for(const F of $){const q=ut(F),nt=D?q+s:0,et=E[F]-q,rt=E[F]+q;let W=2;tt.queryInterval(et-s,rt+s,([,,R])=>{const lt=O[R]-nt,kt=E[F]-E[R],at=s+(P?P[F]+P[R]:2*T),M=Math.sqrt(at*at-kt*kt);ot[W++]=lt-M,ot[W++]=lt+M});let vt=ot.slice(0,W);D&&(vt=vt.filter(R=>R>=0));t:for(const R of vt.sort(ht)){for(let lt=0;lt<W;lt+=2)if(ot[lt]+1e-6<R&&R<ot[lt+1]-1e-6)continue t;O[F]=R+nt;break}tt.insert([et,rt,F])}}D||(D=1);for(const $ of d)for(const tt of $)O[tt]=O[tt]*D+L;return{data:r,facets:d,channels:{[e]:{value:O,source:null},[t]:{value:E,source:b[t]},...P&&{r:{value:P,source:b.r}}}}})}function Pn(e,t){return Math.abs(e)-Math.abs(t)}function In(e,t){return e-t}function xs(e,t,l){const s=e.slice();return s[45]=t[l],s[46]=t,s[47]=l,s}function Fs(e){let t,l,s=e[4].toLocaleString()+"",n;return{c(){t=f("span"),l=A("£"),n=A(s),this.h()},l(a){t=c(a,"SPAN",{class:!0});var r=v(t);l=S(r,"£"),n=S(r,s),r.forEach(u),this.h()},h(){o(t,"class","waffle-big svelte-1duv4d2")},m(a,r){K(a,t,r),i(t,l),i(t,n)},p(a,r){r[0]&16&&s!==(s=a[4].toLocaleString()+"")&&Ae(n,s)},d(a){a&&u(t)}}}function Dn(e){let t,l="National costs";return{c(){t=f("div"),t.textContent=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-o12owz"&&(t.textContent=l),this.h()},h(){o(t,"class","waffle-caption svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function kn(e){let t,l="National benefits";return{c(){t=f("div"),t.textContent=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-10ytukz"&&(t.textContent=l),this.h()},h(){o(t,"class","waffle-caption svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function qs(e){let t,l,s=e[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",n;return{c(){t=f("span"),l=A("£"),n=A(s),this.h()},l(a){t=c(a,"SPAN",{class:!0});var r=v(t);l=S(r,"£"),n=S(r,s),r.forEach(u),this.h()},h(){o(t,"class","waffle-big svelte-1duv4d2")},m(a,r){K(a,t,r),i(t,l),i(t,n)},p(a,r){r[0]&64&&s!==(s=a[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Ae(n,s)},d(a){a&&u(t)}}}function Sn(e){let t,l="Per capita costs";return{c(){t=f("div"),t.textContent=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-6pmcl0"&&(t.textContent=l),this.h()},h(){o(t,"class","waffle-caption svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function An(e){let t,l="Per capita benefits";return{c(){t=f("div"),t.textContent=l,this.h()},l(s){t=c(s,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-g1rvwk"&&(t.textContent=l),this.h()},h(){o(t,"class","waffle-caption svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function Rs(e){let t,l,s=(e[4]/e[5]*100).toFixed(2)+"",n,a,r,d="%";return{c(){t=f("div"),l=f("span"),n=A(s),a=_(),r=f("span"),r.textContent=d,this.h()},l(b){t=c(b,"DIV",{class:!0});var k=v(t);l=c(k,"SPAN",{class:!0});var C=v(l);n=S(C,s),C.forEach(u),a=m(k),r=c(k,"SPAN",{class:!0,"data-svelte-h":!0}),B(r)!=="svelte-jxggz7"&&(r.textContent=d),k.forEach(u),this.h()},h(){o(l,"class","waffle-big svelte-1duv4d2"),o(r,"class","small svelte-1duv4d2"),o(t,"class","waffle-value svelte-1duv4d2")},m(b,k){K(b,t,k),i(t,l),i(l,n),i(t,a),i(t,r)},p(b,k){k[0]&48&&s!==(s=(b[4]/b[5]*100).toFixed(2)+"")&&Ae(n,s)},d(b){b&&u(t)}}}function Hs(e){let t,l,s,n,a,r,d,b,k,C=Us(e[10])+"",g,E=e[4]&&Os(e);return{c(){t=f("div"),l=f("div"),s=f("img"),a=_(),r=f("span"),d=A(e[15]),b=_(),E&&E.c(),k=A(`
            >> `),g=A(C),this.h()},l(P){t=c(P,"DIV",{class:!0});var T=v(t);l=c(T,"DIV",{class:!0});var D=v(l);s=c(D,"IMG",{src:!0,alt:!0,class:!0}),a=m(D),r=c(D,"SPAN",{class:!0});var L=v(r);d=S(L,e[15]),b=m(L),E&&E.l(L),k=S(L,`
            >> `),g=S(L,C),L.forEach(u),D.forEach(u),T.forEach(u),this.h()},h(){Ys(s.src,n=e[17])||o(s,"src",n),o(s,"alt","Icon"),o(s,"class","mini-heading-icon"),o(r,"class","mini-header-text"),o(l,"class","mini-header-content"),o(t,"class","mini-header")},m(P,T){K(P,t,T),i(t,l),i(l,s),i(l,a),i(l,r),i(r,d),i(r,b),E&&E.m(r,null),i(r,k),i(r,g)},p(P,T){P[4]?E?E.p(P,T):(E=Os(P),E.c(),E.m(r,k)):E&&(E.d(1),E=null),T[0]&1024&&C!==(C=Us(P[10])+"")&&Ae(g,C)},d(P){P&&u(t),E&&E.d()}}}function Os(e){let t,l,s,n;return{c(){t=f("span"),l=A("(UK total: £"),s=A(e[4]),n=A(" billion)"),this.h()},l(a){t=c(a,"SPAN",{class:!0});var r=v(t);l=S(r,"(UK total: £"),s=S(r,e[4]),n=S(r," billion)"),r.forEach(u),this.h()},h(){o(t,"class","mini-header-value")},m(a,r){K(a,t,r),i(t,l),i(t,s),i(t,n)},p(a,r){r[0]&16&&Ae(s,a[4])},d(a){a&&u(t)}}}function Ln(e){let t,l="Each bar shows the total benefits or costs obtained in that period.";return{c(){t=f("p"),t.textContent=l,this.h()},l(s){t=c(s,"P",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1ualj8m"&&(t.textContent=l),this.h()},h(){o(t,"class","description svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function Nn(e){let t,l="Each bar shows the total values obtained in that period.";return{c(){t=f("p"),t.textContent=l,this.h()},l(s){t=c(s,"P",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-19uixzb"&&(t.textContent=l),this.h()},h(){o(t,"class","description svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function Vn(e){let t,l="Along the x-axis, see how many data zones (y-axis) lose/benefit how much.";return{c(){t=f("p"),t.textContent=l,this.h()},l(s){t=c(s,"P",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-wn292q"&&(t.textContent=l),this.h()},h(){o(t,"class","description svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function Tn(e){let t,l="Along the x-axis, see how many data zones (y-axis) benefit how much.";return{c(){t=f("p"),t.textContent=l,this.h()},l(s){t=c(s,"P",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-8ib03s"&&(t.textContent=l),this.h()},h(){o(t,"class","description svelte-1duv4d2")},m(s,n){K(s,t,n)},d(s){s&&u(t)}}}function zs(e){let t,l,s=e[7].legend().outerHTML+"";return{c(){t=f("div"),l=new oi(!1),this.h()},l(n){t=c(n,"DIV",{id:!0});var a=v(t);l=ai(a,!1),a.forEach(u),this.h()},h(){l.a=null,o(t,"id","legend")},m(n,a){K(n,t,a),l.m(s,t)},p(n,a){a[0]&128&&s!==(s=n[7].legend().outerHTML+"")&&l.p(s)},d(n){n&&u(t)}}}function Ws(e){let t,l,s=e[45].label+"",n,a,r,d=e[45].def+"",b,k,C,g=e[45],E;const P=()=>e[27](C,g),T=()=>e[27](null,g);return{c(){t=f("div"),l=f("h3"),n=A(s),a=_(),r=f("p"),b=A(d),k=_(),C=f("div"),E=_(),this.h()},l(D){t=c(D,"DIV",{class:!0});var L=v(t);l=c(L,"H3",{class:!0});var ht=v(l);n=S(ht,s),ht.forEach(u),a=m(L),r=c(L,"P",{class:!0});var O=v(r);b=S(O,d),O.forEach(u),k=m(L),C=c(L,"DIV",{class:!0}),v(C).forEach(u),E=m(L),L.forEach(u),this.h()},h(){o(l,"class","component-chart-title svelte-1duv4d2"),o(r,"class","component-chart-caption svelte-1duv4d2"),o(C,"class","plot"),o(t,"class","plot-container svelte-1duv4d2")},m(D,L){K(D,t,L),i(t,l),i(l,n),i(t,a),i(t,r),i(r,b),i(t,k),i(t,C),P(),i(t,E)},p(D,L){e=D,g!==e[45]&&(T(),g=e[45],P())},d(D){D&&u(t),T()}}}function Mn(e){let t,l,s,n,a,r,d,b="Co-Benefit Report",k,C,g,E,P,T,D,L,ht,O,ut,$,tt,ot,F,q,nt,et,rt,W,vt,R,lt="billion",kt,at,M,yt,Ee,we,pt,se,Et,Ne="Contribution to national benefits",Ce,St,Pe,At,p,w,y,U,gt,Ie='<p class="section-subtitle">Overview</p>',De,st,V,mt,I,z,Ve=e[15].toLowerCase()+"",ie,sl,il,Te,ne,nl,rl,al,Lt,ol,zt,es=e[15].toLowerCase()+"",cl,fl,ul,Me,Nt,ls="",dl,hl,vl,ct,Vt,pl,Wt,ss=e[15].toLowerCase()+"",gl,ml,_l,Ut,is="Scroll for zooming in and out.",bl,Be,wt,ns="",yl,Tt,Yt,rs='<p class="section-subtitle">Socio-economic factors</p>',El,_t,it,Mt,wl,Kt,as=e[15]?.toLowerCase()+"",Cl,Pl,Il,jt,os="Each scatterplot shows the distribution of benefits or costs depending on a given socio-economic factor.",Dl,kl,Sl,Bt,cs='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where the x-axis is non-linear:  EPC, Tenure, Typology, Fuel type, Gas flag, Number of cars.</p>',Al,ft,Gt,fs="Legend:",Ll,Nl,Vl,re,us="The scatter plots are shaded by nation.",Tl,dt,Xt,ae,Ml,Bl,Jt,oe,xl,Fl,Zt,ce,ql,Rl,Qt,fe,Hl,Ol,$t,xt,Ft;t=new mi({});let j=e[4]&&Fs(e);function ds(h,N){return h[4]>0?kn:Dn}let xe=ds(e),Ct=xe(e),G=e[4]&&qs(e);function hs(h,N){return h[4]>0?An:Sn}let Fe=hs(e),Pt=Fe(e),X=e[4]&&Rs(e),J=e[9]&&Hs(e);function vs(h,N){return h[4]>0?Nn:Ln}let qe=vs(e),It=qe(e);function ps(h,N){return h[4]>0?Tn:Vn}let Re=ps(e),Dt=Re(e),Z=e[7]&&zs(e),ue=Is(Vs),Y=[];for(let h=0;h<ue.length;h+=1)Y[h]=Ws(xs(e,ue,h));return{c(){gi(t.$$.fragment),l=_(),s=f("div"),n=f("div"),a=f("div"),r=f("div"),d=f("p"),d.textContent=b,k=_(),C=f("div"),g=f("h1"),E=f("img"),T=_(),D=f("div"),L=_(),ht=A(e[15]),O=_(),ut=f("div"),$=_(),tt=f("p"),ot=A(e[16]),F=_(),q=f("div"),nt=f("div"),et=f("div"),rt=f("div"),W=f("div"),j&&j.c(),vt=_(),R=f("span"),R.textContent=lt,kt=_(),Ct.c(),at=_(),M=f("div"),yt=f("div"),G&&G.c(),Ee=_(),Pt.c(),we=_(),pt=f("div"),X&&X.c(),se=_(),Et=f("div"),Et.textContent=Ne,Ce=_(),St=f("div"),Pe=_(),At=f("div"),p=_(),J&&J.c(),w=_(),y=f("div"),U=f("div"),gt=f("div"),gt.innerHTML=Ie,De=_(),st=f("div"),V=f("div"),mt=f("h3"),I=A("Total values (£, billion) for "),z=f("span"),ie=A(Ve),sl=A(" over time"),il=_(),It.c(),Te=_(),ne=f("div"),nl=_(),rl=f("br"),al=_(),Lt=f("h3"),ol=A("Distribution of values (£, billion) for "),zt=f("span"),cl=A(es),fl=A(" by UK data zones"),ul=_(),Dt.c(),Me=_(),Nt=f("div"),Nt.innerHTML=ls,dl=_(),hl=f("br"),vl=_(),ct=f("div"),Vt=f("h3"),pl=A("Total values (£, billion) for "),Wt=f("span"),gl=A(ss),ml=A(" across the UK"),_l=_(),Ut=f("p"),Ut.textContent=is,bl=_(),Z&&Z.c(),Be=_(),wt=f("div"),wt.innerHTML=ns,yl=_(),Tt=f("div"),Yt=f("div"),Yt.innerHTML=rs,El=_(),_t=f("div"),it=f("div"),Mt=f("h3"),wl=A("Mapping the impact of "),Kt=f("span"),Cl=A(as),Pl=A(" across UK local authorities according to socio-economic factors"),Il=_(),jt=f("p"),jt.textContent=os,Dl=_(),kl=f("br"),Sl=_(),Bt=f("div"),Bt.innerHTML=cs,Al=_(),ft=f("div"),Gt=f("strong"),Gt.textContent=fs,Ll=_(),Nl=f("br"),Vl=_(),re=f("span"),re.textContent=us,Tl=_(),dt=f("ul"),Xt=f("li"),ae=f("span"),Ml=A(`
                            Scotland`),Bl=_(),Jt=f("li"),oe=f("span"),xl=A(`
                            Northern Ireland`),Fl=_(),Zt=f("li"),ce=f("span"),ql=A("England"),Rl=_(),Qt=f("li"),fe=f("span"),Hl=A("Wales"),Ol=_(),$t=f("div"),xt=f("div");for(let h=0;h<Y.length;h+=1)Y[h].c();this.h()},l(h){pi(t.$$.fragment,h),l=m(h),s=c(h,"DIV",{class:!0});var N=v(s);n=c(N,"DIV",{class:!0});var x=v(n);a=c(x,"DIV",{class:!0});var te=v(a);r=c(te,"DIV",{class:!0});var He=v(r);d=c(He,"P",{class:!0,"data-svelte-h":!0}),B(d)!=="svelte-1flv0v9"&&(d.textContent=b),k=m(He),C=c(He,"DIV",{class:!0});var de=v(C);g=c(de,"H1",{class:!0});var he=v(g);E=c(he,"IMG",{src:!0,alt:!0,class:!0}),T=m(he),D=c(he,"DIV",{style:!0}),v(D).forEach(u),L=m(he),ht=S(he,e[15]),he.forEach(u),O=m(de),ut=c(de,"DIV",{style:!0}),v(ut).forEach(u),$=m(de),tt=c(de,"P",{class:!0});var gs=v(tt);ot=S(gs,e[16]),gs.forEach(u),de.forEach(u),He.forEach(u),F=m(te),q=c(te,"DIV",{class:!0});var ve=v(q);nt=c(ve,"DIV",{class:!0});var ms=v(nt);et=c(ms,"DIV",{class:!0});var pe=v(et);rt=c(pe,"DIV",{class:!0});var Oe=v(rt);W=c(Oe,"DIV",{class:!0});var ze=v(W);j&&j.l(ze),vt=m(ze),R=c(ze,"SPAN",{class:!0,"data-svelte-h":!0}),B(R)!=="svelte-tlhydp"&&(R.textContent=lt),ze.forEach(u),kt=m(Oe),Ct.l(Oe),Oe.forEach(u),at=m(pe),M=c(pe,"DIV",{class:!0});var We=v(M);yt=c(We,"DIV",{class:!0});var _s=v(yt);G&&G.l(_s),_s.forEach(u),Ee=m(We),Pt.l(We),We.forEach(u),we=m(pe),pt=c(pe,"DIV",{class:!0});var Ue=v(pt);X&&X.l(Ue),se=m(Ue),Et=c(Ue,"DIV",{class:!0,"data-svelte-h":!0}),B(Et)!=="svelte-1v3rfza"&&(Et.textContent=Ne),Ue.forEach(u),pe.forEach(u),ms.forEach(u),Ce=m(ve),St=c(ve,"DIV",{class:!0}),v(St).forEach(u),Pe=m(ve),At=c(ve,"DIV",{class:!0}),v(At).forEach(u),ve.forEach(u),te.forEach(u),x.forEach(u),p=m(N),J&&J.l(N),w=m(N),y=c(N,"DIV",{class:!0});var Ye=v(y);U=c(Ye,"DIV",{id:!0});var Ke=v(U);gt=c(Ke,"DIV",{class:!0,"data-svelte-h":!0}),B(gt)!=="svelte-ll1i43"&&(gt.innerHTML=Ie),De=m(Ke),st=c(Ke,"DIV",{id:!0,class:!0});var je=v(st);V=c(je,"DIV",{class:!0});var Q=v(V);mt=c(Q,"H3",{class:!0});var Ge=v(mt);I=S(Ge,"Total values (£, billion) for "),z=c(Ge,"SPAN",{style:!0});var bs=v(z);ie=S(bs,Ve),bs.forEach(u),sl=S(Ge," over time"),Ge.forEach(u),il=m(Q),It.l(Q),Te=m(Q),ne=c(Q,"DIV",{class:!0}),v(ne).forEach(u),nl=m(Q),rl=c(Q,"BR",{}),al=m(Q),Lt=c(Q,"H3",{class:!0});var Xe=v(Lt);ol=S(Xe,"Distribution of values (£, billion) for "),zt=c(Xe,"SPAN",{style:!0});var ys=v(zt);cl=S(ys,es),ys.forEach(u),fl=S(Xe," by UK data zones"),Xe.forEach(u),ul=m(Q),Dt.l(Q),Me=m(Q),Nt=c(Q,"DIV",{class:!0,"data-svelte-h":!0}),B(Nt)!=="svelte-1ta2xvp"&&(Nt.innerHTML=ls),dl=m(Q),hl=c(Q,"BR",{}),Q.forEach(u),vl=m(je),ct=c(je,"DIV",{class:!0});var qt=v(ct);Vt=c(qt,"H3",{class:!0});var Je=v(Vt);pl=S(Je,"Total values (£, billion) for "),Wt=c(Je,"SPAN",{style:!0});var Es=v(Wt);gl=S(Es,ss),Es.forEach(u),ml=S(Je," across the UK"),Je.forEach(u),_l=m(qt),Ut=c(qt,"P",{class:!0,"data-svelte-h":!0}),B(Ut)!=="svelte-1ask2se"&&(Ut.textContent=is),bl=m(qt),Z&&Z.l(qt),Be=m(qt),wt=c(qt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),B(wt)!=="svelte-1bex1ev"&&(wt.innerHTML=ns),qt.forEach(u),je.forEach(u),Ke.forEach(u),yl=m(Ye),Tt=c(Ye,"DIV",{id:!0});var Ze=v(Tt);Yt=c(Ze,"DIV",{class:!0,"data-svelte-h":!0}),B(Yt)!=="svelte-dcew9z"&&(Yt.innerHTML=rs),El=m(Ze),_t=c(Ze,"DIV",{id:!0,class:!0,style:!0});var Qe=v(_t);it=c(Qe,"DIV",{id:!0,class:!0});var bt=v(it);Mt=c(bt,"H3",{class:!0});var $e=v(Mt);wl=S($e,"Mapping the impact of "),Kt=c($e,"SPAN",{style:!0});var ws=v(Kt);Cl=S(ws,as),ws.forEach(u),Pl=S($e," across UK local authorities according to socio-economic factors"),$e.forEach(u),Il=m(bt),jt=c(bt,"P",{class:!0,"data-svelte-h":!0}),B(jt)!=="svelte-xtub96"&&(jt.textContent=os),Dl=m(bt),kl=c(bt,"BR",{}),Sl=m(bt),Bt=c(bt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),B(Bt)!=="svelte-250g83"&&(Bt.innerHTML=cs),Al=m(bt),ft=c(bt,"DIV",{id:!0,class:!0});var Rt=v(ft);Gt=c(Rt,"STRONG",{style:!0,"data-svelte-h":!0}),B(Gt)!=="svelte-xb363n"&&(Gt.textContent=fs),Ll=m(Rt),Nl=c(Rt,"BR",{}),Vl=m(Rt),re=c(Rt,"SPAN",{"data-svelte-h":!0}),B(re)!=="svelte-ddxsq2"&&(re.textContent=us),Tl=m(Rt),dt=c(Rt,"UL",{class:!0});var Ht=v(dt);Xt=c(Ht,"LI",{class:!0});var zl=v(Xt);ae=c(zl,"SPAN",{class:!0,style:!0}),v(ae).forEach(u),Ml=S(zl,`
                            Scotland`),zl.forEach(u),Bl=m(Ht),Jt=c(Ht,"LI",{class:!0});var Wl=v(Jt);oe=c(Wl,"SPAN",{class:!0,style:!0}),v(oe).forEach(u),xl=S(Wl,`
                            Northern Ireland`),Wl.forEach(u),Fl=m(Ht),Zt=c(Ht,"LI",{class:!0});var Ul=v(Zt);ce=c(Ul,"SPAN",{class:!0,style:!0}),v(ce).forEach(u),ql=S(Ul,"England"),Ul.forEach(u),Rl=m(Ht),Qt=c(Ht,"LI",{class:!0});var Yl=v(Qt);fe=c(Yl,"SPAN",{class:!0,style:!0}),v(fe).forEach(u),Hl=S(Yl,"Wales"),Yl.forEach(u),Ht.forEach(u),Rt.forEach(u),bt.forEach(u),Ol=m(Qe),$t=c(Qe,"DIV",{id:!0,class:!0});var Cs=v($t);xt=c(Cs,"DIV",{id:!0,class:!0});var Ps=v(xt);for(let Kl=0;Kl<Y.length;Kl+=1)Y[Kl].l(Ps);Ps.forEach(u),Cs.forEach(u),Qe.forEach(u),Ze.forEach(u),Ye.forEach(u),N.forEach(u),this.h()},h(){o(d,"class","page-subtitle svelte-1duv4d2"),Ys(E.src,P=e[17])||o(E,"src",P),o(E,"alt","Icon"),o(E,"class","heading-icon svelte-1duv4d2"),Ot(D,"margin-top","10px"),o(g,"class","page-title svelte-1duv4d2"),Ot(ut,"margin-top","14px"),o(tt,"class","definition svelte-1duv4d2"),o(C,"class","title-container"),o(r,"class","header-text svelte-1duv4d2"),o(R,"class","small svelte-1duv4d2"),o(W,"class","waffle-value svelte-1duv4d2"),o(rt,"class","waffle-stat svelte-1duv4d2"),o(yt,"class","waffle-value svelte-1duv4d2"),o(M,"class","waffle-stat svelte-1duv4d2"),o(Et,"class","waffle-caption svelte-1duv4d2"),o(pt,"class","waffle-stat svelte-1duv4d2"),o(et,"class","waffle-stats svelte-1duv4d2"),o(nt,"class","waffle-label svelte-1duv4d2"),o(St,"class","waffle-el"),o(At,"class","waffle-bg svelte-1duv4d2"),o(q,"class","header-waffle-wrapper svelte-1duv4d2"),o(a,"class","header-content svelte-1duv4d2"),o(n,"class","section header svelte-1duv4d2"),o(gt,"class","section-header"),o(z,"style",e[13]),o(mt,"class","component-title"),o(ne,"class","plot"),o(zt,"style",e[13]),o(Lt,"class","component-title"),o(Nt,"class","plot"),o(V,"class","component singlevis"),o(Wt,"style",e[13]),o(Vt,"class","component-title"),o(Ut,"class","description svelte-1duv4d2"),o(wt,"id","map"),o(wt,"class","svelte-1duv4d2"),o(ct,"class","component column"),o(st,"id","vis-block"),o(st,"class","svelte-1duv4d2"),o(U,"id","overview"),o(Yt,"class","section-header"),o(Kt,"style",e[13]),o(Mt,"class","component-title"),o(jt,"class","explanation"),o(Bt,"id","se-disclaimer"),o(Bt,"class","disclaimer-box svelte-1duv4d2"),Ot(Gt,"margin-bottom","1rem"),o(ae,"class","legend-color svelte-1duv4d2"),Ot(ae,"background-color",H(e[14])[1]),o(Xt,"class","svelte-1duv4d2"),o(oe,"class","legend-color svelte-1duv4d2"),Ot(oe,"background-color",H(e[14])[2]),o(Jt,"class","svelte-1duv4d2"),o(ce,"class","legend-color svelte-1duv4d2"),Ot(ce,"background-color",H(e[14])[3]),o(Zt,"class","svelte-1duv4d2"),o(fe,"class","legend-color svelte-1duv4d2"),Ot(fe,"background-color",H(e[14])[4]),o(Qt,"class","svelte-1duv4d2"),o(dt,"class","legend-list svelte-1duv4d2"),o(ft,"id","se-legend"),o(ft,"class","legend-box svelte-1duv4d2"),o(it,"id","se-title"),o(it,"class","svelte-1duv4d2"),o(xt,"id","multiple-plots"),o(xt,"class","svelte-1duv4d2"),o($t,"id","multiple-comp"),o($t,"class","svelte-1duv4d2"),o(_t,"id","se-block"),o(_t,"class","component svelte-1duv4d2"),Ot(_t,"margin-left","1rem"),o(Tt,"id","compare"),o(y,"class","section"),o(s,"class","page-container")},m(h,N){vi(t,h,N),K(h,l,N),K(h,s,N),i(s,n),i(n,a),i(a,r),i(r,d),i(r,k),i(r,C),i(C,g),i(g,E),i(g,T),i(g,D),i(g,L),i(g,ht),i(C,O),i(C,ut),i(C,$),i(C,tt),i(tt,ot),i(a,F),i(a,q),i(q,nt),i(nt,et),i(et,rt),i(rt,W),j&&j.m(W,null),i(W,vt),i(W,R),i(rt,kt),Ct.m(rt,null),i(et,at),i(et,M),i(M,yt),G&&G.m(yt,null),i(M,Ee),Pt.m(M,null),i(et,we),i(et,pt),X&&X.m(pt,null),i(pt,se),i(pt,Et),i(q,Ce),i(q,St),e[22](St),i(q,Pe),i(q,At),e[23](At),i(s,p),J&&J.m(s,null),i(s,w),i(s,y),i(y,U),i(U,gt),i(U,De),i(U,st),i(st,V),i(V,mt),i(mt,I),i(mt,z),i(z,ie),i(mt,sl),i(V,il),It.m(V,null),i(V,Te),i(V,ne),e[24](ne),i(V,nl),i(V,rl),i(V,al),i(V,Lt),i(Lt,ol),i(Lt,zt),i(zt,cl),i(Lt,fl),i(V,ul),Dt.m(V,null),i(V,Me),i(V,Nt),e[25](Nt),i(V,dl),i(V,hl),i(st,vl),i(st,ct),i(ct,Vt),i(Vt,pl),i(Vt,Wt),i(Wt,gl),i(Vt,ml),i(ct,_l),i(ct,Ut),i(ct,bl),Z&&Z.m(ct,null),i(ct,Be),i(ct,wt),e[26](wt),i(y,yl),i(y,Tt),i(Tt,Yt),i(Tt,El),i(Tt,_t),i(_t,it),i(it,Mt),i(Mt,wl),i(Mt,Kt),i(Kt,Cl),i(Mt,Pl),i(it,Il),i(it,jt),i(it,Dl),i(it,kl),i(it,Sl),i(it,Bt),i(it,Al),i(it,ft),i(ft,Gt),i(ft,Ll),i(ft,Nl),i(ft,Vl),i(ft,re),i(ft,Tl),i(ft,dt),i(dt,Xt),i(Xt,ae),i(Xt,Ml),i(dt,Bl),i(dt,Jt),i(Jt,oe),i(Jt,xl),i(dt,Fl),i(dt,Zt),i(Zt,ce),i(Zt,ql),i(dt,Rl),i(dt,Qt),i(Qt,fe),i(Qt,Hl),i(_t,Ol),i(_t,$t),i($t,xt);for(let x=0;x<Y.length;x+=1)Y[x]&&Y[x].m(xt,null);e[28](s),Ft=!0},p(h,N){if(h[4]?j?j.p(h,N):(j=Fs(h),j.c(),j.m(W,vt)):j&&(j.d(1),j=null),xe!==(xe=ds(h))&&(Ct.d(1),Ct=xe(h),Ct&&(Ct.c(),Ct.m(rt,null))),h[4]?G?G.p(h,N):(G=qs(h),G.c(),G.m(yt,null)):G&&(G.d(1),G=null),Fe!==(Fe=hs(h))&&(Pt.d(1),Pt=Fe(h),Pt&&(Pt.c(),Pt.m(M,null))),h[4]?X?X.p(h,N):(X=Rs(h),X.c(),X.m(pt,se)):X&&(X.d(1),X=null),h[9]?J?J.p(h,N):(J=Hs(h),J.c(),J.m(s,w)):J&&(J.d(1),J=null),(!Ft||N[0]&8192)&&o(z,"style",h[13]),qe!==(qe=vs(h))&&(It.d(1),It=qe(h),It&&(It.c(),It.m(V,Te))),(!Ft||N[0]&8192)&&o(zt,"style",h[13]),Re!==(Re=ps(h))&&(Dt.d(1),Dt=Re(h),Dt&&(Dt.c(),Dt.m(V,Me))),(!Ft||N[0]&8192)&&o(Wt,"style",h[13]),h[7]?Z?Z.p(h,N):(Z=zs(h),Z.c(),Z.m(ct,Be)):Z&&(Z.d(1),Z=null),(!Ft||N[0]&8192)&&o(Kt,"style",h[13]),N[0]&2){ue=Is(Vs);let x;for(x=0;x<ue.length;x+=1){const te=xs(h,ue,x);Y[x]?Y[x].p(te,N):(Y[x]=Ws(te),Y[x].c(),Y[x].m(xt,null))}for(;x<Y.length;x+=1)Y[x].d(1);Y.length=ue.length}},i(h){Ft||(hi(t.$$.fragment,h),Ft=!0)},o(h){di(t.$$.fragment,h),Ft=!1},d(h){h&&(u(l),u(s)),ui(t,h),j&&j.d(),Ct.d(),G&&G.d(),Pt.d(),X&&X.d(),e[22](null),e[23](null),J&&J.d(),It.d(),e[24](null),Dt.d(),e[25](null),Z&&Z.d(),e[26](null),ii(Y,h),e[28](null)}}}let me=400;function Us(e){return{overview:"Overview",compare:"Compare by socio-economic factor"}[e]||""}function Bn(e,t,l){let s,n,a,r,d,b={},k="barchart",{data:C}=t;const g=C.coBenefit,E=Ls.find(p=>p.id===g)?.label??g,P=Ri.find(p=>p.id===g)?.def??g;let T,D,L,ht,O,ut,$,tt,ot=!1,F,q,nt,et;kt().then(()=>{let p=JSON.parse(JSON.stringify(H(g)));p.shift(),p=p.reverse(),l(7,q=new qi(D,"LAD",nt,"total",!1,"LAD",!1,p)),q.initMap();let w=q.legend();et.append(w)});let rt=Hi(g),W=!1,vt="";const R=["overview","compare"];function lt(){const p=window.scrollY;l(9,W=p>250);for(const w of R){const y=document.getElementById(w);if(!y)continue;const U=y.getBoundingClientRect();if(U.top<=150&&U.bottom>=150){l(10,vt=w);break}}}ni(()=>(window.addEventListener("scroll",lt),lt(),()=>window.removeEventListener("scroll",lt))),ri(()=>{window.removeEventListener("scroll",lt)});async function kt(){T=await ge(Yi(g)),L=await ge(Ki(g)),O=await ge(ji()),O=O.sort((w,y)=>y.total-w.total),ut=await ge(Gi()),ut=ut.sort((w,y)=>y.total_value-w.total_value);const p=ut.find(w=>w.co_benefit_type===g);l(6,F=p?p.value_per_capita:null),D=await ge(Xi(g)),$=await ge(Ji()),l(5,tt=$[0].total_value),Ns.forEach(w=>{L[w]=+L[w]}),l(4,ht=xi(T,w=>w.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),l(20,ot=!0)}let at,M;function yt(p,w){if(!at)return;const y=20,U=15,gt=Math.floor(200/y),Ie=U*gt,De=O.reduce((I,z)=>I+z.total,0),st=[];for(const I of O){const z=Math.round(Math.abs(I.total)/De*Ie),Ve=I.total<0;for(let ie=0;ie<z;ie++)st.push({type:I.co_benefit_type,negative:Ve})}for(;st.length<Ie;)st.push({type:"empty"});st.sort((I,z)=>I.type==="empty"?1:z.type==="empty"?-1:I.negative&&!z.negative?1:!I.negative&&z.negative?-1:0);const V=st.map((I,z)=>({x:z%U,y:Math.floor(z/U),...I})),mt=ke({width:y*U,height:y*gt,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Ls.map(I=>I.id),range:Ui,unknown:"#eee",legend:!1},marks:[As(V.filter(I=>!I.negative),{x:I=>I.x*y,y:I=>I.y*y,fill:"type",fillOpacity:I=>w&&I.type!==w?.15:1}),As(V.filter(I=>I.negative),{x:I=>I.x*y,y:I=>I.y*y,stroke:"type",strokeOpacity:I=>w&&I.type!==w?.15:1,strokeWidth:1,fill:"none"})]});M&&(l(12,M.style.width=`${y*U}px`,M),l(12,M.style.height=`${p}px`,M)),l(11,at.innerHTML="",at),at.append(mt)}function Ee(){r?.append(ke({height:me/1.5,...Wi,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazoness"},x:{label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Qi(D,$i({y:"count"},{x:"total",fill:H(g)[0],tip:!0,fillOpacity:.5,stroke:H(g)[0],strokeWidth:3})),Ss({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),Gl([0],{stroke:"#333",strokeWidth:.75})]}))}function we(){let p=T.flatMap(w=>Oi.map(y=>({time:y,value:w[y],total:w.total,scenario:w.scenario})));d?.append(ke({height:me/1.5,marginLeft:70,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:w=>w.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0},marks:[Gs(p,Ks({y:"sum"},{x:"time",y:w=>w.value/1e3,fill:H(g)[0],tip:!0,fillOpacity:.8,insetLeft:15,insetRight:15})),Ss({anchor:"left",grid:!0,label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"})]}))}function pt(){Ns.forEach(p=>{let w;zi.includes(p)?w=ke({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:me/1.2,width:me/1.1,marginLeft:60,marginBottom:60,marginRight:10,marginTop:10,x:{label:Ts(p)},y:{label:"£, billion",labelArrow:"none"},color:{legend:!0},marks:[Xl(D.filter(y=>y.SEFMAME==p),En("middle",{x:"SE",y:"total",r:1,padding:-2,fill:y=>y.LAD.startsWith("S")?H(g)[1]:y.LAD.startsWith("N")?H(g)[2]:y.LAD.startsWith("E")?H(g)[3]:H(g)[4]})),nn(D.filter(y=>y.SEFMAME==p),{x:"SE",y:"total",stroke:H(g)[0],fill:H(g)[4],r:0,fillOpacity:.3}),ks([0],{stroke:"#333",strokeWidth:.75})]}):w=ke({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:me/1.4,width:me/1.4,marginLeft:60,marginBottom:40,marginRight:40,marginTop:20,x:{label:Ts(p),labelArrow:!1},y:{label:"£, billion",labelArrow:!1},color:{legend:!0},marks:[Xl(D.filter(y=>y.SEFMAME==p),{x:"SE",y:"total",fill:y=>y.LAD.startsWith("S")?H(g)[1]:y.LAD.startsWith("N")?H(g)[2]:y.LAD.startsWith("E")?H(g)[3]:H(g)[4],r:2,fillOpacity:1}),ks([0],{stroke:"#333",strokeWidth:.75}),Gl([0],{stroke:"#333",strokeWidth:.75})]}),b[p]?.append(w)})}function se(p){ee[p?"unshift":"push"](()=>{at=p,l(11,at)})}function Et(p){ee[p?"unshift":"push"](()=>{M=p,l(12,M)})}function Ne(p){ee[p?"unshift":"push"](()=>{d=p,l(0,d)})}function Ce(p){ee[p?"unshift":"push"](()=>{r=p,l(3,r)})}function St(p){ee[p?"unshift":"push"](()=>{nt=p,l(8,nt)})}function Pe(p,w){ee[p?"unshift":"push"](()=>{b[w.id]=p,l(1,b)})}function At(p){ee[p?"unshift":"push"](()=>{a=p,l(2,a)})}return e.$$set=p=>{"data"in p&&l(18,C=p.data)},e.$$.update=()=>{e.$$.dirty[0]&1572867&&(d?.firstChild?.remove(),Object.values(b).forEach(p=>{p.firstChild?.remove()}),ot&&(Ee(),we(),pt(),yt(300,g))),e.$$.dirty[0]&2097152&&l(13,n=`color: ${s}; font-weight: bold; font-size: 22px;`)},l(21,s=H(g)[0]),[d,b,a,r,ht,tt,F,q,nt,W,vt,at,M,n,g,E,P,rt,C,k,ot,s,se,Et,Ne,Ce,St,Pe,At]}class jn extends ci{constructor(t){super(),fi(this,t,Bn,Mn,si,{data:18},null,[-1,-1])}}export{jn as component};
