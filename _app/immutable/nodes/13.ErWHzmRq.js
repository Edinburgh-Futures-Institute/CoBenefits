import{s as ha,a as p,e as a,t as y,g as m,c as n,b as u,p as S,f as o,d as w,q as l,r as Be,v as Yt,i as q,h as t,w as pa,x as ma,y as Js,z as ba,j as He,H as ga,A as _a,B as he}from"../chunks/scheduler.CM2kgFFE.js";import{S as Ea,i as ya,c as wa,b as Ca,m as Da,t as Sa,a as ka,d as La}from"../chunks/index.BdkIKoLm.js";import{N as Aa,e as Qs}from"../chunks/NavigationBar.wfWUH9cH.js";import"../chunks/transform.BNP73y-7.js";import{F as Ia,G as Me,H as dl,I as Zs,J as Ta,K as xa,L as Va,N as $s,O as ta,P as Na,Q as ea,R as Ma}from"../chunks/index.gHFfw6XA.js";import{b as Pa}from"../chunks/paths.D_GsmK_s.js";import{M as Ba}from"../chunks/mapUK.BsL-1tB-.js";import{C as bt,a as la,D as Ha,b as Pe,S as sa,c as aa,g as Oa,T as Fa,d as Ua,e as cs,f as za,M as Wa,h as Ra}from"../chunks/globals.BaB0XPZ2.js";import{g as Se,c as Ka,d as qa,e as Ga,f as ja,h as Ya,i as Xa}from"../chunks/duckdb.BvMxQizY.js";import{t as ds,p as Ja}from"../chunks/percentage.Cu08Svdw.js";import{p as fs}from"../chunks/per_capita.COcMrZFY.js";import{d as vs}from"../chunks/dot.CFFCJmC7.js";import{b as Qa}from"../chunks/bin.4FhIxFiV.js";import{b as Za}from"../chunks/bar.DO1Cp6Am.js";function na(i,e,r){const s=i.slice();return s[47]=e[r],s[48]=e,s[49]=r,s}function ia(i){let e,r,s=i[4].toLocaleString()+"",h;return{c(){e=a("span"),r=y("£"),h=y(s),this.h()},l(b){e=n(b,"SPAN",{class:!0});var c=u(e);r=w(c,"£"),h=w(c,s),c.forEach(o),this.h()},h(){l(e,"class","waffle-big svelte-b9v0tr")},m(b,c){q(b,e,c),t(e,r),t(e,h)},p(b,c){c[0]&16&&s!==(s=b[4].toLocaleString()+"")&&He(h,s)},d(b){b&&o(e)}}}function $a(i){let e,r="National costs";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-o12owz"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function tn(i){let e,r="National benefits";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-10ytukz"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function ra(i){let e,r,s=i[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",h;return{c(){e=a("span"),r=y("£"),h=y(s),this.h()},l(b){e=n(b,"SPAN",{class:!0});var c=u(e);r=w(c,"£"),h=w(c,s),c.forEach(o),this.h()},h(){l(e,"class","waffle-big svelte-b9v0tr")},m(b,c){q(b,e,c),t(e,r),t(e,h)},p(b,c){c[0]&64&&s!==(s=b[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&He(h,s)},d(b){b&&o(e)}}}function en(i){let e,r="Per capita costs";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-6pmcl0"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function ln(i){let e,r="Per capita benefits";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-g1rvwk"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function oa(i){let e,r,s=(i[4]/i[5]*100).toFixed(2)+"",h,b,c,x="%";return{c(){e=a("div"),r=a("span"),h=y(s),b=p(),c=a("span"),c.textContent=x,this.h()},l(A){e=n(A,"DIV",{class:!0});var I=u(e);r=n(I,"SPAN",{class:!0});var _=u(r);h=w(_,s),_.forEach(o),b=m(I),c=n(I,"SPAN",{class:!0,"data-svelte-h":!0}),S(c)!=="svelte-jxggz7"&&(c.textContent=x),I.forEach(o),this.h()},h(){l(r,"class","waffle-big svelte-b9v0tr"),l(c,"class","small svelte-b9v0tr"),l(e,"class","waffle-value svelte-b9v0tr")},m(A,I){q(A,e,I),t(e,r),t(r,h),t(e,b),t(e,c)},p(A,I){I[0]&48&&s!==(s=(A[4]/A[5]*100).toFixed(2)+"")&&He(h,s)},d(A){A&&o(e)}}}function ca(i){let e,r,s,h,b,c,x,A,I,_=ua(i[10])+"",V,C=i[4]&&da(i);return{c(){e=a("div"),r=a("div"),s=a("img"),b=p(),c=a("span"),x=y(i[15]),A=p(),C&&C.c(),I=y(`\r
                    >> `),V=y(_),this.h()},l(P){e=n(P,"DIV",{class:!0});var N=u(e);r=n(N,"DIV",{class:!0});var M=u(r);s=n(M,"IMG",{src:!0,alt:!0,class:!0}),b=m(M),c=n(M,"SPAN",{class:!0});var T=u(c);x=w(T,i[15]),A=m(T),C&&C.l(T),I=w(T,`\r
                    >> `),V=w(T,_),T.forEach(o),M.forEach(o),N.forEach(o),this.h()},h(){Be(s.src,h=i[17])||l(s,"src",h),l(s,"alt","Icon"),l(s,"class","mini-heading-icon"),l(c,"class","mini-header-text"),l(r,"class","mini-header-content"),l(e,"class","mini-header")},m(P,N){q(P,e,N),t(e,r),t(r,s),t(r,b),t(r,c),t(c,x),t(c,A),C&&C.m(c,null),t(c,I),t(c,V)},p(P,N){P[4]?C?C.p(P,N):(C=da(P),C.c(),C.m(c,I)):C&&(C.d(1),C=null),N[0]&1024&&_!==(_=ua(P[10])+"")&&He(V,_)},d(P){P&&o(e),C&&C.d()}}}function da(i){let e,r,s,h;return{c(){e=a("span"),r=y("(UK total: £"),s=y(i[4]),h=y(" billion)"),this.h()},l(b){e=n(b,"SPAN",{class:!0});var c=u(e);r=w(c,"(UK total: £"),s=w(c,i[4]),h=w(c," billion)"),c.forEach(o),this.h()},h(){l(e,"class","mini-header-value")},m(b,c){q(b,e,c),t(e,r),t(e,s),t(e,h)},p(b,c){c[0]&16&&He(s,b[4])},d(b){b&&o(e)}}}function sn(i){let e,r=`Each bar shows the predicted total costs in billion pounds for each\r
                            five-year periods for all of UK.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1v08yjw"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function an(i){let e,r=`Each bar shows the predicted total benefits in billion pounds for each\r
                            five-year periods for all of UK.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-3v1xr6"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function nn(i){let e,r=`The x-axis represents the value of costs, while the y-axis shows the\r
                            number of data zones falling within each benefit range.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-92e6ig"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function rn(i){let e,r=`The x-axis represents the predicted value of benefits, measured in\r
                            billion pounds, while the y-axis shows the number of data zones falling within each benefit\r
                            range.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-flkfm5"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){q(s,e,h)},d(s){s&&o(e)}}}function fa(i){let e,r,s=i[7].legend().outerHTML+"";return{c(){e=a("div"),r=new ga(!1),this.h()},l(h){e=n(h,"DIV",{id:!0});var b=u(e);r=_a(b,!1),b.forEach(o),this.h()},h(){r.a=null,l(e,"id","legend")},m(h,b){q(h,e,b),r.m(s,e)},p(h,b){b[0]&128&&s!==(s=h[7].legend().outerHTML+"")&&r.p(s)},d(h){h&&o(e)}}}function va(i){let e,r,s=i[47].label+"",h,b,c,x=i[47].def+"",A,I,_,V=i[47],C;const P=()=>i[28](_,V),N=()=>i[28](null,V);return{c(){e=a("div"),r=a("h3"),h=y(s),b=p(),c=a("p"),A=y(x),I=p(),_=a("div"),C=p(),this.h()},l(M){e=n(M,"DIV",{class:!0});var T=u(e);r=n(T,"H3",{class:!0});var nt=u(r);h=w(nt,s),nt.forEach(o),b=m(T),c=n(T,"P",{class:!0});var ot=u(c);A=w(ot,x),ot.forEach(o),I=m(T),_=n(T,"DIV",{class:!0}),u(_).forEach(o),C=m(T),T.forEach(o),this.h()},h(){l(r,"class","component-chart-title svelte-b9v0tr"),l(c,"class","component-chart-caption svelte-b9v0tr"),l(_,"class","plot"),l(e,"class","plot-container svelte-b9v0tr")},m(M,T){q(M,e,T),t(e,r),t(r,h),t(e,b),t(e,c),t(c,A),t(e,I),t(e,_),P(),t(e,C)},p(M,T){i=M,V!==i[47]&&(N(),V=i[47],P())},d(M){M&&o(e),N()}}}function on(i){let e,r,s,h,b,c,x,A="Co-Benefit Report",I,_,V,C,P,N,M,T,nt,ot,At,pe,ct,me,Xt,F,It,lt,it,vt,G,Jt,Le,U,st,gt,Oe="billion",Ae,Ie,dt,ut,_t,Fe,Te,Et,xe,Ve,d,f,D,z,W,rt,g,R="Contribution to national benefits",Qt,ft,E="Share of total benefits",tt,Tt,be,ge,fl,Ue,xt,Vt,Zt,us='<p class="section-subtitle">Overview</p>',vl,yt,k,Nt,ul,$t,hs=i[15].toLowerCase()+"",hl,pl,ml,ze,te,ps=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${ds}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,bl,_e,gl,_l,El,wt,yl,ee,ms=i[15].toLowerCase()+"",wl,Cl,le,bs=`data zones
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,Dl,We,se,gs=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${ds}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,Sl,Mt,_s="",kl,Ll,Al,Z,Pt,Il,ae,Es=i[15].toLowerCase()+"",Tl,xl,Vl,ne,ys=`Each local authority is coloured by the predicted per capita benefits/cost,\r
                        showing regional variation in how benefits/cost are distributed. Scroll for zooming in and\r
                        out.`,Nl,ie,ws=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${fs}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Ml,Re,Ct,Cs="",Pl,Bt,re,Ds='<p class="section-subtitle">Socio-economic factors</p>',Bl,ht,at,Ht,Hl,oe,Ss=i[15]?.toLowerCase()+"",Ol,Fl,Ul,ce,ks=`Each chart shows how benefits or costs are distributed across UK local\r
                        authorities in correlation with a specific household social-economic factor.`,zl,$,de,Ls=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${fs}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Wl,fe,As="Legend:",Rl,Kl,ql,Ee,Is="The scatter points are coloured by nation. Click the buttons below to filter.",Gl,O,jl,Yl,Ot,Xl,Jl,Ft,Ql,Zl,Ut,$l,ts,zt,es,ls,ss,as,Wt,Ts="Reset",ns,Rt,xs=`<p style="margin: 0 0 0.5rem 0;"><strong>Discrete scales:</strong> The first set of
                            socio-economic factors are using categorical values where the x-axis is non-linear.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots
                            represent modelled associations and should not be interpreted as direct causal
                            relationships.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Aggregated data:</strong> Each socio-economic factor
                            for a given local authority is aggregated from the data zones within its boundary.</p>`,is,ve,Kt,qt,rs,Vs;e=new Aa({});let j=i[4]&&ia(i);function Ns(v,L){return v[4]>0?tn:$a}let Ke=Ns(i),Dt=Ke(i),Y=i[4]&&ra(i);function Ms(v,L){return v[4]>0?ln:en}let qe=Ms(i),St=qe(i),X=i[4]&&oa(i),J=i[9]&&ca(i);function Ps(v,L){return v[4]>0?an:sn}let Ge=Ps(i),kt=Ge(i);function Bs(v,L){return v[4]>0?rn:nn}let je=Bs(i),Lt=je(i),Q=i[7]&&fa(i),ye=Qs(aa),K=[];for(let v=0;v<ye.length;v+=1)K[v]=va(na(i,ye,v));return{c(){wa(e.$$.fragment),r=p(),s=a("div"),h=a("div"),b=a("div"),c=a("div"),x=a("p"),x.textContent=A,I=p(),_=a("div"),V=a("h1"),C=a("img"),N=p(),M=a("div"),T=p(),nt=y(i[15]),ot=p(),At=a("div"),pe=p(),ct=a("p"),me=y(i[16]),Xt=p(),F=a("div"),It=a("div"),lt=a("div"),it=a("div"),vt=a("div"),G=a("img"),Le=p(),U=a("div"),j&&j.c(),st=p(),gt=a("span"),gt.textContent=Oe,Ae=p(),Dt.c(),Ie=p(),dt=a("div"),ut=a("div"),_t=a("img"),Te=p(),Et=a("div"),Y&&Y.c(),xe=p(),St.c(),Ve=p(),d=a("div"),f=a("div"),D=a("img"),W=p(),X&&X.c(),rt=p(),g=a("div"),g.textContent=R,Qt=p(),ft=a("h3"),ft.textContent=E,tt=p(),Tt=a("div"),be=p(),ge=a("div"),fl=p(),J&&J.c(),Ue=p(),xt=a("div"),Vt=a("div"),Zt=a("div"),Zt.innerHTML=us,vl=p(),yt=a("div"),k=a("div"),Nt=a("h3"),ul=y("Total "),$t=a("span"),hl=y(hs),pl=y(" over time 2025-2050"),ml=p(),kt.c(),ze=p(),te=a("div"),te.innerHTML=ps,bl=p(),_e=a("div"),gl=p(),_l=a("br"),El=p(),wt=a("h3"),yl=y("Distribution of "),ee=a("span"),wl=y(ms),Cl=y(` across UK\r
                        \r
\r
                        `),le=a("span"),le.innerHTML=bs,Dl=p(),Lt.c(),We=p(),se=a("div"),se.innerHTML=gs,Sl=p(),Mt=a("div"),Mt.innerHTML=_s,kl=p(),Ll=a("br"),Al=p(),Z=a("div"),Pt=a("h3"),Il=y("Per Capita "),ae=a("span"),Tl=y(Es),xl=y(" by UK local authorities"),Vl=p(),ne=a("p"),ne.textContent=ys,Nl=p(),ie=a("div"),ie.innerHTML=ws,Ml=p(),Q&&Q.c(),Re=p(),Ct=a("div"),Ct.innerHTML=Cs,Pl=p(),Bt=a("div"),re=a("div"),re.innerHTML=Ds,Bl=p(),ht=a("div"),at=a("div"),Ht=a("h3"),Hl=y("How "),oe=a("span"),Ol=y(Ss),Fl=y(` vary by household social-economic\r
                        factors`),Ul=p(),ce=a("p"),ce.textContent=ks,zl=p(),$=a("div"),de=a("div"),de.innerHTML=Ls,Wl=p(),fe=a("strong"),fe.textContent=As,Rl=p(),Kl=a("br"),ql=p(),Ee=a("span"),Ee.textContent=Is,Gl=p(),O=a("div"),jl=a("br"),Yl=p(),Ot=a("button"),Xl=y("Scotland"),Jl=p(),Ft=a("button"),Ql=y("Northern Ireland"),Zl=p(),Ut=a("button"),$l=y("England"),ts=p(),zt=a("button"),es=y("Wales"),ls=p(),ss=a("br"),as=p(),Wt=a("button"),Wt.textContent=Ts,ns=p(),Rt=a("div"),Rt.innerHTML=xs,is=p(),ve=a("div"),Kt=a("div");for(let v=0;v<K.length;v+=1)K[v].c();this.h()},l(v){Ca(e.$$.fragment,v),r=m(v),s=n(v,"DIV",{class:!0});var L=u(s);h=n(L,"DIV",{class:!0});var B=u(h);b=n(B,"DIV",{class:!0});var ue=u(b);c=n(ue,"DIV",{class:!0});var Ye=u(c);x=n(Ye,"P",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-1flv0v9"&&(x.textContent=A),I=m(Ye),_=n(Ye,"DIV",{class:!0});var we=u(_);V=n(we,"H1",{class:!0});var Ce=u(V);C=n(Ce,"IMG",{src:!0,alt:!0,class:!0}),N=m(Ce),M=n(Ce,"DIV",{style:!0}),u(M).forEach(o),T=m(Ce),nt=w(Ce,i[15]),Ce.forEach(o),ot=m(we),At=n(we,"DIV",{style:!0}),u(At).forEach(o),pe=m(we),ct=n(we,"P",{class:!0});var Hs=u(ct);me=w(Hs,i[16]),Hs.forEach(o),we.forEach(o),Ye.forEach(o),Xt=m(ue),F=n(ue,"DIV",{class:!0});var Gt=u(F);It=n(Gt,"DIV",{class:!0});var Os=u(It);lt=n(Os,"DIV",{class:!0});var De=u(lt);it=n(De,"DIV",{class:!0});var Xe=u(it);vt=n(Xe,"DIV",{class:!0});var Je=u(vt);G=n(Je,"IMG",{class:!0,src:!0,alt:!0}),Le=m(Je),U=n(Je,"DIV",{class:!0});var Qe=u(U);j&&j.l(Qe),st=m(Qe),gt=n(Qe,"SPAN",{class:!0,"data-svelte-h":!0}),S(gt)!=="svelte-tlhydp"&&(gt.textContent=Oe),Qe.forEach(o),Je.forEach(o),Ae=m(Xe),Dt.l(Xe),Xe.forEach(o),Ie=m(De),dt=n(De,"DIV",{class:!0});var Ze=u(dt);ut=n(Ze,"DIV",{class:!0});var $e=u(ut);_t=n($e,"IMG",{class:!0,src:!0,alt:!0}),Te=m($e),Et=n($e,"DIV",{class:!0});var Fs=u(Et);Y&&Y.l(Fs),Fs.forEach(o),$e.forEach(o),xe=m(Ze),St.l(Ze),Ze.forEach(o),Ve=m(De),d=n(De,"DIV",{class:!0});var tl=u(d);f=n(tl,"DIV",{class:!0});var el=u(f);D=n(el,"IMG",{class:!0,src:!0,alt:!0}),W=m(el),X&&X.l(el),el.forEach(o),rt=m(tl),g=n(tl,"DIV",{class:!0,"data-svelte-h":!0}),S(g)!=="svelte-1v3rfza"&&(g.textContent=R),tl.forEach(o),De.forEach(o),Os.forEach(o),Qt=m(Gt),ft=n(Gt,"H3",{class:!0,"data-svelte-h":!0}),S(ft)!=="svelte-1vkchgj"&&(ft.textContent=E),tt=m(Gt),Tt=n(Gt,"DIV",{class:!0}),u(Tt).forEach(o),be=m(Gt),ge=n(Gt,"DIV",{class:!0}),u(ge).forEach(o),Gt.forEach(o),ue.forEach(o),B.forEach(o),fl=m(L),J&&J.l(L),Ue=m(L),xt=n(L,"DIV",{class:!0});var ll=u(xt);Vt=n(ll,"DIV",{id:!0});var sl=u(Vt);Zt=n(sl,"DIV",{class:!0,"data-svelte-h":!0}),S(Zt)!=="svelte-ll1i43"&&(Zt.innerHTML=us),vl=m(sl),yt=n(sl,"DIV",{id:!0,class:!0});var al=u(yt);k=n(al,"DIV",{class:!0});var H=u(k);Nt=n(H,"H3",{class:!0});var nl=u(Nt);ul=w(nl,"Total "),$t=n(nl,"SPAN",{style:!0});var Us=u($t);hl=w(Us,hs),Us.forEach(o),pl=w(nl," over time 2025-2050"),nl.forEach(o),ml=m(H),kt.l(H),ze=m(H),te=n(H,"DIV",{class:!0,"data-svelte-h":!0}),S(te)!=="svelte-1yzemw8"&&(te.innerHTML=ps),bl=m(H),_e=n(H,"DIV",{class:!0}),u(_e).forEach(o),gl=m(H),_l=n(H,"BR",{}),El=m(H),wt=n(H,"H3",{class:!0});var Ne=u(wt);yl=w(Ne,"Distribution of "),ee=n(Ne,"SPAN",{style:!0});var zs=u(ee);wl=w(zs,ms),zs.forEach(o),Cl=w(Ne,` across UK\r
                        \r
\r
                        `),le=n(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),S(le)!=="svelte-7glovi"&&(le.innerHTML=bs),Ne.forEach(o),Dl=m(H),Lt.l(H),We=m(H),se=n(H,"DIV",{class:!0,"data-svelte-h":!0}),S(se)!=="svelte-1yzemw8"&&(se.innerHTML=gs),Sl=m(H),Mt=n(H,"DIV",{class:!0,"data-svelte-h":!0}),S(Mt)!=="svelte-17463th"&&(Mt.innerHTML=_s),kl=m(H),Ll=n(H,"BR",{}),H.forEach(o),Al=m(al),Z=n(al,"DIV",{class:!0});var pt=u(Z);Pt=n(pt,"H3",{class:!0});var il=u(Pt);Il=w(il,"Per Capita "),ae=n(il,"SPAN",{style:!0});var Ws=u(ae);Tl=w(Ws,Es),Ws.forEach(o),xl=w(il," by UK local authorities"),il.forEach(o),Vl=m(pt),ne=n(pt,"P",{class:!0,"data-svelte-h":!0}),S(ne)!=="svelte-32j67s"&&(ne.textContent=ys),Nl=m(pt),ie=n(pt,"DIV",{class:!0,"data-svelte-h":!0}),S(ie)!=="svelte-1pbiq4x"&&(ie.innerHTML=ws),Ml=m(pt),Q&&Q.l(pt),Re=m(pt),Ct=n(pt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),S(Ct)!=="svelte-1bex1ev"&&(Ct.innerHTML=Cs),pt.forEach(o),al.forEach(o),sl.forEach(o),Pl=m(ll),Bt=n(ll,"DIV",{id:!0});var rl=u(Bt);re=n(rl,"DIV",{class:!0,"data-svelte-h":!0}),S(re)!=="svelte-1l51yw7"&&(re.innerHTML=Ds),Bl=m(rl),ht=n(rl,"DIV",{id:!0,class:!0,style:!0});var ol=u(ht);at=n(ol,"DIV",{id:!0,class:!0});var jt=u(at);Ht=n(jt,"H3",{class:!0});var cl=u(Ht);Hl=w(cl,"How "),oe=n(cl,"SPAN",{style:!0});var Rs=u(oe);Ol=w(Rs,Ss),Rs.forEach(o),Fl=w(cl,` vary by household social-economic\r
                        factors`),cl.forEach(o),Ul=m(jt),ce=n(jt,"P",{class:!0,"data-svelte-h":!0}),S(ce)!=="svelte-r5sqj1"&&(ce.textContent=ks),zl=m(jt),$=n(jt,"DIV",{id:!0,class:!0});var mt=u($);de=n(mt,"DIV",{class:!0,"data-svelte-h":!0}),S(de)!=="svelte-131efpe"&&(de.innerHTML=Ls),Wl=m(mt),fe=n(mt,"STRONG",{style:!0,"data-svelte-h":!0}),S(fe)!=="svelte-1s0qlts"&&(fe.textContent=As),Rl=m(mt),Kl=n(mt,"BR",{}),ql=m(mt),Ee=n(mt,"SPAN",{"data-svelte-h":!0}),S(Ee)!=="svelte-av8zq9"&&(Ee.textContent=Is),Gl=m(mt),O=n(mt,"DIV",{class:!0});var et=u(O);jl=n(et,"BR",{}),Yl=m(et),Ot=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ks=u(Ot);Xl=w(Ks,"Scotland"),Ks.forEach(o),Jl=m(et),Ft=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var qs=u(Ft);Ql=w(qs,"Northern Ireland"),qs.forEach(o),Zl=m(et),Ut=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Gs=u(Ut);$l=w(Gs,"England"),Gs.forEach(o),ts=m(et),zt=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var js=u(zt);es=w(js,"Wales"),js.forEach(o),ls=m(et),ss=n(et,"BR",{}),as=m(et),Wt=n(et,"BUTTON",{class:!0,"data-svelte-h":!0}),S(Wt)!=="svelte-2t5u5r"&&(Wt.textContent=Ts),et.forEach(o),mt.forEach(o),ns=m(jt),Rt=n(jt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),S(Rt)!=="svelte-p1d3q2"&&(Rt.innerHTML=xs),jt.forEach(o),is=m(ol),ve=n(ol,"DIV",{id:!0,class:!0});var Ys=u(ve);Kt=n(Ys,"DIV",{id:!0,class:!0});var Xs=u(Kt);for(let os=0;os<K.length;os+=1)K[os].l(Xs);Xs.forEach(o),Ys.forEach(o),ol.forEach(o),rl.forEach(o),ll.forEach(o),L.forEach(o),this.h()},h(){l(x,"class","page-subtitle svelte-b9v0tr"),Be(C.src,P=i[17])||l(C,"src",P),l(C,"alt","Icon"),l(C,"class","heading-icon svelte-b9v0tr"),Yt(M,"margin-top","10px"),l(V,"class","page-title svelte-b9v0tr"),Yt(At,"margin-top","14px"),l(ct,"class","definition svelte-b9v0tr"),l(_,"class","title-container"),l(c,"class","header-text svelte-b9v0tr"),l(G,"class","aggregation-icon-small svelte-b9v0tr"),Be(G.src,Jt=ds)||l(G,"src",Jt),l(G,"alt","icon"),l(gt,"class","small svelte-b9v0tr"),l(U,"class","waffle-value svelte-b9v0tr"),l(vt,"class","waffle-value-container svelte-b9v0tr"),l(it,"class","waffle-stat svelte-b9v0tr"),l(_t,"class","aggregation-icon-small svelte-b9v0tr"),Be(_t.src,Fe=fs)||l(_t,"src",Fe),l(_t,"alt","icon"),l(Et,"class","waffle-value svelte-b9v0tr"),l(ut,"class","waffle-value-container svelte-b9v0tr"),l(dt,"class","waffle-stat svelte-b9v0tr"),l(D,"class","aggregation-icon-small svelte-b9v0tr"),Be(D.src,z=Ja)||l(D,"src",z),l(D,"alt","icon"),l(f,"class","waffle-value-container svelte-b9v0tr"),l(g,"class","waffle-caption svelte-b9v0tr"),l(d,"class","waffle-stat svelte-b9v0tr"),l(lt,"class","waffle-stats svelte-b9v0tr"),l(It,"class","waffle-label svelte-b9v0tr"),l(ft,"class","component-title"),l(Tt,"class","waffle-el"),l(ge,"class","waffle-bg svelte-b9v0tr"),l(F,"class","header-waffle-wrapper svelte-b9v0tr"),l(b,"class","header-content svelte-b9v0tr"),l(h,"class","section header svelte-b9v0tr"),l(Zt,"class","section-header"),l($t,"style",i[13]),l(Nt,"class","component-title"),l(te,"class","aggregation-icon-container"),l(_e,"class","plot-bar svelte-b9v0tr"),l(ee,"style",i[13]),l(le,"class","tooltip-term"),l(wt,"class","component-title"),l(se,"class","aggregation-icon-container"),l(Mt,"class","plot-bar svelte-b9v0tr"),l(k,"class","component singlevis"),l(ae,"style",i[13]),l(Pt,"class","component-title"),l(ne,"class","description svelte-b9v0tr"),l(ie,"class","aggregation-icon-container2 svelte-b9v0tr"),l(Ct,"id","map"),l(Ct,"class","svelte-b9v0tr"),l(Z,"class","component column"),l(yt,"id","vis-block"),l(yt,"class","svelte-b9v0tr"),l(Vt,"id","overview"),l(re,"class","section-header"),l(oe,"style",i[13]),l(Ht,"class","component-title"),l(ce,"class","explanation"),l(de,"class","aggregation-icon-container2 svelte-b9v0tr"),Yt(fe,"margin-bottom","0.8rem"),l(Ot,"class","nation-button svelte-b9v0tr"),l(Ot,"data-nation","S"),Yt(Ot,"background-color",bt(i[14])[0]),l(Ft,"class","nation-button svelte-b9v0tr"),l(Ft,"data-nation","N"),Yt(Ft,"background-color",bt(i[14])[1]),l(Ut,"class","nation-button svelte-b9v0tr"),l(Ut,"data-nation","E"),Yt(Ut,"background-color",bt(i[14])[2]),l(zt,"class","nation-button svelte-b9v0tr"),l(zt,"data-nation","W"),Yt(zt,"background-color",bt(i[14])[3]),l(Wt,"class","reset-button svelte-b9v0tr"),l(O,"class","legend-buttons svelte-b9v0tr"),l($,"id","se-legend"),l($,"class","legend-box svelte-b9v0tr"),l(Rt,"id","se-disclaimer"),l(Rt,"class","disclaimer-box svelte-b9v0tr"),l(at,"id","se-title"),l(at,"class","svelte-b9v0tr"),l(Kt,"id","multiple-plots"),l(Kt,"class","svelte-b9v0tr"),l(ve,"id","multiple-comp"),l(ve,"class","svelte-b9v0tr"),l(ht,"id","se-block"),l(ht,"class","component svelte-b9v0tr"),Yt(ht,"margin-left","1rem"),l(Bt,"id","compare"),l(xt,"class","section"),l(s,"class","page-container")},m(v,L){Da(e,v,L),q(v,r,L),q(v,s,L),t(s,h),t(h,b),t(b,c),t(c,x),t(c,I),t(c,_),t(_,V),t(V,C),t(V,N),t(V,M),t(V,T),t(V,nt),t(_,ot),t(_,At),t(_,pe),t(_,ct),t(ct,me),t(b,Xt),t(b,F),t(F,It),t(It,lt),t(lt,it),t(it,vt),t(vt,G),t(vt,Le),t(vt,U),j&&j.m(U,null),t(U,st),t(U,gt),t(it,Ae),Dt.m(it,null),t(lt,Ie),t(lt,dt),t(dt,ut),t(ut,_t),t(ut,Te),t(ut,Et),Y&&Y.m(Et,null),t(dt,xe),St.m(dt,null),t(lt,Ve),t(lt,d),t(d,f),t(f,D),t(f,W),X&&X.m(f,null),t(d,rt),t(d,g),t(F,Qt),t(F,ft),t(F,tt),t(F,Tt),i[23](Tt),t(F,be),t(F,ge),i[24](ge),t(s,fl),J&&J.m(s,null),t(s,Ue),t(s,xt),t(xt,Vt),t(Vt,Zt),t(Vt,vl),t(Vt,yt),t(yt,k),t(k,Nt),t(Nt,ul),t(Nt,$t),t($t,hl),t(Nt,pl),t(k,ml),kt.m(k,null),t(k,ze),t(k,te),t(k,bl),t(k,_e),i[25](_e),t(k,gl),t(k,_l),t(k,El),t(k,wt),t(wt,yl),t(wt,ee),t(ee,wl),t(wt,Cl),t(wt,le),t(k,Dl),Lt.m(k,null),t(k,We),t(k,se),t(k,Sl),t(k,Mt),i[26](Mt),t(k,kl),t(k,Ll),t(yt,Al),t(yt,Z),t(Z,Pt),t(Pt,Il),t(Pt,ae),t(ae,Tl),t(Pt,xl),t(Z,Vl),t(Z,ne),t(Z,Nl),t(Z,ie),t(Z,Ml),Q&&Q.m(Z,null),t(Z,Re),t(Z,Ct),i[27](Ct),t(xt,Pl),t(xt,Bt),t(Bt,re),t(Bt,Bl),t(Bt,ht),t(ht,at),t(at,Ht),t(Ht,Hl),t(Ht,oe),t(oe,Ol),t(Ht,Fl),t(at,Ul),t(at,ce),t(at,zl),t(at,$),t($,de),t($,Wl),t($,fe),t($,Rl),t($,Kl),t($,ql),t($,Ee),t($,Gl),t($,O),t(O,jl),t(O,Yl),t(O,Ot),t(Ot,Xl),t(O,Jl),t(O,Ft),t(Ft,Ql),t(O,Zl),t(O,Ut),t(Ut,$l),t(O,ts),t(O,zt),t(zt,es),t(O,ls),t(O,ss),t(O,as),t(O,Wt),t(at,ns),t(at,Rt),t(ht,is),t(ht,ve),t(ve,Kt);for(let B=0;B<K.length;B+=1)K[B]&&K[B].m(Kt,null);i[29](s),qt=!0,rs||(Vs=pa(Wt,"click",i[18]),rs=!0)},p(v,L){if(v[4]?j?j.p(v,L):(j=ia(v),j.c(),j.m(U,st)):j&&(j.d(1),j=null),Ke!==(Ke=Ns(v))&&(Dt.d(1),Dt=Ke(v),Dt&&(Dt.c(),Dt.m(it,null))),v[4]?Y?Y.p(v,L):(Y=ra(v),Y.c(),Y.m(Et,null)):Y&&(Y.d(1),Y=null),qe!==(qe=Ms(v))&&(St.d(1),St=qe(v),St&&(St.c(),St.m(dt,null))),v[4]?X?X.p(v,L):(X=oa(v),X.c(),X.m(f,null)):X&&(X.d(1),X=null),v[9]?J?J.p(v,L):(J=ca(v),J.c(),J.m(s,Ue)):J&&(J.d(1),J=null),(!qt||L[0]&8192)&&l($t,"style",v[13]),Ge!==(Ge=Ps(v))&&(kt.d(1),kt=Ge(v),kt&&(kt.c(),kt.m(k,ze))),(!qt||L[0]&8192)&&l(ee,"style",v[13]),je!==(je=Bs(v))&&(Lt.d(1),Lt=je(v),Lt&&(Lt.c(),Lt.m(k,We))),(!qt||L[0]&8192)&&l(ae,"style",v[13]),v[7]?Q?Q.p(v,L):(Q=fa(v),Q.c(),Q.m(Z,Re)):Q&&(Q.d(1),Q=null),(!qt||L[0]&8192)&&l(oe,"style",v[13]),L[0]&2){ye=Qs(aa);let B;for(B=0;B<ye.length;B+=1){const ue=na(v,ye,B);K[B]?K[B].p(ue,L):(K[B]=va(ue),K[B].c(),K[B].m(Kt,null))}for(;B<K.length;B+=1)K[B].d(1);K.length=ye.length}},i(v){qt||(Sa(e.$$.fragment,v),qt=!0)},o(v){ka(e.$$.fragment,v),qt=!1},d(v){v&&(o(r),o(s)),La(e,v),j&&j.d(),Dt.d(),Y&&Y.d(),St.d(),X&&X.d(),i[23](null),i[24](null),J&&J.d(),kt.d(),i[25](null),Lt.d(),i[26](null),Q&&Q.d(),i[27](null),ma(K,v),i[29](null),rs=!1,Vs()}}}let ke=400;function ua(i){return{overview:"Overview",compare:"Compare by socio-economic factor"}[i]||""}function cn(i,e,r){let s,h,b,c,x,A={},{data:I}=e;const _=I.coBenefit,V=la.find(d=>d.id===_)?.label??_,C=Ha.find(d=>d.id===_)?.def??_;let P,N,M,T,nt,ot,At,pe,ct=!1,me,Xt,F;Le().then(()=>{let d=JSON.parse(JSON.stringify(Pe(_)));d.shift(),d=d.reverse(),r(7,Xt=new Ba(N,"LAD",F,"total",!0,"LAD",!1,d)),Xt.initMap()});let It=Oa(_),lt=!1,it="";const vt=["overview","compare"];let G=null;function Jt(){const d=window.scrollY;r(9,lt=d>250);for(const f of vt){const D=document.getElementById(f);if(!D)continue;const z=D.getBoundingClientRect();if(z.top<=150&&z.bottom>=150){r(10,it=f);break}}}Js(()=>(window.addEventListener("scroll",Jt),Jt(),()=>window.removeEventListener("scroll",Jt))),ba(()=>{window.removeEventListener("scroll",Jt)});async function Le(){P=await Se(Ka(_)),M=await Se(qa(_)),nt=await Se(Ga()),nt=nt.sort((f,D)=>D.total-f.total),ot=await Se(ja()),ot=ot.sort((f,D)=>D.total_value-f.total_value);const d=ot.find(f=>f.co_benefit_type===_);r(6,me=d?d.value_per_capita:null),N=await Se(Ya(_)),console.log("data",N),At=await Se(Xa()),r(5,pe=At[0].total_value),sa.forEach(f=>{M[f]=+M[f]}),r(4,T=Ia(P,f=>f.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),r(20,ct=!0)}let U,st;function gt(d,f){if(!U)return;const D=20,z=15,W=Math.floor(200/D),rt=z*W,g=nt.reduce((E,tt)=>E+tt.total,0),R=[];for(const E of nt){const tt=Math.round(Math.abs(E.total)/g*rt),Tt=E.total<0;for(let be=0;be<tt;be++)R.push({type:E.co_benefit_type,negative:Tt})}for(;R.length<rt;)R.push({type:"empty"});R.sort((E,tt)=>E.type==="empty"?1:tt.type==="empty"?-1:E.negative&&!tt.negative?1:!E.negative&&tt.negative?-1:0);const Qt=R.map((E,tt)=>({x:tt%z,y:Math.floor(tt/z),...E})),ft=Me({width:D*z,height:D*W,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:la.map(E=>E.id),range:za,unknown:"#eee",legend:!1},marks:[ta(Qt.filter(E=>!E.negative),{x:E=>E.x*D,y:E=>E.y*D,fill:"type",fillOpacity:E=>f&&E.type!==f?.15:1}),ta(Qt.filter(E=>E.negative),{x:E=>E.x*D,y:E=>E.y*D,stroke:"type",strokeOpacity:E=>f&&E.type!==f?.15:1,strokeWidth:1,fill:"none"})]});st&&(r(12,st.style.width=`${D*z}px`,st),r(12,st.style.height=`${d-100}px`,st)),r(11,U.innerHTML="",U),U.append(ft)}function Oe(){c?.append(Me({height:ke/1.5,...Wa,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazones",grid:!0},x:{label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Na(N,Qa({y:"count"},{x:d=>d.total*1e3,fill:Pe(_)[0],tip:!0,fillOpacity:.5,stroke:Pe(_)[0],strokeWidth:2})),ea({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),dl([0],{stroke:"#333",strokeWidth:.75})]}))}function Ae(){let d=P.flatMap(f=>Fa.map(D=>({time:D,value:f[D],total:f.total,scenario:f.scenario})));x?.append(Me({height:ke/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:f=>f.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[Za(d,Ma({y:"sum"},{x:"time",y:f=>f.value/1e3,fill:Pe(_)[0],tip:{format:{y:f=>`${f.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),ea({anchor:"left",grid:!0,label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"}),dl([0],{stroke:"#333",strokeWidth:.75})]}))}function Ie(){const d=f=>f.LAD.startsWith("S")?"S":f.LAD.startsWith("N")?"N":f.LAD.startsWith("E")?"E":"W";sa.forEach((f,D)=>{let z;if(Ua.includes(f)){const W=Ra[f],rt=W?Object.keys(W).map(Number):N.filter(g=>g.SEFMAME==f).map(g=>g.SE);z=Me({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:ke/1.4,width:ke*1.2,marginLeft:70,marginBottom:f==="Typology"?80:60,marginRight:20,marginTop:30,x:{domain:rt,label:cs(f),tickFormat:g=>W?.[g]??g,tickRotate:f==="Typology"?-20:0},y:{label:"£, thousand",labelArrow:"none"},color:{legend:!0},marks:[vs(N.filter(g=>g.SEFMAME==f),{x:"SE",y:g=>g.total*1e3,r:1.8,fillOpacity:.7,fill:g=>g.LAD.startsWith("S")?bt(_)[1]:g.LAD.startsWith("N")?bt(_)[2]:g.LAD.startsWith("E")?bt(_)[3]:bt(_)[4]}),dl([0],{stroke:"#333",strokeWidth:.75})]})}else{let W=N.filter(g=>g.SEFMAME===f&&(G===null||d(g)==G)),rt=W.reduce(function(g,R){return g.SE<R.SE?g:R});z=Me({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:ke/1.4,width:ke*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:30,x:{label:cs(f),labelArrow:!1,labelAnchor:"center"},y:{label:"£, thousand",labelArrow:!1},color:{legend:!0},marks:[D==6?Zs(["Each dot represents a Local Authority District (LAD)."],{x:["Under_35","Over_65","Unemployment"].includes(f)?rt.SE*100:rt.SE,y:rt.total*1e3,textPadding:6,opacity:.5,lineWidth:12}):[],vs(W,{x:g=>["Under_35","Over_65","Unemployment"].includes(f)?g.SE*100:g.SE,y:g=>g.total*1e3,fill:g=>{const R=["S","N","E","W"].indexOf(d(g));return bt(_)[R]},r:2,fillOpacity:.1,channels:{LAD:"LAD"}}),vs(W,{x:g=>["Under_35","Over_65","Unemployment"].includes(f)?g.SE*100:g.SE,y:g=>g.total*1e3,fill:g=>{const R=["S","N","E","W"].indexOf(d(g));return bt(_)[R]},r:3.5,fillOpacity:1}),Ta({label:cs(f),labelArrow:!1,labelAnchor:"center"}),dl([0],{stroke:"#333",strokeWidth:.75}),xa([0],{stroke:"#333",strokeWidth:.75}),Zs(W,Va({x:g=>["Under_35","Over_65","Unemployment"].includes(f)?g.SE*100:g.SE,y:g=>g.total*1e3,title:g=>[`LAD: ${g.LAD}`,"Click to navigate to page."].join(`
`)}))]}),console.log($s(z).select('g[aria-label="dot"]').selectAll("circle")),$s(z).selectAll('g[aria-label="dot"]').selectAll("circle").style("cursor","pointer").on("click",(g,R,Qt)=>{let ft=W[R].LAD;window.open(`${Pa}/location?location=${ft}`,"_blank").focus()})}A[f]?.append(z)})}function dt(){r(21,G=null)}Js(()=>{document.querySelectorAll(".nation-button").forEach(d=>{d.addEventListener("click",()=>{const f=d.getAttribute("data-nation");G===f?(r(21,G=null),d.classList.remove("active")):(r(21,G=f),document.querySelectorAll(".nation-button").forEach(D=>D.classList.remove("active")),d.classList.add("active"))})})});function ut(d){he[d?"unshift":"push"](()=>{U=d,r(11,U)})}function _t(d){he[d?"unshift":"push"](()=>{st=d,r(12,st)})}function Fe(d){he[d?"unshift":"push"](()=>{x=d,r(0,x)})}function Te(d){he[d?"unshift":"push"](()=>{c=d,r(3,c)})}function Et(d){he[d?"unshift":"push"](()=>{F=d,r(8,F)})}function xe(d,f){he[d?"unshift":"push"](()=>{A[f.id]=d,r(1,A)})}function Ve(d){he[d?"unshift":"push"](()=>{b=d,r(2,b)})}return i.$$set=d=>{"data"in d&&r(19,I=d.data)},i.$$.update=()=>{i.$$.dirty[0]&1048577&&ct&&(x?.firstChild?.remove(),Oe(),Ae(),gt(300,_)),i.$$.dirty[0]&3145730&&ct&&G!==void 0&&(Object.values(A).forEach(d=>{d.firstChild?.remove()}),Ie()),i.$$.dirty[0]&4194304&&r(13,h=`color: ${s}; font-weight: bold; font-size: 22px;`)},r(22,s=Pe(_)[0]),[x,A,b,c,T,pe,me,Xt,F,lt,it,U,st,h,_,V,C,It,dt,I,ct,G,s,ut,_t,Fe,Te,Et,xe,Ve]}class Dn extends Ea{constructor(e){super(),ya(this,e,cn,on,ha,{data:19},null,[-1,-1])}}export{Dn as component};
