import{s as Ml,d as h,w as Tl,q as a,i as j,b as s,B as bl,C as jt,g as b,c as f,e as p,p as B,f as S,j as y,h as c,t as A,v as Bl,Z as ql,a as He,A as Xt}from"../chunks/CrcYK4S3.js";import{S as Fl,i as zl,d as xl,t as Rl,a as Ol,m as Wl,c as Hl,b as Yl}from"../chunks/CjO9S5jK.js";import{N as Ul,e as sl}from"../chunks/PZEsZt2J.js";import"../chunks/DRyxMU8n.js";import{a1 as Kl,a2 as yl,a3 as Xl,$ as Vn,i as El,a4 as jl,a5 as Gl,a6 as Cl,a7 as Zl,a8 as Ql,Q as Pl,a9 as Jl,O as $l,aa as il,z as ts,ab as es,V as _e,_ as rl,ac as al,a0 as ol}from"../chunks/BzrjCcuE.js";import{g as ns,M as ls}from"../chunks/CHh-3C3n.js";import{a as R,C as fl,S as Oe,g as ss,T as is,e as rs,f as as,M as os,d as fs}from"../chunks/BKBYTH2a.js";import{g as oe,n as cs,o as us,l as hs,k as ds,p as vs,j as ps}from"../chunks/bSPe4o60.js";import{d as Mn,m as ms,t as gs}from"../chunks/BZk_VCiK.js";import{a as wl}from"../chunks/BiB0mgj8.js";import{b as _s,d as bs}from"../chunks/IzWRIZAE.js";function ys(t,{y:e=El,x:n=null,r:l,fill:i="#ccc",fillOpacity:o,stroke:r="currentColor",strokeOpacity:u,strokeWidth:g=2,sort:_,...w}={}){const v=n!=null?yl:Xl;return Kl(Vn(t,v({y1:kl,y2:Il},{x:n,y:e,stroke:r,strokeOpacity:u,...w})),wl(t,v({y1:"p25",y2:"p75"},{x:n,y:e,fill:i,fillOpacity:o,...w})),gs(t,v({y:"p50"},{x:n,y:e,stroke:r,strokeOpacity:u,strokeWidth:g,sort:_,...w})),Mn(t,ms({y:Es},{x:n,y:e,z:n,r:l,stroke:r,strokeOpacity:u,...w})))}function Es(t){const e=kl(t),n=Il(t);return t.map(l=>l<e||l>n?l:NaN)}function kl(t){const e=Dl(t)*2.5-Sl(t)*1.5;return jl(t,n=>n>=e?n:NaN)}function Il(t){const e=Sl(t)*2.5-Dl(t)*1.5;return Gl(t,n=>n<=e?n:NaN)}function Dl(t){return Cl(t,.25)}function Sl(t){return Cl(t,.75)}function Cs(t,e,n,l,i){for(var o=i+1;l<=i;){var r=l+i>>>1,u=t[r],g=n!==void 0?n(u,e):u-e;g>=0?(o=r,i=r-1):l=r+1}return o}function Ps(t,e,n,l,i){for(var o=i+1;l<=i;){var r=l+i>>>1,u=t[r],g=n!==void 0?n(u,e):u-e;g>0?(o=r,i=r-1):l=r+1}return o}function ws(t,e,n,l,i){for(var o=l-1;l<=i;){var r=l+i>>>1,u=t[r],g=n!==void 0?n(u,e):u-e;g<0?(o=r,l=r+1):i=r-1}return o}function ks(t,e,n,l,i){for(var o=l-1;l<=i;){var r=l+i>>>1,u=t[r],g=n!==void 0?n(u,e):u-e;g<=0?(o=r,l=r+1):i=r-1}return o}function Is(t,e,n,l,i){for(;l<=i;){var o=l+i>>>1,r=t[o],u=n!==void 0?n(r,e):r-e;if(u===0)return o;u<=0?l=o+1:i=o-1}return-1}function be(t,e,n,l,i,o){return typeof n=="function"?o(t,e,n,l===void 0?0:l|0,i===void 0?t.length-1:i|0):o(t,e,void 0,n===void 0?0:n|0,l===void 0?t.length-1:l|0)}var Ds={ge:function(t,e,n,l,i){return be(t,e,n,l,i,Cs)},gt:function(t,e,n,l,i){return be(t,e,n,l,i,Ps)},lt:function(t,e,n,l,i){return be(t,e,n,l,i,ws)},le:function(t,e,n,l,i){return be(t,e,n,l,i,ks)},eq:function(t,e,n,l,i){return be(t,e,n,l,i,Is)}},We=Ds,ce=0,Gt=1,Re=2,Ss=Ls;function Bn(t,e,n,l,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=l,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+l.length}var ye=Bn.prototype;function Nn(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function Al(t,e){var n=ue(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function cl(t,e){var n=t.intervals([]);n.push(e),Al(t,n)}function ul(t,e){var n=t.intervals([]),l=n.indexOf(e);return l<0?ce:(n.splice(l,1),Al(t,n),Gt)}ye.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};ye.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?cl(this,t):this.left.insert(t):this.left=ue([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?cl(this,t):this.right.insert(t):this.right=ue([t]);else{var n=We.ge(this.leftPoints,t,qn),l=We.ge(this.rightPoints,t,Fn);this.leftPoints.splice(n,0,t),this.rightPoints.splice(l,0,t)}};ye.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return ce;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return ul(this,t);var l=this.left.remove(t);return l===Re?(this.left=null,this.count-=1,Gt):(l===Gt&&(this.count-=1),l)}else if(t[0]>this.mid){if(!this.right)return ce;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return ul(this,t);var l=this.right.remove(t);return l===Re?(this.right=null,this.count-=1,Gt):(l===Gt&&(this.count-=1),l)}else{if(this.count===1)return this.leftPoints[0]===t?Re:ce;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,r=this.left;r.right;)o=r,r=r.right;if(o===this)r.right=this.right;else{var u=this.left,l=this.right;o.count-=r.count,o.right=r.left,r.left=u,r.right=l}Nn(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Nn(this,this.left):Nn(this,this.right);return Gt}for(var u=We.ge(this.leftPoints,t,qn);u<this.leftPoints.length&&this.leftPoints[u][0]===t[0];++u)if(this.leftPoints[u]===t){this.count-=1,this.leftPoints.splice(u,1);for(var l=We.ge(this.rightPoints,t,Fn);l<this.rightPoints.length&&this.rightPoints[l][1]===t[1];++l)if(this.rightPoints[l]===t)return this.rightPoints.splice(l,1),Gt}return ce}};function Ll(t,e,n){for(var l=0;l<t.length&&t[l][0]<=e;++l){var i=n(t[l]);if(i)return i}}function Nl(t,e,n){for(var l=t.length-1;l>=0&&t[l][1]>=e;--l){var i=n(t[l]);if(i)return i}}function Vl(t,e){for(var n=0;n<t.length;++n){var l=e(t[n]);if(l)return l}}ye.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return Ll(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return Nl(this.rightPoints,t,e)}else return Vl(this.leftPoints,e)};ye.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var l=this.left.queryInterval(t,e,n);if(l)return l}if(e>this.mid&&this.right){var l=this.right.queryInterval(t,e,n);if(l)return l}return e<this.mid?Ll(this.leftPoints,e,n):t>this.mid?Nl(this.rightPoints,t,n):Vl(this.leftPoints,n)};function As(t,e){return t-e}function qn(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Fn(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function ue(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(As);for(var l=e[e.length>>1],i=[],o=[],r=[],n=0;n<t.length;++n){var u=t[n];u[1]<l?i.push(u):l<u[0]?o.push(u):r.push(u)}var g=r,_=r.slice();return g.sort(qn),_.sort(Fn),new Bn(l,ue(i),ue(o),g,_)}function Tn(t){this.root=t}var he=Tn.prototype;he.insert=function(t){this.root?this.root.insert(t):this.root=new Bn(t[0],null,null,[t],[t])};he.remove=function(t){if(this.root){var e=this.root.remove(t);return e===Re&&(this.root=null),e!==ce}return!1};he.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};he.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)};Object.defineProperty(he,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(he,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Ls(t){return!t||t.length===0?new Tn(null):new Tn(ue(t))}const Ns=ns(Ss),Vs=({marginLeft:t})=>[1,t],Ms=({width:t,marginRight:e})=>[-1,t-e],Ts=({width:t,marginLeft:e,marginRight:n})=>[0,(e+t-n)/2];function Bs(t){return typeof t=="string"?{anchor:t}:t}function qs(t={},e={}){arguments.length===1&&([t,e]=Fs(t));let{anchor:n="left",padding:l=1,r:i=e.r}=Bs(t);switch(`${n}`.toLowerCase()){case"left":n=Vs;break;case"right":n=Ms;break;case"middle":n=Ts;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return zs("x","y",n,Pl(l),i,e)}function Fs(t){const{anchor:e,padding:n,...l}=t,{r:i}=l;return[{anchor:e,padding:n,r:i},l]}function zs(t,e,n,l,i,o){if(i!=null&&typeof i!="number"){let{channels:r,sort:u,reverse:g}=o;r=Zl(r),r?.r===void 0&&(o={...o,channels:{...r,r:{value:i,scale:"r"}}}),u===void 0&&g===void 0&&(o.sort={channel:"-r"})}return Ql(o,function(r,u,g,_,w,v){let{[e]:P,r:D}=g;if(!g[e])throw new Error(`missing channel: ${e}`);({[e]:P}=Jl(g,_,v));const J=D?void 0:i!==void 0?Pl(i):this.r!==void 0?this.r:3;D&&(D=$l(D.value,_[D.scale]||El,Float64Array));let[$,_t]=n(w);const z=$?Rs:xs,x=new Float64Array(P.length),G=D?M=>D[M]:()=>J;for(let M of u){const q=Ns();M=M.filter(D?V=>il(P[V])&&ts(D[V]):V=>il(P[V]));const et=new Float64Array(2*M.length+2);for(const V of M){const it=G(V),bt=$?it+l:0,yt=P[V]-it,Z=P[V]+it;let O=2;q.queryInterval(yt-l,Z+l,([,,L])=>{const F=x[L]-bt,Et=P[V]-P[L],Ct=l+(D?D[V]+D[L]:2*J),tt=Math.sqrt(Ct*Ct-Et*Et);et[O++]=F-tt,et[O++]=F+tt});let at=et.slice(0,O);$&&(at=at.filter(L=>L>=0));t:for(const L of at.sort(z)){for(let F=0;F<O;F+=2)if(et[F]+1e-6<L&&L<et[F+1]-1e-6)continue t;x[V]=L+bt;break}q.insert([yt,Z,V])}}$||($=1);for(const M of u)for(const q of M)x[q]=x[q]*$+_t;return{data:r,facets:u,channels:{[t]:{value:x,source:null},[e]:{value:P,source:g[e]},...D&&{r:{value:D,source:g.r}}}}})}function xs(t,e){return Math.abs(t)-Math.abs(e)}function Rs(t,e){return t-e}function hl(t,e,n){const l=t.slice();return l[42]=e[n],l[43]=e,l[44]=n,l}function dl(t){let e,n,l=t[4].toLocaleString()+"",i;return{c(){e=c("span"),n=A("£"),i=A(l),this.h()},l(o){e=f(o,"SPAN",{class:!0});var r=p(e);n=S(r,"£"),i=S(r,l),r.forEach(h),this.h()},h(){a(e,"class","waffle-big svelte-nn7m37")},m(o,r){j(o,e,r),s(e,n),s(e,i)},p(o,r){r[0]&16&&l!==(l=o[4].toLocaleString()+"")&&He(i,l)},d(o){o&&h(e)}}}function Os(t){let e,n="National costs";return{c(){e=c("div"),e.textContent=n,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-o12owz"&&(e.textContent=n),this.h()},h(){a(e,"class","waffle-caption svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function Ws(t){let e,n="National benefits";return{c(){e=c("div"),e.textContent=n,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-10ytukz"&&(e.textContent=n),this.h()},h(){a(e,"class","waffle-caption svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function vl(t){let e,n,l=t[6].toLocaleString()+"",i;return{c(){e=c("span"),n=A("£"),i=A(l),this.h()},l(o){e=f(o,"SPAN",{class:!0});var r=p(e);n=S(r,"£"),i=S(r,l),r.forEach(h),this.h()},h(){a(e,"class","waffle-big svelte-nn7m37")},m(o,r){j(o,e,r),s(e,n),s(e,i)},p(o,r){r[0]&64&&l!==(l=o[6].toLocaleString()+"")&&He(i,l)},d(o){o&&h(e)}}}function Hs(t){let e,n="Per capita costs";return{c(){e=c("div"),e.textContent=n,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-6pmcl0"&&(e.textContent=n),this.h()},h(){a(e,"class","waffle-caption svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function Ys(t){let e,n="Per capita benefits";return{c(){e=c("div"),e.textContent=n,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-g1rvwk"&&(e.textContent=n),this.h()},h(){a(e,"class","waffle-caption svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function pl(t){let e,n,l=(t[4]/t[5]*100).toFixed(2)+"",i,o,r,u="%";return{c(){e=c("div"),n=c("span"),i=A(l),o=y(),r=c("span"),r.textContent=u,this.h()},l(g){e=f(g,"DIV",{class:!0});var _=p(e);n=f(_,"SPAN",{class:!0});var w=p(n);i=S(w,l),w.forEach(h),o=b(_),r=f(_,"SPAN",{class:!0,"data-svelte-h":!0}),B(r)!=="svelte-jxggz7"&&(r.textContent=u),_.forEach(h),this.h()},h(){a(n,"class","waffle-big svelte-nn7m37"),a(r,"class","small svelte-nn7m37"),a(e,"class","waffle-value svelte-nn7m37")},m(g,_){j(g,e,_),s(e,n),s(n,i),s(e,o),s(e,r)},p(g,_){_[0]&48&&l!==(l=(g[4]/g[5]*100).toFixed(2)+"")&&He(i,l)},d(g){g&&h(e)}}}function ml(t){let e,n,l,i,o,r,u,g,_=t[4]&&gl(t);return{c(){e=c("div"),n=c("div"),l=c("img"),o=y(),r=c("span"),u=A(t[13]),g=y(),_&&_.c(),this.h()},l(w){e=f(w,"DIV",{class:!0});var v=p(e);n=f(v,"DIV",{class:!0});var P=p(n);l=f(P,"IMG",{src:!0,alt:!0,class:!0}),o=b(P),r=f(P,"SPAN",{class:!0});var D=p(r);u=S(D,t[13]),D.forEach(h),g=b(P),_&&_.l(P),P.forEach(h),v.forEach(h),this.h()},h(){bl(l.src,i=t[14])||a(l,"src",i),a(l,"alt","Icon"),a(l,"class","mini-heading-icon svelte-nn7m37"),a(r,"class","mini-header-text svelte-nn7m37"),a(n,"class","mini-header-content svelte-nn7m37"),a(e,"class","mini-header svelte-nn7m37")},m(w,v){j(w,e,v),s(e,n),s(n,l),s(n,o),s(n,r),s(r,u),s(n,g),_&&_.m(n,null)},p(w,v){w[4]?_?_.p(w,v):(_=gl(w),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},d(w){w&&h(e),_&&_.d()}}}function gl(t){let e,n,l=t[4].toLocaleString()+"",i,o;return{c(){e=c("span"),n=A("UK total: £"),i=A(l),o=A(" billion"),this.h()},l(r){e=f(r,"SPAN",{class:!0});var u=p(e);n=S(u,"UK total: £"),i=S(u,l),o=S(u," billion"),u.forEach(h),this.h()},h(){a(e,"class","mini-header-value svelte-nn7m37")},m(r,u){j(r,e,u),s(e,n),s(e,i),s(e,o)},p(r,u){u[0]&16&&l!==(l=r[4].toLocaleString()+"")&&He(i,l)},d(r){r&&h(e)}}}function Us(t){let e,n="The cost per capita for each 5 year interval towards 2050.";return{c(){e=c("p"),e.textContent=n,this.h()},l(l){e=f(l,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-pe9xxo"&&(e.textContent=n),this.h()},h(){a(e,"class","description svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function Ks(t){let e,n="The benefit per capita for each 5 year interval towards 2050.";return{c(){e=c("p"),e.textContent=n,this.h()},l(l){e=f(l,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-i8o6zu"&&(e.textContent=n),this.h()},h(){a(e,"class","description svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function Xs(t){let e,n="The total cost per capita for each data zone.";return{c(){e=c("p"),e.textContent=n,this.h()},l(l){e=f(l,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-dn86oi"&&(e.textContent=n),this.h()},h(){a(e,"class","description svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function js(t){let e,n="The total benefit per capita for each data zone.";return{c(){e=c("p"),e.textContent=n,this.h()},l(l){e=f(l,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-4cme04"&&(e.textContent=n),this.h()},h(){a(e,"class","description svelte-nn7m37")},m(l,i){j(l,e,i)},d(l){l&&h(e)}}}function _l(t){let e,n,l=t[42].replaceAll("_"," ")+"",i,o,r,u=t[42],g;const _=()=>t[24](r,u),w=()=>t[24](null,u);return{c(){e=c("div"),n=c("h3"),i=A(l),o=y(),r=c("div"),g=y(),this.h()},l(v){e=f(v,"DIV",{class:!0});var P=p(e);n=f(P,"H3",{class:!0,style:!0});var D=p(n);i=S(D,l),D.forEach(h),o=b(P),r=f(P,"DIV",{class:!0}),p(r).forEach(h),g=b(P),P.forEach(h),this.h()},h(){a(n,"class","component-title"),jt(n,"text-align","center"),a(r,"class","plot"),a(e,"class","plot-container")},m(v,P){j(v,e,P),s(e,n),s(n,i),s(e,o),s(e,r),_(),s(e,g)},p(v,P){t=v,u!==t[42]&&(w(),u=t[42],_())},d(v){v&&h(e),w()}}}function Gs(t){let e,n,l,i,o,r,u,g="Co-Benefit Report",_,w,v,P,D,J,$,_t,z,x,G,M,q,et,V,it="billion",bt,yt,Z,O,at,L,F="thousand",Et,Ct,tt,Zt,ut,Ee="Contribution",de,Pt,ve,wt,pe,m,C,E,I,rt,Qt,ht,kt=t[13].toLowerCase()+"",Jt,me,k,Q,ot,ge="",Ye,Ue,Ke,It,Xe,Bt,zn=t[13].toLowerCase()+"",je,Ge,Ze,Ce,Dt,xn="",Qe,Je,$e,ft,qt,Ft,tn,en,nn,zt,Rn="Scroll for zooming in and out.",ln,dt,On="",sn,ct,nt,St,rn,xt,Wn=t[13]?.toLowerCase()+"",an,on,fn,cn,un,At,Hn='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represents modeled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where x-axis is non-liner:  EPC, Tenure, Typology, Fuel type, Gas flag, Number of cars.</p>',hn,lt,Rt,Yn="Legend:",dn,vn,pn,$t,Un="The scatter plots are shaded by nation.",mn,st,Ot,te,gn,_n,Wt,ee,bn,yn,Ht,ne,En,Cn,Yt,le,Pn,wn,Ut,Lt,Nt;e=new Ul({});let H=t[4]&&dl(t);function Kn(d,N){return d[4]>0?Ws:Os}let Pe=Kn(t),vt=Pe(t),Y=t[4]&&vl(t);function Xn(d,N){return d[4]>0?Ys:Hs}let we=Xn(t),pt=we(t),U=t[4]&&pl(t),K=t[8]&&ml(t);function jn(d,N){return d[4]>0?Ks:Us}let ke=jn(t),mt=ke(t);function Gn(d,N){return d[4]>0?js:Xs}let Ie=Gn(t),gt=Ie(t),se=sl(Oe),W=[];for(let d=0;d<se.length;d+=1)W[d]=_l(hl(t,se,d));return{c(){Yl(e.$$.fragment),n=y(),l=c("div"),i=c("div"),o=c("div"),r=c("div"),u=c("p"),u.textContent=g,_=y(),w=c("div"),v=c("h1"),P=c("img"),J=y(),$=A(t[13]),_t=y(),z=c("div"),x=c("div"),G=c("div"),M=c("div"),q=c("div"),H&&H.c(),et=y(),V=c("span"),V.textContent=it,bt=y(),vt.c(),yt=y(),Z=c("div"),O=c("div"),Y&&Y.c(),at=y(),L=c("span"),L.textContent=F,Et=y(),pt.c(),Ct=y(),tt=c("div"),U&&U.c(),Zt=y(),ut=c("div"),ut.textContent=Ee,de=y(),Pt=c("div"),ve=y(),wt=c("div"),pe=y(),K&&K.c(),m=y(),C=c("div"),E=c("div"),I=c("div"),rt=c("h3"),Qt=A("Total "),ht=c("span"),Jt=A(kt),me=A(" (£k) to 2050"),k=y(),mt.c(),Q=y(),ot=c("div"),ot.innerHTML=ge,Ye=y(),Ue=c("br"),Ke=y(),It=c("h3"),Xe=A("Distribution of "),Bt=c("span"),je=A(zn),Ge=A(" across UK data zones."),Ze=y(),gt.c(),Ce=y(),Dt=c("div"),Dt.innerHTML=xn,Qe=y(),Je=c("br"),$e=y(),ft=c("div"),qt=c("h3"),Ft=c("span"),tn=A(t[13]),en=A(" on a map of the UK"),nn=y(),zt=c("p"),zt.textContent=Rn,ln=y(),dt=c("div"),dt.innerHTML=On,sn=y(),ct=c("div"),nt=c("div"),St=c("h3"),rn=A("Mapping the impact of "),xt=c("span"),an=A(Wn),on=A(" across UK local authorities according to socio-economic factors"),fn=y(),cn=c("br"),un=y(),At=c("div"),At.innerHTML=Hn,hn=y(),lt=c("div"),Rt=c("strong"),Rt.textContent=Yn,dn=y(),vn=c("br"),pn=y(),$t=c("span"),$t.textContent=Un,mn=y(),st=c("ul"),Ot=c("li"),te=c("span"),gn=A(`
                            Scotland`),_n=y(),Wt=c("li"),ee=c("span"),bn=A(`
                            Northern Ireland`),yn=y(),Ht=c("li"),ne=c("span"),En=A("England"),Cn=y(),Yt=c("li"),le=c("span"),Pn=A("Wales"),wn=y(),Ut=c("div"),Lt=c("div");for(let d=0;d<W.length;d+=1)W[d].c();this.h()},l(d){Hl(e.$$.fragment,d),n=b(d),l=f(d,"DIV",{class:!0});var N=p(l);i=f(N,"DIV",{class:!0});var T=p(i);o=f(T,"DIV",{class:!0});var Kt=p(o);r=f(Kt,"DIV",{class:!0});var De=p(r);u=f(De,"P",{class:!0,"data-svelte-h":!0}),B(u)!=="svelte-1flv0v9"&&(u.textContent=g),_=b(De),w=f(De,"DIV",{class:!0});var Zn=p(w);v=f(Zn,"H1",{class:!0});var Se=p(v);P=f(Se,"IMG",{src:!0,alt:!0,class:!0}),J=b(Se),$=S(Se,t[13]),Se.forEach(h),Zn.forEach(h),De.forEach(h),_t=b(Kt),z=f(Kt,"DIV",{class:!0});var ie=p(z);x=f(ie,"DIV",{class:!0});var Qn=p(x);G=f(Qn,"DIV",{class:!0});var re=p(G);M=f(re,"DIV",{class:!0});var Ae=p(M);q=f(Ae,"DIV",{class:!0});var Le=p(q);H&&H.l(Le),et=b(Le),V=f(Le,"SPAN",{class:!0,"data-svelte-h":!0}),B(V)!=="svelte-tlhydp"&&(V.textContent=it),Le.forEach(h),bt=b(Ae),vt.l(Ae),Ae.forEach(h),yt=b(re),Z=f(re,"DIV",{class:!0});var Ne=p(Z);O=f(Ne,"DIV",{class:!0});var Ve=p(O);Y&&Y.l(Ve),at=b(Ve),L=f(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),B(L)!=="svelte-ewwwhc"&&(L.textContent=F),Ve.forEach(h),Et=b(Ne),pt.l(Ne),Ne.forEach(h),Ct=b(re),tt=f(re,"DIV",{class:!0});var Me=p(tt);U&&U.l(Me),Zt=b(Me),ut=f(Me,"DIV",{class:!0,"data-svelte-h":!0}),B(ut)!=="svelte-1ahdmih"&&(ut.textContent=Ee),Me.forEach(h),re.forEach(h),Qn.forEach(h),de=b(ie),Pt=f(ie,"DIV",{class:!0}),p(Pt).forEach(h),ve=b(ie),wt=f(ie,"DIV",{class:!0}),p(wt).forEach(h),ie.forEach(h),Kt.forEach(h),T.forEach(h),pe=b(N),K&&K.l(N),m=b(N),C=f(N,"DIV",{class:!0});var Te=p(C);E=f(Te,"DIV",{id:!0,class:!0});var Be=p(E);I=f(Be,"DIV",{class:!0});var X=p(I);rt=f(X,"H3",{class:!0});var qe=p(rt);Qt=S(qe,"Total "),ht=f(qe,"SPAN",{style:!0});var Jn=p(ht);Jt=S(Jn,kt),Jn.forEach(h),me=S(qe," (£k) to 2050"),qe.forEach(h),k=b(X),mt.l(X),Q=b(X),ot=f(X,"DIV",{class:!0,"data-svelte-h":!0}),B(ot)!=="svelte-l1ce0t"&&(ot.innerHTML=ge),Ye=b(X),Ue=f(X,"BR",{}),Ke=b(X),It=f(X,"H3",{class:!0});var Fe=p(It);Xe=S(Fe,"Distribution of "),Bt=f(Fe,"SPAN",{style:!0});var $n=p(Bt);je=S($n,zn),$n.forEach(h),Ge=S(Fe," across UK data zones."),Fe.forEach(h),Ze=b(X),gt.l(X),Ce=b(X),Dt=f(X,"DIV",{class:!0,"data-svelte-h":!0}),B(Dt)!=="svelte-1xqwcwc"&&(Dt.innerHTML=xn),Qe=b(X),Je=f(X,"BR",{}),X.forEach(h),$e=b(Be),ft=f(Be,"DIV",{class:!0});var ae=p(ft);qt=f(ae,"H3",{class:!0});var kn=p(qt);Ft=f(kn,"SPAN",{style:!0});var tl=p(Ft);tn=S(tl,t[13]),tl.forEach(h),en=S(kn," on a map of the UK"),kn.forEach(h),nn=b(ae),zt=f(ae,"P",{class:!0,"data-svelte-h":!0}),B(zt)!=="svelte-1ask2se"&&(zt.textContent=Rn),ln=b(ae),dt=f(ae,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),B(dt)!=="svelte-ipahrb"&&(dt.innerHTML=On),ae.forEach(h),Be.forEach(h),sn=b(Te),ct=f(Te,"DIV",{id:!0,class:!0,style:!0});var ze=p(ct);nt=f(ze,"DIV",{id:!0,class:!0});var Vt=p(nt);St=f(Vt,"H3",{class:!0});var xe=p(St);rn=S(xe,"Mapping the impact of "),xt=f(xe,"SPAN",{style:!0});var el=p(xt);an=S(el,Wn),el.forEach(h),on=S(xe," across UK local authorities according to socio-economic factors"),xe.forEach(h),fn=b(Vt),cn=f(Vt,"BR",{}),un=b(Vt),At=f(Vt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),B(At)!=="svelte-yfftza"&&(At.innerHTML=Hn),hn=b(Vt),lt=f(Vt,"DIV",{id:!0,class:!0});var Mt=p(lt);Rt=f(Mt,"STRONG",{style:!0,"data-svelte-h":!0}),B(Rt)!=="svelte-xb363n"&&(Rt.textContent=Yn),dn=b(Mt),vn=f(Mt,"BR",{}),pn=b(Mt),$t=f(Mt,"SPAN",{"data-svelte-h":!0}),B($t)!=="svelte-ddxsq2"&&($t.textContent=Un),mn=b(Mt),st=f(Mt,"UL",{class:!0});var Tt=p(st);Ot=f(Tt,"LI",{class:!0});var In=p(Ot);te=f(In,"SPAN",{class:!0,style:!0}),p(te).forEach(h),gn=S(In,`
                            Scotland`),In.forEach(h),_n=b(Tt),Wt=f(Tt,"LI",{class:!0});var Dn=p(Wt);ee=f(Dn,"SPAN",{class:!0,style:!0}),p(ee).forEach(h),bn=S(Dn,`
                            Northern Ireland`),Dn.forEach(h),yn=b(Tt),Ht=f(Tt,"LI",{class:!0});var Sn=p(Ht);ne=f(Sn,"SPAN",{class:!0,style:!0}),p(ne).forEach(h),En=S(Sn,"England"),Sn.forEach(h),Cn=b(Tt),Yt=f(Tt,"LI",{class:!0});var An=p(Yt);le=f(An,"SPAN",{class:!0,style:!0}),p(le).forEach(h),Pn=S(An,"Wales"),An.forEach(h),Tt.forEach(h),Mt.forEach(h),Vt.forEach(h),wn=b(ze),Ut=f(ze,"DIV",{id:!0,class:!0});var nl=p(Ut);Lt=f(nl,"DIV",{id:!0,class:!0});var ll=p(Lt);for(let Ln=0;Ln<W.length;Ln+=1)W[Ln].l(ll);ll.forEach(h),nl.forEach(h),ze.forEach(h),Te.forEach(h),N.forEach(h),this.h()},h(){a(u,"class","page-subtitle svelte-nn7m37"),bl(P.src,D=t[14])||a(P,"src",D),a(P,"alt","Icon"),a(P,"class","heading-icon svelte-nn7m37"),a(v,"class","page-title svelte-nn7m37"),a(w,"class","title-container"),a(r,"class","header-text svelte-nn7m37"),a(V,"class","small svelte-nn7m37"),a(q,"class","waffle-value svelte-nn7m37"),a(M,"class","waffle-stat svelte-nn7m37"),a(L,"class","small svelte-nn7m37"),a(O,"class","waffle-value svelte-nn7m37"),a(Z,"class","waffle-stat svelte-nn7m37"),a(ut,"class","waffle-caption svelte-nn7m37"),a(tt,"class","waffle-stat svelte-nn7m37"),a(G,"class","waffle-stats svelte-nn7m37"),a(x,"class","waffle-label svelte-nn7m37"),a(Pt,"class","waffle-el"),a(wt,"class","waffle-bg svelte-nn7m37"),a(z,"class","header-waffle-wrapper svelte-nn7m37"),a(o,"class","header-content svelte-nn7m37"),a(i,"class","section header svelte-nn7m37"),a(ht,"style",t[11]),a(rt,"class","component-title"),a(ot,"class","plot"),a(Bt,"style",t[11]),a(It,"class","component-title"),a(Dt,"class","plot"),a(I,"class","component singlevis"),a(Ft,"style",t[11]),a(qt,"class","component-title"),a(zt,"class","description svelte-nn7m37"),a(dt,"id","map"),a(dt,"class","svelte-nn7m37"),a(ft,"class","component column"),a(E,"id","vis-block"),a(E,"class","svelte-nn7m37"),a(xt,"style",t[11]),a(St,"class","component-title"),a(At,"id","se-disclaimer"),a(At,"class","disclaimer-box svelte-nn7m37"),jt(Rt,"margin-bottom","1rem"),a(te,"class","legend-color svelte-nn7m37"),jt(te,"background-color",R(t[12])[1]),a(Ot,"class","svelte-nn7m37"),a(ee,"class","legend-color svelte-nn7m37"),jt(ee,"background-color",R(t[12])[2]),a(Wt,"class","svelte-nn7m37"),a(ne,"class","legend-color svelte-nn7m37"),jt(ne,"background-color",R(t[12])[3]),a(Ht,"class","svelte-nn7m37"),a(le,"class","legend-color svelte-nn7m37"),jt(le,"background-color",R(t[12])[4]),a(Yt,"class","svelte-nn7m37"),a(st,"class","legend-list svelte-nn7m37"),a(lt,"id","se-legend"),a(lt,"class","legend-box svelte-nn7m37"),a(nt,"id","se-title"),a(nt,"class","svelte-nn7m37"),a(Lt,"id","multiple-plots"),a(Lt,"class","svelte-nn7m37"),a(Ut,"id","multiple-comp"),a(Ut,"class","svelte-nn7m37"),a(ct,"id","se-block"),a(ct,"class","component svelte-nn7m37"),jt(ct,"margin-left","1rem"),a(C,"class","section"),a(l,"class","page-container")},m(d,N){Wl(e,d,N),j(d,n,N),j(d,l,N),s(l,i),s(i,o),s(o,r),s(r,u),s(r,_),s(r,w),s(w,v),s(v,P),s(v,J),s(v,$),s(o,_t),s(o,z),s(z,x),s(x,G),s(G,M),s(M,q),H&&H.m(q,null),s(q,et),s(q,V),s(M,bt),vt.m(M,null),s(G,yt),s(G,Z),s(Z,O),Y&&Y.m(O,null),s(O,at),s(O,L),s(Z,Et),pt.m(Z,null),s(G,Ct),s(G,tt),U&&U.m(tt,null),s(tt,Zt),s(tt,ut),s(z,de),s(z,Pt),t[19](Pt),s(z,ve),s(z,wt),t[20](wt),s(l,pe),K&&K.m(l,null),s(l,m),s(l,C),s(C,E),s(E,I),s(I,rt),s(rt,Qt),s(rt,ht),s(ht,Jt),s(rt,me),s(I,k),mt.m(I,null),s(I,Q),s(I,ot),t[21](ot),s(I,Ye),s(I,Ue),s(I,Ke),s(I,It),s(It,Xe),s(It,Bt),s(Bt,je),s(It,Ge),s(I,Ze),gt.m(I,null),s(I,Ce),s(I,Dt),t[22](Dt),s(I,Qe),s(I,Je),s(E,$e),s(E,ft),s(ft,qt),s(qt,Ft),s(Ft,tn),s(qt,en),s(ft,nn),s(ft,zt),s(ft,ln),s(ft,dt),t[23](dt),s(C,sn),s(C,ct),s(ct,nt),s(nt,St),s(St,rn),s(St,xt),s(xt,an),s(St,on),s(nt,fn),s(nt,cn),s(nt,un),s(nt,At),s(nt,hn),s(nt,lt),s(lt,Rt),s(lt,dn),s(lt,vn),s(lt,pn),s(lt,$t),s(lt,mn),s(lt,st),s(st,Ot),s(Ot,te),s(Ot,gn),s(st,_n),s(st,Wt),s(Wt,ee),s(Wt,bn),s(st,yn),s(st,Ht),s(Ht,ne),s(Ht,En),s(st,Cn),s(st,Yt),s(Yt,le),s(Yt,Pn),s(ct,wn),s(ct,Ut),s(Ut,Lt);for(let T=0;T<W.length;T+=1)W[T]&&W[T].m(Lt,null);t[25](l),Nt=!0},p(d,N){if(d[4]?H?H.p(d,N):(H=dl(d),H.c(),H.m(q,et)):H&&(H.d(1),H=null),Pe!==(Pe=Kn(d))&&(vt.d(1),vt=Pe(d),vt&&(vt.c(),vt.m(M,null))),d[4]?Y?Y.p(d,N):(Y=vl(d),Y.c(),Y.m(O,at)):Y&&(Y.d(1),Y=null),we!==(we=Xn(d))&&(pt.d(1),pt=we(d),pt&&(pt.c(),pt.m(Z,null))),d[4]?U?U.p(d,N):(U=pl(d),U.c(),U.m(tt,Zt)):U&&(U.d(1),U=null),d[8]?K?K.p(d,N):(K=ml(d),K.c(),K.m(l,m)):K&&(K.d(1),K=null),(!Nt||N[0]&2048)&&a(ht,"style",d[11]),ke!==(ke=jn(d))&&(mt.d(1),mt=ke(d),mt&&(mt.c(),mt.m(I,Q))),(!Nt||N[0]&2048)&&a(Bt,"style",d[11]),Ie!==(Ie=Gn(d))&&(gt.d(1),gt=Ie(d),gt&&(gt.c(),gt.m(I,Ce))),(!Nt||N[0]&2048)&&a(Ft,"style",d[11]),(!Nt||N[0]&2048)&&a(xt,"style",d[11]),N[0]&2){se=sl(Oe);let T;for(T=0;T<se.length;T+=1){const Kt=hl(d,se,T);W[T]?W[T].p(Kt,N):(W[T]=_l(Kt),W[T].c(),W[T].m(Lt,null))}for(;T<W.length;T+=1)W[T].d(1);W.length=se.length}},i(d){Nt||(Ol(e.$$.fragment,d),Nt=!0)},o(d){Rl(e.$$.fragment,d),Nt=!1},d(d){d&&(h(n),h(l)),xl(e,d),H&&H.d(),vt.d(),Y&&Y.d(),pt.d(),U&&U.d(),t[19](null),t[20](null),K&&K.d(),mt.d(),t[21](null),gt.d(),t[22](null),t[23](null),Tl(W,d),t[25](null)}}}let fe=400;function Zs(t,e,n){let l,i,o,r,u,g={},_="barchart",{data:w}=e;const v=w.coBenefit,P=fl.find(m=>m.id===v)?.label??v;let D,J,$,_t,z,x,G,M,q=!1,et,V,it,bt;at().then(()=>{V=new ls(J,"LAD",it,"total",!1,"LAD",!1),V.initMap();let m=V.legend();bt.append(m)});let yt=ss(v),Z=!1;function O(){const m=window.scrollY;n(8,Z=m>250)}Bl(()=>{window.addEventListener("scroll",O)}),ql(()=>{window.removeEventListener("scroll",O)});async function at(){D=await oe(cs(v)),$=await oe(us(v)),z=await oe(hs()),z=z.sort((C,E)=>E.total-C.total),x=await oe(ds()),x=x.sort((C,E)=>E.total_value-C.total_value);const m=x.find(C=>C.co_benefit_type===v);n(6,et=m?m.value_per_capita:null),console.log("coben waffle data",x),console.log("coben type",v),J=await oe(vs(v)),G=await oe(ps()),n(5,M=G[0].total_value),console.log(22,J),Oe.forEach(C=>{$[C]=+$[C]}),n(4,_t=es(D,C=>C.total/1e3).toFixed(3)),n(17,q=!0)}let L,F;function Et(m,C){if(!L)return;const E=20,I=15,rt=Math.floor(m/E),Qt=I*rt,ht=z.reduce((k,Q)=>k+Q.total,0),kt=[];for(const k of z){const Q=Math.round(Math.abs(k.total)/ht*Qt),ot=k.total<0;for(let ge=0;ge<Q;ge++)kt.push({type:k.co_benefit_type,negative:ot})}for(;kt.length<Qt;)kt.push({type:"empty"});kt.sort((k,Q)=>k.type==="empty"?1:Q.type==="empty"?-1:k.negative&&!Q.negative?1:!k.negative&&Q.negative?-1:0);const Jt=kt.map((k,Q)=>({x:Q%I,y:Math.floor(Q/I),...k})),me=_e({width:E*I,height:E*rt,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:fl.map(k=>k.id),range:fs,unknown:"#eee",legend:!1},marks:[ol(Jt.filter(k=>!k.negative),{x:k=>k.x*E,y:k=>k.y*E,fill:"type",fillOpacity:k=>C&&k.type!==C?.15:1}),ol(Jt.filter(k=>k.negative),{x:k=>k.x*E,y:k=>k.y*E,stroke:"type",strokeOpacity:k=>C&&k.type!==C?.15:1,strokeWidth:1,fill:"none"})]});F&&(n(10,F.style.width=`${E*I}px`,F),n(10,F.style.height=`${m}px`,F)),n(9,L.innerHTML="",L),L.append(me)}function Ct(){r?.append(_e({height:fe/1.2,...os,marginLeft:80,marginTop:40,marginRight:40,y:{label:"Datazones Frequency"},x:{label:"£/capita",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"18px"},marks:[_s(J,bs({y:"count"},{x:"total",fill:R(v)[0],tip:!0,fillOpacity:.5,stroke:R(v)[0],strokeWidth:3})),al({anchor:"left",label:"Datazone frequency",labelArrow:"none",labelAnchor:"center"}),Vn([0])]}))}function tt(){let m=D.flatMap(C=>is.map(E=>({time:E,value:C[E],total:C.total,scenario:C.scenario})));u?.append(_e({height:fe/1.2,marginLeft:90,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"18px"},x:{type:"band",tickFormat:C=>C.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{label:"Cost Benefit £/Capita",grid:!0},marks:[wl(m,yl({y:"sum"},{x:"time",y:"value",fill:R(v)[0],tip:!0,fillOpacity:.8,insetLeft:15,insetRight:15})),al({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"})]}))}function Zt(){Oe.forEach(m=>{let C;rs.includes(m)?C=_e({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:fe/1.2,width:fe/1.1,marginLeft:60,marginBottom:60,marginRight:10,marginTop:20,y:{label:"£/capita",labelArrow:"none"},color:{legend:!0},marks:[Mn(J.filter(E=>E.SEFMAME==m),qs("middle",{fx:"SE",y:"total",r:1,padding:-2,fill:E=>E.LAD.startsWith("S")?R(v)[1]:E.LAD.startsWith("N")?R(v)[2]:E.LAD.startsWith("E")?R(v)[3]:R(v)[4]})),ys(J.filter(E=>E.SEFMAME==m),{fx:"SE",y:"total",stroke:R(v)[0],fill:R(v)[4],r:0,fillOpacity:.3}),rl([0],{stroke:"#333",strokeWidth:.75})]}):C=_e({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:fe/1.4,width:fe/1.4,marginLeft:60,marginBottom:40,marginRight:40,marginTop:20,x:{label:as(m)},y:{label:"£/capita"},color:{legend:!0},marks:[Mn(J.filter(E=>E.SEFMAME==m),{x:"SE",y:"total",fill:E=>E.LAD.startsWith("S")?R(v)[1]:E.LAD.startsWith("N")?R(v)[2]:E.LAD.startsWith("E")?R(v)[3]:R(v)[4],r:2,fillOpacity:1}),rl([0],{stroke:"#333",strokeWidth:.75}),Vn([0],{stroke:"#333",strokeWidth:.75})]}),g[m]?.append(C)})}function ut(m){Xt[m?"unshift":"push"](()=>{L=m,n(9,L)})}function Ee(m){Xt[m?"unshift":"push"](()=>{F=m,n(10,F)})}function de(m){Xt[m?"unshift":"push"](()=>{u=m,n(0,u)})}function Pt(m){Xt[m?"unshift":"push"](()=>{r=m,n(3,r)})}function ve(m){Xt[m?"unshift":"push"](()=>{it=m,n(7,it)})}function wt(m,C){Xt[m?"unshift":"push"](()=>{g[C]=m,n(1,g)})}function pe(m){Xt[m?"unshift":"push"](()=>{o=m,n(2,o)})}return t.$$set=m=>{"data"in m&&n(15,w=m.data)},t.$$.update=()=>{t.$$.dirty[0]&196611&&(u?.firstChild?.remove(),Object.values(g).forEach(m=>{m.firstChild?.remove()}),q&&(Ct(),tt(),Zt(),Et(300,v))),t.$$.dirty[0]&262144&&n(11,i=`color: ${l}; font-weight: bold; font-size: 22px;`)},n(18,l=R(v)[0]),[u,g,o,r,_t,M,et,it,Z,L,F,i,v,P,yt,w,_,q,l,ut,Ee,de,Pt,ve,wt,pe]}class oi extends Fl{constructor(e){super(),zl(this,e,Zs,Gs,Ml,{data:15},null,[-1,-1])}}export{oi as component};
