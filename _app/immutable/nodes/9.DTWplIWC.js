import{s as ke,n as He,d as i,v as We,T as je,i as U,b as s,x as ye,r as V,c as u,e as E,g as A,f as le,h,j as N,t as ae,U as ut,q as Be,a as ce,w as me,B as Ee,p as ve,V as ht,C as Xe,W as ct,X as Ye,N as dt,Y as _t,y as mt,Z as vt,z as we}from"../chunks/BCTyX47f.js";import{S as Me,i as Re,d as Ae,t as Ne,a as Se,m as Ie,c as Pe,b as Oe}from"../chunks/8Kg-X87S.js";import{e as pe,N as gt}from"../chunks/Do0lbjIu.js";import{b as Te}from"../chunks/DW3y8tCO.js";import{g as pt}from"../chunks/DrG9DqMQ.js";import{B as qe,w as bt,a8 as Je}from"../chunks/CvoddFb4.js";import{c as yt,d as Ct,e as Et,C as Ht}from"../chunks/CXyd_JTm.js";import{a as Ue}from"../chunks/D6g-7Txl.js";import{g as Bt,n as Tt}from"../chunks/yndP5zWl.js";function Qe(a,e,t){const l=a.slice();return l[10]=e[t],l}function xe(a){let e,t=pe(a[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=$e(Qe(a,t,n));return{c(){e=h("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=u(n,"UL",{class:!0});var o=E(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(i),this.h()},h(){V(e,"class","suggestions svelte-1kj8esc")},m(n,o){U(n,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(n,o){if(o&12){t=pe(n[2]);let r;for(r=0;r<t.length;r+=1){const p=Qe(n,t,r);l[r]?l[r].p(p,o):(l[r]=$e(p),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&i(e),Be(l,n)}}}function $e(a){let e,t=a[10][1]+"",l,n,o;function r(){return a[7](a[10])}return{c(){e=h("li"),l=ae(t),this.h()},l(p){e=u(p,"LI",{class:!0});var b=E(e);l=le(b,t),b.forEach(i),this.h()},h(){V(e,"class","svelte-1kj8esc")},m(p,b){U(p,e,b),s(e,l),n||(o=ye(e,"click",r),n=!0)},p(p,b){a=p,b&4&&t!==(t=a[10][1]+"")&&ce(l,t)},d(p){p&&i(e),n=!1,o()}}}function kt(a){let e,t,l,n,o,r,p,b,v,H,_=a[2].length&&xe(a);return{c(){e=h("div"),t=h("div"),l=h("input"),n=N(),o=h("button"),r=ae("See Report"),b=N(),_&&_.c(),this.h()},l(T){e=u(T,"DIV",{class:!0});var c=E(e);t=u(c,"DIV",{class:!0});var B=E(t);l=u(B,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),n=A(B),o=u(B,"BUTTON",{type:!0,class:!0});var I=E(o);r=le(I,"See Report"),I.forEach(i),B.forEach(i),b=A(c),_&&_.l(c),c.forEach(i),this.h()},h(){V(l,"type","text"),V(l,"placeholder","Type local authority name to search..."),V(l,"autocomplete","off"),V(l,"class","svelte-1kj8esc"),V(o,"type","button"),V(o,"class","search-btn svelte-1kj8esc"),o.disabled=p=!a[1],V(t,"class","input-group svelte-1kj8esc"),V(e,"class","autocomplete svelte-1kj8esc")},m(T,c){U(T,e,c),s(e,t),s(t,l),je(l,a[0]),s(t,n),s(t,o),s(o,r),s(e,b),_&&_.m(e,null),v||(H=[ye(l,"input",a[6]),ye(o,"click",a[4])],v=!0)},p(T,[c]){c&1&&l.value!==T[0]&&je(l,T[0]),c&2&&p!==(p=!T[1])&&(o.disabled=p),T[2].length?_?_.p(T,c):(_=xe(T),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:He,o:He,d(T){T&&i(e),_&&_.d(),v=!1,We(H)}}}function Dt(a,e,t){let l;const n=ut();let{items:o}=e,r="",p=null;const b=Object.entries(o);function v([c,B]){t(0,r=B),t(1,p=c),n("select",c)}function H(){p&&n("search",p)}function _(){r=this.value,t(0,r)}const T=c=>v(c);return a.$$set=c=>{"items"in c&&t(5,o=c.items)},a.$$.update=()=>{a.$$.dirty&1&&t(2,l=r?b.filter(([c,B])=>B.toLowerCase().includes(r.toLowerCase())).slice(0,10):[])},[r,p,l,v,H,o,_,T]}class Gt extends Me{constructor(e){super(),Re(this,e,Dt,kt,ke,{items:5})}}function et(a,e,t){const l=a.slice();return l[10]=e[t],l}function tt(a){let e,t=(a[6]==="total"?a[7](a[10].total_value,a[1],a[2],a[10].co_benefit_type,a[5]):a[7](a[10].value_per_household,a[3],a[4],a[10].co_benefit_type,a[5]))+"",l;return{c(){e=new ct(!1),l=Xe(),this.h()},l(n){e=ht(n,!1),l=Xe(),this.h()},h(){e.a=l},m(n,o){e.m(t,n,o),U(n,l,o)},p(n,o){o&127&&t!==(t=(n[6]==="total"?n[7](n[10].total_value,n[1],n[2],n[10].co_benefit_type,n[5]):n[7](n[10].value_per_household,n[3],n[4],n[10].co_benefit_type,n[5]))+"")&&e.p(t)},d(n){n&&(i(l),e.d())}}}function Vt(a){let e,t=a[10].value_per_household.toFixed(1)+"",l;return{c(){e=h("span"),l=ae(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=le(o,t),o.forEach(i)},m(n,o){U(n,e,o),s(e,l)},p(n,o){o&1&&t!==(t=n[10].value_per_household.toFixed(1)+"")&&ce(l,t)},d(n){n&&i(e)}}}function Lt(a){let e,t=a[10].total_value.toFixed(1)+"",l;return{c(){e=h("span"),l=ae(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=le(o,t),o.forEach(i)},m(n,o){U(n,e,o),s(e,l)},p(n,o){o&1&&t!==(t=n[10].total_value.toFixed(1)+"")&&ce(l,t)},d(n){n&&i(e)}}}function lt(a){let e,t,l,n=a[10].co_benefit_type+"",o,r,p,b,v,H=a[6],_,T,c,B=tt(a);function I(d,f){return d[6]==="total"?Lt:Vt}let w=I(a),k=w(a);return{c(){e=h("tr"),t=h("td"),l=h("a"),o=ae(n),p=N(),b=h("td"),v=h("div"),B.c(),_=N(),T=h("td"),k.c(),c=N(),this.h()},l(d){e=u(d,"TR",{});var f=E(e);t=u(f,"TD",{});var G=E(t);l=u(G,"A",{href:!0});var O=E(l);o=le(O,n),O.forEach(i),G.forEach(i),p=A(f),b=u(f,"TD",{});var W=E(b);v=u(W,"DIV",{class:!0});var j=E(v);B.l(j),j.forEach(i),W.forEach(i),_=A(f),T=u(f,"TD",{});var Z=E(T);k.l(Z),Z.forEach(i),c=A(f),f.forEach(i),this.h()},h(){V(l,"href",r=Te+"/cobenefit?cobenefit="+a[10].co_benefit_type),V(v,"class","bar-cell")},m(d,f){U(d,e,f),s(e,t),s(t,l),s(l,o),s(e,p),s(e,b),s(b,v),B.m(v,null),s(e,_),s(e,T),k.m(T,null),s(e,c)},p(d,f){f&1&&n!==(n=d[10].co_benefit_type+"")&&ce(o,n),f&1&&r!==(r=Te+"/cobenefit?cobenefit="+d[10].co_benefit_type)&&V(l,"href",r),f&64&&ke(H,H=d[6])?(B.d(1),B=tt(d),B.c(),B.m(v,null)):B.p(d,f),w===(w=I(d))&&k?k.p(d,f):(k.d(1),k=w(d),k&&(k.c(),k.m(T,null)))},d(d){d&&i(e),B.d(d),k.d()}}}function wt(a){let e,t,l,n="Total",o,r,p="Per Household",b,v,H,_,T,c="Name",B,I,w=a[6]==="total"?"Total":"Per Household",k,d,f,G=a[6]==="total"?"£billion":"£thousand",O,W,j,Z,re,x=pe(a[0]),S=[];for(let D=0;D<x.length;D+=1)S[D]=lt(et(a,x,D));return{c(){e=h("div"),t=h("div"),l=h("button"),l.textContent=n,o=N(),r=h("button"),r.textContent=p,b=N(),v=h("table"),H=h("thead"),_=h("tr"),T=h("th"),T.textContent=c,B=N(),I=h("th"),k=ae(w),d=N(),f=h("th"),O=ae(G),W=N(),j=h("tbody");for(let D=0;D<S.length;D+=1)S[D].c();this.h()},l(D){e=u(D,"DIV",{class:!0});var K=E(e);t=u(K,"DIV",{class:!0});var P=E(t);l=u(P,"BUTTON",{"data-svelte-h":!0}),ve(l)!=="svelte-15mf98g"&&(l.textContent=n),o=A(P),r=u(P,"BUTTON",{"data-svelte-h":!0}),ve(r)!=="svelte-npon40"&&(r.textContent=p),P.forEach(i),K.forEach(i),b=A(D),v=u(D,"TABLE",{class:!0});var F=E(v);H=u(F,"THEAD",{});var q=E(H);_=u(q,"TR",{});var $=E(_);T=u($,"TH",{"data-svelte-h":!0}),ve(T)!=="svelte-13ju7y1"&&(T.textContent=c),B=A($),I=u($,"TH",{style:!0});var z=E(I);k=le(z,w),z.forEach(i),d=A($),f=u($,"TH",{style:!0});var y=E(f);O=le(y,G),y.forEach(i),$.forEach(i),q.forEach(i),W=A(F),j=u(F,"TBODY",{});var M=E(j);for(let g=0;g<S.length;g+=1)S[g].l(M);M.forEach(i),F.forEach(i),this.h()},h(){me(l,"selected",a[6]==="total"),me(r,"selected",a[6]==="per_household"),V(t,"class","button-group"),V(e,"class","controls"),Ee(I,"width","150px"),Ee(f,"width","80px"),V(v,"class","data-table")},m(D,K){U(D,e,K),s(e,t),s(t,l),s(t,o),s(t,r),U(D,b,K),U(D,v,K),s(v,H),s(H,_),s(_,T),s(_,B),s(_,I),s(I,k),s(_,d),s(_,f),s(f,O),s(v,W),s(v,j);for(let P=0;P<S.length;P+=1)S[P]&&S[P].m(j,null);Z||(re=[ye(l,"click",a[8]),ye(r,"click",a[9])],Z=!0)},p(D,[K]){if(K&64&&me(l,"selected",D[6]==="total"),K&64&&me(r,"selected",D[6]==="per_household"),K&64&&w!==(w=D[6]==="total"?"Total":"Per Household")&&ce(k,w),K&64&&G!==(G=D[6]==="total"?"£billion":"£thousand")&&ce(O,G),K&255){x=pe(D[0]);let P;for(P=0;P<x.length;P+=1){const F=et(D,x,P);S[P]?S[P].p(F,K):(S[P]=lt(F),S[P].c(),S[P].m(j,null))}for(;P<S.length;P+=1)S[P].d(1);S.length=x.length}},i:He,o:He,d(D){D&&(i(e),i(b),i(v)),Be(S,D),Z=!1,We(re)}}}function At(a,e,t){let{aggregationPerHouseholdPerBenefit:l}=e,{minCoBenefValue:n}=e,{maxCoBenefValue:o}=e,{minHHCoBenefValue:r}=e,{maxHHCoBenefValue:p}=e,{COBENEFS_SCALE:b}=e,v="total";function H(c,B,I,w,k){const d=k(w);return qe({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[B,I],axis:null},marks:[bt([0],{stroke:"#ccc"}),Ue([c],{x:G=>G,y:0,fill:d})]}).outerHTML}const _=()=>t(6,v="total"),T=()=>t(6,v="per_household");return a.$$set=c=>{"aggregationPerHouseholdPerBenefit"in c&&t(0,l=c.aggregationPerHouseholdPerBenefit),"minCoBenefValue"in c&&t(1,n=c.minCoBenefValue),"maxCoBenefValue"in c&&t(2,o=c.maxCoBenefValue),"minHHCoBenefValue"in c&&t(3,r=c.minHHCoBenefValue),"maxHHCoBenefValue"in c&&t(4,p=c.maxHHCoBenefValue),"COBENEFS_SCALE"in c&&t(5,b=c.COBENEFS_SCALE)},[l,n,o,r,p,b,v,H,_,T]}class Nt extends Me{constructor(e){super(),Re(this,e,At,wt,ke,{aggregationPerHouseholdPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function at(a,e,t){const l=a.slice();return l[16]=e[t],l}function nt(a,e,t){const l=a.slice();return l[19]=e[t],l}function ot(a){let e,t=a[19].label+"",l;return{c(){e=h("option"),l=ae(t),this.h()},l(n){e=u(n,"OPTION",{});var o=E(e);l=le(o,t),o.forEach(i),this.h()},h(){e.__value=a[19].value,je(e,e.__value)},m(n,o){U(n,e,o),s(e,l)},p:He,d(n){n&&i(e)}}}function St(a){let e,t=a[16].value_per_household.toFixed(1)+"",l;return{c(){e=h("span"),l=ae(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=le(o,t),o.forEach(i)},m(n,o){U(n,e,o),s(e,l)},p(n,o){o&2&&t!==(t=n[16].value_per_household.toFixed(1)+"")&&ce(l,t)},d(n){n&&i(e)}}}function It(a){let e,t=a[16].total_value.toFixed(1)+"",l;return{c(){e=h("span"),l=ae(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=le(o,t),o.forEach(i)},m(n,o){U(n,e,o),s(e,l)},p(n,o){o&2&&t!==(t=n[16].total_value.toFixed(1)+"")&&ce(l,t)},d(n){n&&i(e)}}}function st(a){let e,t,l,n=(a[5][a[16].LAD]??a[16].LAD)+"",o,r,p,b,v,H,_=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_household,a[4]))+"",T,c,B;function I(d,f){return d[2]==="total"?It:St}let w=I(a),k=w(a);return{c(){e=h("tr"),t=h("td"),l=h("a"),o=ae(n),p=N(),b=h("td"),v=h("div"),H=new ct(!1),T=N(),c=h("td"),k.c(),B=N(),this.h()},l(d){e=u(d,"TR",{});var f=E(e);t=u(f,"TD",{});var G=E(t);l=u(G,"A",{href:!0});var O=E(l);o=le(O,n),O.forEach(i),G.forEach(i),p=A(f),b=u(f,"TD",{});var W=E(b);v=u(W,"DIV",{class:!0});var j=E(v);H=ht(j,!1),j.forEach(i),W.forEach(i),T=A(f),c=u(f,"TD",{});var Z=E(c);k.l(Z),Z.forEach(i),B=A(f),f.forEach(i),this.h()},h(){V(l,"href",r=Te+"/location?location="+a[16].LAD),H.a=null,V(v,"class","bar-cell")},m(d,f){U(d,e,f),s(e,t),s(t,l),s(l,o),s(e,p),s(e,b),s(b,v),H.m(_,v),s(e,T),s(e,c),k.m(c,null),s(e,B)},p(d,f){f&34&&n!==(n=(d[5][d[16].LAD]??d[16].LAD)+"")&&ce(o,n),f&2&&r!==(r=Te+"/location?location="+d[16].LAD)&&V(l,"href",r),f&30&&_!==(_=(d[2]==="total"?d[9](d[16].total_value,d[3]):d[10](d[16].value_per_household,d[4]))+"")&&H.p(_),w===(w=I(d))&&k?k.p(d,f):(k.d(1),k=w(d),k&&(k.c(),k.m(c,null)))},d(d){d&&i(e),k.d()}}}function Pt(a){let e,t,l="Region:",n,o,r,p,b,v="Total",H,_,T="Per Household",c,B,I,w,k,d="Name",f,G,O=a[2]==="total"?"Total":"Per Household",W,j,Z,re=a[2]==="total"?"£billion":"£thousand",x,S,D,K,P,F=pe(a[7]),q=[];for(let y=0;y<F.length;y+=1)q[y]=ot(nt(a,F,y));let $=pe(a[1]),z=[];for(let y=0;y<$.length;y+=1)z[y]=st(at(a,$,y));return{c(){e=h("div"),t=h("label"),t.textContent=l,n=N(),o=h("select");for(let y=0;y<q.length;y+=1)q[y].c();r=N(),p=h("div"),b=h("button"),b.textContent=v,H=N(),_=h("button"),_.textContent=T,c=N(),B=h("table"),I=h("thead"),w=h("tr"),k=h("th"),k.textContent=d,f=N(),G=h("th"),W=ae(O),j=N(),Z=h("th"),x=ae(re),S=N(),D=h("tbody");for(let y=0;y<z.length;y+=1)z[y].c();this.h()},l(y){e=u(y,"DIV",{class:!0});var M=E(e);t=u(M,"LABEL",{"data-svelte-h":!0}),ve(t)!=="svelte-1kssdpe"&&(t.textContent=l),n=A(M),o=u(M,"SELECT",{});var g=E(o);for(let R=0;R<q.length;R+=1)q[R].l(g);g.forEach(i),r=A(M),p=u(M,"DIV",{class:!0});var J=E(p);b=u(J,"BUTTON",{"data-svelte-h":!0}),ve(b)!=="svelte-2dev6e"&&(b.textContent=v),H=A(J),_=u(J,"BUTTON",{"data-svelte-h":!0}),ve(_)!=="svelte-gcixok"&&(_.textContent=T),J.forEach(i),M.forEach(i),c=A(y),B=u(y,"TABLE",{class:!0});var m=E(B);I=u(m,"THEAD",{});var oe=E(I);w=u(oe,"TR",{});var X=E(w);k=u(X,"TH",{"data-svelte-h":!0}),ve(k)!=="svelte-13ju7y1"&&(k.textContent=d),f=A(X),G=u(X,"TH",{style:!0});var Q=E(G);W=le(Q,O),Q.forEach(i),j=A(X),Z=u(X,"TH",{style:!0});var de=E(Z);x=le(de,re),de.forEach(i),X.forEach(i),oe.forEach(i),S=A(m),D=u(m,"TBODY",{});var ne=E(D);for(let R=0;R<z.length;R+=1)z[R].l(ne);ne.forEach(i),m.forEach(i),this.h()},h(){a[0]===void 0&&dt(()=>a[13].call(o)),me(b,"selected",a[2]==="total"),me(_,"selected",a[2]==="per_household"),V(p,"class","button-group"),V(e,"class","controls"),Ee(G,"width","120px"),Ee(Z,"width","80px"),V(B,"class","data-table")},m(y,M){U(y,e,M),s(e,t),s(e,n),s(e,o);for(let g=0;g<q.length;g+=1)q[g]&&q[g].m(o,null);Ye(o,a[0],!0),s(e,r),s(e,p),s(p,b),s(p,H),s(p,_),U(y,c,M),U(y,B,M),s(B,I),s(I,w),s(w,k),s(w,f),s(w,G),s(G,W),s(w,j),s(w,Z),s(Z,x),s(B,S),s(B,D);for(let g=0;g<z.length;g+=1)z[g]&&z[g].m(D,null);K||(P=[ye(o,"change",a[13]),ye(o,"change",a[8]),ye(b,"click",a[14]),ye(_,"click",a[15])],K=!0)},p(y,[M]){if(M&128){F=pe(y[7]);let g;for(g=0;g<F.length;g+=1){const J=nt(y,F,g);q[g]?q[g].p(J,M):(q[g]=ot(J),q[g].c(),q[g].m(o,null))}for(;g<q.length;g+=1)q[g].d(1);q.length=F.length}if(M&129&&Ye(o,y[0]),M&4&&me(b,"selected",y[2]==="total"),M&4&&me(_,"selected",y[2]==="per_household"),M&4&&O!==(O=y[2]==="total"?"Total":"Per Household")&&ce(W,O),M&4&&re!==(re=y[2]==="total"?"£billion":"£thousand")&&ce(x,re),M&1598){$=pe(y[1]);let g;for(g=0;g<$.length;g+=1){const J=at(y,$,g);z[g]?z[g].p(J,M):(z[g]=st(J),z[g].c(),z[g].m(D,null))}for(;g<z.length;g+=1)z[g].d(1);z.length=$.length}},i:He,o:He,d(y){y&&(i(e),i(c),i(B)),Be(q,y),Be(z,y),K=!1,We(P)}}}function Ot(a,e,t){const l=ut();let{ladData:n=[]}=e,{region:o}=e,{sortBy:r}=e,{maxLADValue:p}=e,{maxHHLADValue:b}=e,{LADToName:v={}}=e,{viewMode:H="total"}=e,{selectedRegion:_="All"}=e;const T=[{label:"All",value:"All"},{label:"England & Wales",value:"Eng/Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function c(f){l("filterChange",{region:f.target.value,sortBy:r})}function B(f,G){return qe({width:80,height:20,margin:0,x:{domain:[0,G],axis:null},marks:[Ue([f],{x:W=>W,y:0,fill:"#ccc"})]}).outerHTML}function I(f,G){return qe({width:80,height:20,margin:0,x:{domain:[0,G],axis:null},marks:[Ue([f],{x:W=>W,y:0,fill:"#ccc"})]}).outerHTML}function w(){o=_t(this),t(0,o),t(7,T)}const k=()=>l("filterChange",{region:o,sortBy:"total"}),d=()=>l("filterChange",{region:o,sortBy:"per_household"});return a.$$set=f=>{"ladData"in f&&t(1,n=f.ladData),"region"in f&&t(0,o=f.region),"sortBy"in f&&t(2,r=f.sortBy),"maxLADValue"in f&&t(3,p=f.maxLADValue),"maxHHLADValue"in f&&t(4,b=f.maxHHLADValue),"LADToName"in f&&t(5,v=f.LADToName),"viewMode"in f&&t(11,H=f.viewMode),"selectedRegion"in f&&t(12,_=f.selectedRegion)},[o,n,r,p,b,v,l,T,c,B,I,H,_,w,k,d]}class qt extends Me{constructor(e){super(),Re(this,e,Ot,Pt,ke,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function it(a,e,t){const l=a.slice();return l[38]=e[t],l[40]=t,l}function rt(a){let e;return{c(){e=h("div"),this.h()},l(t){e=u(t,"DIV",{class:!0,style:!0}),E(e).forEach(i),this.h()},h(){V(e,"class","hero-slide svelte-fyvyqx"),Ee(e,"background-image","url("+a[38].image+")"),me(e,"active",a[40]===a[12]),me(e,"previous",a[40]===a[13])},m(t,l){U(t,e,l)},p(t,l){l[0]&1024&&Ee(e,"background-image","url("+t[38].image+")"),l[0]&4096&&me(e,"active",t[40]===t[12]),l[0]&8192&&me(e,"previous",t[40]===t[13])},d(t){t&&i(e)}}}function ft(a){let e,t=`GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG`;return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-18sd2ca"&&(e.textContent=t),this.h()},h(){V(e,"class","spinner")},m(l,n){U(l,e,n)},d(l){l&&i(e)}}}function Mt(a){let e,t,l,n,o,r,p='<h1 class="hero-title svelte-fyvyqx">The Co-Benefits of the UK’s Path to Net-Zero GHG Emissions</h1> <p class="hero-description svelte-fyvyqx">Climate actions affects more than GHG emissions. Electric cars reduce urban air pollution, retrofits prevent mould and damp, cycling improves public health. The CO-BENS project models 11 co-benefits from the climate actions in the UK Climate Change Committee’s most recent pathway to Net Zero for the UK. In each of 45,000 local communities and regions we consider our local context determine both which climate actions will be implemented and how, when and for whom those climate actions will lead to benefits (and in some cases costs).</p> <p class="hero-description svelte-fyvyqx">Just as climate actions affects more than GHG emissions, climate solutions require more than climate modelling. This website provides data and visualisations to support local, regional and national stakeholders who want to understand how climate actions are closely connected with a wide range of social, economic and environmental priorities. <br/></p> <p class="hero-description svelte-fyvyqx">If you would like bespoke analysis highlighting how co-benefits are key to the work your team or organisation is doing, please reach out!</p>',b,v,H,_,T,c,B,I,w,k,d,f,G,O,W,j,Z,re,x,S,D,K,P,F,q,$="Find My Place",z,y,M,g,J,m,oe="Explore by Local Authority",X,Q,de,ne,R,he="Explore by Co-Benefit",_e,ge,L,ee,Ce;e=new gt({});let be=pe(a[10]),se=[];for(let C=0;C<be.length;C+=1)se[C]=rt(it(a,be,C));y=new Gt({props:{items:a[16]}}),y.$on("search",a[28]),Q=new qt({props:{ladData:a[0],region:a[1],sortBy:a[2],maxLADValue:a[3],maxHHLADValue:a[4],LADToName:a[16]}}),Q.$on("filterChange",a[17]),ge=new Nt({props:{aggregationPerHouseholdPerBenefit:a[15],minCoBenefValue:a[19],maxCoBenefValue:a[18],minHHCoBenefValue:a[20],maxHHCoBenefValue:a[21],COBENEFS_SCALE:yt}});let ue=a[14]&&ft();return{c(){Oe(e.$$.fragment),t=N(),l=h("section");for(let C=0;C<se.length;C+=1)se[C].c();n=N(),o=h("div"),r=h("div"),r.innerHTML=p,b=N(),v=h("div"),H=h("div"),_=ae("National gain of "),T=h("br"),c=N(),B=h("strong"),I=ae(a[8]),w=N(),k=h("br"),d=ae(`
        in reaching NetZero `),f=h("br"),G=ae(`
        by 2050 is: `),O=h("br"),W=N(),j=h("strong"),Z=ae(a[9]),re=ae(`
        £billion`),x=N(),S=h("div"),D=N(),K=h("div"),P=N(),F=h("section"),q=h("h1"),q.textContent=$,z=N(),Oe(y.$$.fragment),M=N(),g=h("section"),J=h("div"),m=h("h2"),m.textContent=oe,X=N(),Oe(Q.$$.fragment),de=N(),ne=h("div"),R=h("h2"),R.textContent=he,_e=N(),Oe(ge.$$.fragment),L=N(),ee=h("main"),ue&&ue.c(),this.h()},l(C){Pe(e.$$.fragment,C),t=A(C),l=u(C,"SECTION",{class:!0});var Y=E(l);for(let Fe=0;Fe<se.length;Fe+=1)se[Fe].l(Y);n=A(Y),o=u(Y,"DIV",{class:!0});var fe=E(o);r=u(fe,"DIV",{class:!0,"data-svelte-h":!0}),ve(r)!=="svelte-mddiwg"&&(r.innerHTML=p),b=A(fe),v=u(fe,"DIV",{class:!0});var te=E(v);H=u(te,"DIV",{class:!0});var ie=E(H);_=le(ie,"National gain of "),T=u(ie,"BR",{}),c=A(ie),B=u(ie,"STRONG",{style:!0});var ze=E(B);I=le(ze,a[8]),ze.forEach(i),w=A(ie),k=u(ie,"BR",{}),d=le(ie,`
        in reaching NetZero `),f=u(ie,"BR",{}),G=le(ie,`
        by 2050 is: `),O=u(ie,"BR",{}),W=A(ie),j=u(ie,"STRONG",{style:!0});var Ze=E(j);Z=le(Ze,a[9]),Ze.forEach(i),re=le(ie,`
        £billion`),ie.forEach(i),x=A(te),S=u(te,"DIV",{class:!0}),E(S).forEach(i),D=A(te),K=u(te,"DIV",{}),E(K).forEach(i),te.forEach(i),fe.forEach(i),Y.forEach(i),P=A(C),F=u(C,"SECTION",{class:!0});var De=E(F);q=u(De,"H1",{class:!0,"data-svelte-h":!0}),ve(q)!=="svelte-byubde"&&(q.textContent=$),z=A(De),Pe(y.$$.fragment,De),De.forEach(i),M=A(C),g=u(C,"SECTION",{class:!0});var Ge=E(g);J=u(Ge,"DIV",{class:!0});var Ve=E(J);m=u(Ve,"H2",{class:!0,"data-svelte-h":!0}),ve(m)!=="svelte-pgup4c"&&(m.textContent=oe),X=A(Ve),Pe(Q.$$.fragment,Ve),Ve.forEach(i),de=A(Ge),ne=u(Ge,"DIV",{class:!0});var Le=E(ne);R=u(Le,"H2",{class:!0,"data-svelte-h":!0}),ve(R)!=="svelte-9nk5va"&&(R.textContent=he),_e=A(Le),Pe(ge.$$.fragment,Le),Le.forEach(i),Ge.forEach(i),L=A(C),ee=u(C,"MAIN",{class:!0});var Ke=E(ee);ue&&ue.l(Ke),Ke.forEach(i),this.h()},h(){V(r,"class","hero-text svelte-fyvyqx"),Ee(B,"font-size","1.5rem"),Ee(j,"font-size","1.2rem"),V(H,"class","waffle-label svelte-fyvyqx"),V(S,"class","waffle-bg svelte-fyvyqx"),V(v,"class","waffle-overlay svelte-fyvyqx"),V(o,"class","hero-content svelte-fyvyqx"),V(l,"class","hero-container svelte-fyvyqx"),V(q,"class","svelte-fyvyqx"),V(F,"class","search-section svelte-fyvyqx"),V(m,"class","svelte-fyvyqx"),V(J,"class","side-box svelte-fyvyqx"),V(R,"class","svelte-fyvyqx"),V(ne,"class","side-box svelte-fyvyqx"),V(g,"class","side-by-side-section svelte-fyvyqx"),V(ee,"class","svelte-fyvyqx")},m(C,Y){Ie(e,C,Y),U(C,t,Y),U(C,l,Y);for(let fe=0;fe<se.length;fe+=1)se[fe]&&se[fe].m(l,null);s(l,n),s(l,o),s(o,r),s(o,b),s(o,v),s(v,H),s(H,_),s(H,T),s(H,c),s(H,B),s(B,I),s(H,w),s(H,k),s(H,d),s(H,f),s(H,G),s(H,O),s(H,W),s(H,j),s(j,Z),s(H,re),a[24](H),s(v,x),s(v,S),a[25](S),s(v,D),s(v,K),a[26](K),a[27](l),U(C,P,Y),U(C,F,Y),s(F,q),s(F,z),Ie(y,F,null),U(C,M,Y),U(C,g,Y),s(g,J),s(J,m),s(J,X),Ie(Q,J,null),s(g,de),s(g,ne),s(ne,R),s(ne,_e),Ie(ge,ne,null),U(C,L,Y),U(C,ee,Y),ue&&ue.m(ee,null),Ce=!0},p(C,Y){if(Y[0]&13312){be=pe(C[10]);let te;for(te=0;te<be.length;te+=1){const ie=it(C,be,te);se[te]?se[te].p(ie,Y):(se[te]=rt(ie),se[te].c(),se[te].m(l,n))}for(;te<se.length;te+=1)se[te].d(1);se.length=be.length}(!Ce||Y[0]&256)&&ce(I,C[8]),(!Ce||Y[0]&512)&&ce(Z,C[9]);const fe={};Y[0]&1&&(fe.ladData=C[0]),Y[0]&2&&(fe.region=C[1]),Y[0]&4&&(fe.sortBy=C[2]),Y[0]&8&&(fe.maxLADValue=C[3]),Y[0]&16&&(fe.maxHHLADValue=C[4]),Q.$set(fe),C[14]?ue||(ue=ft(),ue.c(),ue.m(ee,null)):ue&&(ue.d(1),ue=null)},i(C){Ce||(Se(e.$$.fragment,C),Se(y.$$.fragment,C),Se(Q.$$.fragment,C),Se(ge.$$.fragment,C),Ce=!0)},o(C){Ne(e.$$.fragment,C),Ne(y.$$.fragment,C),Ne(Q.$$.fragment,C),Ne(ge.$$.fragment,C),Ce=!1},d(C){C&&(i(t),i(l),i(P),i(F),i(M),i(g),i(L),i(ee)),Ae(e,C),Be(se,C),a[24](null),a[25](null),a[26](null),a[27](null),Ae(y),Ae(Q),Ae(ge),ue&&ue.d()}}}function Rt(a,e,t){let{data:l}=e,n=[...l.aggregationPerBenefit].sort((m,oe)=>oe.total-m.total),o=[...l.aggregationPerHouseholdPerBenefit].sort((m,oe)=>oe.total_value-m.total_value),r=[],p="All",b="total",v=0,H=0,_=l.LADToName;async function T(){const m=Tt({region:p,sortBy:b}),oe=await Bt(m);t(0,r=oe),t(3,v=Math.max(...oe.map(X=>X.total_value))),t(4,H=Math.max(...oe.map(X=>X.value_per_household)))}function c(m){t(1,p=m.detail.region),t(2,b=m.detail.sortBy),T()}const B=Math.max(...o.map(m=>m.total_value)),I=Math.min(...o.map(m=>m.total_value)),w=Math.min(...o.map(m=>m.value_per_household)),k=Math.max(...o.map(m=>m.value_per_household));let d,f=[],G=null,O,W,j,Z,re=[],x,S=0,D=0,K;function P(m){const oe=d.filter(R=>R.type!=="empty").map(R=>R.type),X=Array.from(new Set(oe)),Q=n.reduce((R,he)=>R+he.total,0),de=[{type:null,label:"total co-benefits",value:Q.toFixed(1)},...X.map(R=>{const he=R,_e=n.find(ge=>ge.co_benefit_type===R)?.total.toFixed(1)??"";return{type:R,label:he,value:_e}})];setInterval(()=>{t(13,D=S),t(12,S=(S+1)%de.length);const{type:R,label:he,value:_e}=de[S];t(8,j=he),t(9,Z=_e),F(m,R)},5e3);const ne=re[0];ne.type,t(8,j=ne.label),t(9,Z=Q.toFixed(1)),F(m,ne.type)}function F(m,oe){if(!G)return;t(5,G.innerHTML="",G);const X=20,Q=15,de=Math.floor(m/X),ne=Q*de,R=n.reduce((L,ee)=>L+ee.total,0),he=[];for(const L of n){const ee=Math.round(Math.abs(L.total)/R*ne),Ce=L.total<0;for(let be=0;be<ee;be++)he.push({type:L.co_benefit_type,negative:Ce})}for(;he.length<ne;)he.push({type:"empty"});he.sort((L,ee)=>L.type==="empty"?1:ee.type==="empty"?-1:L.negative&&!ee.negative?1:!L.negative&&ee.negative?-1:0),d=he.map((L,ee)=>({x:ee%Q,y:Math.floor(ee/Q),...L})),f=Array.from(new Set(d.map(L=>L.type).filter(L=>L!=="empty"))),t(10,re=Ct(f));const _e=oe??null,ge=qe({width:X*Q,height:X*de,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Ht,range:Et,unknown:"#eee",legend:!1},marks:[Je(d.filter(L=>!L.negative),{x:L=>L.x*X,y:L=>L.y*X,fill:"type",fillOpacity:L=>_e&&L.type!==_e?.15:1}),Je(d.filter(L=>L.negative),{x:L=>L.x*X,y:L=>L.y*X,stroke:"type",strokeOpacity:L=>_e&&L.type!==_e?.15:1,strokeWidth:1,fill:"none"})]});O&&(t(6,O.style.width=`${X*Q}px`,O),t(6,O.style.height=`${m}px`,O)),t(5,G.innerHTML="",G),G.append(ge)}function q(m){pt(`${Te}/location?location=${m}`)}let $=!0;mt(()=>{T();const m=x.getBoundingClientRect().height;F(m),P(m)}),vt(()=>{clearInterval(K)});function z(m){we[m?"unshift":"push"](()=>{W=m,t(7,W)})}function y(m){we[m?"unshift":"push"](()=>{O=m,t(6,O)})}function M(m){we[m?"unshift":"push"](()=>{G=m,t(5,G)})}function g(m){we[m?"unshift":"push"](()=>{x=m,t(11,x)})}const J=m=>q(m.detail);return a.$$set=m=>{"data"in m&&t(23,l=m.data)},a.$$.update=()=>{a.$$.dirty[0]&8388608&&t(14,$=!l)},[r,p,b,v,H,G,O,W,j,Z,re,x,S,D,$,o,_,c,B,I,w,k,q,l,z,y,M,g,J]}class Jt extends Me{constructor(e){super(),Re(this,e,Rt,Mt,ke,{data:23},null,[-1,-1])}}export{Jt as component};
