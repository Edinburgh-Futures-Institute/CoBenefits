import{s as Be,n as Ee,d as s,x as qe,T as je,i as U,b as i,z as be,q as A,c as u,e as E,g as N,f as oe,h as c,j as I,t as ie,U as ft,w as ke,a as de,y as ve,F as Ce,p as ge,V as ut,r as Ye,W as ct,X as Ke,N as ht,Y as dt,v as _t,Z as mt,A as Ae}from"../chunks/B9XzmCUZ.js";import{S as Fe,i as Re,d as we,t as Se,a as Ne,m as Ie,c as Pe,b as Oe}from"../chunks/D6lOsQeQ.js";import{e as pe,N as vt}from"../chunks/BRcnb727.js";import{b as ye}from"../chunks/B-9hy08q.js";import{g as gt}from"../chunks/CJNoKnni.js";import{V as Me,$ as pt,a0 as Ze}from"../chunks/BZW538Bk.js";import{C as Ue,a as bt,b as Ct,c as Et}from"../chunks/RqbpEnOX.js";import{b as We}from"../chunks/DKkW8n3a.js";import{g as kt,l as yt}from"../chunks/BzXIH_FN.js";function Je(a,e,t){const l=a.slice();return l[10]=e[t],l}function Qe(a){let e,t=pe(a[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=xe(Je(a,t,n));return{c(){e=c("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=u(n,"UL",{class:!0});var o=E(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(s),this.h()},h(){A(e,"class","suggestions svelte-1kj8esc")},m(n,o){U(n,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(n,o){if(o&12){t=pe(n[2]);let r;for(r=0;r<t.length;r+=1){const v=Je(n,t,r);l[r]?l[r].p(v,o):(l[r]=xe(v),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&s(e),ke(l,n)}}}function xe(a){let e,t=a[10][1]+"",l,n,o;function r(){return a[7](a[10])}return{c(){e=c("li"),l=ie(t),this.h()},l(v){e=u(v,"LI",{class:!0});var g=E(e);l=oe(g,t),g.forEach(s),this.h()},h(){A(e,"class","svelte-1kj8esc")},m(v,g){U(v,e,g),i(e,l),n||(o=be(e,"click",r),n=!0)},p(v,g){a=v,g&4&&t!==(t=a[10][1]+"")&&de(l,t)},d(v){v&&s(e),n=!1,o()}}}function Bt(a){let e,t,l,n,o,r,v,g,p,y,h=a[2].length&&Qe(a);return{c(){e=c("div"),t=c("div"),l=c("input"),n=I(),o=c("button"),r=ie("See Report"),g=I(),h&&h.c(),this.h()},l(T){e=u(T,"DIV",{class:!0});var B=E(e);t=u(B,"DIV",{class:!0});var d=E(t);l=u(d,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),n=N(d),o=u(d,"BUTTON",{type:!0,class:!0});var M=E(o);r=oe(M,"See Report"),M.forEach(s),d.forEach(s),g=N(B),h&&h.l(B),B.forEach(s),this.h()},h(){A(l,"type","text"),A(l,"placeholder","Type local authority name to search..."),A(l,"autocomplete","off"),A(l,"class","svelte-1kj8esc"),A(o,"type","button"),A(o,"class","search-btn svelte-1kj8esc"),o.disabled=v=!a[1],A(t,"class","input-group svelte-1kj8esc"),A(e,"class","autocomplete svelte-1kj8esc")},m(T,B){U(T,e,B),i(e,t),i(t,l),je(l,a[0]),i(t,n),i(t,o),i(o,r),i(e,g),h&&h.m(e,null),p||(y=[be(l,"input",a[6]),be(o,"click",a[4])],p=!0)},p(T,[B]){B&1&&l.value!==T[0]&&je(l,T[0]),B&2&&v!==(v=!T[1])&&(o.disabled=v),T[2].length?h?h.p(T,B):(h=Qe(T),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:Ee,o:Ee,d(T){T&&s(e),h&&h.d(),p=!1,qe(y)}}}function Tt(a,e,t){let l;const n=ft();let{items:o}=e,r="",v=null;const g=Object.entries(o);function p([B,d]){t(0,r=d),t(1,v=B),n("select",B)}function y(){v&&n("search",v)}function h(){r=this.value,t(0,r)}const T=B=>p(B);return a.$$set=B=>{"items"in B&&t(5,o=B.items)},a.$$.update=()=>{a.$$.dirty&1&&t(2,l=r?g.filter(([B,d])=>d.toLowerCase().includes(r.toLowerCase())).slice(0,10):[])},[r,v,l,p,y,o,h,T]}class Dt extends Fe{constructor(e){super(),Re(this,e,Tt,Bt,Be,{items:5})}}function $e(a,e,t){const l=a.slice();return l[11]=e[t],l}function et(a){let e,t=(a[6]==="total"?a[8](a[11].total_value,a[1],a[2],a[11].co_benefit_type,a[5]):a[8](a[11].value_per_capita,a[3],a[4],a[11].co_benefit_type,a[5]))+"",l;return{c(){e=new ct(!1),l=Ye(),this.h()},l(n){e=ut(n,!1),l=Ye(),this.h()},h(){e.a=l},m(n,o){e.m(t,n,o),U(n,l,o)},p(n,o){o&127&&t!==(t=(n[6]==="total"?n[8](n[11].total_value,n[1],n[2],n[11].co_benefit_type,n[5]):n[8](n[11].value_per_capita,n[3],n[4],n[11].co_benefit_type,n[5]))+"")&&e.p(t)},d(n){n&&(s(l),e.d())}}}function Ht(a){let e,t=a[11].value_per_capita.toFixed(3)+"",l;return{c(){e=c("span"),l=ie(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=oe(o,t),o.forEach(s)},m(n,o){U(n,e,o),i(e,l)},p(n,o){o&1&&t!==(t=n[11].value_per_capita.toFixed(3)+"")&&de(l,t)},d(n){n&&s(e)}}}function Vt(a){let e,t=a[11].total_value.toFixed(3)+"",l;return{c(){e=c("span"),l=ie(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=oe(o,t),o.forEach(s)},m(n,o){U(n,e,o),i(e,l)},p(n,o){o&1&&t!==(t=n[11].total_value.toFixed(3)+"")&&de(l,t)},d(n){n&&s(e)}}}function tt(a){let e,t,l,n=a[7](a[11].co_benefit_type)+"",o,r,v,g,p,y=a[6],h,T,B,d=et(a);function M(_,f){return _[6]==="total"?Vt:Ht}let w=M(a),D=w(a);return{c(){e=c("tr"),t=c("td"),l=c("a"),o=ie(n),v=I(),g=c("td"),p=c("div"),d.c(),h=I(),T=c("td"),D.c(),B=I(),this.h()},l(_){e=u(_,"TR",{});var f=E(e);t=u(f,"TD",{});var L=E(t);l=u(L,"A",{href:!0});var P=E(l);o=oe(P,n),P.forEach(s),L.forEach(s),v=N(f),g=u(f,"TD",{});var W=E(g);p=u(W,"DIV",{class:!0});var Y=E(p);d.l(Y),Y.forEach(s),W.forEach(s),h=N(f),T=u(f,"TD",{});var K=E(T);D.l(K),K.forEach(s),B=N(f),f.forEach(s),this.h()},h(){A(l,"href",r=ye+"/cobenefit?cobenefit="+a[11].co_benefit_type),A(p,"class","bar-cell")},m(_,f){U(_,e,f),i(e,t),i(t,l),i(l,o),i(e,v),i(e,g),i(g,p),d.m(p,null),i(e,h),i(e,T),D.m(T,null),i(e,B)},p(_,f){f&1&&n!==(n=_[7](_[11].co_benefit_type)+"")&&de(o,n),f&1&&r!==(r=ye+"/cobenefit?cobenefit="+_[11].co_benefit_type)&&A(l,"href",r),f&64&&Be(y,y=_[6])?(d.d(1),d=et(_),d.c(),d.m(p,null)):d.p(_,f),w===(w=M(_))&&D?D.p(_,f):(D.d(1),D=w(_),D&&(D.c(),D.m(T,null)))},d(_){_&&s(e),d.d(_),D.d()}}}function Lt(a){let e,t,l,n="Total",o,r,v="Per Capita",g,p,y,h,T,B="Name",d,M,w=a[6]==="total"?"Total":"Per Capita",D,_,f,L=a[6]==="total"?"£billion":"£thousand",P,W,Y,K,x,$=pe(a[0]),F=[];for(let V=0;V<$.length;V+=1)F[V]=tt($e(a,$,V));return{c(){e=c("div"),t=c("div"),l=c("button"),l.textContent=n,o=I(),r=c("button"),r.textContent=v,g=I(),p=c("table"),y=c("thead"),h=c("tr"),T=c("th"),T.textContent=B,d=I(),M=c("th"),D=ie(w),_=I(),f=c("th"),P=ie(L),W=I(),Y=c("tbody");for(let V=0;V<F.length;V+=1)F[V].c();this.h()},l(V){e=u(V,"DIV",{class:!0});var R=E(e);t=u(R,"DIV",{class:!0});var S=E(t);l=u(S,"BUTTON",{"data-svelte-h":!0}),ge(l)!=="svelte-15mf98g"&&(l.textContent=n),o=N(S),r=u(S,"BUTTON",{"data-svelte-h":!0}),ge(r)!=="svelte-1ts3a4f"&&(r.textContent=v),S.forEach(s),R.forEach(s),g=N(V),p=u(V,"TABLE",{class:!0});var Q=E(p);y=u(Q,"THEAD",{});var G=E(y);h=u(G,"TR",{});var z=E(h);T=u(z,"TH",{"data-svelte-h":!0}),ge(T)!=="svelte-13ju7y1"&&(T.textContent=B),d=N(z),M=u(z,"TH",{style:!0});var j=E(M);D=oe(j,w),j.forEach(s),_=N(z),f=u(z,"TH",{style:!0});var m=E(f);P=oe(m,L),m.forEach(s),z.forEach(s),G.forEach(s),W=N(Q),Y=u(Q,"TBODY",{});var O=E(Y);for(let k=0;k<F.length;k+=1)F[k].l(O);O.forEach(s),Q.forEach(s),this.h()},h(){ve(l,"selected",a[6]==="total"),ve(r,"selected",a[6]==="per_capita"),A(t,"class","button-group"),A(e,"class","controls"),Ce(M,"width","150px"),Ce(f,"width","80px"),A(p,"class","data-table")},m(V,R){U(V,e,R),i(e,t),i(t,l),i(t,o),i(t,r),U(V,g,R),U(V,p,R),i(p,y),i(y,h),i(h,T),i(h,d),i(h,M),i(M,D),i(h,_),i(h,f),i(f,P),i(p,W),i(p,Y);for(let S=0;S<F.length;S+=1)F[S]&&F[S].m(Y,null);K||(x=[be(l,"click",a[9]),be(r,"click",a[10])],K=!0)},p(V,[R]){if(R&64&&ve(l,"selected",V[6]==="total"),R&64&&ve(r,"selected",V[6]==="per_capita"),R&64&&w!==(w=V[6]==="total"?"Total":"Per Capita")&&de(D,w),R&64&&L!==(L=V[6]==="total"?"£billion":"£thousand")&&de(P,L),R&511){$=pe(V[0]);let S;for(S=0;S<$.length;S+=1){const Q=$e(V,$,S);F[S]?F[S].p(Q,R):(F[S]=tt(Q),F[S].c(),F[S].m(Y,null))}for(;S<F.length;S+=1)F[S].d(1);F.length=$.length}},i:Ee,o:Ee,d(V){V&&(s(e),s(g),s(p)),ke(F,V),K=!1,qe(x)}}}function At(a,e,t){let{aggregationPerCapitaPerBenefit:l}=e,{minCoBenefValue:n}=e,{maxCoBenefValue:o}=e,{minHHCoBenefValue:r}=e,{maxHHCoBenefValue:v}=e,{COBENEFS_SCALE:g}=e;function p(d){return Ue.find(M=>M.id===d)?.label??d}let y="total";function h(d,M,w,D,_){const f=_(D);return Me({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[M,w],axis:null},marks:[pt([0],{stroke:"#ccc"}),We([d],{x:P=>P,y:0,fill:f})]}).outerHTML}const T=()=>t(6,y="total"),B=()=>t(6,y="per_capita");return a.$$set=d=>{"aggregationPerCapitaPerBenefit"in d&&t(0,l=d.aggregationPerCapitaPerBenefit),"minCoBenefValue"in d&&t(1,n=d.minCoBenefValue),"maxCoBenefValue"in d&&t(2,o=d.maxCoBenefValue),"minHHCoBenefValue"in d&&t(3,r=d.minHHCoBenefValue),"maxHHCoBenefValue"in d&&t(4,v=d.maxHHCoBenefValue),"COBENEFS_SCALE"in d&&t(5,g=d.COBENEFS_SCALE)},[l,n,o,r,v,g,y,p,h,T,B]}class wt extends Fe{constructor(e){super(),Re(this,e,At,Lt,Be,{aggregationPerCapitaPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function lt(a,e,t){const l=a.slice();return l[16]=e[t],l}function at(a,e,t){const l=a.slice();return l[19]=e[t],l}function nt(a){let e,t=a[19].label+"",l;return{c(){e=c("option"),l=ie(t),this.h()},l(n){e=u(n,"OPTION",{});var o=E(e);l=oe(o,t),o.forEach(s),this.h()},h(){e.__value=a[19].value,je(e,e.__value)},m(n,o){U(n,e,o),i(e,l)},p:Ee,d(n){n&&s(e)}}}function St(a){let e,t=a[16].value_per_capita.toFixed(3)+"",l;return{c(){e=c("span"),l=ie(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=oe(o,t),o.forEach(s)},m(n,o){U(n,e,o),i(e,l)},p(n,o){o&2&&t!==(t=n[16].value_per_capita.toFixed(3)+"")&&de(l,t)},d(n){n&&s(e)}}}function Nt(a){let e,t=a[16].total_value.toFixed(3)+"",l;return{c(){e=c("span"),l=ie(t)},l(n){e=u(n,"SPAN",{});var o=E(e);l=oe(o,t),o.forEach(s)},m(n,o){U(n,e,o),i(e,l)},p(n,o){o&2&&t!==(t=n[16].total_value.toFixed(3)+"")&&de(l,t)},d(n){n&&s(e)}}}function ot(a){let e,t,l,n=(a[5][a[16].LAD]??a[16].LAD)+"",o,r,v,g,p,y,h=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_capita,a[4]))+"",T,B,d;function M(_,f){return _[2]==="total"?Nt:St}let w=M(a),D=w(a);return{c(){e=c("tr"),t=c("td"),l=c("a"),o=ie(n),v=I(),g=c("td"),p=c("div"),y=new ct(!1),T=I(),B=c("td"),D.c(),d=I(),this.h()},l(_){e=u(_,"TR",{});var f=E(e);t=u(f,"TD",{});var L=E(t);l=u(L,"A",{href:!0});var P=E(l);o=oe(P,n),P.forEach(s),L.forEach(s),v=N(f),g=u(f,"TD",{});var W=E(g);p=u(W,"DIV",{class:!0});var Y=E(p);y=ut(Y,!1),Y.forEach(s),W.forEach(s),T=N(f),B=u(f,"TD",{});var K=E(B);D.l(K),K.forEach(s),d=N(f),f.forEach(s),this.h()},h(){A(l,"href",r=ye+"/location?location="+a[16].LAD),y.a=null,A(p,"class","bar-cell")},m(_,f){U(_,e,f),i(e,t),i(t,l),i(l,o),i(e,v),i(e,g),i(g,p),y.m(h,p),i(e,T),i(e,B),D.m(B,null),i(e,d)},p(_,f){f&34&&n!==(n=(_[5][_[16].LAD]??_[16].LAD)+"")&&de(o,n),f&2&&r!==(r=ye+"/location?location="+_[16].LAD)&&A(l,"href",r),f&30&&h!==(h=(_[2]==="total"?_[9](_[16].total_value,_[3]):_[10](_[16].value_per_capita,_[4]))+"")&&y.p(h),w===(w=M(_))&&D?D.p(_,f):(D.d(1),D=w(_),D&&(D.c(),D.m(B,null)))},d(_){_&&s(e),D.d()}}}function It(a){let e,t,l="Region:",n,o,r,v,g,p="Total",y,h,T="Per Capita",B,d,M,w,D,_="Name",f,L,P=a[2]==="total"?"Total":"Per Capita",W,Y,K,x=a[2]==="total"?"£billion":"£thousand",$,F,V,R,S,Q=pe(a[7]),G=[];for(let m=0;m<Q.length;m+=1)G[m]=nt(at(a,Q,m));let z=pe(a[1]),j=[];for(let m=0;m<z.length;m+=1)j[m]=ot(lt(a,z,m));return{c(){e=c("div"),t=c("label"),t.textContent=l,n=I(),o=c("select");for(let m=0;m<G.length;m+=1)G[m].c();r=I(),v=c("div"),g=c("button"),g.textContent=p,y=I(),h=c("button"),h.textContent=T,B=I(),d=c("table"),M=c("thead"),w=c("tr"),D=c("th"),D.textContent=_,f=I(),L=c("th"),W=ie(P),Y=I(),K=c("th"),$=ie(x),F=I(),V=c("tbody");for(let m=0;m<j.length;m+=1)j[m].c();this.h()},l(m){e=u(m,"DIV",{class:!0});var O=E(e);t=u(O,"LABEL",{"data-svelte-h":!0}),ge(t)!=="svelte-1kssdpe"&&(t.textContent=l),n=N(O),o=u(O,"SELECT",{});var k=E(o);for(let q=0;q<G.length;q+=1)G[q].l(k);k.forEach(s),r=N(O),v=u(O,"DIV",{class:!0});var ue=E(v);g=u(ue,"BUTTON",{"data-svelte-h":!0}),ge(g)!=="svelte-2dev6e"&&(g.textContent=p),y=N(ue),h=u(ue,"BUTTON",{"data-svelte-h":!0}),ge(h)!=="svelte-1q4fgxf"&&(h.textContent=T),ue.forEach(s),O.forEach(s),B=N(m),d=u(m,"TABLE",{class:!0});var b=E(d);M=u(b,"THEAD",{});var Z=E(M);w=u(Z,"TR",{});var X=E(w);D=u(X,"TH",{"data-svelte-h":!0}),ge(D)!=="svelte-13ju7y1"&&(D.textContent=_),f=N(X),L=u(X,"TH",{style:!0});var ee=E(L);W=oe(ee,P),ee.forEach(s),Y=N(X),K=u(X,"TH",{style:!0});var re=E(K);$=oe(re,x),re.forEach(s),X.forEach(s),Z.forEach(s),F=N(b),V=u(b,"TBODY",{});var _e=E(V);for(let q=0;q<j.length;q+=1)j[q].l(_e);_e.forEach(s),b.forEach(s),this.h()},h(){a[0]===void 0&&ht(()=>a[13].call(o)),ve(g,"selected",a[2]==="total"),ve(h,"selected",a[2]==="per_capita"),A(v,"class","button-group"),A(e,"class","controls"),Ce(L,"width","120px"),Ce(K,"width","80px"),A(d,"class","data-table")},m(m,O){U(m,e,O),i(e,t),i(e,n),i(e,o);for(let k=0;k<G.length;k+=1)G[k]&&G[k].m(o,null);Ke(o,a[0],!0),i(e,r),i(e,v),i(v,g),i(v,y),i(v,h),U(m,B,O),U(m,d,O),i(d,M),i(M,w),i(w,D),i(w,f),i(w,L),i(L,W),i(w,Y),i(w,K),i(K,$),i(d,F),i(d,V);for(let k=0;k<j.length;k+=1)j[k]&&j[k].m(V,null);R||(S=[be(o,"change",a[13]),be(o,"change",a[8]),be(g,"click",a[14]),be(h,"click",a[15])],R=!0)},p(m,[O]){if(O&128){Q=pe(m[7]);let k;for(k=0;k<Q.length;k+=1){const ue=at(m,Q,k);G[k]?G[k].p(ue,O):(G[k]=nt(ue),G[k].c(),G[k].m(o,null))}for(;k<G.length;k+=1)G[k].d(1);G.length=Q.length}if(O&129&&Ke(o,m[0]),O&4&&ve(g,"selected",m[2]==="total"),O&4&&ve(h,"selected",m[2]==="per_capita"),O&4&&P!==(P=m[2]==="total"?"Total":"Per Capita")&&de(W,P),O&4&&x!==(x=m[2]==="total"?"£billion":"£thousand")&&de($,x),O&1598){z=pe(m[1]);let k;for(k=0;k<z.length;k+=1){const ue=lt(m,z,k);j[k]?j[k].p(ue,O):(j[k]=ot(ue),j[k].c(),j[k].m(V,null))}for(;k<j.length;k+=1)j[k].d(1);j.length=z.length}},i:Ee,o:Ee,d(m){m&&(s(e),s(B),s(d)),ke(G,m),ke(j,m),R=!1,qe(S)}}}function Pt(a,e,t){const l=ft();let{ladData:n=[]}=e,{region:o}=e,{sortBy:r}=e,{maxLADValue:v}=e,{maxHHLADValue:g}=e,{LADToName:p={}}=e,{viewMode:y="total"}=e,{selectedRegion:h="All"}=e;const T=[{label:"All",value:"All"},{label:"England",value:"England"},{label:"Wales",value:"Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function B(f){l("filterChange",{region:f.target.value,sortBy:r})}function d(f,L){return Me({width:80,height:20,margin:0,x:{domain:[0,L],axis:null},marks:[We([f],{x:W=>W,y:0,fill:"#ccc"})]}).outerHTML}function M(f,L){return Me({width:80,height:20,margin:0,x:{domain:[0,L],axis:null},marks:[We([f],{x:W=>W,y:0,fill:"#ccc"})]}).outerHTML}function w(){o=dt(this),t(0,o),t(7,T)}const D=()=>l("filterChange",{region:o,sortBy:"total"}),_=()=>l("filterChange",{region:o,sortBy:"per_capita"});return a.$$set=f=>{"ladData"in f&&t(1,n=f.ladData),"region"in f&&t(0,o=f.region),"sortBy"in f&&t(2,r=f.sortBy),"maxLADValue"in f&&t(3,v=f.maxLADValue),"maxHHLADValue"in f&&t(4,g=f.maxHHLADValue),"LADToName"in f&&t(5,p=f.LADToName),"viewMode"in f&&t(11,y=f.viewMode),"selectedRegion"in f&&t(12,h=f.selectedRegion)},[o,n,r,v,g,p,l,T,B,d,M,y,h,w,D,_]}class Ot extends Fe{constructor(e){super(),Re(this,e,Pt,It,Be,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function it(a,e,t){const l=a.slice();return l[38]=e[t],l[40]=t,l}function st(a){let e;return{c(){e=c("div"),this.h()},l(t){e=u(t,"DIV",{class:!0,style:!0}),E(e).forEach(s),this.h()},h(){A(e,"class","hero-slide svelte-gpkv3b"),Ce(e,"background-image","url("+a[38].image+")"),ve(e,"active",a[40]===a[12]),ve(e,"previous",a[40]===a[13])},m(t,l){U(t,e,l)},p(t,l){l[0]&1024&&Ce(e,"background-image","url("+t[38].image+")"),l[0]&4096&&ve(e,"active",t[40]===t[12]),l[0]&8192&&ve(e,"previous",t[40]===t[13])},d(t){t&&s(e)}}}function rt(a){let e,t="GGGGGGGGG";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1hoodjr"&&(e.textContent=t),this.h()},h(){A(e,"class","spinner")},m(l,n){U(l,e,n)},d(l){l&&s(e)}}}function Mt(a){let e,t,l,n,o,r,v='<h1 class="hero-title svelte-gpkv3b">The Co-Benefits of Reaching <br/> Net Zero in the UK</h1> <p class="hero-description svelte-gpkv3b">Climate actions lower greenhouse gas (GHG) emissions but the gains for society reach further. The CO-BENS project models 11 additional benefits based on actions recommended by the Climate Change Committee (CCC) in its Seventh Carbon Budget (2025) across 45,000 communities and regions within the UK.<br/></p> <p class="hero-description svelte-gpkv3b">Explore how, when and for whom benefits emerge to further understand connections between a wide range of social, economic and environmental priorities, and drive more effective decision-making.</p>',g,p,y,h,T,B,d,M,w,D,_,f,L,P,W,Y,K,x,$,F,V,R,S,Q="Find My Place",G,z,j,m,O,k,ue="Explore by Local Authority",b,Z,X,ee,re,_e="Explore by Co-Benefit",q,ae,ce,me,H;e=new vt({});let se=pe(a[10]),te=[];for(let C=0;C<se.length;C+=1)te[C]=st(it(a,se,C));z=new Dt({props:{items:a[16]}}),z.$on("search",a[28]),Z=new Ot({props:{ladData:a[0],region:a[1],sortBy:a[2],maxLADValue:a[3],maxHHLADValue:a[4],LADToName:a[16]}}),Z.$on("filterChange",a[17]),ae=new wt({props:{aggregationPerCapitaPerBenefit:a[15],minCoBenefValue:a[19],maxCoBenefValue:a[18],minHHCoBenefValue:a[20],maxHHCoBenefValue:a[21],COBENEFS_SCALE:bt}});let ne=a[14]&&rt();return{c(){Oe(e.$$.fragment),t=I(),l=c("section");for(let C=0;C<te.length;C+=1)te[C].c();n=I(),o=c("div"),r=c("div"),r.innerHTML=v,g=I(),p=c("div"),y=c("div"),h=c("strong"),T=ie("£"),B=ie(a[9]),d=ie(" billion"),M=I(),w=c("br"),D=ie(`
      is saved nationally from `),_=c("br"),f=I(),L=c("strong"),P=ie(a[8]),W=I(),Y=c("br"),K=I(),x=c("div"),$=I(),F=c("div"),V=I(),R=c("section"),S=c("h1"),S.textContent=Q,G=I(),Oe(z.$$.fragment),j=I(),m=c("section"),O=c("div"),k=c("h2"),k.textContent=ue,b=I(),Oe(Z.$$.fragment),X=I(),ee=c("div"),re=c("h2"),re.textContent=_e,q=I(),Oe(ae.$$.fragment),ce=I(),me=c("main"),ne&&ne.c(),this.h()},l(C){Pe(e.$$.fragment,C),t=N(C),l=u(C,"SECTION",{class:!0});var J=E(l);for(let Ge=0;Ge<te.length;Ge+=1)te[Ge].l(J);n=N(J),o=u(J,"DIV",{class:!0});var fe=E(o);r=u(fe,"DIV",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-15n3ien"&&(r.innerHTML=v),g=N(fe),p=u(fe,"DIV",{class:!0});var le=E(p);y=u(le,"DIV",{class:!0});var he=E(y);h=u(he,"STRONG",{style:!0});var Te=E(h);T=oe(Te,"£"),B=oe(Te,a[9]),d=oe(Te," billion"),Te.forEach(s),M=N(he),w=u(he,"BR",{}),D=oe(he,`
      is saved nationally from `),_=u(he,"BR",{}),f=N(he),L=u(he,"STRONG",{style:!0});var ze=E(L);P=oe(ze,a[8]),ze.forEach(s),W=N(he),Y=u(he,"BR",{}),he.forEach(s),K=N(le),x=u(le,"DIV",{class:!0}),E(x).forEach(s),$=N(le),F=u(le,"DIV",{}),E(F).forEach(s),le.forEach(s),fe.forEach(s),J.forEach(s),V=N(C),R=u(C,"SECTION",{class:!0});var De=E(R);S=u(De,"H1",{class:!0,"data-svelte-h":!0}),ge(S)!=="svelte-byubde"&&(S.textContent=Q),G=N(De),Pe(z.$$.fragment,De),De.forEach(s),j=N(C),m=u(C,"SECTION",{class:!0});var He=E(m);O=u(He,"DIV",{class:!0});var Ve=E(O);k=u(Ve,"H2",{class:!0,"data-svelte-h":!0}),ge(k)!=="svelte-pgup4c"&&(k.textContent=ue),b=N(Ve),Pe(Z.$$.fragment,Ve),Ve.forEach(s),X=N(He),ee=u(He,"DIV",{class:!0});var Le=E(ee);re=u(Le,"H2",{class:!0,"data-svelte-h":!0}),ge(re)!=="svelte-9nk5va"&&(re.textContent=_e),q=N(Le),Pe(ae.$$.fragment,Le),Le.forEach(s),He.forEach(s),ce=N(C),me=u(C,"MAIN",{class:!0});var Xe=E(me);ne&&ne.l(Xe),Xe.forEach(s),this.h()},h(){A(r,"class","hero-text svelte-gpkv3b"),Ce(h,"font-size","1.2rem"),Ce(L,"font-size","1.5rem"),A(y,"class","waffle-label svelte-gpkv3b"),A(x,"class","waffle-bg svelte-gpkv3b"),A(p,"class","waffle-overlay svelte-gpkv3b"),A(o,"class","hero-content svelte-gpkv3b"),A(l,"class","hero-container svelte-gpkv3b"),A(S,"class","svelte-gpkv3b"),A(R,"class","search-section svelte-gpkv3b"),A(k,"class","svelte-gpkv3b"),A(O,"class","side-box svelte-gpkv3b"),A(re,"class","svelte-gpkv3b"),A(ee,"class","side-box svelte-gpkv3b"),A(m,"class","side-by-side-section svelte-gpkv3b"),A(me,"class","svelte-gpkv3b")},m(C,J){Ie(e,C,J),U(C,t,J),U(C,l,J);for(let fe=0;fe<te.length;fe+=1)te[fe]&&te[fe].m(l,null);i(l,n),i(l,o),i(o,r),i(o,g),i(o,p),i(p,y),i(y,h),i(h,T),i(h,B),i(h,d),i(y,M),i(y,w),i(y,D),i(y,_),i(y,f),i(y,L),i(L,P),i(y,W),i(y,Y),a[24](y),i(p,K),i(p,x),a[25](x),i(p,$),i(p,F),a[26](F),a[27](l),U(C,V,J),U(C,R,J),i(R,S),i(R,G),Ie(z,R,null),U(C,j,J),U(C,m,J),i(m,O),i(O,k),i(O,b),Ie(Z,O,null),i(m,X),i(m,ee),i(ee,re),i(ee,q),Ie(ae,ee,null),U(C,ce,J),U(C,me,J),ne&&ne.m(me,null),H=!0},p(C,J){if(J[0]&13312){se=pe(C[10]);let le;for(le=0;le<se.length;le+=1){const he=it(C,se,le);te[le]?te[le].p(he,J):(te[le]=st(he),te[le].c(),te[le].m(l,n))}for(;le<te.length;le+=1)te[le].d(1);te.length=se.length}(!H||J[0]&512)&&de(B,C[9]),(!H||J[0]&256)&&de(P,C[8]);const fe={};J[0]&1&&(fe.ladData=C[0]),J[0]&2&&(fe.region=C[1]),J[0]&4&&(fe.sortBy=C[2]),J[0]&8&&(fe.maxLADValue=C[3]),J[0]&16&&(fe.maxHHLADValue=C[4]),Z.$set(fe),C[14]?ne||(ne=rt(),ne.c(),ne.m(me,null)):ne&&(ne.d(1),ne=null)},i(C){H||(Ne(e.$$.fragment,C),Ne(z.$$.fragment,C),Ne(Z.$$.fragment,C),Ne(ae.$$.fragment,C),H=!0)},o(C){Se(e.$$.fragment,C),Se(z.$$.fragment,C),Se(Z.$$.fragment,C),Se(ae.$$.fragment,C),H=!1},d(C){C&&(s(t),s(l),s(V),s(R),s(j),s(m),s(ce),s(me)),we(e,C),ke(te,C),a[24](null),a[25](null),a[26](null),a[27](null),we(z),we(Z),we(ae),ne&&ne.d()}}}function Ft(a,e,t){let{data:l}=e,n=[...l.aggregationPerBenefit].sort((b,Z)=>Z.total-b.total),o=[...l.aggregationPerCapitaPerBenefit].sort((b,Z)=>Z.total_value-b.total_value),r=[],v="All",g="total",p=0,y=0,h=l.LADToName;async function T(){const b=yt({region:v,sortBy:g}),Z=await kt(b);t(0,r=Z),t(3,p=Math.max(...Z.map(X=>X.total_value))),t(4,y=Math.max(...Z.map(X=>X.value_per_capita)))}function B(b){t(1,v=b.detail.region),t(2,g=b.detail.sortBy),T()}const d=Math.max(...o.map(b=>b.total_value)),M=Math.min(...o.map(b=>b.total_value)),w=Math.min(...o.map(b=>b.value_per_capita)),D=Math.max(...o.map(b=>b.value_per_capita));let _,f=[],L=null,P,W,Y,K,x=[],$,F=0,V=0,R;function S(b){const Z=_.filter(q=>q.type!=="empty").map(q=>q.type),X=Array.from(new Set(Z)),ee=n.reduce((q,ae)=>q+ae.total,0),re=[{type:null,label:"total co-benefits",value:ee.toFixed(1)},...X.map(q=>{const ce=Ue.find(H=>H.id===q)?.label??q,me=n.find(H=>H.co_benefit_type===q)?.total.toFixed(3)??"";return{type:q,label:ce,value:me}})];setInterval(()=>{t(13,V=F),t(12,F=(F+1)%re.length);const{type:q,label:ae,value:ce}=re[F];t(8,Y=ae),t(9,K=ce),Q(b,q)},5e3);const _e=x[0];_e.type,t(8,Y=_e.label),t(9,K=ee.toFixed(1)),Q(b,_e.type),console.log("update display",x)}function Q(b,Z){if(!L)return;t(5,L.innerHTML="",L);const X=20,ee=15,re=Math.floor(b/X),_e=ee*re,q=n.reduce((H,se)=>H+se.total,0),ae=[];for(const H of n){const se=Math.round(Math.abs(H.total)/q*_e),te=H.total<0;for(let ne=0;ne<se;ne++)ae.push({type:H.co_benefit_type,negative:te})}for(;ae.length<_e;)ae.push({type:"empty"});ae.sort((H,se)=>H.type==="empty"?1:se.type==="empty"?-1:H.negative&&!se.negative?1:!H.negative&&se.negative?-1:0),_=ae.map((H,se)=>({x:se%ee,y:Math.floor(se/ee),...H})),f=Array.from(new Set(_.map(H=>H.type).filter(H=>H!=="empty"))),t(10,x=Ct(f));const ce=Z??null,me=Me({width:X*ee,height:X*re,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Ue.map(H=>H.id),range:Et,unknown:"#eee",legend:!1},marks:[Ze(_.filter(H=>!H.negative),{x:H=>H.x*X,y:H=>H.y*X,fill:"type",fillOpacity:H=>ce&&H.type!==ce?.15:1}),Ze(_.filter(H=>H.negative),{x:H=>H.x*X,y:H=>H.y*X,stroke:"type",strokeOpacity:H=>ce&&H.type!==ce?.15:1,strokeWidth:1,fill:"none"})]});P&&(t(6,P.style.width=`${X*ee}px`,P),t(6,P.style.height=`${b}px`,P)),t(5,L.innerHTML="",L),L.append(me)}function G(b){gt(`${ye}/location?location=${b}`)}let z=!0;_t(()=>{T();const b=$.getBoundingClientRect().height;Q(b),S(b)}),mt(()=>{clearInterval(R)});function j(b){Ae[b?"unshift":"push"](()=>{W=b,t(7,W)})}function m(b){Ae[b?"unshift":"push"](()=>{P=b,t(6,P)})}function O(b){Ae[b?"unshift":"push"](()=>{L=b,t(5,L)})}function k(b){Ae[b?"unshift":"push"](()=>{$=b,t(11,$)})}const ue=b=>G(b.detail);return a.$$set=b=>{"data"in b&&t(23,l=b.data)},a.$$.update=()=>{a.$$.dirty[0]&8388608&&t(14,z=!l)},[r,v,g,p,y,L,P,W,Y,K,x,$,F,V,z,o,h,B,d,M,w,D,G,l,j,m,O,k,ue]}class Kt extends Fe{constructor(e){super(),Re(this,e,Ft,Mt,Be,{data:23},null,[-1,-1])}}export{Kt as component};
