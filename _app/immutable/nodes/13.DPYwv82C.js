import{s as wa,a as p,e as a,t as y,g as m,c as n,b as u,p as k,f as o,d as w,q as l,r as He,v as Yt,i as F,h as t,w as Ca,x as Da,y as Zs,z as Sa,j as Oe,H as ka,A as La,B as pe}from"../chunks/scheduler.CM2kgFFE.js";import{S as Aa,i as Ia,c as $s,b as ta,m as ea,t as la,a as sa,d as aa}from"../chunks/index.BdkIKoLm.js";import{N as Ta,e as na}from"../chunks/NavigationBar.BPLVs4sB.js";import"../chunks/transform.BNP73y-7.js";import{F as xa,G as Pe,H as vl,I as ia,J as Va,K as Na,L as Ma,N as ra,O as oa,P as Pa,Q as ca,R as Ba}from"../chunks/index.gHFfw6XA.js";import{b as Ha}from"../chunks/paths.s9346q80.js";import{M as Oa}from"../chunks/mapUK.BKKFmIv3.js";import{C as bt,a as da,D as Fa,b as Be,S as fa,c as va,g as Ua,T as za,d as Wa,e as fs,f as Ra,M as Ka,h as qa}from"../chunks/globals.NDJAtfKZ.js";import{g as ke,c as Ga,d as ja,e as Ya,f as Xa,h as Ja,i as Qa}from"../chunks/duckdb.BisdJWvi.js";import{t as vs,p as Za}from"../chunks/percentage.Cu08Svdw.js";import{p as us}from"../chunks/per_capita.COcMrZFY.js";import{F as $a}from"../chunks/Footer.CuENqgo2.js";import{d as hs}from"../chunks/dot.CFFCJmC7.js";import{b as tn}from"../chunks/bin.4FhIxFiV.js";import{b as en}from"../chunks/bar.DO1Cp6Am.js";function ua(i,e,r){const s=i.slice();return s[47]=e[r],s[48]=e,s[49]=r,s}function ha(i){let e,r,s=i[4].toLocaleString()+"",h;return{c(){e=a("span"),r=y("£"),h=y(s),this.h()},l(b){e=n(b,"SPAN",{class:!0});var d=u(e);r=w(d,"£"),h=w(d,s),d.forEach(o),this.h()},h(){l(e,"class","waffle-big svelte-b9v0tr")},m(b,d){F(b,e,d),t(e,r),t(e,h)},p(b,d){d[0]&16&&s!==(s=b[4].toLocaleString()+"")&&Oe(h,s)},d(b){b&&o(e)}}}function ln(i){let e,r="National costs";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-o12owz"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function sn(i){let e,r="National benefits";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-10ytukz"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function pa(i){let e,r,s=i[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",h;return{c(){e=a("span"),r=y("£"),h=y(s),this.h()},l(b){e=n(b,"SPAN",{class:!0});var d=u(e);r=w(d,"£"),h=w(d,s),d.forEach(o),this.h()},h(){l(e,"class","waffle-big svelte-b9v0tr")},m(b,d){F(b,e,d),t(e,r),t(e,h)},p(b,d){d[0]&64&&s!==(s=b[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Oe(h,s)},d(b){b&&o(e)}}}function an(i){let e,r="Per capita costs";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-6pmcl0"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function nn(i){let e,r="Per capita benefits";return{c(){e=a("div"),e.textContent=r,this.h()},l(s){e=n(s,"DIV",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-g1rvwk"&&(e.textContent=r),this.h()},h(){l(e,"class","waffle-caption svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function ma(i){let e,r,s=(i[4]/i[5]*100).toFixed(2)+"",h,b,d,x="%";return{c(){e=a("div"),r=a("span"),h=y(s),b=p(),d=a("span"),d.textContent=x,this.h()},l(A){e=n(A,"DIV",{class:!0});var I=u(e);r=n(I,"SPAN",{class:!0});var _=u(r);h=w(_,s),_.forEach(o),b=m(I),d=n(I,"SPAN",{class:!0,"data-svelte-h":!0}),k(d)!=="svelte-jxggz7"&&(d.textContent=x),I.forEach(o),this.h()},h(){l(r,"class","waffle-big svelte-b9v0tr"),l(d,"class","small svelte-b9v0tr"),l(e,"class","waffle-value svelte-b9v0tr")},m(A,I){F(A,e,I),t(e,r),t(r,h),t(e,b),t(e,d)},p(A,I){I[0]&48&&s!==(s=(A[4]/A[5]*100).toFixed(2)+"")&&Oe(h,s)},d(A){A&&o(e)}}}function ba(i){let e,r,s,h,b,d,x,A,I,_=ya(i[10])+"",V,C=i[4]&&ga(i);return{c(){e=a("div"),r=a("div"),s=a("img"),b=p(),d=a("span"),x=y(i[15]),A=p(),C&&C.c(),I=y(`
                    >> `),V=y(_),this.h()},l(P){e=n(P,"DIV",{class:!0});var N=u(e);r=n(N,"DIV",{class:!0});var M=u(r);s=n(M,"IMG",{src:!0,alt:!0,class:!0}),b=m(M),d=n(M,"SPAN",{class:!0});var T=u(d);x=w(T,i[15]),A=m(T),C&&C.l(T),I=w(T,`
                    >> `),V=w(T,_),T.forEach(o),M.forEach(o),N.forEach(o),this.h()},h(){He(s.src,h=i[17])||l(s,"src",h),l(s,"alt","Icon"),l(s,"class","mini-heading-icon"),l(d,"class","mini-header-text"),l(r,"class","mini-header-content"),l(e,"class","mini-header")},m(P,N){F(P,e,N),t(e,r),t(r,s),t(r,b),t(r,d),t(d,x),t(d,A),C&&C.m(d,null),t(d,I),t(d,V)},p(P,N){P[4]?C?C.p(P,N):(C=ga(P),C.c(),C.m(d,I)):C&&(C.d(1),C=null),N[0]&1024&&_!==(_=ya(P[10])+"")&&Oe(V,_)},d(P){P&&o(e),C&&C.d()}}}function ga(i){let e,r,s,h;return{c(){e=a("span"),r=y("(UK total: £"),s=y(i[4]),h=y(" billion)"),this.h()},l(b){e=n(b,"SPAN",{class:!0});var d=u(e);r=w(d,"(UK total: £"),s=w(d,i[4]),h=w(d," billion)"),d.forEach(o),this.h()},h(){l(e,"class","mini-header-value")},m(b,d){F(b,e,d),t(e,r),t(e,s),t(e,h)},p(b,d){d[0]&16&&Oe(s,b[4])},d(b){b&&o(e)}}}function rn(i){let e,r=`Each bar shows the predicted total costs in billion pounds for each
                            five-year periods for all of UK.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-1v08yjw"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function on(i){let e,r=`Each bar shows the predicted total benefits in billion pounds for each
                            five-year periods for all of UK.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-3v1xr6"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function cn(i){let e,r=`The x-axis represents the value of costs, while the y-axis shows the
                            number of data zones falling within each benefit range.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-92e6ig"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function dn(i){let e,r=`The x-axis represents the predicted value of benefits, measured in
                            billion pounds, while the y-axis shows the number of data zones falling within each benefit
                            range.`;return{c(){e=a("p"),e.textContent=r,this.h()},l(s){e=n(s,"P",{class:!0,"data-svelte-h":!0}),k(e)!=="svelte-flkfm5"&&(e.textContent=r),this.h()},h(){l(e,"class","description svelte-b9v0tr")},m(s,h){F(s,e,h)},d(s){s&&o(e)}}}function _a(i){let e,r,s=i[7].legend().outerHTML+"";return{c(){e=a("div"),r=new ka(!1),this.h()},l(h){e=n(h,"DIV",{id:!0});var b=u(e);r=La(b,!1),b.forEach(o),this.h()},h(){r.a=null,l(e,"id","legend")},m(h,b){F(h,e,b),r.m(s,e)},p(h,b){b[0]&128&&s!==(s=h[7].legend().outerHTML+"")&&r.p(s)},d(h){h&&o(e)}}}function Ea(i){let e,r,s=i[47].label+"",h,b,d,x=i[47].def+"",A,I,_,V=i[47],C;const P=()=>i[28](_,V),N=()=>i[28](null,V);return{c(){e=a("div"),r=a("h3"),h=y(s),b=p(),d=a("p"),A=y(x),I=p(),_=a("div"),C=p(),this.h()},l(M){e=n(M,"DIV",{class:!0});var T=u(e);r=n(T,"H3",{class:!0});var nt=u(r);h=w(nt,s),nt.forEach(o),b=m(T),d=n(T,"P",{class:!0});var ot=u(d);A=w(ot,x),ot.forEach(o),I=m(T),_=n(T,"DIV",{class:!0}),u(_).forEach(o),C=m(T),T.forEach(o),this.h()},h(){l(r,"class","component-chart-title svelte-b9v0tr"),l(d,"class","component-chart-caption svelte-b9v0tr"),l(_,"class","plot"),l(e,"class","plot-container svelte-b9v0tr")},m(M,T){F(M,e,T),t(e,r),t(r,h),t(e,b),t(e,d),t(d,A),t(e,I),t(e,_),P(),t(e,C)},p(M,T){i=M,V!==i[47]&&(N(),V=i[47],P())},d(M){M&&o(e),N()}}}function fn(i){let e,r,s,h,b,d,x,A="Co-Benefit Report",I,_,V,C,P,N,M,T,nt,ot,At,me,ct,be,Xt,U,It,lt,it,vt,G,Jt,Ae,z,st,gt,Fe="billion",Ie,Te,dt,ut,_t,Ue,xe,Et,Ve,Ne,f,v,D,W,R,rt,g,K="Contribution to national benefits",Qt,ft,E="Share of total benefits",tt,Tt,ge,_e,ul,ze,xt,Vt,Zt,ps='<p class="section-subtitle">Overview</p>',hl,yt,L,Nt,pl,$t,ms=i[15].toLowerCase()+"",ml,bl,gl,We,te,bs=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${vs}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,_l,Ee,El,yl,wl,wt,Cl,ee,gs=i[15].toLowerCase()+"",Dl,Sl,le,_s=`data zones
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,kl,Re,se,Es=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${vs}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,Ll,Mt,ys="",Al,Il,Tl,Z,Pt,xl,ae,ws=i[15].toLowerCase()+"",Vl,Nl,Ml,ne,Cs=`Each local authority is coloured by the predicted per capita benefits/cost,
                        showing regional variation in how benefits/cost are distributed. Scroll for zooming in and
                        out.`,Pl,ie,Ds=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${us}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Bl,Ke,Ct,Ss="",Hl,Bt,re,ks='<p class="section-subtitle">Socio-economic factors</p>',Ol,ht,at,Ht,Fl,oe,Ls=i[15]?.toLowerCase()+"",Ul,zl,Wl,ce,As=`Each chart shows how benefits or costs are distributed across UK local
                        authorities in correlation with a specific household social-economic factor.`,Rl,$,de,Is=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${us}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Kl,fe,Ts="Legend:",ql,Gl,jl,ye,xs="The scatter points are coloured by nation. Click the buttons below to filter.",Yl,O,Xl,Jl,Ot,Ql,Zl,Ft,$l,ts,Ut,es,ls,zt,ss,as,ns,is,Wt,Vs="Reset",rs,Rt,Ns=`<p style="margin: 0 0 0.5rem 0;"><strong>Discrete scales:</strong> The first set of
                            socio-economic factors are using categorical values where the x-axis is non-linear.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots
                            represent modelled associations and should not be interpreted as direct causal
                            relationships.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Aggregated data:</strong> Each socio-economic factor
                            for a given local authority is aggregated from the data zones within its boundary.</p>`,os,ve,Kt,qe,ue,qt,cs,Ms;e=new Ta({});let j=i[4]&&ha(i);function Ps(c,S){return c[4]>0?sn:ln}let Ge=Ps(i),Dt=Ge(i),Y=i[4]&&pa(i);function Bs(c,S){return c[4]>0?nn:an}let je=Bs(i),St=je(i),X=i[4]&&ma(i),J=i[9]&&ba(i);function Hs(c,S){return c[4]>0?on:rn}let Ye=Hs(i),kt=Ye(i);function Os(c,S){return c[4]>0?dn:cn}let Xe=Os(i),Lt=Xe(i),Q=i[7]&&_a(i),we=na(va),q=[];for(let c=0;c<we.length;c+=1)q[c]=Ea(ua(i,we,c));return ue=new $a({}),{c(){$s(e.$$.fragment),r=p(),s=a("div"),h=a("div"),b=a("div"),d=a("div"),x=a("p"),x.textContent=A,I=p(),_=a("div"),V=a("h1"),C=a("img"),N=p(),M=a("div"),T=p(),nt=y(i[15]),ot=p(),At=a("div"),me=p(),ct=a("p"),be=y(i[16]),Xt=p(),U=a("div"),It=a("div"),lt=a("div"),it=a("div"),vt=a("div"),G=a("img"),Ae=p(),z=a("div"),j&&j.c(),st=p(),gt=a("span"),gt.textContent=Fe,Ie=p(),Dt.c(),Te=p(),dt=a("div"),ut=a("div"),_t=a("img"),xe=p(),Et=a("div"),Y&&Y.c(),Ve=p(),St.c(),Ne=p(),f=a("div"),v=a("div"),D=a("img"),R=p(),X&&X.c(),rt=p(),g=a("div"),g.textContent=K,Qt=p(),ft=a("h3"),ft.textContent=E,tt=p(),Tt=a("div"),ge=p(),_e=a("div"),ul=p(),J&&J.c(),ze=p(),xt=a("div"),Vt=a("div"),Zt=a("div"),Zt.innerHTML=ps,hl=p(),yt=a("div"),L=a("div"),Nt=a("h3"),pl=y("Total "),$t=a("span"),ml=y(ms),bl=y(" over time 2025-2050"),gl=p(),kt.c(),We=p(),te=a("div"),te.innerHTML=bs,_l=p(),Ee=a("div"),El=p(),yl=a("br"),wl=p(),wt=a("h3"),Cl=y("Distribution of "),ee=a("span"),Dl=y(gs),Sl=y(` across UK
                        

                        `),le=a("span"),le.innerHTML=_s,kl=p(),Lt.c(),Re=p(),se=a("div"),se.innerHTML=Es,Ll=p(),Mt=a("div"),Mt.innerHTML=ys,Al=p(),Il=a("br"),Tl=p(),Z=a("div"),Pt=a("h3"),xl=y("Per Capita "),ae=a("span"),Vl=y(ws),Nl=y(" by UK local authorities"),Ml=p(),ne=a("p"),ne.textContent=Cs,Pl=p(),ie=a("div"),ie.innerHTML=Ds,Bl=p(),Q&&Q.c(),Ke=p(),Ct=a("div"),Ct.innerHTML=Ss,Hl=p(),Bt=a("div"),re=a("div"),re.innerHTML=ks,Ol=p(),ht=a("div"),at=a("div"),Ht=a("h3"),Fl=y("How "),oe=a("span"),Ul=y(Ls),zl=y(` vary by household social-economic
                        factors`),Wl=p(),ce=a("p"),ce.textContent=As,Rl=p(),$=a("div"),de=a("div"),de.innerHTML=Is,Kl=p(),fe=a("strong"),fe.textContent=Ts,ql=p(),Gl=a("br"),jl=p(),ye=a("span"),ye.textContent=xs,Yl=p(),O=a("div"),Xl=a("br"),Jl=p(),Ot=a("button"),Ql=y("Scotland"),Zl=p(),Ft=a("button"),$l=y("Northern Ireland"),ts=p(),Ut=a("button"),es=y("England"),ls=p(),zt=a("button"),ss=y("Wales"),as=p(),ns=a("br"),is=p(),Wt=a("button"),Wt.textContent=Vs,rs=p(),Rt=a("div"),Rt.innerHTML=Ns,os=p(),ve=a("div"),Kt=a("div");for(let c=0;c<q.length;c+=1)q[c].c();qe=p(),$s(ue.$$.fragment),this.h()},l(c){ta(e.$$.fragment,c),r=m(c),s=n(c,"DIV",{class:!0});var S=u(s);h=n(S,"DIV",{class:!0});var B=u(h);b=n(B,"DIV",{class:!0});var he=u(b);d=n(he,"DIV",{class:!0});var Je=u(d);x=n(Je,"P",{class:!0,"data-svelte-h":!0}),k(x)!=="svelte-1flv0v9"&&(x.textContent=A),I=m(Je),_=n(Je,"DIV",{class:!0});var Ce=u(_);V=n(Ce,"H1",{class:!0});var De=u(V);C=n(De,"IMG",{src:!0,alt:!0,class:!0}),N=m(De),M=n(De,"DIV",{style:!0}),u(M).forEach(o),T=m(De),nt=w(De,i[15]),De.forEach(o),ot=m(Ce),At=n(Ce,"DIV",{style:!0}),u(At).forEach(o),me=m(Ce),ct=n(Ce,"P",{class:!0});var Fs=u(ct);be=w(Fs,i[16]),Fs.forEach(o),Ce.forEach(o),Je.forEach(o),Xt=m(he),U=n(he,"DIV",{class:!0});var Gt=u(U);It=n(Gt,"DIV",{class:!0});var Us=u(It);lt=n(Us,"DIV",{class:!0});var Se=u(lt);it=n(Se,"DIV",{class:!0});var Qe=u(it);vt=n(Qe,"DIV",{class:!0});var Ze=u(vt);G=n(Ze,"IMG",{class:!0,src:!0,alt:!0}),Ae=m(Ze),z=n(Ze,"DIV",{class:!0});var $e=u(z);j&&j.l($e),st=m($e),gt=n($e,"SPAN",{class:!0,"data-svelte-h":!0}),k(gt)!=="svelte-tlhydp"&&(gt.textContent=Fe),$e.forEach(o),Ze.forEach(o),Ie=m(Qe),Dt.l(Qe),Qe.forEach(o),Te=m(Se),dt=n(Se,"DIV",{class:!0});var tl=u(dt);ut=n(tl,"DIV",{class:!0});var el=u(ut);_t=n(el,"IMG",{class:!0,src:!0,alt:!0}),xe=m(el),Et=n(el,"DIV",{class:!0});var zs=u(Et);Y&&Y.l(zs),zs.forEach(o),el.forEach(o),Ve=m(tl),St.l(tl),tl.forEach(o),Ne=m(Se),f=n(Se,"DIV",{class:!0});var ll=u(f);v=n(ll,"DIV",{class:!0});var sl=u(v);D=n(sl,"IMG",{class:!0,src:!0,alt:!0}),R=m(sl),X&&X.l(sl),sl.forEach(o),rt=m(ll),g=n(ll,"DIV",{class:!0,"data-svelte-h":!0}),k(g)!=="svelte-1v3rfza"&&(g.textContent=K),ll.forEach(o),Se.forEach(o),Us.forEach(o),Qt=m(Gt),ft=n(Gt,"H3",{class:!0,"data-svelte-h":!0}),k(ft)!=="svelte-1vkchgj"&&(ft.textContent=E),tt=m(Gt),Tt=n(Gt,"DIV",{class:!0}),u(Tt).forEach(o),ge=m(Gt),_e=n(Gt,"DIV",{class:!0}),u(_e).forEach(o),Gt.forEach(o),he.forEach(o),B.forEach(o),ul=m(S),J&&J.l(S),ze=m(S),xt=n(S,"DIV",{class:!0});var al=u(xt);Vt=n(al,"DIV",{id:!0});var nl=u(Vt);Zt=n(nl,"DIV",{class:!0,"data-svelte-h":!0}),k(Zt)!=="svelte-ll1i43"&&(Zt.innerHTML=ps),hl=m(nl),yt=n(nl,"DIV",{id:!0,class:!0});var il=u(yt);L=n(il,"DIV",{class:!0});var H=u(L);Nt=n(H,"H3",{class:!0});var rl=u(Nt);pl=w(rl,"Total "),$t=n(rl,"SPAN",{style:!0});var Ws=u($t);ml=w(Ws,ms),Ws.forEach(o),bl=w(rl," over time 2025-2050"),rl.forEach(o),gl=m(H),kt.l(H),We=m(H),te=n(H,"DIV",{class:!0,"data-svelte-h":!0}),k(te)!=="svelte-1yzemw8"&&(te.innerHTML=bs),_l=m(H),Ee=n(H,"DIV",{class:!0}),u(Ee).forEach(o),El=m(H),yl=n(H,"BR",{}),wl=m(H),wt=n(H,"H3",{class:!0});var Me=u(wt);Cl=w(Me,"Distribution of "),ee=n(Me,"SPAN",{style:!0});var Rs=u(ee);Dl=w(Rs,gs),Rs.forEach(o),Sl=w(Me,` across UK
                        

                        `),le=n(Me,"SPAN",{class:!0,"data-svelte-h":!0}),k(le)!=="svelte-7glovi"&&(le.innerHTML=_s),Me.forEach(o),kl=m(H),Lt.l(H),Re=m(H),se=n(H,"DIV",{class:!0,"data-svelte-h":!0}),k(se)!=="svelte-1yzemw8"&&(se.innerHTML=Es),Ll=m(H),Mt=n(H,"DIV",{class:!0,"data-svelte-h":!0}),k(Mt)!=="svelte-17463th"&&(Mt.innerHTML=ys),Al=m(H),Il=n(H,"BR",{}),H.forEach(o),Tl=m(il),Z=n(il,"DIV",{class:!0});var pt=u(Z);Pt=n(pt,"H3",{class:!0});var ol=u(Pt);xl=w(ol,"Per Capita "),ae=n(ol,"SPAN",{style:!0});var Ks=u(ae);Vl=w(Ks,ws),Ks.forEach(o),Nl=w(ol," by UK local authorities"),ol.forEach(o),Ml=m(pt),ne=n(pt,"P",{class:!0,"data-svelte-h":!0}),k(ne)!=="svelte-32j67s"&&(ne.textContent=Cs),Pl=m(pt),ie=n(pt,"DIV",{class:!0,"data-svelte-h":!0}),k(ie)!=="svelte-1pbiq4x"&&(ie.innerHTML=Ds),Bl=m(pt),Q&&Q.l(pt),Ke=m(pt),Ct=n(pt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),k(Ct)!=="svelte-1bex1ev"&&(Ct.innerHTML=Ss),pt.forEach(o),il.forEach(o),nl.forEach(o),Hl=m(al),Bt=n(al,"DIV",{id:!0});var cl=u(Bt);re=n(cl,"DIV",{class:!0,"data-svelte-h":!0}),k(re)!=="svelte-1l51yw7"&&(re.innerHTML=ks),Ol=m(cl),ht=n(cl,"DIV",{id:!0,class:!0,style:!0});var dl=u(ht);at=n(dl,"DIV",{id:!0,class:!0});var jt=u(at);Ht=n(jt,"H3",{class:!0});var fl=u(Ht);Fl=w(fl,"How "),oe=n(fl,"SPAN",{style:!0});var qs=u(oe);Ul=w(qs,Ls),qs.forEach(o),zl=w(fl,` vary by household social-economic
                        factors`),fl.forEach(o),Wl=m(jt),ce=n(jt,"P",{class:!0,"data-svelte-h":!0}),k(ce)!=="svelte-r5sqj1"&&(ce.textContent=As),Rl=m(jt),$=n(jt,"DIV",{id:!0,class:!0});var mt=u($);de=n(mt,"DIV",{class:!0,"data-svelte-h":!0}),k(de)!=="svelte-131efpe"&&(de.innerHTML=Is),Kl=m(mt),fe=n(mt,"STRONG",{style:!0,"data-svelte-h":!0}),k(fe)!=="svelte-1s0qlts"&&(fe.textContent=Ts),ql=m(mt),Gl=n(mt,"BR",{}),jl=m(mt),ye=n(mt,"SPAN",{"data-svelte-h":!0}),k(ye)!=="svelte-av8zq9"&&(ye.textContent=xs),Yl=m(mt),O=n(mt,"DIV",{class:!0});var et=u(O);Xl=n(et,"BR",{}),Jl=m(et),Ot=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Gs=u(Ot);Ql=w(Gs,"Scotland"),Gs.forEach(o),Zl=m(et),Ft=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var js=u(Ft);$l=w(js,"Northern Ireland"),js.forEach(o),ts=m(et),Ut=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ys=u(Ut);es=w(Ys,"England"),Ys.forEach(o),ls=m(et),zt=n(et,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Xs=u(zt);ss=w(Xs,"Wales"),Xs.forEach(o),as=m(et),ns=n(et,"BR",{}),is=m(et),Wt=n(et,"BUTTON",{class:!0,"data-svelte-h":!0}),k(Wt)!=="svelte-2t5u5r"&&(Wt.textContent=Vs),et.forEach(o),mt.forEach(o),rs=m(jt),Rt=n(jt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),k(Rt)!=="svelte-p1d3q2"&&(Rt.innerHTML=Ns),jt.forEach(o),os=m(dl),ve=n(dl,"DIV",{id:!0,class:!0});var Js=u(ve);Kt=n(Js,"DIV",{id:!0,class:!0});var Qs=u(Kt);for(let ds=0;ds<q.length;ds+=1)q[ds].l(Qs);Qs.forEach(o),Js.forEach(o),dl.forEach(o),cl.forEach(o),al.forEach(o),S.forEach(o),qe=m(c),ta(ue.$$.fragment,c),this.h()},h(){l(x,"class","page-subtitle svelte-b9v0tr"),He(C.src,P=i[17])||l(C,"src",P),l(C,"alt","Icon"),l(C,"class","heading-icon svelte-b9v0tr"),Yt(M,"margin-top","10px"),l(V,"class","page-title svelte-b9v0tr"),Yt(At,"margin-top","14px"),l(ct,"class","definition svelte-b9v0tr"),l(_,"class","title-container"),l(d,"class","header-text svelte-b9v0tr"),l(G,"class","aggregation-icon-small svelte-b9v0tr"),He(G.src,Jt=vs)||l(G,"src",Jt),l(G,"alt","icon"),l(gt,"class","small svelte-b9v0tr"),l(z,"class","waffle-value svelte-b9v0tr"),l(vt,"class","waffle-value-container svelte-b9v0tr"),l(it,"class","waffle-stat svelte-b9v0tr"),l(_t,"class","aggregation-icon-small svelte-b9v0tr"),He(_t.src,Ue=us)||l(_t,"src",Ue),l(_t,"alt","icon"),l(Et,"class","waffle-value svelte-b9v0tr"),l(ut,"class","waffle-value-container svelte-b9v0tr"),l(dt,"class","waffle-stat svelte-b9v0tr"),l(D,"class","aggregation-icon-small svelte-b9v0tr"),He(D.src,W=Za)||l(D,"src",W),l(D,"alt","icon"),l(v,"class","waffle-value-container svelte-b9v0tr"),l(g,"class","waffle-caption svelte-b9v0tr"),l(f,"class","waffle-stat svelte-b9v0tr"),l(lt,"class","waffle-stats svelte-b9v0tr"),l(It,"class","waffle-label svelte-b9v0tr"),l(ft,"class","component-title"),l(Tt,"class","waffle-el"),l(_e,"class","waffle-bg svelte-b9v0tr"),l(U,"class","header-waffle-wrapper svelte-b9v0tr"),l(b,"class","header-content svelte-b9v0tr"),l(h,"class","section header svelte-b9v0tr"),l(Zt,"class","section-header"),l($t,"style",i[13]),l(Nt,"class","component-title"),l(te,"class","aggregation-icon-container"),l(Ee,"class","plot-bar svelte-b9v0tr"),l(ee,"style",i[13]),l(le,"class","tooltip-term"),l(wt,"class","component-title"),l(se,"class","aggregation-icon-container"),l(Mt,"class","plot-bar svelte-b9v0tr"),l(L,"class","component singlevis"),l(ae,"style",i[13]),l(Pt,"class","component-title"),l(ne,"class","description svelte-b9v0tr"),l(ie,"class","aggregation-icon-container2 svelte-b9v0tr"),l(Ct,"id","map"),l(Ct,"class","svelte-b9v0tr"),l(Z,"class","component column"),l(yt,"id","vis-block"),l(yt,"class","svelte-b9v0tr"),l(Vt,"id","overview"),l(re,"class","section-header"),l(oe,"style",i[13]),l(Ht,"class","component-title"),l(ce,"class","explanation"),l(de,"class","aggregation-icon-container2 svelte-b9v0tr"),Yt(fe,"margin-bottom","0.8rem"),l(Ot,"class","nation-button svelte-b9v0tr"),l(Ot,"data-nation","S"),Yt(Ot,"background-color",bt(i[14])[0]),l(Ft,"class","nation-button svelte-b9v0tr"),l(Ft,"data-nation","N"),Yt(Ft,"background-color",bt(i[14])[1]),l(Ut,"class","nation-button svelte-b9v0tr"),l(Ut,"data-nation","E"),Yt(Ut,"background-color",bt(i[14])[2]),l(zt,"class","nation-button svelte-b9v0tr"),l(zt,"data-nation","W"),Yt(zt,"background-color",bt(i[14])[3]),l(Wt,"class","reset-button svelte-b9v0tr"),l(O,"class","legend-buttons svelte-b9v0tr"),l($,"id","se-legend"),l($,"class","legend-box svelte-b9v0tr"),l(Rt,"id","se-disclaimer"),l(Rt,"class","disclaimer-box svelte-b9v0tr"),l(at,"id","se-title"),l(at,"class","svelte-b9v0tr"),l(Kt,"id","multiple-plots"),l(Kt,"class","svelte-b9v0tr"),l(ve,"id","multiple-comp"),l(ve,"class","svelte-b9v0tr"),l(ht,"id","se-block"),l(ht,"class","component svelte-b9v0tr"),Yt(ht,"margin-left","1rem"),l(Bt,"id","compare"),l(xt,"class","section"),l(s,"class","page-container")},m(c,S){ea(e,c,S),F(c,r,S),F(c,s,S),t(s,h),t(h,b),t(b,d),t(d,x),t(d,I),t(d,_),t(_,V),t(V,C),t(V,N),t(V,M),t(V,T),t(V,nt),t(_,ot),t(_,At),t(_,me),t(_,ct),t(ct,be),t(b,Xt),t(b,U),t(U,It),t(It,lt),t(lt,it),t(it,vt),t(vt,G),t(vt,Ae),t(vt,z),j&&j.m(z,null),t(z,st),t(z,gt),t(it,Ie),Dt.m(it,null),t(lt,Te),t(lt,dt),t(dt,ut),t(ut,_t),t(ut,xe),t(ut,Et),Y&&Y.m(Et,null),t(dt,Ve),St.m(dt,null),t(lt,Ne),t(lt,f),t(f,v),t(v,D),t(v,R),X&&X.m(v,null),t(f,rt),t(f,g),t(U,Qt),t(U,ft),t(U,tt),t(U,Tt),i[23](Tt),t(U,ge),t(U,_e),i[24](_e),t(s,ul),J&&J.m(s,null),t(s,ze),t(s,xt),t(xt,Vt),t(Vt,Zt),t(Vt,hl),t(Vt,yt),t(yt,L),t(L,Nt),t(Nt,pl),t(Nt,$t),t($t,ml),t(Nt,bl),t(L,gl),kt.m(L,null),t(L,We),t(L,te),t(L,_l),t(L,Ee),i[25](Ee),t(L,El),t(L,yl),t(L,wl),t(L,wt),t(wt,Cl),t(wt,ee),t(ee,Dl),t(wt,Sl),t(wt,le),t(L,kl),Lt.m(L,null),t(L,Re),t(L,se),t(L,Ll),t(L,Mt),i[26](Mt),t(L,Al),t(L,Il),t(yt,Tl),t(yt,Z),t(Z,Pt),t(Pt,xl),t(Pt,ae),t(ae,Vl),t(Pt,Nl),t(Z,Ml),t(Z,ne),t(Z,Pl),t(Z,ie),t(Z,Bl),Q&&Q.m(Z,null),t(Z,Ke),t(Z,Ct),i[27](Ct),t(xt,Hl),t(xt,Bt),t(Bt,re),t(Bt,Ol),t(Bt,ht),t(ht,at),t(at,Ht),t(Ht,Fl),t(Ht,oe),t(oe,Ul),t(Ht,zl),t(at,Wl),t(at,ce),t(at,Rl),t(at,$),t($,de),t($,Kl),t($,fe),t($,ql),t($,Gl),t($,jl),t($,ye),t($,Yl),t($,O),t(O,Xl),t(O,Jl),t(O,Ot),t(Ot,Ql),t(O,Zl),t(O,Ft),t(Ft,$l),t(O,ts),t(O,Ut),t(Ut,es),t(O,ls),t(O,zt),t(zt,ss),t(O,as),t(O,ns),t(O,is),t(O,Wt),t(at,rs),t(at,Rt),t(ht,os),t(ht,ve),t(ve,Kt);for(let B=0;B<q.length;B+=1)q[B]&&q[B].m(Kt,null);i[29](s),F(c,qe,S),ea(ue,c,S),qt=!0,cs||(Ms=Ca(Wt,"click",i[18]),cs=!0)},p(c,S){if(c[4]?j?j.p(c,S):(j=ha(c),j.c(),j.m(z,st)):j&&(j.d(1),j=null),Ge!==(Ge=Ps(c))&&(Dt.d(1),Dt=Ge(c),Dt&&(Dt.c(),Dt.m(it,null))),c[4]?Y?Y.p(c,S):(Y=pa(c),Y.c(),Y.m(Et,null)):Y&&(Y.d(1),Y=null),je!==(je=Bs(c))&&(St.d(1),St=je(c),St&&(St.c(),St.m(dt,null))),c[4]?X?X.p(c,S):(X=ma(c),X.c(),X.m(v,null)):X&&(X.d(1),X=null),c[9]?J?J.p(c,S):(J=ba(c),J.c(),J.m(s,ze)):J&&(J.d(1),J=null),(!qt||S[0]&8192)&&l($t,"style",c[13]),Ye!==(Ye=Hs(c))&&(kt.d(1),kt=Ye(c),kt&&(kt.c(),kt.m(L,We))),(!qt||S[0]&8192)&&l(ee,"style",c[13]),Xe!==(Xe=Os(c))&&(Lt.d(1),Lt=Xe(c),Lt&&(Lt.c(),Lt.m(L,Re))),(!qt||S[0]&8192)&&l(ae,"style",c[13]),c[7]?Q?Q.p(c,S):(Q=_a(c),Q.c(),Q.m(Z,Ke)):Q&&(Q.d(1),Q=null),(!qt||S[0]&8192)&&l(oe,"style",c[13]),S[0]&2){we=na(va);let B;for(B=0;B<we.length;B+=1){const he=ua(c,we,B);q[B]?q[B].p(he,S):(q[B]=Ea(he),q[B].c(),q[B].m(Kt,null))}for(;B<q.length;B+=1)q[B].d(1);q.length=we.length}},i(c){qt||(la(e.$$.fragment,c),la(ue.$$.fragment,c),qt=!0)},o(c){sa(e.$$.fragment,c),sa(ue.$$.fragment,c),qt=!1},d(c){c&&(o(r),o(s),o(qe)),aa(e,c),j&&j.d(),Dt.d(),Y&&Y.d(),St.d(),X&&X.d(),i[23](null),i[24](null),J&&J.d(),kt.d(),i[25](null),Lt.d(),i[26](null),Q&&Q.d(),i[27](null),Da(q,c),i[29](null),aa(ue,c),cs=!1,Ms()}}}let Le=400;function ya(i){return{overview:"Overview",compare:"Compare by socio-economic factor"}[i]||""}function vn(i,e,r){let s,h,b,d,x,A={},{data:I}=e;const _=I.coBenefit,V=da.find(f=>f.id===_)?.label??_,C=Fa.find(f=>f.id===_)?.def??_;let P,N,M,T,nt,ot,At,me,ct=!1,be,Xt,U;Ae().then(()=>{let f=JSON.parse(JSON.stringify(Be(_)));f.shift(),f=f.reverse(),r(7,Xt=new Oa(N,"LAD",U,"total",!0,"LAD",!1,f)),Xt.initMap()});let It=Ua(_),lt=!1,it="";const vt=["overview","compare"];let G=null;function Jt(){const f=window.scrollY;r(9,lt=f>250);for(const v of vt){const D=document.getElementById(v);if(!D)continue;const W=D.getBoundingClientRect();if(W.top<=150&&W.bottom>=150){r(10,it=v);break}}}Zs(()=>(window.addEventListener("scroll",Jt),Jt(),()=>window.removeEventListener("scroll",Jt))),Sa(()=>{window.removeEventListener("scroll",Jt)});async function Ae(){P=await ke(Ga(_)),M=await ke(ja(_)),nt=await ke(Ya()),nt=nt.sort((v,D)=>D.total-v.total),ot=await ke(Xa()),ot=ot.sort((v,D)=>D.total_value-v.total_value);const f=ot.find(v=>v.co_benefit_type===_);r(6,be=f?f.value_per_capita:null),N=await ke(Ja(_)),console.log("data",N),At=await ke(Qa()),r(5,me=At[0].total_value),fa.forEach(v=>{M[v]=+M[v]}),r(4,T=xa(P,v=>v.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),r(20,ct=!0)}let z,st;function gt(f,v){if(!z)return;const D=20,W=15,R=Math.floor(200/D),rt=W*R,g=nt.reduce((E,tt)=>E+tt.total,0),K=[];for(const E of nt){const tt=Math.round(Math.abs(E.total)/g*rt),Tt=E.total<0;for(let ge=0;ge<tt;ge++)K.push({type:E.co_benefit_type,negative:Tt})}for(;K.length<rt;)K.push({type:"empty"});K.sort((E,tt)=>E.type==="empty"?1:tt.type==="empty"?-1:E.negative&&!tt.negative?1:!E.negative&&tt.negative?-1:0);const Qt=K.map((E,tt)=>({x:tt%W,y:Math.floor(tt/W),...E})),ft=Pe({width:D*W,height:D*R,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:da.map(E=>E.id),range:Ra,unknown:"#eee",legend:!1},marks:[oa(Qt.filter(E=>!E.negative),{x:E=>E.x*D,y:E=>E.y*D,fill:"type",fillOpacity:E=>v&&E.type!==v?.15:1}),oa(Qt.filter(E=>E.negative),{x:E=>E.x*D,y:E=>E.y*D,stroke:"type",strokeOpacity:E=>v&&E.type!==v?.15:1,strokeWidth:1,fill:"none"})]});st&&(r(12,st.style.width=`${D*W}px`,st),r(12,st.style.height=`${f-100}px`,st)),r(11,z.innerHTML="",z),z.append(ft)}function Fe(){d?.append(Pe({height:Le/1.5,...Ka,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazones",grid:!0},x:{label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Pa(N,tn({y:"count"},{x:f=>f.total*1e3,fill:Be(_)[0],tip:!0,fillOpacity:.5,stroke:Be(_)[0],strokeWidth:2})),ca({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),vl([0],{stroke:"#333",strokeWidth:.75})]}))}function Ie(){let f=P.flatMap(v=>za.map(D=>({time:D,value:v[D],total:v.total,scenario:v.scenario})));x?.append(Pe({height:Le/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:v=>v.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[en(f,Ba({y:"sum"},{x:"time",y:v=>v.value/1e3,fill:Be(_)[0],tip:{format:{y:v=>`${v.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),ca({anchor:"left",grid:!0,label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"}),vl([0],{stroke:"#333",strokeWidth:.75})]}))}function Te(){const f=v=>v.LAD.startsWith("S")?"S":v.LAD.startsWith("N")?"N":v.LAD.startsWith("E")?"E":"W";fa.forEach((v,D)=>{let W;if(Wa.includes(v)){const R=qa[v],rt=R?Object.keys(R).map(Number):N.filter(g=>g.SEFMAME==v).map(g=>g.SE);W=Pe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:Le/1.4,width:Le*1.2,marginLeft:70,marginBottom:v==="Typology"?80:60,marginRight:20,marginTop:30,x:{domain:rt,label:fs(v),tickFormat:g=>R?.[g]??g,tickRotate:v==="Typology"?-20:0},y:{label:"£, thousand",labelArrow:"none"},color:{legend:!0},marks:[hs(N.filter(g=>g.SEFMAME==v),{x:"SE",y:g=>g.total*1e3,r:1.8,fillOpacity:.7,fill:g=>g.LAD.startsWith("S")?bt(_)[1]:g.LAD.startsWith("N")?bt(_)[2]:g.LAD.startsWith("E")?bt(_)[3]:bt(_)[4]}),vl([0],{stroke:"#333",strokeWidth:.75})]})}else{let R=N.filter(g=>g.SEFMAME===v&&(G===null||f(g)==G)),rt=R.reduce(function(g,K){return g.SE<K.SE?g:K});W=Pe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:Le/1.4,width:Le*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:30,x:{label:fs(v),labelArrow:!1,labelAnchor:"center"},y:{label:"£, thousand",labelArrow:!1},color:{legend:!0},marks:[D==6?ia(["Each dot represents a Local Authority District (LAD)."],{x:["Under_35","Over_65","Unemployment"].includes(v)?rt.SE*100:rt.SE,y:rt.total*1e3,textPadding:6,opacity:.5,lineWidth:12}):[],hs(R,{x:g=>["Under_35","Over_65","Unemployment"].includes(v)?g.SE*100:g.SE,y:g=>g.total*1e3,fill:g=>{const K=["S","N","E","W"].indexOf(f(g));return bt(_)[K]},r:2,fillOpacity:.1,channels:{LAD:"LAD"}}),hs(R,{x:g=>["Under_35","Over_65","Unemployment"].includes(v)?g.SE*100:g.SE,y:g=>g.total*1e3,fill:g=>{const K=["S","N","E","W"].indexOf(f(g));return bt(_)[K]},r:3.5,fillOpacity:1}),Va({label:fs(v),labelArrow:!1,labelAnchor:"center"}),vl([0],{stroke:"#333",strokeWidth:.75}),Na([0],{stroke:"#333",strokeWidth:.75}),ia(R,Ma({x:g=>["Under_35","Over_65","Unemployment"].includes(v)?g.SE*100:g.SE,y:g=>g.total*1e3,title:g=>[`LAD: ${g.LAD}`,"Click to navigate to page."].join(`
`)}))]}),console.log(ra(W).select('g[aria-label="dot"]').selectAll("circle")),ra(W).selectAll('g[aria-label="dot"]').selectAll("circle").style("cursor","pointer").on("click",(g,K,Qt)=>{let ft=R[K].LAD;window.open(`${Ha}/location?location=${ft}`,"_blank").focus()})}A[v]?.append(W)})}function dt(){r(21,G=null)}Zs(()=>{document.querySelectorAll(".nation-button").forEach(f=>{f.addEventListener("click",()=>{const v=f.getAttribute("data-nation");G===v?(r(21,G=null),f.classList.remove("active")):(r(21,G=v),document.querySelectorAll(".nation-button").forEach(D=>D.classList.remove("active")),f.classList.add("active"))})})});function ut(f){pe[f?"unshift":"push"](()=>{z=f,r(11,z)})}function _t(f){pe[f?"unshift":"push"](()=>{st=f,r(12,st)})}function Ue(f){pe[f?"unshift":"push"](()=>{x=f,r(0,x)})}function xe(f){pe[f?"unshift":"push"](()=>{d=f,r(3,d)})}function Et(f){pe[f?"unshift":"push"](()=>{U=f,r(8,U)})}function Ve(f,v){pe[f?"unshift":"push"](()=>{A[v.id]=f,r(1,A)})}function Ne(f){pe[f?"unshift":"push"](()=>{b=f,r(2,b)})}return i.$$set=f=>{"data"in f&&r(19,I=f.data)},i.$$.update=()=>{i.$$.dirty[0]&1048577&&ct&&(x?.firstChild?.remove(),Fe(),Ie(),gt(300,_)),i.$$.dirty[0]&3145730&&ct&&G!==void 0&&(Object.values(A).forEach(f=>{f.firstChild?.remove()}),Te()),i.$$.dirty[0]&4194304&&r(13,h=`color: ${s}; font-weight: bold; font-size: 22px;`)},r(22,s=Be(_)[0]),[x,A,b,d,T,me,be,Xt,U,lt,it,z,st,h,_,V,C,It,dt,I,ct,G,s,ut,_t,Ue,xe,Et,Ve,Ne]}class An extends Aa{constructor(e){super(),Ia(this,e,vn,fn,wa,{data:19},null,[-1,-1])}}export{An as component};
