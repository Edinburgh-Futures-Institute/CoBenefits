import{s as Sr,a as y,e as r,t as w,H as Rl,g as E,c as o,b as g,p as X,d as A,f as p,D as Fl,q as s,A as De,i as ze,h as e,x as Cl,j as $,v as js,y as Tr,r as Ir,F as Pr,n as Mr,z as kt}from"../chunks/scheduler.BVm0POKv.js";import{S as Nr,i as Vr,c as Ws,b as Ys,m as Ks,t as qs,a as Xs,d as Zs}from"../chunks/index.C_bTuQvQ.js";import{N as Br,e as rs}from"../chunks/NavigationBar.BKu5Zps8.js";import"../chunks/transform.BNP73y-7.js";import{ao as _r,ap as yr,G as hs,q as Hr,r as Rr,M as Er,az as Cr,R as Fr,c as wr,b as Ar,d as zr,aX as Or,e as Lr,aY as xr,aZ as Ur,T as Dr,U as Ma,h as Gr,i as jr,a_ as Wr,a$ as Yr,b0 as Kr,b1 as qr,l as Xr,F as Zr,H as os,I as Be,J as Jr,K as ka,L as is,N as ct,P as Ue,O as Js,V as Qs,Q as Qr}from"../chunks/index.DRj_ZHTF.js";import{b as vs}from"../chunks/paths.i_POA8TQ.js";import"../chunks/entry.CponhPPg.js";import{f as $s}from"../chunks/module.jBGXnV9S.js";import{M as $r,g as er}from"../chunks/mapUK.CC8CcGhp.js";import{V as Tt,A as Ee,e as Ia,C as Pa,c as tr,r as eo,f as to,M as $e,v as lo,w as ao,x as no,l as so,S as lr,d as Sa,a as ar,y as ro,z as oo,T as cs,h as io}from"../chunks/globals.KPNIVrNm.js";import{g as Ge,j as nr,k as co,d as sr,l as uo,m as rr,y as fo,z as ho,p as vo}from"../chunks/duckdb.DKdaZWn-.js";import{F as po}from"../chunks/Footer.Bl7pUAHx.js";import{c as us}from"../chunks/dsv.XhNTmijJ.js";import{b as fs,a as Wt}from"../chunks/bar.2xGs5Shd.js";import{m as mo,c as or,s as go,a as Hl}from"../chunks/area.BciWZwRI.js";import{t as bo,m as _o,b as Ta}from"../chunks/bin.Bl2kikCE.js";import{n as yo}from"../chunks/nice.BkzgUbph.js";import{d as ir}from"../chunks/dot.LN3TJCxy.js";const Eo=Co(wo);function Co(t){return function(l,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!n&&!a)return l;const v=n&&t(n),C=a&&t(a),f=u.slice();return v&&C?(wl(v,f,u,i,c),wl(v,u,f,i,c),wl(v,f,u,i,c),Al(C,u,f,i,c),Al(C,f,u,i,c),Al(C,u,f,i,c)):v?(wl(v,u,f,i,c),wl(v,f,u,i,c),wl(v,u,f,i,c)):C&&(Al(C,u,f,i,c),Al(C,f,u,i,c),Al(C,u,f,i,c)),l}}function wl(t,l,n,a,u){for(let i=0,c=a*u;i<c;)t(l,n,i,i+=a,1)}function Al(t,l,n,a,u){for(let i=0,c=a*u;i<a;++i)t(l,n,i,i+c,a)}function wo(t){const l=Math.floor(t);if(l===t)return Ao(t);const n=t-l,a=2*t+1;return(u,i,c,v,C)=>{if(!((v-=C)>=c))return;let f=l*i[c];const h=C*l,D=h+C;for(let b=c,k=c+h;b<k;b+=C)f+=i[Math.min(v,b)];for(let b=c,k=v;b<=k;b+=C)f+=i[Math.min(v,b+h)],u[b]=(f+n*(i[Math.max(c,b-D)]+i[Math.min(v,b+D)]))/a,f-=i[Math.max(c,b-h)]}}function Ao(t){const l=2*t+1;return(n,a,u,i,c)=>{if(!((i-=c)>=u))return;let v=t*a[u];const C=c*t;for(let f=u,h=u+C;f<h;f+=c)v+=a[Math.min(i,f)];for(let f=u,h=i;f<=h;f+=c)v+=a[Math.min(i,f+C)],n[f]=v/l,v-=a[Math.max(u,f-C)]}}var zo=Array.prototype,kr=zo.slice;function Lo(t,l){return t-l}function Do(t){for(var l=0,n=t.length,a=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++l<n;)a+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return a}const St=t=>()=>t;function ko(t,l){for(var n=-1,a=l.length,u;++n<a;)if(u=So(t,l[n]))return u;return 0}function So(t,l){for(var n=l[0],a=l[1],u=-1,i=0,c=t.length,v=c-1;i<c;v=i++){var C=t[i],f=C[0],h=C[1],D=t[v],b=D[0],k=D[1];if(To(C,D,l))return 0;h>a!=k>a&&n<(b-f)*(a-h)/(k-h)+f&&(u=-u)}return u}function To(t,l,n){var a;return Io(t,l,n)&&Po(t[a=+(t[0]===l[0])],n[a],l[a])}function Io(t,l,n){return(l[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(l[1]-t[1])}function Po(t,l,n){return t<=l&&l<=n||n<=l&&l<=t}function Mo(){}var ut=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function cr(){var t=1,l=1,n=bo,a=C;function u(f){var h=n(f);if(Array.isArray(h))h=h.slice().sort(Lo);else{const D=_r(f,No);for(h=yr(...yo(D[0],D[1],h),h);h[h.length-1]>=D[1];)h.pop();for(;h[1]<D[0];)h.shift()}return h.map(D=>i(f,D))}function i(f,h){const D=h==null?NaN:+h;if(isNaN(D))throw new Error(`invalid value: ${h}`);var b=[],k=[];return c(f,D,function(T){a(T,f,D),Do(T)>0?b.push([T]):k.push(T)}),k.forEach(function(T){for(var z=0,N=b.length,S;z<N;++z)if(ko((S=b[z])[0],T)!==-1){S.push(T);return}}),{type:"MultiPolygon",value:h,coordinates:b}}function c(f,h,D){var b=new Array,k=new Array,T,z,N,S,m,I;for(T=z=-1,S=Yt(f[0],h),ut[S<<1].forEach(P);++T<t-1;)N=S,S=Yt(f[T+1],h),ut[N|S<<1].forEach(P);for(ut[S<<0].forEach(P);++z<l-1;){for(T=-1,S=Yt(f[z*t+t],h),m=Yt(f[z*t],h),ut[S<<1|m<<2].forEach(P);++T<t-1;)N=S,S=Yt(f[z*t+t+T+1],h),I=m,m=Yt(f[z*t+T+1],h),ut[N|S<<1|m<<2|I<<3].forEach(P);ut[S|m<<3].forEach(P)}for(T=-1,m=f[z*t]>=h,ut[m<<2].forEach(P);++T<t-1;)I=m,m=Yt(f[z*t+T+1],h),ut[m<<2|I<<3].forEach(P);ut[m<<3].forEach(P);function P(L){var U=[L[0][0]+T,L[0][1]+z],G=[L[1][0]+T,L[1][1]+z],K=v(U),H=v(G),M,V;(M=k[K])?(V=b[H])?(delete k[M.end],delete b[V.start],M===V?(M.ring.push(G),D(M.ring)):b[M.start]=k[V.end]={start:M.start,end:V.end,ring:M.ring.concat(V.ring)}):(delete k[M.end],M.ring.push(G),k[M.end=H]=M):(M=b[H])?(V=k[K])?(delete b[M.start],delete k[V.end],M===V?(M.ring.push(G),D(M.ring)):b[V.start]=k[M.end]={start:V.start,end:M.end,ring:V.ring.concat(M.ring)}):(delete b[M.start],M.ring.unshift(U),b[M.start=K]=M):b[K]=k[H]={start:K,end:H,ring:[U,G]}}}function v(f){return f[0]*2+f[1]*(t+1)*4}function C(f,h,D){f.forEach(function(b){var k=b[0],T=b[1],z=k|0,N=T|0,S=ds(h[N*t+z]);k>0&&k<t&&z===k&&(b[0]=ur(k,ds(h[N*t+z-1]),S,D)),T>0&&T<l&&N===T&&(b[1]=ur(T,ds(h[(N-1)*t+z]),S,D))})}return u.contour=i,u.size=function(f){if(!arguments.length)return[t,l];var h=Math.floor(f[0]),D=Math.floor(f[1]);if(!(h>=0&&D>=0))throw new Error("invalid size");return t=h,l=D,u},u.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?St(kr.call(f)):St(f),u):n},u.smooth=function(f){return arguments.length?(a=f?C:Mo,u):a===C},u}function No(t){return isFinite(t)?t:NaN}function Yt(t,l){return t==null?!1:+t>=l}function ds(t){return t==null||isNaN(t=+t)?-1/0:t}function ur(t,l,n,a){const u=a-l,i=n-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function Vo(t){return t[0]}function Bo(t){return t[1]}function Ho(){return 1}function Ro(){var t=Vo,l=Bo,n=Ho,a=960,u=500,i=20,c=2,v=i*3,C=a+v*2>>c,f=u+v*2>>c,h=St(20);function D(m){var I=new Float32Array(C*f),P=Math.pow(2,-c),L=-1;for(const W of m){var U=(t(W,++L,m)+v)*P,G=(l(W,L,m)+v)*P,K=+n(W,L,m);if(K&&U>=0&&U<C&&G>=0&&G<f){var H=Math.floor(U),M=Math.floor(G),V=U-H-.5,oe=G-M-.5;I[H+M*C]+=(1-V)*(1-oe)*K,I[H+1+M*C]+=V*(1-oe)*K,I[H+1+(M+1)*C]+=V*oe*K,I[H+(M+1)*C]+=(1-V)*oe*K}}return Eo({data:I,width:C,height:f},i*P),I}function b(m){var I=D(m),P=h(I),L=Math.pow(2,2*c);return Array.isArray(P)||(P=yr(Number.MIN_VALUE,hs(I)/L,P)),cr().size([C,f]).thresholds(P.map(U=>U*L))(I).map((U,G)=>(U.value=+P[G],k(U)))}b.contours=function(m){var I=D(m),P=cr().size([C,f]),L=Math.pow(2,2*c),U=G=>{G=+G;var K=k(P.contour(I,G*L));return K.value=G,K};return Object.defineProperty(U,"max",{get:()=>hs(I)/L}),U};function k(m){return m.coordinates.forEach(T),m}function T(m){m.forEach(z)}function z(m){m.forEach(N)}function N(m){m[0]=m[0]*Math.pow(2,c)-v,m[1]=m[1]*Math.pow(2,c)-v}function S(){return v=i*3,C=a+v*2>>c,f=u+v*2>>c,b}return b.x=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),b):t},b.y=function(m){return arguments.length?(l=typeof m=="function"?m:St(+m),b):l},b.weight=function(m){return arguments.length?(n=typeof m=="function"?m:St(+m),b):n},b.size=function(m){if(!arguments.length)return[a,u];var I=+m[0],P=+m[1];if(!(I>=0&&P>=0))throw new Error("invalid size");return a=I,u=P,S()},b.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),S()},b.thresholds=function(m){return arguments.length?(h=typeof m=="function"?m:Array.isArray(m)?St(kr.call(m)):St(m),b):h},b.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,S()},b}const Fo={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Oo extends Er{constructor(l,n={}){const{x:a,y:u,z:i,curve:c,tension:v}=n;super(l,{x:{value:a,scale:"x"},y:{value:u,scale:"y"},z:{value:Cr(n),optional:!0}},n,Fo),this.z=i,this.curve=mo(c,v),Fr(this,n)}filter(l){return l}project(l,n,a){this.curve!==or&&super.project(l,n,a)}render(l,n,a,u,i){const{x:c,y:v}=a,{curve:C}=this;return wr("svg:g",i).call(Ar,this,u,i).call(zr,this,n).call(f=>f.selectAll().data(Or(l,[c,v],this,a)).enter().append("path").call(Lr,this).call(xr,this,a).call(Ur,this,a,i).attr("d",C===or&&i.projection?xo(i.projection,c,v):go().curve(C).defined(h=>h>=0).x(h=>c[h]).y(h=>v[h]))).node()}}function xo(t,l,n){const a=Dr(t);return l=Ma(l),n=Ma(n),u=>{let i=[];const c=[i];for(const v of u)v===-1?(i=[],c.push(i)):i.push([l[v],n[v]]);return a({type:"MultiLineString",coordinates:c})}}function Uo(t,{x:l=Hr,y:n=Rr,...a}={}){return new Oo(t,_o({...a,x:l,y:n}))}const Go={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class jo extends Er{constructor(l,{x:n,y:a,z:u,weight:i,fill:c,stroke:v,...C}={}){const f=dr(c)&&(c="currentColor",!0),h=dr(v)&&(v="currentColor",!0);super(l,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:Cr({z:u,fill:c,stroke:v}),optional:!0},weight:{value:i,optional:!0}},Yo({...C,fill:c,stroke:v},f,h),Go),f&&(this.fill=void 0),h&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,n,a,u,i){const{contours:c}=a,v=Dr();return wr("svg:g",i).call(Ar,this,u,i).call(zr,this,{}).call(C=>C.selectAll().data(l).enter().append("path").call(Lr,this).call(Gr,this,a).attr("d",f=>v(c[f]))).node()}}function fr(t,{x:l,y:n,...a}={}){return[l,n]=jr(l,n),new jo(t,{...a,x:l,y:n})}const Wo=new Set(["x","y","z","weight"]);function Yo(t,l,n){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?Ma(i):+i,Wr(t,function(c,v,C,f,h,D){const b=C.weight?Ma(C.weight.value):null,k=C.z?.value,{z:T}=this,[z,N]=Xr(this,h),{width:S,height:m}=h,{x:I,y:P}=Yr(C,f,D),L=Object.fromEntries(Object.entries(C).filter(([W])=>!Wo.has(W)).map(([W,ee])=>[W,{...ee,value:[]}])),U=l&&[],G=n&&[],K=Ro().x(I?W=>I[W]:z).y(P?W=>P[W]:N).weight(b?W=>b[W]:1).size([S,m]).bandwidth(u),H=[];for(const W of v){const ee=[];H.push(ee);for(const te of k?Kr(W,k,T):[W]){const q=K.contours(te);ee.push([te,q])}}let M=i;if(!(M instanceof qr)){let W=0;for(const ee of H)for(const[,te]of ee){const q=te.max;q>W&&(W=q)}M=Float64Array.from({length:i-1},(ee,te)=>W*100*(te+1)/i)}const V=[],oe=[];for(const W of H){const ee=[];V.push(ee);for(const[te,q]of W)for(const Q of M){ee.push(oe.length),oe.push(q(Q/100)),U&&U.push(Q),G&&G.push(Q);for(const ge in L)L[ge].value.push(C[ge].value[te[0]])}}return U&&U.push(0),G&&G.push(0),{data:c,facets:V,channels:{...L,...U&&{fill:{value:U,scale:"color"}},...G&&{stroke:{value:G,scale:"color"}},contours:{value:oe}}}})}function dr(t){return/^density$/i.test(t)}function hr(t,l,n){const a=t.slice();return a[57]=l[n],a[58]=l,a[59]=n,a}function Ko(t,l,n){const a=t.slice();return a[60]=l[n],a}function vr(t){let l,n,a,u=t[17][t[19]]+"",i,c,v,C=br(t[16])+"",f,h=t[9]&&pr(t);return{c(){l=r("div"),n=r("div"),a=r("span"),i=w(u),c=y(),h&&h.c(),v=w(`
              >> `),f=w(C),this.h()},l(D){l=o(D,"DIV",{class:!0});var b=g(l);n=o(b,"DIV",{class:!0});var k=g(n);a=o(k,"SPAN",{class:!0});var T=g(a);i=A(T,u),c=E(T),h&&h.l(T),v=A(T,`
              >> `),f=A(T,C),T.forEach(p),k.forEach(p),b.forEach(p),this.h()},h(){s(a,"class","mini-header-text"),s(n,"class","mini-header-content"),s(l,"class","mini-header")},m(D,b){ze(D,l,b),e(l,n),e(n,a),e(a,i),e(a,c),h&&h.m(a,null),e(a,v),e(a,f)},p(D,b){b[0]&131072&&u!==(u=D[17][D[19]]+"")&&$(i,u),D[9]?h?h.p(D,b):(h=pr(D),h.c(),h.m(a,v)):h&&(h.d(1),h=null),b[0]&65536&&C!==(C=br(D[16])+"")&&$(f,C)},d(D){D&&p(l),h&&h.d()}}}function pr(t){let l,n,a=t[9].toLocaleString()+"",u,i;return{c(){l=r("span"),n=w("(Total: £"),u=w(a),i=w(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var v=g(l);n=A(v,"(Total: £"),u=A(v,a),i=A(v," billion)"),v.forEach(p),this.h()},h(){s(l,"class","mini-header-value")},m(c,v){ze(c,l,v),e(l,n),e(l,u),e(l,i)},p(c,v){v[0]&512&&a!==(a=c[9].toLocaleString()+"")&&$(u,a)},d(c){c&&p(l)}}}function mr(t){let l,n,a,u,i=t[20](t[9],t[11],Tt)+"",c,v,C,f=t[9].toLocaleString()+"",h,D,b,k="billion",T,z,N,S=t[20](t[13],t[11],Ee)+"",m,I,P,L,U,G=t[20](t[10],t[12],Tt)+"",K,H,M,V=t[10].toLocaleString()+"",oe,W,ee,te,q,Q,ge=t[20](t[14],t[12],Ee)+"",be,Pe,ue,re,le,ve,ke;function Se(j,ie){return j[9]>0?Xo:qo}let fe=Se(t),ce=fe(t);function de(j,ie){return j[9]>0?Jo:Zo}let Me=de(t),Ce=Me(t);return{c(){l=r("div"),n=r("div"),a=r("div"),u=new Rl(!1),c=y(),v=r("span"),C=w("£"),h=w(f),D=y(),b=r("span"),b.textContent=k,T=y(),z=r("div"),N=new Rl(!1),m=y(),ce.c(),I=y(),P=r("div"),L=r("div"),U=new Rl(!1),K=y(),H=r("span"),M=w("£"),oe=w(V),W=y(),ee=r("span"),te=y(),q=r("div"),Q=new Rl(!1),be=y(),Ce.c(),Pe=y(),ue=r("span"),re=r("i"),le=w("Grey bars indicate average value for "),ve=r("span"),ke=w(t[7]),this.h()},l(j){l=o(j,"DIV",{class:!0});var ie=g(l);n=o(ie,"DIV",{class:!0});var we=g(n);a=o(we,"DIV",{class:!0});var He=g(a);u=Fl(He,!1),c=E(He),v=o(He,"SPAN",{class:!0});var et=g(v);C=A(et,"£"),h=A(et,f),et.forEach(p),D=E(He),b=o(He,"SPAN",{class:!0,"data-svelte-h":!0}),X(b)!=="svelte-tlhydp"&&(b.textContent=k),He.forEach(p),T=E(we),z=o(we,"DIV",{class:!0});var d=g(z);N=Fl(d,!1),m=E(d),ce.l(d),d.forEach(p),we.forEach(p),I=E(ie),P=o(ie,"DIV",{class:!0});var B=g(P);L=o(B,"DIV",{class:!0});var F=g(L);U=Fl(F,!1),K=E(F),H=o(F,"SPAN",{class:!0});var O=g(H);M=A(O,"£"),oe=A(O,V),O.forEach(p),W=E(F),ee=o(F,"SPAN",{class:!0}),g(ee).forEach(p),F.forEach(p),te=E(B),q=o(B,"DIV",{class:!0});var Y=g(q);Q=Fl(Y,!1),be=E(Y),Ce.l(Y),Y.forEach(p),Pe=E(B),ue=o(B,"SPAN",{class:!0});var he=g(ue);re=o(he,"I",{});var x=g(re);le=A(x,"Grey bars indicate average value for "),ve=o(x,"SPAN",{class:!0});var Z=g(ve);ke=A(Z,t[7]),Z.forEach(p),x.forEach(p),he.forEach(p),B.forEach(p),ie.forEach(p),this.h()},h(){u.a=c,s(v,"class","waffle-big svelte-12nu92z"),s(b,"class","small svelte-12nu92z"),s(a,"class","waffle-value svelte-12nu92z"),N.a=m,s(z,"class","waffle-value svelte-12nu92z"),s(n,"class","waffle-stat svelte-12nu92z"),U.a=K,s(H,"class","waffle-big svelte-12nu92z"),s(ee,"class","small svelte-12nu92z"),s(L,"class","waffle-value svelte-12nu92z"),Q.a=be,s(q,"class","waffle-value svelte-12nu92z"),s(ve,"class","nation-label svelte-12nu92z"),s(ue,"class","waffle-caption svelte-12nu92z"),s(P,"class","waffle-stat svelte-12nu92z"),s(l,"class","waffle-stats")},m(j,ie){ze(j,l,ie),e(l,n),e(n,a),u.m(i,a),e(a,c),e(a,v),e(v,C),e(v,h),e(a,D),e(a,b),e(n,T),e(n,z),N.m(S,z),e(z,m),ce.m(z,null),e(l,I),e(l,P),e(P,L),U.m(G,L),e(L,K),e(L,H),e(H,M),e(H,oe),e(L,W),e(L,ee),e(P,te),e(P,q),Q.m(ge,q),e(q,be),Ce.m(q,null),e(P,Pe),e(P,ue),e(ue,re),e(re,le),e(re,ve),e(ve,ke)},p(j,ie){ie[0]&2560&&i!==(i=j[20](j[9],j[11],Tt)+"")&&u.p(i),ie[0]&512&&f!==(f=j[9].toLocaleString()+"")&&$(h,f),ie[0]&10240&&S!==(S=j[20](j[13],j[11],Ee)+"")&&N.p(S),fe!==(fe=Se(j))&&(ce.d(1),ce=fe(j),ce&&(ce.c(),ce.m(z,null))),ie[0]&5120&&G!==(G=j[20](j[10],j[12],Tt)+"")&&U.p(G),ie[0]&1024&&V!==(V=j[10].toLocaleString()+"")&&$(oe,V),ie[0]&20480&&ge!==(ge=j[20](j[14],j[12],Ee)+"")&&Q.p(ge),Me!==(Me=de(j))&&(Ce.d(1),Ce=Me(j),Ce&&(Ce.c(),Ce.m(q,null))),ie[0]&128&&$(ke,j[7])},d(j){j&&p(l),ce.d(),Ce.d()}}}function qo(t){let l,n="Local area costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-pi7zpb"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-12nu92z")},m(a,u){ze(a,l,u)},d(a){a&&p(l)}}}function Xo(t){let l,n="Local area benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-cjpgg1"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-12nu92z")},m(a,u){ze(a,l,u)},d(a){a&&p(l)}}}function Zo(t){let l,n="Per capita costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-k47gg8"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-12nu92z")},m(a,u){ze(a,l,u)},d(a){a&&p(l)}}}function Jo(t){let l,n="Per capita benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1jc8yoe"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-12nu92z")},m(a,u){ze(a,l,u)},d(a){a&&p(l)}}}function Qo(t){let l,n,a,u,i=t[60].label+"",c,v;return{c(){l=r("li"),n=r("span"),a=y(),u=r("a"),c=w(i),v=y(),this.h()},l(C){l=o(C,"LI",{});var f=g(l);n=o(f,"SPAN",{class:!0,style:!0}),g(n).forEach(p),a=E(f),u=o(f,"A",{href:!0,target:!0,class:!0});var h=g(u);c=A(h,i),h.forEach(p),v=E(f),f.forEach(p),this.h()},h(){s(n,"class","legend-color svelte-12nu92z"),De(n,"background-color",Ia(t[60].id)),s(u,"href",vs+"/cobenefit?cobenefit="+t[60].id),s(u,"target","_blank"),s(u,"class","link")},m(C,f){ze(C,l,f),e(l,n),e(l,a),e(l,u),e(u,c),e(l,v)},p:Mr,d(C){C&&p(l)}}}function $o(t){let l,n,a,u=`Data zones
                                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,i,c,v,C,f,h,D=`The histogram shows the number of data zones
                                        distributed
                                        across
                                        different household social economic factors.`,b,k,T="",z=t[57],N,S,m,I,P,L=t[57].label+"",U,G,K,H,M,V=t[17][t[19]]+"",oe,W,ee,te,q,Q="";const ge=()=>t[34](k,z),be=()=>t[34](null,z),Pe=()=>t[35](q,z),ue=()=>t[35](null,z);return{c(){l=r("div"),n=r("h3"),a=r("span"),a.innerHTML=u,i=w(`
                                        distribution (vs. `),c=r("span"),v=w(t[7]),C=w(" average)"),f=y(),h=r("p"),h.textContent=D,b=y(),k=r("div"),k.innerHTML=T,N=y(),S=r("div"),m=r("div"),I=r("h3"),P=w(`Co-benefits received by data zones
                                            across `),U=w(L),G=w(`
                                            values`),K=y(),H=r("p"),M=w(`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),oe=w(V),W=w("."),ee=y(),te=r("div"),q=r("div"),q.innerHTML=Q,this.h()},l(re){l=o(re,"DIV",{class:!0});var le=g(l);n=o(le,"H3",{class:!0});var ve=g(n);a=o(ve,"SPAN",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-zeycni"&&(a.innerHTML=u),i=A(ve,`
                                        distribution (vs. `),c=o(ve,"SPAN",{class:!0});var ke=g(c);v=A(ke,t[7]),ke.forEach(p),C=A(ve," average)"),ve.forEach(p),f=E(le),h=o(le,"P",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-zr1gq8"&&(h.textContent=D),b=E(le),k=o(le,"DIV",{class:!0,"data-svelte-h":!0}),X(k)!=="svelte-6ldqab"&&(k.innerHTML=T),le.forEach(p),N=E(re),S=o(re,"DIV",{class:!0});var Se=g(S);m=o(Se,"DIV",{});var fe=g(m);I=o(fe,"H3",{class:!0});var ce=g(I);P=A(ce,`Co-benefits received by data zones
                                            across `),U=A(ce,L),G=A(ce,`
                                            values`),ce.forEach(p),K=E(fe),H=o(fe,"P",{class:!0});var de=g(H);M=A(de,`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),oe=A(de,V),W=A(de,"."),de.forEach(p),fe.forEach(p),ee=E(Se),te=o(Se,"DIV",{});var Me=g(te);q=o(Me,"DIV",{class:!0,"data-svelte-h":!0}),X(q)!=="svelte-12l832e"&&(q.innerHTML=Q),Me.forEach(p),Se.forEach(p),this.h()},h(){s(a,"class","tooltip-term"),s(c,"class","nation-label svelte-12nu92z"),s(n,"class","component-title"),s(h,"class","description short"),s(k,"class","plot"),s(l,"class","component column svelte-12nu92z"),s(I,"class","component-title"),s(H,"class","description short"),s(q,"class","plot"),s(S,"class","component column svelte-12nu92z")},m(re,le){ze(re,l,le),e(l,n),e(n,a),e(n,i),e(n,c),e(c,v),e(n,C),e(l,f),e(l,h),e(l,b),e(l,k),ge(),ze(re,N,le),ze(re,S,le),e(S,m),e(m,I),e(I,P),e(I,U),e(I,G),e(m,K),e(m,H),e(H,M),e(H,oe),e(H,W),e(S,ee),e(S,te),e(te,q),Pe()},p(re,le){t=re,le[0]&128&&$(v,t[7]),z!==t[57]&&(be(),z=t[57],ge()),le[0]&131072&&V!==(V=t[17][t[19]]+"")&&$(oe,V),z!==t[57]&&(ue(),z=t[57],Pe())},d(re){re&&(p(l),p(N),p(S)),be(),ue()}}}function gr(t){let l,n,a,u=t[57].label+"",i,c,v,C=t[57].def+"",f,h,D,b;function k(N,S){return $o}let z=k()(t);return{c(){l=r("div"),n=r("h2"),a=r("a"),i=w(u),c=y(),v=r("p"),f=w(C),h=y(),D=r("div"),z.c(),b=y(),this.h()},l(N){l=o(N,"DIV",{class:!0});var S=g(l);n=o(S,"H2",{class:!0});var m=g(n);a=o(m,"A",{class:!0,target:!0,href:!0});var I=g(a);i=A(I,u),I.forEach(p),m.forEach(p),c=E(S),v=o(S,"P",{class:!0});var P=g(v);f=A(P,C),P.forEach(p),h=E(S),D=o(S,"DIV",{class:!0});var L=g(D);z.l(L),L.forEach(p),b=E(S),S.forEach(p),this.h()},h(){s(a,"class","link"),s(a,"target","_blank"),s(a,"href",vs+"/sef?sef="+t[57].id),s(n,"class","column-chart-title svelte-12nu92z"),s(v,"class","column-chart-caption svelte-12nu92z"),s(D,"class","row"),s(l,"class","household-column svelte-12nu92z")},m(N,S){ze(N,l,S),e(l,n),e(n,a),e(a,i),e(l,c),e(l,v),e(v,f),e(l,h),e(l,D),z.m(D,null),e(l,b)},p(N,S){z.p(N,S)},d(N){N&&p(l),z.d()}}}function ei(t){let l,n,a,u,i,c,v,C="Local Authority Report",f,h,D,b=t[17][t[19]]+"",k,T,z,N="Download Page Data",S,m,I=`Explore how this local authority will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,P,L,U,G,K,H,M,V,oe="UK",W,ee,te,q,Q,ge="England",be,Pe,ue,re,le,ve="Wales",ke,Se,fe,ce,de,Me="Scotland",Ce,j,ie,we,He="Northern Ireland",et,d,B,F,O,Y=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,he,x,Z,pe,J,Te,ps=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,Na,qt,Ol,Va,Ba,We,Ha,zl=t[17][t[19]]+"",xl,Ra,Xt,Ul,Fa,Oa,xa,Ua,Ll,Gl=t[21](t[5],t[8])+"",jl,ft,Ga,Zt,Wl,ja,Wa,Ye,Ya,Dl=t[17][t[19]]+"",Yl,Ka,Jt,Kl,qa,Xa,dt,ms="",Za,Ne,ht,Ja,kl=t[17][t[19]]+"",ql,Qa,$a,It,Sl=t[17][t[19]]+"",Xl,en,tn,Pt,gs="*Scroll for zooming in and out",ln,tt,bs="",an,lt,Mt,_s=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,nn,at,nt,st,vt,sn,Qt,Zl,rn,on,Re,cn,Tl=t[17][t[19]]+"",Jl,un,$t,Ql,fn,dn,Ke,Nt,ys="Legend:",hn,vn,pn,pt,mt,el,mn,Il=t[17][t[19]]+"",$l,gn,gt,tl,bn,ll,ea,_n,al,yn,Fe,rt,bt,En,Pl=t[17][t[19]]+"",ta,Cn,wn,_t,Es=`Total gains and losses are shown at five-year
                        intervals for each co-benefit. The curve between points is smoothed to show the general
                        trends.`,An,Ve,Vt,Cs="Legend:",zn,Ln,Dn,Bt,kn,nl,Sn,yt,ws=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,Tn,ot,qe,Ht,As="Households",In,Rt,Ml=t[17][t[19]]+"",la,Pn,Mn,Ft,zs=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits received by those data zones.`,Nn,Xe,Ae,Ze,Vn,Nl=t[17][t[19]]+"",aa,Bn,na,Hn,Rn,Fn,On,Oe,Ot,Ls="Legend:",xn,Un,Gn,Et,Ct,sl,jn,Vl=t[17][t[19]]+"",sa,Wn,wt,rl,Yn,ra,Kn,Ie,xt,Ds="Interpreting the charts:",qn,Xn,Zn,ol,ks=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,Jn,Je,il,Ss="Scatterplot:",Qn,Bl=t[17][t[19]]+"",oa,$n,ia,es,ts,At,Ts=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,ls,zt,ca,Ut,ae,as,Is;l=new Br({});let _e=t[15]&&vr(t),ye=t[9]&&mr(t),Ps=rs(Pa),it=[];for(let _=0;_<Ps.length;_+=1)it[_]=Qo(Ko(t,Ps,_));let cl=rs(tr),me=[];for(let _=0;_<cl.length;_+=1)me[_]=gr(hr(t,cl,_));return Ut=new po({}),{c(){Ws(l.$$.fragment),n=y(),a=r("div"),_e&&_e.c(),u=y(),i=r("div"),c=r("div"),v=r("p"),v.textContent=C,f=y(),h=r("div"),D=r("h1"),k=w(b),T=y(),z=r("button"),z.textContent=N,S=y(),m=r("p"),m.textContent=I,P=y(),L=r("div"),U=w("Compare this Local Authority District (LAD) against:"),G=r("br"),K=y(),H=r("input"),M=y(),V=r("label"),V.textContent=oe,W=r("br"),ee=y(),te=r("input"),q=y(),Q=r("label"),Q.textContent=ge,be=r("br"),Pe=y(),ue=r("input"),re=y(),le=r("label"),le.textContent=ve,ke=r("br"),Se=y(),fe=r("input"),ce=y(),de=r("label"),de.textContent=Me,Ce=y(),j=r("input"),ie=y(),we=r("label"),we.textContent=He,et=y(),d=r("div"),ye&&ye.c(),B=y(),F=r("div"),O=r("div"),O.innerHTML=Y,he=y(),x=r("div"),Z=r("div"),pe=r("h3"),J=w(`Distribution of the cobenefit per
                    `),Te=r("span"),Te.innerHTML=ps,Na=w(`
                    compared to `),qt=r("span"),Ol=w(t[7]),Va=w(" Average)"),Ba=y(),We=r("p"),Ha=w("Co-benefit values for "),xl=w(zl),Ra=w(` compared to average value of benefits
                    received across all local
                    authorities in `),Xt=r("span"),Ul=w(t[7]),Fa=w(" (grey)."),Oa=y(),xa=r("br"),Ua=y(),Ll=new Rl(!1),jl=y(),ft=r("h3"),Ga=w("11 types of co-benefit values (vs. "),Zt=r("span"),Wl=w(t[7]),ja=w(" Average)"),Wa=y(),Ye=r("p"),Ya=w("Co-benefit values for "),Yl=w(Dl),Ka=w(` compared to average value of benefits
                    received across all local
                    authorities in `),Jt=r("span"),Kl=w(t[7]),qa=w(" (grey)."),Xa=y(),dt=r("div"),dt.innerHTML=ms,Za=y(),Ne=r("div"),ht=r("h3"),Ja=w("Where is "),ql=w(kl),Qa=w("?"),$a=y(),It=r("p"),Xl=w(Sl),en=w(" has been highlighted in dark grey on this UK map."),tn=y(),Pt=r("p"),Pt.textContent=gs,ln=y(),tt=r("div"),tt.innerHTML=bs,an=y(),lt=r("div"),Mt=r("div"),Mt.innerHTML=_s,nn=y(),at=r("div"),nt=r("div"),st=r("div"),vt=r("h3"),sn=w("Total co-benefit distribution from 2025-2049 (vs. "),Qt=r("span"),Zl=w(t[7]),rn=w(" Average)"),on=y(),Re=r("p"),cn=w(`Aggregated values from 2025-2049
                        in `),Jl=w(Tl),un=w(` compared to average value of benefits received across all local authorities
                        in `),$t=r("span"),Ql=w(t[7]),fn=w("."),dn=y(),Ke=r("div"),Nt=r("strong"),Nt.textContent=ys,hn=y(),vn=r("br"),pn=y(),pt=r("ul"),mt=r("li"),el=r("span"),mn=y(),$l=w(Il),gn=y(),gt=r("li"),tl=r("span"),bn=y(),ll=r("span"),ea=w(t[7]),_n=y(),al=r("div"),yn=y(),Fe=r("div"),rt=r("div"),bt=r("h3"),En=w("Co-benefit gain/loss for "),ta=w(Pl),Cn=w(" over 5 year intervals"),wn=y(),_t=r("p"),_t.textContent=Es,An=y(),Ve=r("div"),Vt=r("strong"),Vt.textContent=Cs,zn=y(),Ln=r("br"),Dn=y(),Bt=r("ul");for(let _=0;_<it.length;_+=1)it[_].c();kn=y(),nl=r("div"),Sn=y(),yt=r("div"),yt.innerHTML=ws,Tn=y(),ot=r("div"),qe=r("div"),Ht=r("p"),Ht.textContent=As,In=y(),Rt=r("h2"),la=w(Ml),Pn=w(" social-economic factors"),Mn=y(),Ft=r("p"),Ft.textContent=zs,Nn=y(),Xe=r("div"),Ae=r("div"),Ze=r("h3"),Vn=w("Comparing the Socio-Economic factors distributions of "),aa=w(Nl),Bn=w(`
                    and `),na=w(t[7]),Hn=w(", and their correlation with co-benefits."),Rn=y(),Fn=r("br"),On=y(),Oe=r("div"),Ot=r("strong"),Ot.textContent=Ls,xn=y(),Un=r("br"),Gn=y(),Et=r("ul"),Ct=r("li"),sl=r("span"),jn=y(),sa=w(Vl),Wn=y(),wt=r("li"),rl=r("span"),Yn=y(),ra=w(t[7]),Kn=y(),Ie=r("div"),xt=r("strong"),xt.textContent=Ds,qn=y(),Xn=r("br"),Zn=y(),ol=r("p"),ol.innerHTML=ks,Jn=y(),Je=r("p"),il=r("strong"),il.textContent=Ss,Qn=w(" Each dot represents a datazone inside "),oa=w(Bl),$n=w(`. The cloud
                        shows the distribution for `),ia=w(t[7]),es=w("."),ts=y(),At=r("div"),At.innerHTML=Ts,ls=y(),zt=r("div");for(let _=0;_<me.length;_+=1)me[_].c();ca=y(),Ws(Ut.$$.fragment),this.h()},l(_){Ys(l.$$.fragment,_),n=E(_),a=o(_,"DIV",{class:!0});var R=g(a);_e&&_e.l(R),u=E(R),i=o(R,"DIV",{class:!0,id:!0});var ne=g(i);c=o(ne,"DIV",{});var xe=g(c);v=o(xe,"P",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-wtex57"&&(v.textContent=C),f=E(xe),h=o(xe,"DIV",{id:!0,class:!0});var ua=g(h);D=o(ua,"H1",{class:!0});var Ms=g(D);k=A(Ms,b),Ms.forEach(p),T=E(ua),z=o(ua,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),X(z)!=="svelte-1d58oxe"&&(z.textContent=N),ua.forEach(p),S=E(xe),m=o(xe,"P",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-q4fx5o"&&(m.textContent=I),P=E(xe),L=o(xe,"DIV",{class:!0});var se=g(L);U=A(se,"Compare this Local Authority District (LAD) against:"),G=o(se,"BR",{}),K=E(se),H=o(se,"INPUT",{type:!0,name:!0}),M=E(se),V=o(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(V)!=="svelte-1yhxhao"&&(V.textContent=oe),W=o(se,"BR",{}),ee=E(se),te=o(se,"INPUT",{type:!0,name:!0}),q=E(se),Q=o(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(Q)!=="svelte-11zyrfp"&&(Q.textContent=ge),be=o(se,"BR",{}),Pe=E(se),ue=o(se,"INPUT",{type:!0,name:!0}),re=E(se),le=o(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(le)!=="svelte-18hrmu4"&&(le.textContent=ve),ke=o(se,"BR",{}),Se=E(se),fe=o(se,"INPUT",{type:!0,name:!0}),ce=E(se),de=o(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(de)!=="svelte-mkxs8y"&&(de.textContent=Me),Ce=E(se),j=o(se,"INPUT",{type:!0,name:!0}),ie=E(se),we=o(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(we)!=="svelte-g19yfx"&&(we.textContent=He),se.forEach(p),xe.forEach(p),et=E(ne),d=o(ne,"DIV",{});var Ns=g(d);ye&&ye.l(Ns),Ns.forEach(p),ne.forEach(p),B=E(R),F=o(R,"DIV",{class:!0,id:!0});var fa=g(F);O=o(fa,"DIV",{class:!0,"data-svelte-h":!0}),X(O)!=="svelte-lw225h"&&(O.innerHTML=Y),he=E(fa),x=o(fa,"DIV",{id:!0,class:!0});var da=g(x);Z=o(da,"DIV",{class:!0});var Le=g(Z);pe=o(Le,"H3",{class:!0});var ul=g(pe);J=A(ul,`Distribution of the cobenefit per
                    `),Te=o(ul,"SPAN",{class:!0,"data-svelte-h":!0}),X(Te)!=="svelte-z1whcf"&&(Te.innerHTML=ps),Na=A(ul,`
                    compared to `),qt=o(ul,"SPAN",{class:!0});var Vs=g(qt);Ol=A(Vs,t[7]),Vs.forEach(p),Va=A(ul," Average)"),ul.forEach(p),Ba=E(Le),We=o(Le,"P",{class:!0});var fl=g(We);Ha=A(fl,"Co-benefit values for "),xl=A(fl,zl),Ra=A(fl,` compared to average value of benefits
                    received across all local
                    authorities in `),Xt=o(fl,"SPAN",{class:!0});var Bs=g(Xt);Ul=A(Bs,t[7]),Bs.forEach(p),Fa=A(fl," (grey)."),fl.forEach(p),Oa=E(Le),xa=o(Le,"BR",{}),Ua=E(Le),Ll=Fl(Le,!1),jl=E(Le),ft=o(Le,"H3",{class:!0});var ha=g(ft);Ga=A(ha,"11 types of co-benefit values (vs. "),Zt=o(ha,"SPAN",{class:!0});var Hs=g(Zt);Wl=A(Hs,t[7]),Hs.forEach(p),ja=A(ha," Average)"),ha.forEach(p),Wa=E(Le),Ye=o(Le,"P",{class:!0});var dl=g(Ye);Ya=A(dl,"Co-benefit values for "),Yl=A(dl,Dl),Ka=A(dl,` compared to average value of benefits
                    received across all local
                    authorities in `),Jt=o(dl,"SPAN",{class:!0});var Rs=g(Jt);Kl=A(Rs,t[7]),Rs.forEach(p),qa=A(dl," (grey)."),dl.forEach(p),Xa=E(Le),dt=o(Le,"DIV",{class:!0,"data-svelte-h":!0}),X(dt)!=="svelte-11dzfub"&&(dt.innerHTML=ms),Le.forEach(p),Za=E(da),Ne=o(da,"DIV",{class:!0});var Lt=g(Ne);ht=o(Lt,"H3",{class:!0});var va=g(ht);Ja=A(va,"Where is "),ql=A(va,kl),Qa=A(va,"?"),va.forEach(p),$a=E(Lt),It=o(Lt,"P",{class:!0});var ns=g(It);Xl=A(ns,Sl),en=A(ns," has been highlighted in dark grey on this UK map."),ns.forEach(p),tn=E(Lt),Pt=o(Lt,"P",{class:!0,"data-svelte-h":!0}),X(Pt)!=="svelte-vsj698"&&(Pt.textContent=gs),ln=E(Lt),tt=o(Lt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),X(tt)!=="svelte-13ehpmu"&&(tt.innerHTML=bs),Lt.forEach(p),da.forEach(p),fa.forEach(p),an=E(R),lt=o(R,"DIV",{class:!0,id:!0});var pa=g(lt);Mt=o(pa,"DIV",{class:!0,"data-svelte-h":!0}),X(Mt)!=="svelte-10cbt4"&&(Mt.innerHTML=_s),nn=E(pa),at=o(pa,"DIV",{id:!0,class:!0});var ma=g(at);nt=o(ma,"DIV",{id:!0,class:!0});var ga=g(nt);st=o(ga,"DIV",{});var hl=g(st);vt=o(hl,"H3",{class:!0});var ba=g(vt);sn=A(ba,"Total co-benefit distribution from 2025-2049 (vs. "),Qt=o(ba,"SPAN",{class:!0});var Fs=g(Qt);Zl=A(Fs,t[7]),Fs.forEach(p),rn=A(ba," Average)"),ba.forEach(p),on=E(hl),Re=o(hl,"P",{class:!0,style:!0});var vl=g(Re);cn=A(vl,`Aggregated values from 2025-2049
                        in `),Jl=A(vl,Tl),un=A(vl,` compared to average value of benefits received across all local authorities
                        in `),$t=o(vl,"SPAN",{class:!0});var Os=g($t);Ql=A(Os,t[7]),Os.forEach(p),fn=A(vl,"."),vl.forEach(p),dn=E(hl),Ke=o(hl,"DIV",{class:!0});var pl=g(Ke);Nt=o(pl,"STRONG",{style:!0,"data-svelte-h":!0}),X(Nt)!=="svelte-1fi0dip"&&(Nt.textContent=ys),hn=E(pl),vn=o(pl,"BR",{}),pn=E(pl),pt=o(pl,"UL",{class:!0});var _a=g(pt);mt=o(_a,"LI",{class:!0});var ya=g(mt);el=o(ya,"SPAN",{class:!0,style:!0}),g(el).forEach(p),mn=E(ya),$l=A(ya,Il),ya.forEach(p),gn=E(_a),gt=o(_a,"LI",{class:!0});var Ea=g(gt);tl=o(Ea,"SPAN",{class:!0,style:!0}),g(tl).forEach(p),bn=E(Ea),ll=o(Ea,"SPAN",{class:!0});var xs=g(ll);ea=A(xs,t[7]),xs.forEach(p),Ea.forEach(p),_a.forEach(p),pl.forEach(p),hl.forEach(p),_n=E(ga),al=o(ga,"DIV",{class:!0}),g(al).forEach(p),ga.forEach(p),yn=E(ma),Fe=o(ma,"DIV",{id:!0,class:!0});var ml=g(Fe);rt=o(ml,"DIV",{});var gl=g(rt);bt=o(gl,"H3",{class:!0});var Ca=g(bt);En=A(Ca,"Co-benefit gain/loss for "),ta=A(Ca,Pl),Cn=A(Ca," over 5 year intervals"),Ca.forEach(p),wn=E(gl),_t=o(gl,"P",{class:!0,style:!0,"data-svelte-h":!0}),X(_t)!=="svelte-1na17f1"&&(_t.textContent=Es),An=E(gl),Ve=o(gl,"DIV",{id:!0,class:!0,style:!0});var bl=g(Ve);Vt=o(bl,"STRONG",{style:!0,"data-svelte-h":!0}),X(Vt)!=="svelte-1fi0dip"&&(Vt.textContent=Cs),zn=E(bl),Ln=o(bl,"BR",{}),Dn=E(bl),Bt=o(bl,"UL",{class:!0,style:!0});var Us=g(Bt);for(let jt=0;jt<it.length;jt+=1)it[jt].l(Us);Us.forEach(p),bl.forEach(p),gl.forEach(p),kn=E(ml),nl=o(ml,"DIV",{class:!0}),g(nl).forEach(p),Sn=E(ml),yt=o(ml,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),X(yt)!=="svelte-1xqy5mf"&&(yt.innerHTML=ws),ml.forEach(p),ma.forEach(p),pa.forEach(p),Tn=E(R),ot=o(R,"DIV",{class:!0,id:!0});var wa=g(ot);qe=o(wa,"DIV",{class:!0});var _l=g(qe);Ht=o(_l,"P",{class:!0,"data-svelte-h":!0}),X(Ht)!=="svelte-ceroz1"&&(Ht.textContent=As),In=E(_l),Rt=o(_l,"H2",{class:!0});var ss=g(Rt);la=A(ss,Ml),Pn=A(ss," social-economic factors"),ss.forEach(p),Mn=E(_l),Ft=o(_l,"P",{class:!0,"data-svelte-h":!0}),X(Ft)!=="svelte-45d07w"&&(Ft.textContent=zs),_l.forEach(p),Nn=E(wa),Xe=o(wa,"DIV",{id:!0,class:!0,style:!0});var Aa=g(Xe);Ae=o(Aa,"DIV",{id:!0,class:!0});var Qe=g(Ae);Ze=o(Qe,"H3",{class:!0});var yl=g(Ze);Vn=A(yl,"Comparing the Socio-Economic factors distributions of "),aa=A(yl,Nl),Bn=A(yl,`
                    and `),na=A(yl,t[7]),Hn=A(yl,", and their correlation with co-benefits."),yl.forEach(p),Rn=E(Qe),Fn=o(Qe,"BR",{}),On=E(Qe),Oe=o(Qe,"DIV",{id:!0,class:!0});var El=g(Oe);Ot=o(El,"STRONG",{style:!0,"data-svelte-h":!0}),X(Ot)!=="svelte-xb363n"&&(Ot.textContent=Ls),xn=E(El),Un=o(El,"BR",{}),Gn=E(El),Et=o(El,"UL",{class:!0});var za=g(Et);Ct=o(za,"LI",{class:!0});var La=g(Ct);sl=o(La,"SPAN",{class:!0,style:!0}),g(sl).forEach(p),jn=E(La),sa=A(La,Vl),La.forEach(p),Wn=E(za),wt=o(za,"LI",{class:!0});var Da=g(wt);rl=o(Da,"SPAN",{class:!0,style:!0}),g(rl).forEach(p),Yn=E(Da),ra=A(Da,t[7]),Da.forEach(p),za.forEach(p),El.forEach(p),Kn=E(Qe),Ie=o(Qe,"DIV",{id:!0,class:!0});var Dt=g(Ie);xt=o(Dt,"STRONG",{style:!0,"data-svelte-h":!0}),X(xt)!=="svelte-ucmfvz"&&(xt.textContent=Ds),qn=E(Dt),Xn=o(Dt,"BR",{}),Zn=E(Dt),ol=o(Dt,"P",{"data-svelte-h":!0}),X(ol)!=="svelte-mm528r"&&(ol.innerHTML=ks),Jn=E(Dt),Je=o(Dt,"P",{});var Gt=g(Je);il=o(Gt,"STRONG",{"data-svelte-h":!0}),X(il)!=="svelte-1ij32sd"&&(il.textContent=Ss),Qn=A(Gt," Each dot represents a datazone inside "),oa=A(Gt,Bl),$n=A(Gt,`. The cloud
                        shows the distribution for `),ia=A(Gt,t[7]),es=A(Gt,"."),Gt.forEach(p),Dt.forEach(p),ts=E(Qe),At=o(Qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),X(At)!=="svelte-gofjep"&&(At.innerHTML=Ts),Qe.forEach(p),ls=E(Aa),zt=o(Aa,"DIV",{id:!0,class:!0});var Gs=g(zt);for(let jt=0;jt<me.length;jt+=1)me[jt].l(Gs);Gs.forEach(p),Aa.forEach(p),wa.forEach(p),R.forEach(p),ca=E(_),Ys(Ut.$$.fragment,_),this.h()},h(){s(v,"class","page-subtitle"),s(D,"class","page-title"),s(z,"type","button"),s(z,"class","data-btn svelte-12nu92z"),s(h,"id","title-row"),s(h,"class","svelte-12nu92z"),s(m,"class","description"),s(H,"type","radio"),s(H,"name","compare"),H.value="UK",H.checked=!0,s(V,"class","nation-label svelte-12nu92z"),s(V,"for","html"),s(te,"type","radio"),s(te,"name","compare"),te.value="England",s(Q,"class","nation-label svelte-12nu92z"),s(Q,"for","html"),s(ue,"type","radio"),s(ue,"name","compare"),ue.value="Wales",s(le,"class","nation-label svelte-12nu92z"),s(le,"for","html"),s(fe,"type","radio"),s(fe,"name","compare"),fe.value="Scotland",s(de,"class","nation-label svelte-12nu92z"),s(de,"for","javascript"),s(j,"type","radio"),s(j,"name","compare"),j.value="NI",s(we,"class","nation-label svelte-12nu92z"),s(we,"for","javascript"),s(L,"class","radio-set"),s(i,"class","section header header-row svelte-12nu92z"),s(i,"id","head"),s(O,"class","section-header"),s(Te,"class","tooltip-term"),s(qt,"class","nation-label svelte-12nu92z"),s(pe,"class","component-title"),s(Xt,"class","nation-label svelte-12nu92z"),s(We,"class","description"),Ll.a=jl,s(Zt,"class","nation-label svelte-12nu92z"),s(ft,"class","component-title"),s(Jt,"class","nation-label svelte-12nu92z"),s(Ye,"class","description"),s(dt,"class","plot"),s(Z,"class","component column"),s(ht,"class","component-title"),s(It,"class","description"),s(Pt,"class","description"),s(tt,"id","map"),s(tt,"class","svelte-12nu92z"),s(Ne,"class","component column"),s(x,"id","vis-block"),s(x,"class","svelte-12nu92z"),s(F,"class","section"),s(F,"id","overview"),s(Mt,"class","section-header"),s(Qt,"class","nation-label svelte-12nu92z"),s(vt,"class","component-title"),s($t,"class","nation-label svelte-12nu92z"),s(Re,"class","description"),De(Re,"margin-bottom","5px"),De(Nt,"margin-bottom","0.5rem"),s(el,"class","legend-color svelte-12nu92z"),De(el,"background-color",Tt),s(mt,"class","svelte-12nu92z"),s(tl,"class","legend-color svelte-12nu92z"),De(tl,"background-color",Ee),s(ll,"class","nation-label svelte-12nu92z"),s(gt,"class","svelte-12nu92z"),s(pt,"class","legend-list svelte-12nu92z"),s(Ke,"class","legend-box svelte-12nu92z"),s(al,"class","plot side svelte-12nu92z"),s(nt,"id","main-block"),s(nt,"class","component column svelte-12nu92z"),s(bt,"class","component-title"),s(_t,"class","description"),De(_t,"margin-bottom","5px"),De(Vt,"margin-bottom","0.5rem"),s(Bt,"class","horizontal-legend-list svelte-12nu92z"),De(Bt,"margin-bottom","5px"),s(Ve,"id","main-legend"),s(Ve,"class","legend-box svelte-12nu92z"),De(Ve,"margin-bottom","5px"),s(nl,"class","plot side svelte-12nu92z"),s(yt,"id","main-disclaimer"),s(yt,"class","disclaimer-box svelte-12nu92z"),s(Fe,"id","main-block"),s(Fe,"class","component column svelte-12nu92z"),s(at,"id","vis-block"),s(at,"class","svelte-12nu92z"),s(lt,"class","section"),s(lt,"id","temporal"),s(Ht,"class","section-subtitle"),s(Rt,"class","section-title"),s(Ft,"class","description"),s(qe,"class","section-header"),s(Ze,"class","component-title"),De(Ot,"margin-bottom","1rem"),s(sl,"class","legend-color svelte-12nu92z"),De(sl,"background-color",Tt),s(Ct,"class","svelte-12nu92z"),s(rl,"class","legend-color svelte-12nu92z"),De(rl,"background-color",Ee),s(wt,"class","svelte-12nu92z"),s(Et,"class","legend-list svelte-12nu92z"),s(Oe,"id","se-legend"),s(Oe,"class","legend-box svelte-12nu92z"),De(xt,"margin-bottom","1rem"),s(Ie,"id","se-legend"),s(Ie,"class","legend-box svelte-12nu92z"),s(At,"id","se-disclaimer"),s(At,"class","disclaimer-box svelte-12nu92z"),s(Ae,"id","se-title"),s(Ae,"class","svelte-12nu92z"),s(zt,"id","multiple-comp"),s(zt,"class","svelte-12nu92z"),s(Xe,"id","se-block"),s(Xe,"class","component svelte-12nu92z"),De(Xe,"margin-left","1rem"),s(ot,"class","section"),s(ot,"id","households"),s(a,"class","page-container")},m(_,R){Ks(l,_,R),ze(_,n,R),ze(_,a,R),_e&&_e.m(a,null),e(a,u),e(a,i),e(i,c),e(c,v),e(c,f),e(c,h),e(h,D),e(D,k),e(h,T),e(h,z),e(c,S),e(c,m),e(c,P),e(c,L),e(L,U),e(L,G),e(L,K),e(L,H),e(L,M),e(L,V),e(L,W),e(L,ee),e(L,te),e(L,q),e(L,Q),e(L,be),e(L,Pe),e(L,ue),e(L,re),e(L,le),e(L,ke),e(L,Se),e(L,fe),e(L,ce),e(L,de),e(L,Ce),e(L,j),e(L,ie),e(L,we),e(i,et),e(i,d),ye&&ye.m(d,null),e(a,B),e(a,F),e(F,O),e(F,he),e(F,x),e(x,Z),e(Z,pe),e(pe,J),e(pe,Te),e(pe,Na),e(pe,qt),e(qt,Ol),e(pe,Va),e(Z,Ba),e(Z,We),e(We,Ha),e(We,xl),e(We,Ra),e(We,Xt),e(Xt,Ul),e(We,Fa),e(Z,Oa),e(Z,xa),e(Z,Ua),Ll.m(Gl,Z),e(Z,jl),e(Z,ft),e(ft,Ga),e(ft,Zt),e(Zt,Wl),e(ft,ja),e(Z,Wa),e(Z,Ye),e(Ye,Ya),e(Ye,Yl),e(Ye,Ka),e(Ye,Jt),e(Jt,Kl),e(Ye,qa),e(Z,Xa),e(Z,dt),t[29](dt),e(x,Za),e(x,Ne),e(Ne,ht),e(ht,Ja),e(ht,ql),e(ht,Qa),e(Ne,$a),e(Ne,It),e(It,Xl),e(It,en),e(Ne,tn),e(Ne,Pt),e(Ne,ln),e(Ne,tt),t[30](tt),e(a,an),e(a,lt),e(lt,Mt),e(lt,nn),e(lt,at),e(at,nt),e(nt,st),e(st,vt),e(vt,sn),e(vt,Qt),e(Qt,Zl),e(vt,rn),e(st,on),e(st,Re),e(Re,cn),e(Re,Jl),e(Re,un),e(Re,$t),e($t,Ql),e(Re,fn),e(st,dn),e(st,Ke),e(Ke,Nt),e(Ke,hn),e(Ke,vn),e(Ke,pn),e(Ke,pt),e(pt,mt),e(mt,el),e(mt,mn),e(mt,$l),e(pt,gn),e(pt,gt),e(gt,tl),e(gt,bn),e(gt,ll),e(ll,ea),e(nt,_n),e(nt,al),t[31](al),e(at,yn),e(at,Fe),e(Fe,rt),e(rt,bt),e(bt,En),e(bt,ta),e(bt,Cn),e(rt,wn),e(rt,_t),e(rt,An),e(rt,Ve),e(Ve,Vt),e(Ve,zn),e(Ve,Ln),e(Ve,Dn),e(Ve,Bt);for(let ne=0;ne<it.length;ne+=1)it[ne]&&it[ne].m(Bt,null);e(Fe,kn),e(Fe,nl),t[32](nl),e(Fe,Sn),e(Fe,yt),e(a,Tn),e(a,ot),e(ot,qe),e(qe,Ht),e(qe,In),e(qe,Rt),e(Rt,la),e(Rt,Pn),e(qe,Mn),e(qe,Ft),e(ot,Nn),e(ot,Xe),e(Xe,Ae),e(Ae,Ze),e(Ze,Vn),e(Ze,aa),e(Ze,Bn),e(Ze,na),e(Ze,Hn),e(Ae,Rn),e(Ae,Fn),e(Ae,On),e(Ae,Oe),e(Oe,Ot),e(Oe,xn),e(Oe,Un),e(Oe,Gn),e(Oe,Et),e(Et,Ct),e(Ct,sl),e(Ct,jn),e(Ct,sa),e(Et,Wn),e(Et,wt),e(wt,rl),e(wt,Yn),e(wt,ra),e(Ae,Kn),e(Ae,Ie),e(Ie,xt),e(Ie,qn),e(Ie,Xn),e(Ie,Zn),e(Ie,ol),e(Ie,Jn),e(Ie,Je),e(Je,il),e(Je,Qn),e(Je,oa),e(Je,$n),e(Je,ia),e(Je,es),e(Ae,ts),e(Ae,At),e(Xe,ls),e(Xe,zt);for(let ne=0;ne<me.length;ne+=1)me[ne]&&me[ne].m(zt,null);t[36](a),ze(_,ca,R),Ks(Ut,_,R),ae=!0,as||(Is=[Cl(z,"click",t[23]),Cl(H,"change",t[22]),Cl(te,"change",t[22]),Cl(ue,"change",t[22]),Cl(fe,"change",t[22]),Cl(j,"change",t[22])],as=!0)},p(_,R){if(_[15]?_e?_e.p(_,R):(_e=vr(_),_e.c(),_e.m(a,u)):_e&&(_e.d(1),_e=null),(!ae||R[0]&131072)&&b!==(b=_[17][_[19]]+"")&&$(k,b),_[9]?ye?ye.p(_,R):(ye=mr(_),ye.c(),ye.m(d,null)):ye&&(ye.d(1),ye=null),(!ae||R[0]&128)&&$(Ol,_[7]),(!ae||R[0]&131072)&&zl!==(zl=_[17][_[19]]+"")&&$(xl,zl),(!ae||R[0]&128)&&$(Ul,_[7]),(!ae||R[0]&288)&&Gl!==(Gl=_[21](_[5],_[8])+"")&&Ll.p(Gl),(!ae||R[0]&128)&&$(Wl,_[7]),(!ae||R[0]&131072)&&Dl!==(Dl=_[17][_[19]]+"")&&$(Yl,Dl),(!ae||R[0]&128)&&$(Kl,_[7]),(!ae||R[0]&131072)&&kl!==(kl=_[17][_[19]]+"")&&$(ql,kl),(!ae||R[0]&131072)&&Sl!==(Sl=_[17][_[19]]+"")&&$(Xl,Sl),(!ae||R[0]&128)&&$(Zl,_[7]),(!ae||R[0]&131072)&&Tl!==(Tl=_[17][_[19]]+"")&&$(Jl,Tl),(!ae||R[0]&128)&&$(Ql,_[7]),(!ae||R[0]&131072)&&Il!==(Il=_[17][_[19]]+"")&&$($l,Il),(!ae||R[0]&128)&&$(ea,_[7]),(!ae||R[0]&131072)&&Pl!==(Pl=_[17][_[19]]+"")&&$(ta,Pl),(!ae||R[0]&131072)&&Ml!==(Ml=_[17][_[19]]+"")&&$(la,Ml),(!ae||R[0]&131072)&&Nl!==(Nl=_[17][_[19]]+"")&&$(aa,Nl),(!ae||R[0]&128)&&$(na,_[7]),(!ae||R[0]&131072)&&Vl!==(Vl=_[17][_[19]]+"")&&$(sa,Vl),(!ae||R[0]&128)&&$(ra,_[7]),(!ae||R[0]&131072)&&Bl!==(Bl=_[17][_[19]]+"")&&$(oa,Bl),(!ae||R[0]&128)&&$(ia,_[7]),R[0]&655512){cl=rs(tr);let ne;for(ne=0;ne<cl.length;ne+=1){const xe=hr(_,cl,ne);me[ne]?me[ne].p(xe,R):(me[ne]=gr(xe),me[ne].c(),me[ne].m(zt,null))}for(;ne<me.length;ne+=1)me[ne].d(1);me.length=cl.length}},i(_){ae||(qs(l.$$.fragment,_),qs(Ut.$$.fragment,_),ae=!0)},o(_){Xs(l.$$.fragment,_),Xs(Ut.$$.fragment,_),ae=!1},d(_){_&&(p(n),p(a),p(ca)),Zs(l,_),_e&&_e.d(),ye&&ye.d(),t[29](null),t[30](null),t[31](null),js(it,_),t[32](null),js(me,_),t[36](null),Zs(Ut,_),as=!1,Tr(Is)}}}let je=400;function br(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Kt(t){const l=t.querySelector("figure");l&&l.remove();const n=t.querySelector("svg");n&&n.remove()}function ti(t,l,n){let a,u,i,c,v={},C={},f={},h={},D="barchart",{data:b}=l;const k=b.LAD;let T="UK",z,N,S,m,I,P,L,U,G,K,H,M,V=!1;async function oe(){n(5,z=await Ge(nr())),await Ge(co()),z.forEach(O=>{O.isPageLAD=O.LAD==k}),n(26,N=await Ge(sr([]))),S=await Ge(uo(Pa.map(O=>O.id))),n(27,m=await Ge(rr())),n(8,I=await Ge(fo(k))),P=await Ge(ho(k)),n(9,L=(Zr(I,O=>O.total)/1e3).toFixed(3)),n(11,G=hs(N,O=>O.val)/1e3),n(10,U=(os(I,O=>O.totalPerCapita)*1e6).toFixed(1)),n(12,K=await Ge(vo({limit:1,sortBy:"per_capita"}))),n(12,K=K[0].value_per_capita);const d="/LAD/Eng_Wales_LSOA_LADs.csv",B="/LAD/NI_DZ_LAD.csv",F="/LAD/Scotland_DZ_LA.csv";await us(d).then(O=>{for(let Y of O)n(17,Q[Y.LAD22CD]=Y.LAD22NM,Q)}),await us(B).then(O=>{for(let Y of O)n(17,Q[Y.LGD2014_code]=Y.LGD2014_name,Q)}),await us(F).then(O=>{for(let Y of O)n(17,Q[Y.LA_Code]=Y.LA_Name,Q)}),n(28,V=!0),eo(a)}oe();let W=!1,ee="";const te=["overview","temporal","households"];function q(){const d=window.scrollY;n(15,W=d>100);for(const B of te){const F=document.getElementById(B);if(!F)continue;const O=F.getBoundingClientRect();if(O.top<=150&&O.bottom>=150){ee!==B&&$s.capture("section entered (lad)",{section_name:B}),n(16,ee=B);break}}}let Q={},ge,be;Ir(()=>(to(a),ge=new $r(k,"LAD",be,"val",!0,"Lookup_value",!1,null,8),ge.initMap(!1),window.addEventListener("scroll",q),q(),()=>window.removeEventListener("scroll",q))),Pr(()=>{window.removeEventListener("scroll",q)});function Pe(d,B,F="black"){return Be({width:80,height:20,margin:0,x:{domain:[0,B],axis:null},marks:[fs([d],{x:Y=>Y,y:0,fill:F})]}).outerHTML}function ue(d,B){if(!d||!B)return;let F=d.filter(Y=>Y.total<20);return Be({height:je/1.6,...$e,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[Hl(F,Ta({y:(Y,he)=>Y.length/F.length/(he.x2-he.x1)},{x:"total",fill:Ee,stroke:Ee,fillOpacity:.3,strokeWidth:2})),Hl(B,Ta({y:(Y,he)=>Y.length/B.length/(he.x2-he.x1)},{x:"total",tip:!0,fill:Tt,stroke:"black",fillOpacity:.3,strokeWidth:2})),Jr([0],{stroke:"#1E1E1E",strokeWidth:1}),ka({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),is({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function re(){{let d=Be({height:je/1.4,...$e,x:{type:"band"},style:{fontSize:"18px"},marks:[Wt(N,ct({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Wt(I,ct({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const B=Ue(d).selectAll("g[aria-label='bar']");Ue(B.nodes()[0]);const F=Ue(B.nodes()[1]);F.selectAll("rect").each(function(){}),F.remove()},1e3)}}function le(){if(u){let d=Be({height:je/1,width:811,...$e,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Ia.range(),domain:Ia.domain()},marks:[Wt(m,ct({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:Ee,sort:{x:"y",reverse:!0},tip:!0})),Wt(P,ct({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:B=>Ia(B.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),ka({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),is({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Js([0],{stroke:"#333",strokeWidth:.75})]});Ue(d).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(B,F,O)=>{let Y=B.target.textContent,he=Pa.find(x=>x.id==Y);window.open(`${vs}/cobenefit?cobenefit=${he.id}`,"_blank").focus()}),u.append(d)}}function ve(){so.forEach(d=>{let B;lr.includes(d)?B=Be({height:je/1.2,...$e,marginLeft:100,marginTop:40,marginBottom:d==="Typology"?100:60,x:{grid:!0,padding:.6,label:Sa(d),tickFormat:J=>ar[d]?.[J]??J,tickRotate:d==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Wt(z,ct({y:"proportion"},{x:d,dx:12,fill:Ee})),Wt(I,ct({y:"proportion"},{x:d,dx:-12}))]}):B=Be({height:je/1.2,...$e,x:{label:Sa(d)},style:{fontSize:"18px"},marks:[Hl(I,Ta({y:(J,Te)=>J.length/I.length/(Te.x2-Te.x1)},{x:J=>["Under_35","Over_65","Unemployment"].includes(d)?J[d]*100:J[d],tip:!0,fill:Ee,stroke:Ee,fillOpacity:.2,strokeWidth:3})),Hl(z,Ta({y:(J,Te)=>J.length/z.length/(Te.x2-Te.x1)},{x:J=>["Under_35","Over_65","Unemployment"].includes(d)?J[d]*100:J[d],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),C[d]?.append(void 0),v[d]?.append(B);let O=z.map(J=>J.total),Y=_r(O);O.sort();var he=O.length,x=Math.floor(he*1)-1;let Z=O[x];Y[1]=Z+2,Y[0]=-5;let pe;lr.includes(d)?pe=Be({height:je/1.2,...$e,marginBottom:d==="Typology"?100:60,marginLeft:100,x:{label:Sa(d),type:"point",tickFormat:J=>ar[d]?.[J]??J,tickRotate:d==="Typology"?-20:0},y:{domain:Y,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",Ee]},marks:[fr(er(z,15e3),{x:J=>`${J[d]}`,y:"total",fill:"density",bandwidth:3}),ir(I,{x:J=>`${J[d]}`,y:"total",fill:"black",r:2}),ka({label:"Datazone Co-Benefit (millions £)"})]}):pe=Be({height:je/1.2,...$e,x:{label:Sa(d)},y:{domain:Y},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",Ee]},marks:[fr(er(z,2e4),{x:J=>["Under_35","Over_65","Unemployment"].includes(d)?J[d]*100:J[d],y:"total",fill:"density",thresholds:10}),ir(I,{x:J=>["Under_35","Over_65","Unemployment"].includes(d)?J[d]*100:J[d],y:"total",fill:"black",r:2}),ka({label:"Datazone Co-Benefit (£)"}),is({anchor:"bottom"})]}),f[d]&&n(4,f[d].innerHTML="",f),f[d]?.append(pe)})}function ke(){for(let d of ro){let B=Be({height:je,width:410,...$e,marginRight:0,marginLeft:100,marks:[fs(S,Qs({x:"mean"},{x:"val",y:"co_benefit_type",dy:-oo/2,fill:Ee,tip:!0})),fs(P,Qs({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});h[d]?.append(B)}}function Se(){let d=I.flatMap(x=>cs.map(Z=>({time:Z,value:x[Z],scenario:x.scenario,zone:"local"}))),B=z.flatMap(x=>cs.map(Z=>({time:Z,value:x[Z],scenario:x.scenario,zone:"UK"}))),F=d.concat(B),O=Be({height:je,width:800,...$e,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[Ee,Tt],legend:!1},marks:[Wt(F,ct({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Qr({anchor:"bottom",tickFormat:x=>x.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(O),Ue(i).select("g[aria-label='bar']").selectAll("g").each(function(x,Z){const pe=Ue(this).selectAll("rect").nodes()[0],J=Ue(pe).attr("transform")||"";Ue(pe).attr("transform",`${J} translate(-20, 0)`),Ue(this).selectAll("rect").nodes()[0].getAttribute("height"),Ue(this).selectAll("rect").nodes()[1].getAttribute("height"),Ue(this).selectAll("rect")}),Be({height:je,width:800,...$e,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Uo(F,ct({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let Y=P.flatMap(x=>cs.map(Z=>({time:Z,value:x[Z],cobenefit:x.co_benefit_type})));console.log("dataCBs",Y);let he=Be({height:je,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([x])=>`Cobenefit ${x.cobenefit}`},x:{label:"Years",tickFormat:x=>x.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:io,domain:Pa.map(x=>x.id)},marks:[Hl(Y,ct({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:x=>`${(+x).toFixed(3)}`,x:x=>`${x.replace(/^Y/,"").replace("_","-")}`,fill:x=>`${x}`}}})),Js([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(he)}async function fe(d){n(7,T=d.currentTarget.value),n(27,m=await Ge(rr("total",T))),n(26,N=await Ge(sr([],T))),n(5,z=await Ge(nr(T))),$s.capture("clicked nation filter",{nation:d.currentTarget.value})}function ce(){console.log(121212,m);let d=m.filter(F=>F.Lookup_Value==k);d.push({co_benefit_type:"Total",val:d.reduce((F,O)=>F+O.val,0)}),d.forEach(F=>{delete F.Lookup_Value,F["Cobenefit Value (Millions £)"]=F.val,delete F.val});const B=lo(d);ao(B,`cobenefits_${Q[k]}.csv`),no("/Scotland_co-benefits_CB7_2045.pdf","readme.pdf")}function de(d){kt[d?"unshift":"push"](()=>{u=d,n(0,u)})}function Me(d){kt[d?"unshift":"push"](()=>{be=d,n(18,be)})}function Ce(d){kt[d?"unshift":"push"](()=>{i=d,n(1,i)})}function j(d){kt[d?"unshift":"push"](()=>{c=d,n(2,c)})}function ie(d,B){kt[d?"unshift":"push"](()=>{v[B.id]=d,n(3,v)})}function we(d,B){kt[d?"unshift":"push"](()=>{v[B.id]=d,n(3,v)})}function He(d,B){kt[d?"unshift":"push"](()=>{f[B.id]=d,n(4,f)})}function et(d){kt[d?"unshift":"push"](()=>{a=d,n(6,a)})}return t.$$set=d=>{"data"in d&&n(24,b=d.data)},t.$$.update=()=>{t.$$.dirty[0]&67108864&&N&&(n(13,H=os(N.map(d=>d.val))/1e3),n(14,M=os(N.map(d=>d.value_per_capita))*1e5)),t.$$.dirty[0]&503316519&&(u&&Kt(u),i&&Kt(i),c&&Kt(c),V&&m&&N&&z&&(re(),le(),Se())),t.$$.dirty[0]&268435480&&(Object.values(v).forEach(d=>{d&&Kt(d)}),Object.values(C).forEach(d=>{d&&Kt(d)}),Object.values(f).forEach(d=>{d&&Kt(d)}),V&&ve()),t.$$.dirty[0]&268435456&&(Object.values(h).forEach(d=>{d&&Kt(d)}),V&&ke())},[u,i,c,v,f,z,a,T,I,L,U,G,K,H,M,W,ee,Q,be,k,Pe,ue,fe,ce,b,D,N,m,V,de,Me,Ce,j,ie,we,He,et]}class yi extends Nr{constructor(l){super(),Vr(this,l,ti,ei,Sr,{data:24},null,[-1,-1,-1])}}export{yi as component};
