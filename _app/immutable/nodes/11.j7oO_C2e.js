import{s as Bs,d as o,w as Fs,p as n,i as W,b as t,B as zs,C as Te,g as m,c as i,e as h,q as x,f as C,j as _,h as r,t as w,v as Hs,J as Os,a as Dt,E as Rs,H as Ws,A as Qe}from"../chunks/DkC894TC.js";import{S as Us,i as qs,d as Ys,t as Ks,a as Gs,m as js,c as Js,b as Xs}from"../chunks/C3_SnMRn.js";import{N as Zs,e as fs}from"../chunks/phmQ1vdX.js";import"../chunks/CIa2Jov7.js";import{i as Is,Q as ds,g as Qs,R as $s,M as ea,S as ta,l as la,n as sa,o as aa,q as na,T as ia,U as ra,V as As,W as oa,X as Hl,Y as ca,Z as fa,_ as Ls,$ as da,a0 as wt,a1 as us,a2 as ua,a3 as hs,a4 as vs}from"../chunks/D_8cmHfT.js";import{M as ha}from"../chunks/CPj217Fo.js";import{a as O,C as ps,D as va,S as ms,g as pa,c as _s,T as ma,d as _a,e as ba,b as Fl,M as ga,f as ya}from"../chunks/CE-kWhyr.js";import{g as vt,m as Ea,n as Ca,l as wa,k as Da,o as ka,j as Sa}from"../chunks/BE1Z3Epi.js";import{d as Vs,m as za}from"../chunks/CMfhaQEt.js";import{b as Ns}from"../chunks/CSrAQU-1.js";import{a as Ia,b as Aa}from"../chunks/CJdBqbiv.js";const La={ariaLabel:"tick",fill:null,stroke:"currentColor"};class Va extends ea{constructor(e,s,l){super(e,s,l,La),ta(this,l)}render(e,s,l,f,d){return la("svg:g",d).call(sa,this,f,d).call(this._transform,this,s).call(c=>c.selectAll().data(e).enter().append("line").call(aa,this).attr("x1",this._x1(s,l,f)).attr("x2",this._x2(s,l,f)).attr("y1",this._y1(s,l,f)).attr("y2",this._y2(s,l,f)).call(na,this,l).call(ia,this,l,d)).node()}}class Na extends Va{constructor(e,s={}){const{x:l,y:f,inset:d=0,insetRight:c=d,insetLeft:k=d}=s;super(e,{y:{value:f,scale:"y"},x:{value:l,scale:"x",type:"band",optional:!0}},s),this.insetRight=ds(c),this.insetLeft=ds(k)}_transform(e,s,{y:l}){e.call(Qs,s,{y:l},0,$s)}_x1({x:e},{x:s},{marginLeft:l}){const{insetLeft:f}=this;return s&&e?d=>s[d]+f:l+f}_x2({x:e},{x:s},{width:l,marginRight:f}){const{insetRight:d}=this;return s&&e?c=>s[c]+e.bandwidth()-d:l-f-d}_y1(e,{y:s}){return l=>s[l]}_y2(e,{y:s}){return l=>s[l]}}function xa(a,{y:e=Is,...s}={}){return new Na(a,{...s,y:e})}function Pa(a,{y:e=Is,x:s=null,r:l,fill:f="#ccc",fillOpacity:d,stroke:c="currentColor",strokeOpacity:k,strokeWidth:S=2,sort:I,...y}={}){const p=s!=null?As:oa;return ra(Hl(a,p({y1:xs,y2:Ps},{x:s,y:e,stroke:c,strokeOpacity:k,...y})),Ns(a,p({y1:"p25",y2:"p75"},{x:s,y:e,fill:f,fillOpacity:d,...y})),xa(a,p({y:"p50"},{x:s,y:e,stroke:c,strokeOpacity:k,strokeWidth:S,sort:I,...y})),Vs(a,za({y:Ta},{x:s,y:e,z:s,r:l,stroke:c,strokeOpacity:k,...y})))}function Ta(a){const e=xs(a),s=Ps(a);return a.map(l=>l<e||l>s?l:NaN)}function xs(a){const e=Ts(a)*2.5-Ms(a)*1.5;return ca(a,s=>s>=e?s:NaN)}function Ps(a){const e=Ms(a)*2.5-Ts(a)*1.5;return fa(a,s=>s<=e?s:NaN)}function Ts(a){return Ls(a,.25)}function Ms(a){return Ls(a,.75)}function bs(a,e,s){const l=a.slice();return l[45]=e[s],l[46]=e,l[47]=s,l}function gs(a){let e,s,l=a[4].toLocaleString()+"",f;return{c(){e=r("span"),s=w("£"),f=w(l),this.h()},l(d){e=i(d,"SPAN",{class:!0});var c=h(e);s=C(c,"£"),f=C(c,l),c.forEach(o),this.h()},h(){n(e,"class","waffle-big svelte-s7bz2h")},m(d,c){W(d,e,c),t(e,s),t(e,f)},p(d,c){c[0]&16&&l!==(l=d[4].toLocaleString()+"")&&Dt(f,l)},d(d){d&&o(e)}}}function Ma(a){let e,s="National costs";return{c(){e=r("div"),e.textContent=s,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-o12owz"&&(e.textContent=s),this.h()},h(){n(e,"class","waffle-caption svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Ba(a){let e,s="National benefits";return{c(){e=r("div"),e.textContent=s,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-10ytukz"&&(e.textContent=s),this.h()},h(){n(e,"class","waffle-caption svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function ys(a){let e,s,l=a[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",f;return{c(){e=r("span"),s=w("£"),f=w(l),this.h()},l(d){e=i(d,"SPAN",{class:!0});var c=h(e);s=C(c,"£"),f=C(c,l),c.forEach(o),this.h()},h(){n(e,"class","waffle-big svelte-s7bz2h")},m(d,c){W(d,e,c),t(e,s),t(e,f)},p(d,c){c[0]&64&&l!==(l=d[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Dt(f,l)},d(d){d&&o(e)}}}function Fa(a){let e,s="Per capita costs";return{c(){e=r("div"),e.textContent=s,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-6pmcl0"&&(e.textContent=s),this.h()},h(){n(e,"class","waffle-caption svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Ha(a){let e,s="Per capita benefits";return{c(){e=r("div"),e.textContent=s,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-g1rvwk"&&(e.textContent=s),this.h()},h(){n(e,"class","waffle-caption svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Es(a){let e,s,l=(a[4]/a[5]*100).toFixed(2)+"",f,d,c,k="%";return{c(){e=r("div"),s=r("span"),f=w(l),d=_(),c=r("span"),c.textContent=k,this.h()},l(S){e=i(S,"DIV",{class:!0});var I=h(e);s=i(I,"SPAN",{class:!0});var y=h(s);f=C(y,l),y.forEach(o),d=m(I),c=i(I,"SPAN",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-jxggz7"&&(c.textContent=k),I.forEach(o),this.h()},h(){n(s,"class","waffle-big svelte-s7bz2h"),n(c,"class","small svelte-s7bz2h"),n(e,"class","waffle-value svelte-s7bz2h")},m(S,I){W(S,e,I),t(e,s),t(s,f),t(e,d),t(e,c)},p(S,I){I[0]&48&&l!==(l=(S[4]/S[5]*100).toFixed(2)+"")&&Dt(f,l)},d(S){S&&o(e)}}}function Cs(a){let e,s,l,f,d,c,k,S,I,y=Ss(a[10])+"",p,D=a[4]&&ws(a);return{c(){e=r("div"),s=r("div"),l=r("img"),d=_(),c=r("span"),k=w(a[15]),S=_(),D&&D.c(),I=w(`
            >> `),p=w(y),this.h()},l(M){e=i(M,"DIV",{class:!0});var B=h(e);s=i(B,"DIV",{class:!0});var A=h(s);l=i(A,"IMG",{src:!0,alt:!0,class:!0}),d=m(A),c=i(A,"SPAN",{class:!0});var L=h(c);k=C(L,a[15]),S=m(L),D&&D.l(L),I=C(L,`
            >> `),p=C(L,y),L.forEach(o),A.forEach(o),B.forEach(o),this.h()},h(){zs(l.src,f=a[17])||n(l,"src",f),n(l,"alt","Icon"),n(l,"class","mini-heading-icon"),n(c,"class","mini-header-text"),n(s,"class","mini-header-content"),n(e,"class","mini-header")},m(M,B){W(M,e,B),t(e,s),t(s,l),t(s,d),t(s,c),t(c,k),t(c,S),D&&D.m(c,null),t(c,I),t(c,p)},p(M,B){M[4]?D?D.p(M,B):(D=ws(M),D.c(),D.m(c,I)):D&&(D.d(1),D=null),B[0]&1024&&y!==(y=Ss(M[10])+"")&&Dt(p,y)},d(M){M&&o(e),D&&D.d()}}}function ws(a){let e,s,l,f;return{c(){e=r("span"),s=w("(UK total: £"),l=w(a[4]),f=w(" billion)"),this.h()},l(d){e=i(d,"SPAN",{class:!0});var c=h(e);s=C(c,"(UK total: £"),l=C(c,a[4]),f=C(c," billion)"),c.forEach(o),this.h()},h(){n(e,"class","mini-header-value")},m(d,c){W(d,e,c),t(e,s),t(e,l),t(e,f)},p(d,c){c[0]&16&&Dt(l,d[4])},d(d){d&&o(e)}}}function Oa(a){let e,s="Each bar shows the total benefits or costs obtained in that period.";return{c(){e=r("p"),e.textContent=s,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1ualj8m"&&(e.textContent=s),this.h()},h(){n(e,"class","description svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Ra(a){let e,s="Each bar shows the total values obtained in that period.";return{c(){e=r("p"),e.textContent=s,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-19uixzb"&&(e.textContent=s),this.h()},h(){n(e,"class","description svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Wa(a){let e,s="Along the x-axis, see how many data zones (y-axis) lose/benefit how much.";return{c(){e=r("p"),e.textContent=s,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-wn292q"&&(e.textContent=s),this.h()},h(){n(e,"class","description svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Ua(a){let e,s="Along the x-axis, see how many data zones (y-axis) benefit how much.";return{c(){e=r("p"),e.textContent=s,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-8ib03s"&&(e.textContent=s),this.h()},h(){n(e,"class","description svelte-s7bz2h")},m(l,f){W(l,e,f)},d(l){l&&o(e)}}}function Ds(a){let e,s,l=a[7].legend().outerHTML+"";return{c(){e=r("div"),s=new Ws(!1),this.h()},l(f){e=i(f,"DIV",{id:!0});var d=h(e);s=Rs(d,!1),d.forEach(o),this.h()},h(){s.a=null,n(e,"id","legend")},m(f,d){W(f,e,d),s.m(l,e)},p(f,d){d[0]&128&&l!==(l=f[7].legend().outerHTML+"")&&s.p(l)},d(f){f&&o(e)}}}function ks(a){let e,s,l=a[45].label+"",f,d,c,k=a[45].def+"",S,I,y,p=a[45],D;const M=()=>a[27](y,p),B=()=>a[27](null,p);return{c(){e=r("div"),s=r("h3"),f=w(l),d=_(),c=r("p"),S=w(k),I=_(),y=r("div"),D=_(),this.h()},l(A){e=i(A,"DIV",{class:!0});var L=h(e);s=i(L,"H3",{class:!0});var ue=h(s);f=C(ue,l),ue.forEach(o),d=m(L),c=i(L,"P",{class:!0});var ee=h(c);S=C(ee,k),ee.forEach(o),I=m(L),y=i(L,"DIV",{class:!0}),h(y).forEach(o),D=m(L),L.forEach(o),this.h()},h(){n(s,"class","component-chart-title svelte-s7bz2h"),n(c,"class","component-chart-caption svelte-s7bz2h"),n(y,"class","plot"),n(e,"class","plot-container svelte-s7bz2h")},m(A,L){W(A,e,L),t(e,s),t(s,f),t(e,d),t(e,c),t(c,S),t(e,I),t(e,y),M(),t(e,D)},p(A,L){a=A,p!==a[45]&&(B(),p=a[45],M())},d(A){A&&o(e),B()}}}function qa(a){let e,s,l,f,d,c,k,S="Co-Benefit Report",I,y,p,D,M,B,A,L,ue,ee,oe,$e,he,Me,et,J,ae,te,ne,le,Be,ve,Fe="billion",mt,ie,F,pe,_t,bt,re,tt,me,kt="Contribution to national benefits",gt,Ce,yt,we,v,g,b,T,N,Et='<p class="section-subtitle">Overview</p>',Ct,X,V,ce,E,H,St=a[15].toLowerCase()+"",lt,jt,Jt,zt,st,Xt,Zt,Qt,De,$t,He,Ol=a[15].toLowerCase()+"",el,tl,ll,It,ke,Rl="",sl,al,nl,Q,Se,il,Oe,Wl=a[15].toLowerCase()+"",rl,ol,cl,Re,Ul="Scroll for zooming in and out.",fl,At,_e,ql="",dl,ze,We,Yl='<p class="section-subtitle">Socio-economic factors</p>',ul,fe,Z,Ie,hl,Ue,Kl=a[15]?.toLowerCase()+"",vl,pl,ml,qe,Gl="Each scatterplot shows the distribution of benefits or costs depending on a given socio-economic factor.",_l,bl,gl,Ae,jl='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where the x-axis is non-linear:  EPC, Tenure, Typology, Fuel type, Gas flag, Number of cars.</p>',yl,$,Ye,Jl="Legend:",El,Cl,wl,at,Xl="The scatter plots are shaded by nation.",Dl,se,Ke,nt,kl,Sl,Ge,it,zl,Il,je,rt,Al,Ll,Je,ot,Vl,Nl,Xe,Le,Ve;e=new Zs({});let U=a[4]&&gs(a);function Zl(u,z){return u[4]>0?Ba:Ma}let Lt=Zl(a),be=Lt(a),q=a[4]&&ys(a);function Ql(u,z){return u[4]>0?Ha:Fa}let Vt=Ql(a),ge=Vt(a),Y=a[4]&&Es(a),K=a[9]&&Cs(a);function $l(u,z){return u[4]>0?Ra:Oa}let Nt=$l(a),ye=Nt(a);function es(u,z){return u[4]>0?Ua:Wa}let xt=es(a),Ee=xt(a),G=a[7]&&Ds(a),ct=fs(_s),R=[];for(let u=0;u<ct.length;u+=1)R[u]=ks(bs(a,ct,u));return{c(){Xs(e.$$.fragment),s=_(),l=r("div"),f=r("div"),d=r("div"),c=r("div"),k=r("p"),k.textContent=S,I=_(),y=r("div"),p=r("h1"),D=r("img"),B=_(),A=r("div"),L=_(),ue=w(a[15]),ee=_(),oe=r("div"),$e=_(),he=r("p"),Me=w(a[16]),et=_(),J=r("div"),ae=r("div"),te=r("div"),ne=r("div"),le=r("div"),U&&U.c(),Be=_(),ve=r("span"),ve.textContent=Fe,mt=_(),be.c(),ie=_(),F=r("div"),pe=r("div"),q&&q.c(),_t=_(),ge.c(),bt=_(),re=r("div"),Y&&Y.c(),tt=_(),me=r("div"),me.textContent=kt,gt=_(),Ce=r("div"),yt=_(),we=r("div"),v=_(),K&&K.c(),g=_(),b=r("div"),T=r("div"),N=r("div"),N.innerHTML=Et,Ct=_(),X=r("div"),V=r("div"),ce=r("h3"),E=w("Total values (£, billion) for "),H=r("span"),lt=w(St),jt=w(" over time"),Jt=_(),ye.c(),zt=_(),st=r("div"),Xt=_(),Zt=r("br"),Qt=_(),De=r("h3"),$t=w("Distribution of values (£, billion) for "),He=r("span"),el=w(Ol),tl=w(" by UK data zones"),ll=_(),Ee.c(),It=_(),ke=r("div"),ke.innerHTML=Rl,sl=_(),al=r("br"),nl=_(),Q=r("div"),Se=r("h3"),il=w("Total values (£, billion) for "),Oe=r("span"),rl=w(Wl),ol=w(" across the UK"),cl=_(),Re=r("p"),Re.textContent=Ul,fl=_(),G&&G.c(),At=_(),_e=r("div"),_e.innerHTML=ql,dl=_(),ze=r("div"),We=r("div"),We.innerHTML=Yl,ul=_(),fe=r("div"),Z=r("div"),Ie=r("h3"),hl=w("Mapping the impact of "),Ue=r("span"),vl=w(Kl),pl=w(" across UK local authorities according to socio-economic factors"),ml=_(),qe=r("p"),qe.textContent=Gl,_l=_(),bl=r("br"),gl=_(),Ae=r("div"),Ae.innerHTML=jl,yl=_(),$=r("div"),Ye=r("strong"),Ye.textContent=Jl,El=_(),Cl=r("br"),wl=_(),at=r("span"),at.textContent=Xl,Dl=_(),se=r("ul"),Ke=r("li"),nt=r("span"),kl=w(`
                            Scotland`),Sl=_(),Ge=r("li"),it=r("span"),zl=w(`
                            Northern Ireland`),Il=_(),je=r("li"),rt=r("span"),Al=w("England"),Ll=_(),Je=r("li"),ot=r("span"),Vl=w("Wales"),Nl=_(),Xe=r("div"),Le=r("div");for(let u=0;u<R.length;u+=1)R[u].c();this.h()},l(u){Js(e.$$.fragment,u),s=m(u),l=i(u,"DIV",{class:!0});var z=h(l);f=i(z,"DIV",{class:!0});var P=h(f);d=i(P,"DIV",{class:!0});var Ze=h(d);c=i(Ze,"DIV",{class:!0});var Pt=h(c);k=i(Pt,"P",{class:!0,"data-svelte-h":!0}),x(k)!=="svelte-1flv0v9"&&(k.textContent=S),I=m(Pt),y=i(Pt,"DIV",{class:!0});var ft=h(y);p=i(ft,"H1",{class:!0});var dt=h(p);D=i(dt,"IMG",{src:!0,alt:!0,class:!0}),B=m(dt),A=i(dt,"DIV",{style:!0}),h(A).forEach(o),L=m(dt),ue=C(dt,a[15]),dt.forEach(o),ee=m(ft),oe=i(ft,"DIV",{style:!0}),h(oe).forEach(o),$e=m(ft),he=i(ft,"P",{class:!0});var ts=h(he);Me=C(ts,a[16]),ts.forEach(o),ft.forEach(o),Pt.forEach(o),et=m(Ze),J=i(Ze,"DIV",{class:!0});var ut=h(J);ae=i(ut,"DIV",{class:!0});var ls=h(ae);te=i(ls,"DIV",{class:!0});var ht=h(te);ne=i(ht,"DIV",{class:!0});var Tt=h(ne);le=i(Tt,"DIV",{class:!0});var Mt=h(le);U&&U.l(Mt),Be=m(Mt),ve=i(Mt,"SPAN",{class:!0,"data-svelte-h":!0}),x(ve)!=="svelte-tlhydp"&&(ve.textContent=Fe),Mt.forEach(o),mt=m(Tt),be.l(Tt),Tt.forEach(o),ie=m(ht),F=i(ht,"DIV",{class:!0});var Bt=h(F);pe=i(Bt,"DIV",{class:!0});var ss=h(pe);q&&q.l(ss),ss.forEach(o),_t=m(Bt),ge.l(Bt),Bt.forEach(o),bt=m(ht),re=i(ht,"DIV",{class:!0});var Ft=h(re);Y&&Y.l(Ft),tt=m(Ft),me=i(Ft,"DIV",{class:!0,"data-svelte-h":!0}),x(me)!=="svelte-1v3rfza"&&(me.textContent=kt),Ft.forEach(o),ht.forEach(o),ls.forEach(o),gt=m(ut),Ce=i(ut,"DIV",{class:!0}),h(Ce).forEach(o),yt=m(ut),we=i(ut,"DIV",{class:!0}),h(we).forEach(o),ut.forEach(o),Ze.forEach(o),P.forEach(o),v=m(z),K&&K.l(z),g=m(z),b=i(z,"DIV",{class:!0});var Ht=h(b);T=i(Ht,"DIV",{id:!0});var Ot=h(T);N=i(Ot,"DIV",{class:!0,"data-svelte-h":!0}),x(N)!=="svelte-ll1i43"&&(N.innerHTML=Et),Ct=m(Ot),X=i(Ot,"DIV",{id:!0,class:!0});var Rt=h(X);V=i(Rt,"DIV",{class:!0});var j=h(V);ce=i(j,"H3",{class:!0});var Wt=h(ce);E=C(Wt,"Total values (£, billion) for "),H=i(Wt,"SPAN",{style:!0});var as=h(H);lt=C(as,St),as.forEach(o),jt=C(Wt," over time"),Wt.forEach(o),Jt=m(j),ye.l(j),zt=m(j),st=i(j,"DIV",{class:!0}),h(st).forEach(o),Xt=m(j),Zt=i(j,"BR",{}),Qt=m(j),De=i(j,"H3",{class:!0});var Ut=h(De);$t=C(Ut,"Distribution of values (£, billion) for "),He=i(Ut,"SPAN",{style:!0});var ns=h(He);el=C(ns,Ol),ns.forEach(o),tl=C(Ut," by UK data zones"),Ut.forEach(o),ll=m(j),Ee.l(j),It=m(j),ke=i(j,"DIV",{class:!0,"data-svelte-h":!0}),x(ke)!=="svelte-1ta2xvp"&&(ke.innerHTML=Rl),sl=m(j),al=i(j,"BR",{}),j.forEach(o),nl=m(Rt),Q=i(Rt,"DIV",{class:!0});var Ne=h(Q);Se=i(Ne,"H3",{class:!0});var qt=h(Se);il=C(qt,"Total values (£, billion) for "),Oe=i(qt,"SPAN",{style:!0});var is=h(Oe);rl=C(is,Wl),is.forEach(o),ol=C(qt," across the UK"),qt.forEach(o),cl=m(Ne),Re=i(Ne,"P",{class:!0,"data-svelte-h":!0}),x(Re)!=="svelte-1ask2se"&&(Re.textContent=Ul),fl=m(Ne),G&&G.l(Ne),At=m(Ne),_e=i(Ne,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),x(_e)!=="svelte-1bex1ev"&&(_e.innerHTML=ql),Ne.forEach(o),Rt.forEach(o),Ot.forEach(o),dl=m(Ht),ze=i(Ht,"DIV",{id:!0});var Yt=h(ze);We=i(Yt,"DIV",{class:!0,"data-svelte-h":!0}),x(We)!=="svelte-dcew9z"&&(We.innerHTML=Yl),ul=m(Yt),fe=i(Yt,"DIV",{id:!0,class:!0,style:!0});var Kt=h(fe);Z=i(Kt,"DIV",{id:!0,class:!0});var de=h(Z);Ie=i(de,"H3",{class:!0});var Gt=h(Ie);hl=C(Gt,"Mapping the impact of "),Ue=i(Gt,"SPAN",{style:!0});var rs=h(Ue);vl=C(rs,Kl),rs.forEach(o),pl=C(Gt," across UK local authorities according to socio-economic factors"),Gt.forEach(o),ml=m(de),qe=i(de,"P",{class:!0,"data-svelte-h":!0}),x(qe)!=="svelte-xtub96"&&(qe.textContent=Gl),_l=m(de),bl=i(de,"BR",{}),gl=m(de),Ae=i(de,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),x(Ae)!=="svelte-250g83"&&(Ae.innerHTML=jl),yl=m(de),$=i(de,"DIV",{id:!0,class:!0});var xe=h($);Ye=i(xe,"STRONG",{style:!0,"data-svelte-h":!0}),x(Ye)!=="svelte-xb363n"&&(Ye.textContent=Jl),El=m(xe),Cl=i(xe,"BR",{}),wl=m(xe),at=i(xe,"SPAN",{"data-svelte-h":!0}),x(at)!=="svelte-ddxsq2"&&(at.textContent=Xl),Dl=m(xe),se=i(xe,"UL",{class:!0});var Pe=h(se);Ke=i(Pe,"LI",{class:!0});var xl=h(Ke);nt=i(xl,"SPAN",{class:!0,style:!0}),h(nt).forEach(o),kl=C(xl,`
                            Scotland`),xl.forEach(o),Sl=m(Pe),Ge=i(Pe,"LI",{class:!0});var Pl=h(Ge);it=i(Pl,"SPAN",{class:!0,style:!0}),h(it).forEach(o),zl=C(Pl,`
                            Northern Ireland`),Pl.forEach(o),Il=m(Pe),je=i(Pe,"LI",{class:!0});var Tl=h(je);rt=i(Tl,"SPAN",{class:!0,style:!0}),h(rt).forEach(o),Al=C(Tl,"England"),Tl.forEach(o),Ll=m(Pe),Je=i(Pe,"LI",{class:!0});var Ml=h(Je);ot=i(Ml,"SPAN",{class:!0,style:!0}),h(ot).forEach(o),Vl=C(Ml,"Wales"),Ml.forEach(o),Pe.forEach(o),xe.forEach(o),de.forEach(o),Nl=m(Kt),Xe=i(Kt,"DIV",{id:!0,class:!0});var os=h(Xe);Le=i(os,"DIV",{id:!0,class:!0});var cs=h(Le);for(let Bl=0;Bl<R.length;Bl+=1)R[Bl].l(cs);cs.forEach(o),os.forEach(o),Kt.forEach(o),Yt.forEach(o),Ht.forEach(o),z.forEach(o),this.h()},h(){n(k,"class","page-subtitle svelte-s7bz2h"),zs(D.src,M=a[17])||n(D,"src",M),n(D,"alt","Icon"),n(D,"class","heading-icon svelte-s7bz2h"),Te(A,"margin-top","10px"),n(p,"class","page-title svelte-s7bz2h"),Te(oe,"margin-top","14px"),n(he,"class","definition svelte-s7bz2h"),n(y,"class","title-container"),n(c,"class","header-text svelte-s7bz2h"),n(ve,"class","small svelte-s7bz2h"),n(le,"class","waffle-value svelte-s7bz2h"),n(ne,"class","waffle-stat svelte-s7bz2h"),n(pe,"class","waffle-value svelte-s7bz2h"),n(F,"class","waffle-stat svelte-s7bz2h"),n(me,"class","waffle-caption svelte-s7bz2h"),n(re,"class","waffle-stat svelte-s7bz2h"),n(te,"class","waffle-stats svelte-s7bz2h"),n(ae,"class","waffle-label svelte-s7bz2h"),n(Ce,"class","waffle-el"),n(we,"class","waffle-bg svelte-s7bz2h"),n(J,"class","header-waffle-wrapper svelte-s7bz2h"),n(d,"class","header-content svelte-s7bz2h"),n(f,"class","section header svelte-s7bz2h"),n(N,"class","section-header"),n(H,"style",a[13]),n(ce,"class","component-title"),n(st,"class","plot"),n(He,"style",a[13]),n(De,"class","component-title"),n(ke,"class","plot"),n(V,"class","component singlevis"),n(Oe,"style",a[13]),n(Se,"class","component-title"),n(Re,"class","description svelte-s7bz2h"),n(_e,"id","map"),n(_e,"class","svelte-s7bz2h"),n(Q,"class","component column"),n(X,"id","vis-block"),n(X,"class","svelte-s7bz2h"),n(T,"id","overview"),n(We,"class","section-header"),n(Ue,"style",a[13]),n(Ie,"class","component-title"),n(qe,"class","explanation"),n(Ae,"id","se-disclaimer"),n(Ae,"class","disclaimer-box svelte-s7bz2h"),Te(Ye,"margin-bottom","1rem"),n(nt,"class","legend-color svelte-s7bz2h"),Te(nt,"background-color",O(a[14])[1]),n(Ke,"class","svelte-s7bz2h"),n(it,"class","legend-color svelte-s7bz2h"),Te(it,"background-color",O(a[14])[2]),n(Ge,"class","svelte-s7bz2h"),n(rt,"class","legend-color svelte-s7bz2h"),Te(rt,"background-color",O(a[14])[3]),n(je,"class","svelte-s7bz2h"),n(ot,"class","legend-color svelte-s7bz2h"),Te(ot,"background-color",O(a[14])[4]),n(Je,"class","svelte-s7bz2h"),n(se,"class","legend-list svelte-s7bz2h"),n($,"id","se-legend"),n($,"class","legend-box svelte-s7bz2h"),n(Z,"id","se-title"),n(Z,"class","svelte-s7bz2h"),n(Le,"id","multiple-plots"),n(Le,"class","svelte-s7bz2h"),n(Xe,"id","multiple-comp"),n(Xe,"class","svelte-s7bz2h"),n(fe,"id","se-block"),n(fe,"class","component svelte-s7bz2h"),Te(fe,"margin-left","1rem"),n(ze,"id","compare"),n(b,"class","section"),n(l,"class","page-container")},m(u,z){js(e,u,z),W(u,s,z),W(u,l,z),t(l,f),t(f,d),t(d,c),t(c,k),t(c,I),t(c,y),t(y,p),t(p,D),t(p,B),t(p,A),t(p,L),t(p,ue),t(y,ee),t(y,oe),t(y,$e),t(y,he),t(he,Me),t(d,et),t(d,J),t(J,ae),t(ae,te),t(te,ne),t(ne,le),U&&U.m(le,null),t(le,Be),t(le,ve),t(ne,mt),be.m(ne,null),t(te,ie),t(te,F),t(F,pe),q&&q.m(pe,null),t(F,_t),ge.m(F,null),t(te,bt),t(te,re),Y&&Y.m(re,null),t(re,tt),t(re,me),t(J,gt),t(J,Ce),a[22](Ce),t(J,yt),t(J,we),a[23](we),t(l,v),K&&K.m(l,null),t(l,g),t(l,b),t(b,T),t(T,N),t(T,Ct),t(T,X),t(X,V),t(V,ce),t(ce,E),t(ce,H),t(H,lt),t(ce,jt),t(V,Jt),ye.m(V,null),t(V,zt),t(V,st),a[24](st),t(V,Xt),t(V,Zt),t(V,Qt),t(V,De),t(De,$t),t(De,He),t(He,el),t(De,tl),t(V,ll),Ee.m(V,null),t(V,It),t(V,ke),a[25](ke),t(V,sl),t(V,al),t(X,nl),t(X,Q),t(Q,Se),t(Se,il),t(Se,Oe),t(Oe,rl),t(Se,ol),t(Q,cl),t(Q,Re),t(Q,fl),G&&G.m(Q,null),t(Q,At),t(Q,_e),a[26](_e),t(b,dl),t(b,ze),t(ze,We),t(ze,ul),t(ze,fe),t(fe,Z),t(Z,Ie),t(Ie,hl),t(Ie,Ue),t(Ue,vl),t(Ie,pl),t(Z,ml),t(Z,qe),t(Z,_l),t(Z,bl),t(Z,gl),t(Z,Ae),t(Z,yl),t(Z,$),t($,Ye),t($,El),t($,Cl),t($,wl),t($,at),t($,Dl),t($,se),t(se,Ke),t(Ke,nt),t(Ke,kl),t(se,Sl),t(se,Ge),t(Ge,it),t(Ge,zl),t(se,Il),t(se,je),t(je,rt),t(je,Al),t(se,Ll),t(se,Je),t(Je,ot),t(Je,Vl),t(fe,Nl),t(fe,Xe),t(Xe,Le);for(let P=0;P<R.length;P+=1)R[P]&&R[P].m(Le,null);a[28](l),Ve=!0},p(u,z){if(u[4]?U?U.p(u,z):(U=gs(u),U.c(),U.m(le,Be)):U&&(U.d(1),U=null),Lt!==(Lt=Zl(u))&&(be.d(1),be=Lt(u),be&&(be.c(),be.m(ne,null))),u[4]?q?q.p(u,z):(q=ys(u),q.c(),q.m(pe,null)):q&&(q.d(1),q=null),Vt!==(Vt=Ql(u))&&(ge.d(1),ge=Vt(u),ge&&(ge.c(),ge.m(F,null))),u[4]?Y?Y.p(u,z):(Y=Es(u),Y.c(),Y.m(re,tt)):Y&&(Y.d(1),Y=null),u[9]?K?K.p(u,z):(K=Cs(u),K.c(),K.m(l,g)):K&&(K.d(1),K=null),(!Ve||z[0]&8192)&&n(H,"style",u[13]),Nt!==(Nt=$l(u))&&(ye.d(1),ye=Nt(u),ye&&(ye.c(),ye.m(V,zt))),(!Ve||z[0]&8192)&&n(He,"style",u[13]),xt!==(xt=es(u))&&(Ee.d(1),Ee=xt(u),Ee&&(Ee.c(),Ee.m(V,It))),(!Ve||z[0]&8192)&&n(Oe,"style",u[13]),u[7]?G?G.p(u,z):(G=Ds(u),G.c(),G.m(Q,At)):G&&(G.d(1),G=null),(!Ve||z[0]&8192)&&n(Ue,"style",u[13]),z[0]&2){ct=fs(_s);let P;for(P=0;P<ct.length;P+=1){const Ze=bs(u,ct,P);R[P]?R[P].p(Ze,z):(R[P]=ks(Ze),R[P].c(),R[P].m(Le,null))}for(;P<R.length;P+=1)R[P].d(1);R.length=ct.length}},i(u){Ve||(Gs(e.$$.fragment,u),Ve=!0)},o(u){Ks(e.$$.fragment,u),Ve=!1},d(u){u&&(o(s),o(l)),Ys(e,u),U&&U.d(),be.d(),q&&q.d(),ge.d(),Y&&Y.d(),a[22](null),a[23](null),K&&K.d(),ye.d(),a[24](null),Ee.d(),a[25](null),G&&G.d(),a[26](null),Fs(R,u),a[28](null)}}}let pt=400;function Ss(a){return{overview:"Overview",compare:"Compare by socio-economic factor"}[a]||""}function Ya(a,e,s){let l,f,d,c,k,S={},I="barchart",{data:y}=e;const p=y.coBenefit,D=ps.find(v=>v.id===p)?.label??p,M=va.find(v=>v.id===p)?.def??p;let B,A,L,ue,ee,oe,$e,he,Me=!1,et,J,ae,te;mt().then(()=>{let v=JSON.parse(JSON.stringify(O(p)));v.shift(),v=v.reverse(),s(7,J=new ha(A,"LAD",ae,"total",!1,"LAD",!1,v)),J.initMap();let g=J.legend();te.append(g)});let ne=pa(p),le=!1,Be="";const ve=["overview","compare"];function Fe(){const v=window.scrollY;s(9,le=v>250);for(const g of ve){const b=document.getElementById(g);if(!b)continue;const T=b.getBoundingClientRect();if(T.top<=150&&T.bottom>=150){s(10,Be=g);break}}}Hs(()=>(window.addEventListener("scroll",Fe),Fe(),()=>window.removeEventListener("scroll",Fe))),Os(()=>{window.removeEventListener("scroll",Fe)});async function mt(){B=await vt(Ea(p)),L=await vt(Ca(p)),ee=await vt(wa()),ee=ee.sort((g,b)=>b.total-g.total),oe=await vt(Da()),oe=oe.sort((g,b)=>b.total_value-g.total_value);const v=oe.find(g=>g.co_benefit_type===p);s(6,et=v?v.value_per_capita:null),A=await vt(ka(p)),$e=await vt(Sa()),s(5,he=$e[0].total_value),ms.forEach(g=>{L[g]=+L[g]}),s(4,ue=da(B,g=>g.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),s(20,Me=!0)}let ie,F;function pe(v,g){if(!ie)return;const b=20,T=15,N=Math.floor(200/b),Et=T*N,Ct=ee.reduce((E,H)=>E+H.total,0),X=[];for(const E of ee){const H=Math.round(Math.abs(E.total)/Ct*Et),St=E.total<0;for(let lt=0;lt<H;lt++)X.push({type:E.co_benefit_type,negative:St})}for(;X.length<Et;)X.push({type:"empty"});X.sort((E,H)=>E.type==="empty"?1:H.type==="empty"?-1:E.negative&&!H.negative?1:!E.negative&&H.negative?-1:0);const V=X.map((E,H)=>({x:H%T,y:Math.floor(H/T),...E})),ce=wt({width:b*T,height:b*N,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:ps.map(E=>E.id),range:ya,unknown:"#eee",legend:!1},marks:[vs(V.filter(E=>!E.negative),{x:E=>E.x*b,y:E=>E.y*b,fill:"type",fillOpacity:E=>g&&E.type!==g?.15:1}),vs(V.filter(E=>E.negative),{x:E=>E.x*b,y:E=>E.y*b,stroke:"type",strokeOpacity:E=>g&&E.type!==g?.15:1,strokeWidth:1,fill:"none"})]});F&&(s(12,F.style.width=`${b*T}px`,F),s(12,F.style.height=`${v}px`,F)),s(11,ie.innerHTML="",ie),ie.append(ce)}function _t(){c?.append(wt({height:pt/1.5,...ga,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazoness"},x:{label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Ia(A,Aa({y:"count"},{x:"total",fill:O(p)[0],tip:!0,fillOpacity:.5,stroke:O(p)[0],strokeWidth:3})),hs({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),Hl([0],{stroke:"#333",strokeWidth:.75})]}))}function bt(){let v=B.flatMap(g=>ma.map(b=>({time:b,value:g[b],total:g.total,scenario:g.scenario})));k?.append(wt({height:pt/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:g=>g.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0},marks:[Ns(v,As({y:"sum"},{x:"time",y:g=>g.value/1e3,fill:O(p)[0],tip:!0,fillOpacity:.8,insetLeft:15,insetRight:15})),hs({anchor:"left",grid:!0,label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"})]}))}function re(){ms.forEach(v=>{let g;if(_a.includes(v)){const b=ba[v],T=b?Object.keys(b).map(Number):A.filter(N=>N.SEFMAME==v).map(N=>N.SE);g=wt({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:pt/1.4,width:pt*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:20,x:{domain:T,label:Fl(v),tickFormat:N=>b?.[N]??N},y:{label:"£, billion",labelArrow:"none"},color:{legend:!0},marks:[Pa(A.filter(N=>N.SEFMAME==v),{x:"SE",y:"total",stroke:N=>N.LAD.startsWith("S")?O(p)[1]:N.LAD.startsWith("N")?O(p)[2]:N.LAD.startsWith("E")?O(p)[3]:O(p)[4],fill:O(p)[4],r:2,fillOpacity:.3}),us([0],{stroke:"#333",strokeWidth:.75})]})}else g=wt({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:pt/1.4,width:pt*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:20,x:{label:Fl(v),labelArrow:!1,labelAnchor:"center"},y:{label:"£, billion",labelArrow:!1},color:{legend:!0},marks:[Vs(A.filter(b=>b.SEFMAME==v),{x:b=>["Under_35","Over_65","Unemployment"].includes(v)?b.SE*100:b.SE,y:"total",fill:b=>b.LAD.startsWith("S")?O(p)[1]:b.LAD.startsWith("N")?O(p)[2]:b.LAD.startsWith("E")?O(p)[3]:O(p)[4],r:2,fillOpacity:1}),ua({label:Fl(v),labelArrow:!1,labelAnchor:"center"}),us([0],{stroke:"#333",strokeWidth:.75}),Hl([0],{stroke:"#333",strokeWidth:.75})]});S[v]?.append(g)})}function tt(v){Qe[v?"unshift":"push"](()=>{ie=v,s(11,ie)})}function me(v){Qe[v?"unshift":"push"](()=>{F=v,s(12,F)})}function kt(v){Qe[v?"unshift":"push"](()=>{k=v,s(0,k)})}function gt(v){Qe[v?"unshift":"push"](()=>{c=v,s(3,c)})}function Ce(v){Qe[v?"unshift":"push"](()=>{ae=v,s(8,ae)})}function yt(v,g){Qe[v?"unshift":"push"](()=>{S[g.id]=v,s(1,S)})}function we(v){Qe[v?"unshift":"push"](()=>{d=v,s(2,d)})}return a.$$set=v=>{"data"in v&&s(18,y=v.data)},a.$$.update=()=>{a.$$.dirty[0]&1572867&&(k?.firstChild?.remove(),Object.values(S).forEach(v=>{v.firstChild?.remove()}),Me&&(_t(),bt(),re(),pe(300,p))),a.$$.dirty[0]&2097152&&s(13,f=`color: ${l}; font-weight: bold; font-size: 22px;`)},s(21,l=O(p)[0]),[k,S,d,c,ue,he,et,J,ae,le,Be,ie,F,f,p,D,M,ne,y,I,Me,l,tt,me,kt,gt,Ce,yt,we]}class sn extends Us{constructor(e){super(),qs(this,e,Ya,qa,Bs,{data:18},null,[-1,-1])}}export{sn as component};
