import{s as ql,a as M,e as d,t as B,g as x,c as h,b as L,p as j,d as N,f as y,q as u,B as zn,i as se,h as a,y as Dt,j as We,w as Wl,z as Zl,v as Gl,A as je}from"../chunks/scheduler.B9T0ItC_.js";import{S as Xl,i as Kl,c as Ql,b as Jl,m as $l,t as ea,a as ta,d as na}from"../chunks/index.BVM93j1J.js";import{N as la,e as fl}from"../chunks/NavigationBar.CRF45Iqq.js";import"../chunks/transform.Cxf8x_5z.js";import{am as aa,al as Sl,an as Vl,a4 as Fn,i as sa,a as ra,M as Bl,H as Nl,Q as oa,l as Pl,n as Fl,d as Hl,ao as ia,o as Rl,ap as ca,aq as ua,S as Ol,T as Rt,q as fa,B as da,a9 as ha,aa as va,ar as pa,as as ma,F as ga,P as ya,at as jl,Y as On,Z as ba,au as _a,a3 as Ca,ac as Hn,av as Ea,U as Ae,a6 as De,ae as me,ad as dl,aw as hl,X as vl,V as pl,ax as wa}from"../chunks/index.CqwntdJ0.js";import{M as Aa,a as Da}from"../chunks/map.B3u-HGJc.js";import{S as Rn,V as Ul,A as Ye,C as ml,h as ka,r as La,M as Ue,c as Sn,f as Ma,b as Vn,i as xa,j as Ia,T as Bn,e as Ta}from"../chunks/globals.Dux9G-f8.js";import{g as ge,q as gl,r as za,d as yl,s as Sa,t as bl,u as Va,v as Ba}from"../chunks/duckdb.BytYIbn2.js";import{a as $e,b as _l}from"../chunks/bar.DhIxBOxy.js";import{a as Na,d as Pa}from"../chunks/map.DwrK_CFQ.js";import{t as Fa,e as Ha,m as Ra,a as Cl,s as Oa,b as Nn,d as El}from"../chunks/area.BIxGMRa7.js";const ja=Ua(Ya);function Ua(e){return function(t,n,l=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((l=+l)>=0))throw new RangeError("invalid ry");let{data:r,width:s,height:o}=t;if(!((s=Math.floor(s))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:r.length/s))>=0))throw new RangeError("invalid height");if(!s||!o||!n&&!l)return t;const p=n&&e(n),g=l&&e(l),i=r.slice();return p&&g?(gt(p,i,r,s,o),gt(p,r,i,s,o),gt(p,i,r,s,o),yt(g,r,i,s,o),yt(g,i,r,s,o),yt(g,r,i,s,o)):p?(gt(p,r,i,s,o),gt(p,i,r,s,o),gt(p,r,i,s,o)):g&&(yt(g,r,i,s,o),yt(g,i,r,s,o),yt(g,r,i,s,o)),t}}function gt(e,t,n,l,r){for(let s=0,o=l*r;s<o;)e(t,n,s,s+=l,1)}function yt(e,t,n,l,r){for(let s=0,o=l*r;s<l;++s)e(t,n,s,s+o,l)}function Ya(e){const t=Math.floor(e);if(t===e)return qa(e);const n=e-t,l=2*e+1;return(r,s,o,p,g)=>{if(!((p-=g)>=o))return;let i=t*s[o];const f=g*t,E=f+g;for(let v=o,A=o+f;v<A;v+=g)i+=s[Math.min(p,v)];for(let v=o,A=p;v<=A;v+=g)i+=s[Math.min(p,v+f)],r[v]=(i+n*(s[Math.max(o,v-E)]+s[Math.min(p,v+E)]))/l,i-=s[Math.max(o,v-f)]}}function qa(e){const t=2*e+1;return(n,l,r,s,o)=>{if(!((s-=o)>=r))return;let p=e*l[r];const g=o*e;for(let i=r,f=r+g;i<f;i+=o)p+=l[Math.min(s,i)];for(let i=r,f=s;i<=f;i+=o)p+=l[Math.min(s,i+g)],n[i]=p/t,p-=l[Math.max(r,i-g)]}}function Wa(e,t,n){let l;for(;;){const r=aa(e,t,n);if(r===l||r===0||!isFinite(r))return[e,t];r>0?(e=Math.floor(e/r)*r,t=Math.ceil(t/r)*r):r<0&&(e=Math.ceil(e*r)/r,t=Math.floor(t*r)/r),l=r}}var Za=Array.prototype,Yl=Za.slice;function Ga(e,t){return e-t}function Xa(e){for(var t=0,n=e.length,l=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)l+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return l}const qe=e=>()=>e;function Ka(e,t){for(var n=-1,l=t.length,r;++n<l;)if(r=Qa(e,t[n]))return r;return 0}function Qa(e,t){for(var n=t[0],l=t[1],r=-1,s=0,o=e.length,p=o-1;s<o;p=s++){var g=e[s],i=g[0],f=g[1],E=e[p],v=E[0],A=E[1];if(Ja(g,E,t))return 0;f>l!=A>l&&n<(v-i)*(l-f)/(A-f)+i&&(r=-r)}return r}function Ja(e,t,n){var l;return $a(e,t,n)&&es(e[l=+(e[0]===t[0])],n[l],t[l])}function $a(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function es(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function ts(){}var ke=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function wl(){var e=1,t=1,n=Fa,l=g;function r(i){var f=n(i);if(Array.isArray(f))f=f.slice().sort(Ga);else{const E=Sl(i,ns);for(f=Vl(...Wa(E[0],E[1],f),f);f[f.length-1]>=E[1];)f.pop();for(;f[1]<E[0];)f.shift()}return f.map(E=>s(i,E))}function s(i,f){const E=f==null?NaN:+f;if(isNaN(E))throw new Error(`invalid value: ${f}`);var v=[],A=[];return o(i,E,function(k){l(k,i,E),Xa(k)>0?v.push([k]):A.push(k)}),A.forEach(function(k){for(var b=0,C=v.length,z;b<C;++b)if(Ka((z=v[b])[0],k)!==-1){z.push(k);return}}),{type:"MultiPolygon",value:f,coordinates:v}}function o(i,f,E){var v=new Array,A=new Array,k,b,C,z,c,_;for(k=b=-1,z=et(i[0],f),ke[z<<1].forEach(I);++k<e-1;)C=z,z=et(i[k+1],f),ke[C|z<<1].forEach(I);for(ke[z<<0].forEach(I);++b<t-1;){for(k=-1,z=et(i[b*e+e],f),c=et(i[b*e],f),ke[z<<1|c<<2].forEach(I);++k<e-1;)C=z,z=et(i[b*e+e+k+1],f),_=c,c=et(i[b*e+k+1],f),ke[C|z<<1|c<<2|_<<3].forEach(I);ke[z|c<<3].forEach(I)}for(k=-1,c=i[b*e]>=f,ke[c<<2].forEach(I);++k<e-1;)_=c,c=et(i[b*e+k+1],f),ke[c<<2|_<<3].forEach(I);ke[c<<3].forEach(I);function I(F){var T=[F[0][0]+k,F[0][1]+b],D=[F[1][0]+k,F[1][1]+b],S=p(T),H=p(D),w,V;(w=A[S])?(V=v[H])?(delete A[w.end],delete v[V.start],w===V?(w.ring.push(D),E(w.ring)):v[w.start]=A[V.end]={start:w.start,end:V.end,ring:w.ring.concat(V.ring)}):(delete A[w.end],w.ring.push(D),A[w.end=H]=w):(w=v[H])?(V=A[S])?(delete v[w.start],delete A[V.end],w===V?(w.ring.push(D),E(w.ring)):v[V.start]=A[w.end]={start:V.start,end:w.end,ring:V.ring.concat(w.ring)}):(delete v[w.start],w.ring.unshift(T),v[w.start=S]=w):v[S]=A[H]={start:S,end:H,ring:[T,D]}}}function p(i){return i[0]*2+i[1]*(e+1)*4}function g(i,f,E){i.forEach(function(v){var A=v[0],k=v[1],b=A|0,C=k|0,z=Pn(f[C*e+b]);A>0&&A<e&&b===A&&(v[0]=Al(A,Pn(f[C*e+b-1]),z,E)),k>0&&k<t&&C===k&&(v[1]=Al(k,Pn(f[(C-1)*e+b]),z,E))})}return r.contour=s,r.size=function(i){if(!arguments.length)return[e,t];var f=Math.floor(i[0]),E=Math.floor(i[1]);if(!(f>=0&&E>=0))throw new Error("invalid size");return e=f,t=E,r},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?qe(Yl.call(i)):qe(i),r):n},r.smooth=function(i){return arguments.length?(l=i?g:ts,r):l===g},r}function ns(e){return isFinite(e)?e:NaN}function et(e,t){return e==null?!1:+e>=t}function Pn(e){return e==null||isNaN(e=+e)?-1/0:e}function Al(e,t,n,l){const r=l-t,s=n-t,o=isFinite(r)||isFinite(s)?r/s:Math.sign(r)/Math.sign(s);return isNaN(o)?e:e+o-.5}function ls(e){return e[0]}function as(e){return e[1]}function ss(){return 1}function rs(){var e=ls,t=as,n=ss,l=960,r=500,s=20,o=2,p=s*3,g=l+p*2>>o,i=r+p*2>>o,f=qe(20);function E(c){var _=new Float32Array(g*i),I=Math.pow(2,-o),F=-1;for(const R of c){var T=(e(R,++F,c)+p)*I,D=(t(R,F,c)+p)*I,S=+n(R,F,c);if(S&&T>=0&&T<g&&D>=0&&D<i){var H=Math.floor(T),w=Math.floor(D),V=T-H-.5,Z=D-w-.5;_[H+w*g]+=(1-V)*(1-Z)*S,_[H+1+w*g]+=V*(1-Z)*S,_[H+1+(w+1)*g]+=V*Z*S,_[H+(w+1)*g]+=(1-V)*Z*S}}return ja({data:_,width:g,height:i},s*I),_}function v(c){var _=E(c),I=f(_),F=Math.pow(2,2*o);return Array.isArray(I)||(I=Vl(Number.MIN_VALUE,Fn(_)/F,I)),wl().size([g,i]).thresholds(I.map(T=>T*F))(_).map((T,D)=>(T.value=+I[D],A(T)))}v.contours=function(c){var _=E(c),I=wl().size([g,i]),F=Math.pow(2,2*o),T=D=>{D=+D;var S=A(I.contour(_,D*F));return S.value=D,S};return Object.defineProperty(T,"max",{get:()=>Fn(_)/F}),T};function A(c){return c.coordinates.forEach(k),c}function k(c){c.forEach(b)}function b(c){c.forEach(C)}function C(c){c[0]=c[0]*Math.pow(2,o)-p,c[1]=c[1]*Math.pow(2,o)-p}function z(){return p=s*3,g=l+p*2>>o,i=r+p*2>>o,v}return v.x=function(c){return arguments.length?(e=typeof c=="function"?c:qe(+c),v):e},v.y=function(c){return arguments.length?(t=typeof c=="function"?c:qe(+c),v):t},v.weight=function(c){return arguments.length?(n=typeof c=="function"?c:qe(+c),v):n},v.size=function(c){if(!arguments.length)return[l,r];var _=+c[0],I=+c[1];if(!(_>=0&&I>=0))throw new Error("invalid size");return l=_,r=I,z()},v.cellSize=function(c){if(!arguments.length)return 1<<o;if(!((c=+c)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(c)/Math.LN2),z()},v.thresholds=function(c){return arguments.length?(f=typeof c=="function"?c:Array.isArray(c)?qe(Yl.call(c)):qe(c),v):f},v.bandwidth=function(c){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((c=+c)>=0))throw new Error("invalid bandwidth");return s=(Math.sqrt(4*c*c+1)-1)/2,z()},v}const os={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class is extends Bl{constructor(t,n={}){const{x:l,y:r,z:s,curve:o,tension:p}=n;super(t,{x:{value:l,scale:"x"},y:{value:r,scale:"y"},z:{value:Nl(n),optional:!0}},n,os),this.z=s,this.curve=Ra(o,p),oa(this,n)}filter(t){return t}project(t,n,l){this.curve!==Cl&&super.project(t,n,l)}render(t,n,l,r,s){const{x:o,y:p}=l,{curve:g}=this;return Pl("svg:g",s).call(Fl,this,r,s).call(Hl,this,n).call(i=>i.selectAll().data(ia(t,[o,p],this,l)).enter().append("path").call(Rl,this).call(ca,this,l).call(ua,this,l,s).attr("d",g===Cl&&s.projection?cs(s.projection,o,p):Oa().curve(g).defined(f=>f>=0).x(f=>o[f]).y(f=>p[f]))).node()}}function cs(e,t,n){const l=Ol(e);return t=Rt(t),n=Rt(n),r=>{let s=[];const o=[s];for(const p of r)p===-1?(s=[],o.push(s)):s.push([t[p],n[p]]);return l({type:"MultiLineString",coordinates:o})}}function us(e,{x:t=sa,y:n=ra,...l}={}){return new is(e,Ha({...l,x:t,y:n}))}const fs={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class ds extends Bl{constructor(t,{x:n,y:l,z:r,weight:s,fill:o,stroke:p,...g}={}){const i=Dl(o)&&(o="currentColor",!0),f=Dl(p)&&(p="currentColor",!0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:l,scale:"y",optional:!0},z:{value:Nl({z:r,fill:o,stroke:p}),optional:!0},weight:{value:s,optional:!0}},ps({...g,fill:o,stroke:p},i,f),fs),i&&(this.fill=void 0),f&&(this.stroke=void 0),this.z=r}filter(t){return t}render(t,n,l,r,s){const{contours:o}=l,p=Ol();return Pl("svg:g",s).call(Fl,this,r,s).call(Hl,this,{}).call(g=>g.selectAll().data(t).enter().append("path").call(Rl,this).call(fa,this,l).attr("d",i=>p(o[i]))).node()}}function hs(e,{x:t,y:n,...l}={}){return[t,n]=da(t,n),new ds(e,{...l,x:t,y:n})}const vs=new Set(["x","y","z","weight"]);function ps(e,t,n){let{bandwidth:r,thresholds:s}=e;return r=r===void 0?20:+r,s=s===void 0?20:typeof s?.[Symbol.iterator]=="function"?Rt(s):+s,ha(e,function(o,p,g,i,f,E){const v=g.weight?Rt(g.weight.value):null,A=g.z?.value,{z:k}=this,[b,C]=ga(this,f),{width:z,height:c}=f,{x:_,y:I}=va(g,i,E),F=Object.fromEntries(Object.entries(g).filter(([R])=>!vs.has(R)).map(([R,W])=>[R,{...W,value:[]}])),T=t&&[],D=n&&[],S=rs().x(_?R=>_[R]:b).y(I?R=>I[R]:C).weight(v?R=>v[R]:1).size([z,c]).bandwidth(r),H=[];for(const R of p){const W=[];H.push(W);for(const Q of A?pa(R,A,k):[R]){const O=S.contours(Q);W.push([Q,O])}}let w=s;if(!(w instanceof ma)){let R=0;for(const W of H)for(const[,Q]of W){const O=Q.max;O>R&&(R=O)}w=Float64Array.from({length:s-1},(W,Q)=>R*100*(Q+1)/s)}const V=[],Z=[];for(const R of H){const W=[];V.push(W);for(const[Q,O]of R)for(const X of w){W.push(Z.length),Z.push(O(X/100)),T&&T.push(X),D&&D.push(X);for(const le in F)F[le].value.push(g[le].value[Q[0]])}}return T&&T.push(0),D&&D.push(0),{data:o,facets:V,channels:{...F,...T&&{fill:{value:T,scale:"color"}},...D&&{stroke:{value:D,scale:"color"}},contours:{value:Z}}}})}function Dl(e){return/^density$/i.test(e)}function kl(e,t){return arguments.length===1&&({basis:e,...t}=e),Na(ms(e),t)}function ms(e){if(e===void 0)return Ll;if(typeof e=="function")return Ot(ya(e));if(/^p\d{2}$/i.test(e))return bt(Ea(e));switch(`${e}`.toLowerCase()){case"deviation":return bs;case"first":return Ll;case"last":return ys;case"max":return _s;case"mean":return Cs;case"median":return Es;case"min":return ws;case"sum":return As;case"extent":return gs}throw new Error(`invalid basis: ${e}`)}function Ot(e){return{mapIndex(t,n,l){const r=+e(t,n);for(const s of t)l[s]=n[s]===null?NaN:n[s]/r}}}function bt(e){return Ot((t,n)=>e(t,l=>n[l]))}const gs={mapIndex(e,t,n){const[l,r]=Sl(e,o=>t[o]),s=r-l;for(const o of e)n[o]=t[o]===null?NaN:(t[o]-l)/s}},Ll=Ot((e,t)=>{for(let n=0;n<e.length;++n){const l=t[e[n]];if(jl(l))return l}}),ys=Ot((e,t)=>{for(let n=e.length-1;n>=0;--n){const l=t[e[n]];if(jl(l))return l}}),bs={mapIndex(e,t,n){const l=On(e,s=>t[s]),r=ba(e,s=>t[s]);for(const s of e)n[s]=t[s]===null?NaN:r?(t[s]-l)/r:0}},_s=bt(Fn),Cs=bt(On),Es=bt(_a),ws=bt(Ca),As=bt(Hn);function Ml(e,t,n){const l=e.slice();return l[45]=t[n],l[46]=t,l[47]=n,l}function xl(e){let t,n,l,r,s,o="billion",p,g,i,f,E,v,A="thousand",k,b=e[8]&&Il(e);function C(D,S){return D[8]>0?ks:Ds}let z=C(e),c=z(e),_=e[8]&&Tl(e);function I(D,S){return D[8]>0?Ms:Ls}let F=I(e),T=F(e);return{c(){t=d("div"),n=d("div"),l=d("div"),b&&b.c(),r=M(),s=d("span"),s.textContent=o,p=M(),c.c(),g=M(),i=d("div"),f=d("div"),_&&_.c(),E=M(),v=d("span"),v.textContent=A,k=M(),T.c(),this.h()},l(D){t=h(D,"DIV",{class:!0});var S=L(t);n=h(S,"DIV",{class:!0});var H=L(n);l=h(H,"DIV",{class:!0});var w=L(l);b&&b.l(w),r=x(w),s=h(w,"SPAN",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-tlhydp"&&(s.textContent=o),w.forEach(y),p=x(H),c.l(H),H.forEach(y),g=x(S),i=h(S,"DIV",{class:!0});var V=L(i);f=h(V,"DIV",{class:!0});var Z=L(f);_&&_.l(Z),E=x(Z),v=h(Z,"SPAN",{class:!0,"data-svelte-h":!0}),j(v)!=="svelte-ewwwhc"&&(v.textContent=A),Z.forEach(y),k=x(V),T.l(V),V.forEach(y),S.forEach(y),this.h()},h(){u(s,"class","small svelte-8rd44y"),u(l,"class","waffle-value svelte-8rd44y"),u(n,"class","waffle-stat svelte-8rd44y"),u(v,"class","small svelte-8rd44y"),u(f,"class","waffle-value svelte-8rd44y"),u(i,"class","waffle-stat svelte-8rd44y"),u(t,"class","waffle-stats")},m(D,S){se(D,t,S),a(t,n),a(n,l),b&&b.m(l,null),a(l,r),a(l,s),a(n,p),c.m(n,null),a(t,g),a(t,i),a(i,f),_&&_.m(f,null),a(f,E),a(f,v),a(i,k),T.m(i,null)},p(D,S){D[8]?b?b.p(D,S):(b=Il(D),b.c(),b.m(l,r)):b&&(b.d(1),b=null),z!==(z=C(D))&&(c.d(1),c=z(D),c&&(c.c(),c.m(n,null))),D[8]?_?_.p(D,S):(_=Tl(D),_.c(),_.m(f,E)):_&&(_.d(1),_=null),F!==(F=I(D))&&(T.d(1),T=F(D),T&&(T.c(),T.m(i,null)))},d(D){D&&y(t),b&&b.d(),c.d(),_&&_.d(),T.d()}}}function Il(e){let t,n,l=e[8].toLocaleString()+"",r;return{c(){t=d("span"),n=B("£"),r=B(l),this.h()},l(s){t=h(s,"SPAN",{class:!0});var o=L(t);n=N(o,"£"),r=N(o,l),o.forEach(y),this.h()},h(){u(t,"class","waffle-big svelte-8rd44y")},m(s,o){se(s,t,o),a(t,n),a(t,r)},p(s,o){o[0]&256&&l!==(l=s[8].toLocaleString()+"")&&We(r,l)},d(s){s&&y(t)}}}function Ds(e){let t,n="Local area costs";return{c(){t=d("div"),t.textContent=n,this.h()},l(l){t=h(l,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-mnkeh9"&&(t.textContent=n),this.h()},h(){u(t,"class","waffle-caption svelte-8rd44y")},m(l,r){se(l,t,r)},d(l){l&&y(t)}}}function ks(e){let t,n="Local area benefits";return{c(){t=d("div"),t.textContent=n,this.h()},l(l){t=h(l,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-bu718d"&&(t.textContent=n),this.h()},h(){u(t,"class","waffle-caption svelte-8rd44y")},m(l,r){se(l,t,r)},d(l){l&&y(t)}}}function Tl(e){let t,n,l=e[9].toLocaleString()+"",r;return{c(){t=d("span"),n=B("£"),r=B(l),this.h()},l(s){t=h(s,"SPAN",{class:!0});var o=L(t);n=N(o,"£"),r=N(o,l),o.forEach(y),this.h()},h(){u(t,"class","waffle-big svelte-8rd44y")},m(s,o){se(s,t,o),a(t,n),a(t,r)},p(s,o){o[0]&512&&l!==(l=s[9].toLocaleString()+"")&&We(r,l)},d(s){s&&y(t)}}}function Ls(e){let t,n="Per capita costs";return{c(){t=d("div"),t.textContent=n,this.h()},l(l){t=h(l,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-6pmcl0"&&(t.textContent=n),this.h()},h(){u(t,"class","waffle-caption svelte-8rd44y")},m(l,r){se(l,t,r)},d(l){l&&y(t)}}}function Ms(e){let t,n="Per capita benefits";return{c(){t=d("div"),t.textContent=n,this.h()},l(l){t=h(l,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-g1rvwk"&&(t.textContent=n),this.h()},h(){u(t,"class","waffle-caption svelte-8rd44y")},m(l,r){se(l,t,r)},d(l){l&&y(t)}}}function xs(e){let t,n,l,r,s,o,p,g,i=`Histogram shows the number of data zones distributed across
                                    different household social economic factors.`,f,E,v="",A=e[45],k,b,C,z,c,_,I,F,T,D=`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in the local authority.`,S,H,w,V="";const Z=()=>e[25](E,A),R=()=>e[25](null,A),W=()=>e[26](w,A),Q=()=>e[26](null,A);return{c(){t=d("div"),n=d("h3"),l=B("Data Zones Distribution (vs. "),r=d("span"),s=B(e[6]),o=B(" average)"),p=M(),g=d("p"),g.textContent=i,f=M(),E=d("div"),E.innerHTML=v,k=M(),b=d("div"),C=d("div"),z=d("h3"),c=B("Co-benefits Recieved by Data Zones across "),_=B(e[45]),I=B(`
                                        Values`),F=M(),T=d("p"),T.textContent=D,S=M(),H=d("div"),w=d("div"),w.innerHTML=V,this.h()},l(O){t=h(O,"DIV",{class:!0});var X=L(t);n=h(X,"H3",{class:!0});var le=L(n);l=N(le,"Data Zones Distribution (vs. "),r=h(le,"SPAN",{class:!0});var Me=L(r);s=N(Me,e[6]),Me.forEach(y),o=N(le," average)"),le.forEach(y),p=x(X),g=h(X,"P",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-xcsopb"&&(g.textContent=i),f=x(X),E=h(X,"DIV",{class:!0,"data-svelte-h":!0}),j(E)!=="svelte-1shkadq"&&(E.innerHTML=v),X.forEach(y),k=x(O),b=h(O,"DIV",{class:!0});var ne=L(b);C=h(ne,"DIV",{});var ie=L(C);z=h(ie,"H3",{class:!0});var te=L(z);c=N(te,"Co-benefits Recieved by Data Zones across "),_=N(te,e[45]),I=N(te,`
                                        Values`),te.forEach(y),F=x(ie),T=h(ie,"P",{class:!0,"data-svelte-h":!0}),j(T)!=="svelte-18bgpzu"&&(T.textContent=D),ie.forEach(y),S=x(ne),H=h(ne,"DIV",{});var Ze=L(H);w=h(Ze,"DIV",{class:!0,"data-svelte-h":!0}),j(w)!=="svelte-1vji5u3"&&(w.innerHTML=V),Ze.forEach(y),ne.forEach(y),this.h()},h(){u(r,"class","nation-label svelte-8rd44y"),u(n,"class","component-title"),u(g,"class","description short"),u(E,"class","plot"),u(t,"class","component"),u(z,"class","component-title"),u(T,"class","description short"),u(w,"class","plot"),u(b,"class","component")},m(O,X){se(O,t,X),a(t,n),a(n,l),a(n,r),a(r,s),a(n,o),a(t,p),a(t,g),a(t,f),a(t,E),Z(),se(O,k,X),se(O,b,X),a(b,C),a(C,z),a(z,c),a(z,_),a(z,I),a(C,F),a(C,T),a(b,S),a(b,H),a(H,w),W()},p(O,X){e=O,X[0]&64&&We(s,e[6]),A!==e[45]&&(R(),A=e[45],Z()),A!==e[45]&&(Q(),A=e[45],W())},d(O){O&&(y(t),y(k),y(b)),R(),Q()}}}function zl(e){let t,n,l=e[45].replaceAll("_"," ")+"",r,s,o,p;function g(E,v){return xs}let f=g()(e);return{c(){t=d("div"),n=d("h2"),r=B(l),s=M(),o=d("div"),f.c(),p=M(),this.h()},l(E){t=h(E,"DIV",{});var v=L(t);n=h(v,"H2",{});var A=L(n);r=N(A,l),A.forEach(y),s=x(v),o=h(v,"DIV",{class:!0});var k=L(o);f.l(k),k.forEach(y),p=x(v),v.forEach(y),this.h()},h(){u(o,"class","row")},m(E,v){se(E,t,v),a(t,n),a(n,r),a(t,s),a(t,o),f.m(o,null),a(t,p)},p(E,v){f.p(E,v)},d(E){E&&y(t),f.d()}}}function Is(e){let t,n,l,r,s,o,p="Data Report",g,i,f=e[12][e[11]]+"",E,v,A,k=`Explore how this local authority will benefit from achieving Net Zero and general factors
                of their households.`,b,C,z,c,_,I,F="UK",T,D,S,H,w,V="England",Z,R,W,Q,O,X="Wales",le,Me,ne,ie,te,Ze="Scotland",_t,ye,m,U,be="Northern Ireland",Ge,ce,Ct,Y,J,Et=`<p class="section-subtitle">Overview</p> <h2 class="section-title">How much co-benefit values would this area recieve?</h2> <p class="description">We calculate and model 11 types of co-benefits across five different pathyways
                suggested by Climate Change Committee in the Sixth Carbon Budget from 2025-2050 on the level of data
                zones across UK.</p>`,wt,_e,ue,xe,jt,nt,kt,Ut,Yt,Ce,qt,jn=e[12][e[11]]+"",Wt,Zt,lt,Lt,Gt,Ie,Un="",Xt,fe,Xe,Yn=e[12][e[11]]+"",Kt,Qt,Jt,Ke,qn="Scroll for zooming in and out.",$t,Ee,Wn="",en,de,Qe,Zn='<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of co-benefits.</p>',tn,re,Te,nn,at,Mt,ln,an,he,sn,Gn=e[12][e[11]]+"",rn,on,st,xt,cn,un,fn,dn,ve,ze,rt,hn,Xn=e[12][e[11]]+"",vn,pn,Se,ot,mn,it,It,gn,ct,Ve,Kn="",yn,pe,ae,Be,bn,Qn=e[12][e[11]]+"",_n,Cn,En,wn,An,Ne,Jn=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <span>The stacked area plot is coloured by co-benefit:</span> <br/><br/> <ul class="legend-list svelte-8rd44y"><li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #D3A029"></span>
                        Diet change</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #48773E"></span>
                        Physical activity</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #183668"></span>
                        Dampness</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #00AED9"></span>
                        Excess cold</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #E11484"></span>
                        Noise</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #71C35D"></span>
                        Air quality</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #8F1838"></span>
                        Congestion</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #EF402B"></span>
                        Excess heat</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #F36D25"></span>
                        Road safety</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #F99D26"></span>
                        Road repairs</li> <li class="svelte-8rd44y"><span class="legend-color svelte-8rd44y" style="background-color: #C31F33"></span>
                        Hassle costs</li></ul>`,Dn,Pe,$n=`<p style="margin: 0 0 0.5rem 0;"><strong>Some areas too small:</strong> Due to the nature of the co-benefits some values are very small in comparison 
                    to larger values so therefore are not visable on this plot.</p> <p style="margin: 0 0 0.5rem 0;">*Hover over areas for more information.</p>`,kn,ut,Ln,Fe,Je,el=`<p class="section-subtitle">Households</p> <h2 class="section-title">Social Economic Factors of Households</h2> <p class="description">We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.</p>`,Mn,He,we,xn,tl;t=new la({});let ee=e[7]&&xl(e),ft=fl(Rn),$=[];for(let P=0;P<ft.length;P+=1)$[P]=zl(Ml(e,ft,P));return{c(){Ql(t.$$.fragment),n=M(),l=d("div"),r=d("div"),s=d("div"),o=d("p"),o.textContent=p,g=M(),i=d("h1"),E=B(f),v=M(),A=d("p"),A.textContent=k,b=M(),C=d("div"),z=B(`Compare the Local District Area with average of:
                `),c=d("input"),_=M(),I=d("label"),I.textContent=F,T=d("br"),D=M(),S=d("input"),H=M(),w=d("label"),w.textContent=V,Z=d("br"),R=M(),W=d("input"),Q=M(),O=d("label"),O.textContent=X,le=d("br"),Me=M(),ne=d("input"),ie=M(),te=d("label"),te.textContent=Ze,_t=M(),ye=d("input"),m=M(),U=d("label"),U.textContent=be,Ge=M(),ce=d("div"),ee&&ee.c(),Ct=M(),Y=d("div"),J=d("div"),J.innerHTML=Et,wt=M(),_e=d("div"),ue=d("div"),xe=d("h3"),jt=B("11 Types of Co-Benefits Values (vs. "),nt=d("span"),kt=B(e[6]),Ut=B(" Average)"),Yt=M(),Ce=d("p"),qt=B("Co-benefits values in "),Wt=B(jn),Zt=B(` verus average value across all local
                    authorities in `),lt=d("span"),Lt=B(e[6]),Gt=M(),Ie=d("div"),Ie.innerHTML=Un,Xt=M(),fe=d("div"),Xe=d("h3"),Kt=B(Yn),Qt=B(" on UK Map"),Jt=M(),Ke=d("p"),Ke.textContent=qn,$t=M(),Ee=d("div"),Ee.innerHTML=Wn,en=M(),de=d("div"),Qe=d("div"),Qe.innerHTML=Zn,tn=M(),re=d("div"),Te=d("h3"),nn=B("Total Co-benefits Distribution from 2025-2050 (vs. "),at=d("span"),Mt=B(e[6]),ln=B(" Average)"),an=M(),he=d("p"),sn=B("Aggregated values from 2025-2049 in "),rn=B(Gn),on=B(" compared to average value of benefits recieved across all local authorities in "),st=d("span"),xt=B(e[6]),cn=B("."),un=M(),fn=d("br"),dn=M(),ve=d("ul"),ze=d("li"),rt=d("span"),hn=M(),vn=B(Xn),pn=M(),Se=d("li"),ot=d("span"),mn=M(),it=d("span"),It=B(e[6]),gn=M(),ct=d("div"),Ve=d("div"),Ve.innerHTML=Kn,yn=M(),pe=d("div"),ae=d("div"),Be=d("h3"),bn=B("Average co-benefit gain/loss for the area of "),_n=B(Qn),Cn=B(" (by 5 year intervals)"),En=M(),wn=d("br"),An=M(),Ne=d("div"),Ne.innerHTML=Jn,Dn=M(),Pe=d("div"),Pe.innerHTML=$n,kn=M(),ut=d("div"),Ln=M(),Fe=d("div"),Je=d("div"),Je.innerHTML=el,Mn=M(),He=d("div");for(let P=0;P<$.length;P+=1)$[P].c();this.h()},l(P){Jl(t.$$.fragment,P),n=x(P),l=h(P,"DIV",{class:!0});var K=L(l);r=h(K,"DIV",{class:!0});var G=L(r);s=h(G,"DIV",{});var oe=L(s);o=h(oe,"P",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1gxb8h1"&&(o.textContent=p),g=x(oe),i=h(oe,"H1",{class:!0});var nl=L(i);E=N(nl,f),nl.forEach(y),v=x(oe),A=h(oe,"P",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-xrjo08"&&(A.textContent=k),b=x(oe),C=h(oe,"DIV",{class:!0});var q=L(C);z=N(q,`Compare the Local District Area with average of:
                `),c=h(q,"INPUT",{type:!0,name:!0}),_=x(q),I=h(q,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),j(I)!=="svelte-1yhxhao"&&(I.textContent=F),T=h(q,"BR",{}),D=x(q),S=h(q,"INPUT",{type:!0,name:!0}),H=x(q),w=h(q,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),j(w)!=="svelte-11zyrfp"&&(w.textContent=V),Z=h(q,"BR",{}),R=x(q),W=h(q,"INPUT",{type:!0,name:!0}),Q=x(q),O=h(q,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),j(O)!=="svelte-18hrmu4"&&(O.textContent=X),le=h(q,"BR",{}),Me=x(q),ne=h(q,"INPUT",{type:!0,name:!0}),ie=x(q),te=h(q,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),j(te)!=="svelte-16xf1ji"&&(te.textContent=Ze),_t=x(q),ye=h(q,"INPUT",{type:!0,name:!0}),m=x(q),U=h(q,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),j(U)!=="svelte-g19yfx"&&(U.textContent=be),q.forEach(y),oe.forEach(y),Ge=x(G),ce=h(G,"DIV",{});var ll=L(ce);ee&&ee.l(ll),ll.forEach(y),G.forEach(y),Ct=x(K),Y=h(K,"DIV",{class:!0});var Tt=L(Y);J=h(Tt,"DIV",{class:!0,"data-svelte-h":!0}),j(J)!=="svelte-ppwlk3"&&(J.innerHTML=Et),wt=x(Tt),_e=h(Tt,"DIV",{id:!0,class:!0});var zt=L(_e);ue=h(zt,"DIV",{class:!0});var dt=L(ue);xe=h(dt,"H3",{class:!0});var St=L(xe);jt=N(St,"11 Types of Co-Benefits Values (vs. "),nt=h(St,"SPAN",{class:!0});var al=L(nt);kt=N(al,e[6]),al.forEach(y),Ut=N(St," Average)"),St.forEach(y),Yt=x(dt),Ce=h(dt,"P",{class:!0});var At=L(Ce);qt=N(At,"Co-benefits values in "),Wt=N(At,jn),Zt=N(At,` verus average value across all local
                    authorities in `),lt=h(At,"SPAN",{class:!0});var sl=L(lt);Lt=N(sl,e[6]),sl.forEach(y),At.forEach(y),Gt=x(dt),Ie=h(dt,"DIV",{class:!0,"data-svelte-h":!0}),j(Ie)!=="svelte-1gmwtaj"&&(Ie.innerHTML=Un),dt.forEach(y),Xt=x(zt),fe=h(zt,"DIV",{class:!0});var ht=L(fe);Xe=h(ht,"H3",{class:!0});var In=L(Xe);Kt=N(In,Yn),Qt=N(In," on UK Map"),In.forEach(y),Jt=x(ht),Ke=h(ht,"P",{class:!0,"data-svelte-h":!0}),j(Ke)!=="svelte-1ask2se"&&(Ke.textContent=qn),$t=x(ht),Ee=h(ht,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),j(Ee)!=="svelte-13ehpmu"&&(Ee.innerHTML=Wn),ht.forEach(y),zt.forEach(y),Tt.forEach(y),en=x(K),de=h(K,"DIV",{class:!0});var vt=L(de);Qe=h(vt,"DIV",{class:!0,"data-svelte-h":!0}),j(Qe)!=="svelte-1d07eqe"&&(Qe.innerHTML=Zn),tn=x(vt),re=h(vt,"DIV",{class:!0});var Re=L(re);Te=h(Re,"H3",{class:!0});var Vt=L(Te);nn=N(Vt,"Total Co-benefits Distribution from 2025-2050 (vs. "),at=h(Vt,"SPAN",{class:!0});var rl=L(at);Mt=N(rl,e[6]),rl.forEach(y),ln=N(Vt," Average)"),Vt.forEach(y),an=x(Re),he=h(Re,"P",{class:!0});var pt=L(he);sn=N(pt,"Aggregated values from 2025-2049 in "),rn=N(pt,Gn),on=N(pt," compared to average value of benefits recieved across all local authorities in "),st=h(pt,"SPAN",{class:!0});var ol=L(st);xt=N(ol,e[6]),ol.forEach(y),cn=N(pt,"."),pt.forEach(y),un=x(Re),fn=h(Re,"BR",{}),dn=x(Re),ve=h(Re,"UL",{class:!0});var mt=L(ve);ze=h(mt,"LI",{class:!0});var Bt=L(ze);rt=h(Bt,"SPAN",{class:!0,style:!0}),L(rt).forEach(y),hn=x(Bt),vn=N(Bt,Xn),Bt.forEach(y),pn=x(mt),Se=h(mt,"LI",{class:!0});var Nt=L(Se);ot=h(Nt,"SPAN",{class:!0,style:!0}),L(ot).forEach(y),mn=x(Nt),it=h(Nt,"SPAN",{class:!0});var il=L(it);It=N(il,e[6]),il.forEach(y),Nt.forEach(y),gn=x(mt),ct=h(mt,"DIV",{class:!0});var cl=L(ct);Ve=h(cl,"DIV",{class:!0,"data-svelte-h":!0}),j(Ve)!=="svelte-vuq0y7"&&(Ve.innerHTML=Kn),cl.forEach(y),mt.forEach(y),Re.forEach(y),yn=x(vt),pe=h(vt,"DIV",{id:!0,class:!0,style:!0});var Pt=L(pe);ae=h(Pt,"DIV",{id:!0,class:!0});var Oe=L(ae);Be=h(Oe,"H3",{class:!0});var Ft=L(Be);bn=N(Ft,"Average co-benefit gain/loss for the area of "),_n=N(Ft,Qn),Cn=N(Ft," (by 5 year intervals)"),Ft.forEach(y),En=x(Oe),wn=h(Oe,"BR",{}),An=x(Oe),Ne=h(Oe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),j(Ne)!=="svelte-s69gpy"&&(Ne.innerHTML=Jn),Dn=x(Oe),Pe=h(Oe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),j(Pe)!=="svelte-h7a03z"&&(Pe.innerHTML=$n),Oe.forEach(y),kn=x(Pt),ut=h(Pt,"DIV",{class:!0}),L(ut).forEach(y),Pt.forEach(y),vt.forEach(y),Ln=x(K),Fe=h(K,"DIV",{class:!0});var Ht=L(Fe);Je=h(Ht,"DIV",{class:!0,"data-svelte-h":!0}),j(Je)!=="svelte-3mbpps"&&(Je.innerHTML=el),Mn=x(Ht),He=h(Ht,"DIV",{id:!0,class:!0});var ul=L(He);for(let Tn=0;Tn<$.length;Tn+=1)$[Tn].l(ul);ul.forEach(y),Ht.forEach(y),K.forEach(y),this.h()},h(){u(o,"class","page-subtitle"),u(i,"class","page-title"),u(A,"class","description"),u(c,"type","radio"),u(c,"name","compare"),c.value="UK",c.checked=!0,u(I,"class","nation-label svelte-8rd44y"),u(I,"for","html"),u(S,"type","radio"),u(S,"name","compare"),S.value="England",u(w,"class","nation-label svelte-8rd44y"),u(w,"for","html"),u(W,"type","radio"),u(W,"name","compare"),W.value="Wales",u(O,"class","nation-label svelte-8rd44y"),u(O,"for","html"),u(ne,"type","radio"),u(ne,"name","compare"),ne.value="Scotland",u(te,"class","nation-label svelte-8rd44y"),u(te,"for","javascript"),u(ye,"type","radio"),u(ye,"name","compare"),ye.value="NI",u(U,"class","nation-label svelte-8rd44y"),u(U,"for","javascript"),u(C,"class","radio-set"),u(r,"class","section header header-row svelte-8rd44y"),u(J,"class","section-header"),u(nt,"class","nation-label svelte-8rd44y"),u(xe,"class","component-title"),u(lt,"class","nation-label svelte-8rd44y"),u(Ce,"class","description"),u(Ie,"class","plot"),u(ue,"class","component column"),u(Xe,"class","component-title"),u(Ke,"class","description"),u(Ee,"id","map"),u(Ee,"class","svelte-8rd44y"),u(fe,"class","component column"),u(_e,"id","vis-block"),u(_e,"class","svelte-8rd44y"),u(Y,"class","section"),u(Qe,"class","section-header"),u(at,"class","nation-label svelte-8rd44y"),u(Te,"class","component-title"),u(st,"class","nation-label svelte-8rd44y"),u(he,"class","description"),u(rt,"class","legend-color svelte-8rd44y"),zn(rt,"background-color",Ul),u(ze,"class","svelte-8rd44y"),u(ot,"class","legend-color svelte-8rd44y"),zn(ot,"background-color",Ye),u(it,"class","nation-label svelte-8rd44y"),u(Se,"class","svelte-8rd44y"),u(Ve,"class","plot"),u(ct,"class","row"),u(ve,"class","legend-list svelte-8rd44y"),u(re,"class","component singlevis"),u(Be,"class","component-title"),u(Ne,"id","main-legend"),u(Ne,"class","legend-box svelte-8rd44y"),u(Pe,"id","main-disclaimer"),u(Pe,"class","disclaimer-box svelte-8rd44y"),u(ae,"id","main-title"),u(ae,"class","svelte-8rd44y"),u(ut,"class","plot"),u(pe,"id","main-block"),u(pe,"class","component svelte-8rd44y"),zn(pe,"margin-left","0.5rem"),u(de,"class","section"),u(Je,"class","section-header"),u(He,"id","multiple-comp"),u(He,"class","svelte-8rd44y"),u(Fe,"class","section"),u(l,"class","page-container")},m(P,K){$l(t,P,K),se(P,n,K),se(P,l,K),a(l,r),a(r,s),a(s,o),a(s,g),a(s,i),a(i,E),a(s,v),a(s,A),a(s,b),a(s,C),a(C,z),a(C,c),a(C,_),a(C,I),a(C,T),a(C,D),a(C,S),a(C,H),a(C,w),a(C,Z),a(C,R),a(C,W),a(C,Q),a(C,O),a(C,le),a(C,Me),a(C,ne),a(C,ie),a(C,te),a(C,_t),a(C,ye),a(C,m),a(C,U),a(r,Ge),a(r,ce),ee&&ee.m(ce,null),a(l,Ct),a(l,Y),a(Y,J),a(Y,wt),a(Y,_e),a(_e,ue),a(ue,xe),a(xe,jt),a(xe,nt),a(nt,kt),a(xe,Ut),a(ue,Yt),a(ue,Ce),a(Ce,qt),a(Ce,Wt),a(Ce,Zt),a(Ce,lt),a(lt,Lt),a(ue,Gt),a(ue,Ie),e[20](Ie),a(_e,Xt),a(_e,fe),a(fe,Xe),a(Xe,Kt),a(Xe,Qt),a(fe,Jt),a(fe,Ke),a(fe,$t),a(fe,Ee),e[21](Ee),a(l,en),a(l,de),a(de,Qe),a(de,tn),a(de,re),a(re,Te),a(Te,nn),a(Te,at),a(at,Mt),a(Te,ln),a(re,an),a(re,he),a(he,sn),a(he,rn),a(he,on),a(he,st),a(st,xt),a(he,cn),a(re,un),a(re,fn),a(re,dn),a(re,ve),a(ve,ze),a(ze,rt),a(ze,hn),a(ze,vn),a(ve,pn),a(ve,Se),a(Se,ot),a(Se,mn),a(Se,it),a(it,It),a(ve,gn),a(ve,ct),a(ct,Ve),e[22](Ve),a(de,yn),a(de,pe),a(pe,ae),a(ae,Be),a(Be,bn),a(Be,_n),a(Be,Cn),a(ae,En),a(ae,wn),a(ae,An),a(ae,Ne),a(ae,Dn),a(ae,Pe),a(pe,kn),a(pe,ut),e[23](ut),a(l,Ln),a(l,Fe),a(Fe,Je),a(Fe,Mn),a(Fe,He);for(let G=0;G<$.length;G+=1)$[G]&&$[G].m(He,null);e[27](l),we=!0,xn||(tl=[Dt(c,"change",e[13]),Dt(S,"change",e[13]),Dt(W,"change",e[13]),Dt(ne,"change",e[13]),Dt(ye,"change",e[13])],xn=!0)},p(P,K){if(P[7]?ee?ee.p(P,K):(ee=xl(P),ee.c(),ee.m(ce,null)):ee&&(ee.d(1),ee=null),(!we||K[0]&64)&&We(kt,P[6]),(!we||K[0]&64)&&We(Lt,P[6]),(!we||K[0]&64)&&We(Mt,P[6]),(!we||K[0]&64)&&We(xt,P[6]),(!we||K[0]&64)&&We(It,P[6]),K[0]&88){ft=fl(Rn);let G;for(G=0;G<ft.length;G+=1){const oe=Ml(P,ft,G);$[G]?$[G].p(oe,K):($[G]=zl(oe),$[G].c(),$[G].m(He,null))}for(;G<$.length;G+=1)$[G].d(1);$.length=ft.length}},i(P){we||(ea(t.$$.fragment,P),we=!0)},o(P){ta(t.$$.fragment,P),we=!1},d(P){P&&(y(n),y(l)),na(t,P),ee&&ee.d(),e[20](null),e[21](null),e[22](null),e[23](null),Wl($,P),e[27](null),xn=!1,Zl(tl)}}}let Le=400;function tt(e){const t=e.querySelector("figure");t&&t.remove();const n=e.querySelector("svg");n&&n.remove()}function Ts(e,t,n){let l,r,s,o,p={},g={},i={},f={},E="barchart",{data:v}=t;const A=v.LAD;let k="UK",b,C,z,c,_,I,F,T,D=!1;async function S(){n(16,b=await ge(gl())),await ge(za()),n(17,C=await ge(yl([]))),z=await ge(Sa(ml.map(m=>m.id))),n(18,c=await ge(bl())),n(7,_=await ge(Va(A))),I=await ge(Ba(A)),console.log(9999,_,Hn(_,m=>m.total)),n(8,F=(Hn(_,m=>m.total)/1e3).toFixed(3)),n(9,T=(On(_,m=>m.totalPerCapita)*1e3).toFixed(3)),n(19,D=!0),La(l)}S();const H=v.LADToName;let w,V;Gl(()=>{ka(l),w=new Aa(A,"LAD",V,"val",!0),w.initMap(!1)});function Z(){{let m=Ae({height:Le/1.4,...Ue,x:{type:"band"},style:{fontSize:"18px"},marks:[$e(C,De({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),$e(_,De({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const U=me(m).selectAll("g[aria-label='bar']");me(U.nodes()[0]);const be=me(U.nodes()[1]);be.selectAll("rect").each(function(){}),be.remove()},1e3)}}function R(){r?.append(Ae({height:Le*1.4,width:811,...Ue,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Sn.range(),domain:Sn.domain()},marks:[$e(c,De({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:Ye,sort:{x:"y",reverse:!0},tip:!0})),$e(I,De({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:m=>Sn(m.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),dl({label:"Total Co-Benefit (£)",labelAnchor:"center"}),hl({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),vl([0],{stroke:"#333",strokeWidth:.75})]}))}function W(){Rn.forEach(m=>{let U;Ma.includes(m)?U=Ae({height:Le/2,width:500,...Ue,marginLeft:100,x:{grid:!0,label:Vn(m),tickFormat:ce=>Math.floor(ce)},style:{fontSize:"18px"},color:{legend:!0},marks:[$e(b,kl(De({y:"count"},{x:m,dx:20,fill:Ye}))),$e(_,kl(De({y:"count"},{x:m})))]}):U=Ae({height:Le/2,...Ue,x:{label:Vn(m)},style:{fontSize:"18px"},marks:[Nn(_,El({y:"proportion"},{x:m,tip:!0,fill:Ye,stroke:Ye,fillOpacity:.2,strokeWidth:3})),Nn(b,El({y:"proportion"},{x:m,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),g[m]?.append(void 0),p[m]?.append(U),console.log(9988888,_);let Ge=Ae({height:Le/2,...Ue,x:{label:Vn(m)},style:{fontSize:"18px"},color:{range:["#e6e6e6",Ye]},marks:[hs(Da(b,3e4),{x:m,y:"total",fill:"density",thresholds:10}),Pa(_,{x:m,y:"total",fill:"black",r:2}),dl({label:"Datazone Co-Benefit (£)"}),hl({anchor:"bottom"})]});i[m]&&n(4,i[m].innerHTML="",i),i[m]?.append(Ge)})}function Q(){for(let m of xa){let U=Ae({height:Le,width:410,...Ue,marginRight:0,marginLeft:100,marks:[_l(z,pl({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Ia/2,fill:Ye,tip:!0})),_l(I,pl({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});f[m]?.append(U)}}function O(){let m=_.flatMap(Y=>Bn.map(J=>({time:J,value:Y[J],scenario:Y.scenario,zone:"local"}))),U=b.flatMap(Y=>Bn.map(J=>({time:J,value:Y[J],scenario:Y.scenario,zone:"UK"}))),be=m.concat(U),Ge=Ae({height:Le,width:800,...Ue,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£",grid:!0},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[Ye,Ul],legend:!1},marks:[$e(be,De({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),wa({anchor:"bottom",tickFormat:Y=>Y.replace(/^Y/,"").replace("_","-"),label:"Years"})]});s?.append(Ge),me(s).select("g[aria-label='bar']").selectAll("g").each(function(Y,J){const Et=me(this).selectAll("rect").nodes()[0],wt=me(Et).attr("transform")||"";me(Et).attr("transform",`${wt} translate(-20, 0)`),me(this).selectAll("rect").nodes()[0].getAttribute("height"),me(this).selectAll("rect").nodes()[1].getAttribute("height"),me(this).selectAll("rect")}),Ae({height:Le,width:800,...Ue,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[us(be,De({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let ce=I.flatMap(Y=>Bn.map(J=>({time:J,value:Y[J],cobenefit:Y.co_benefit_type}))),Ct=Ae({height:Le*3,width:2500,marginRight:0,marginTop:40,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"30px"},y:{tickFormat:".2f",label:"£",ticks:10},x:{label:"Years",tickFormat:Y=>Y.replace(/^Y/,"").split("_")[1]},color:{legend:!1,range:Ta,domain:ml.map(Y=>Y.id)},marks:[Nn(ce,De({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"]})),vl([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});o?.append(Ct)}async function X(m){n(6,k=m.currentTarget.value),n(18,c=await ge(bl("total",k))),n(17,C=await ge(yl([],k))),n(16,b=await ge(gl(k)))}function le(m){je[m?"unshift":"push"](()=>{r=m,n(0,r)})}function Me(m){je[m?"unshift":"push"](()=>{V=m,n(10,V)})}function ne(m){je[m?"unshift":"push"](()=>{s=m,n(1,s)})}function ie(m){je[m?"unshift":"push"](()=>{o=m,n(2,o)})}function te(m,U){je[m?"unshift":"push"](()=>{p[U]=m,n(3,p)})}function Ze(m,U){je[m?"unshift":"push"](()=>{p[U]=m,n(3,p)})}function _t(m,U){je[m?"unshift":"push"](()=>{i[U]=m,n(4,i)})}function ye(m){je[m?"unshift":"push"](()=>{l=m,n(5,l)})}return e.$$set=m=>{"data"in m&&n(14,v=m.data)},e.$$.update=()=>{e.$$.dirty[0]&1015815&&(r&&tt(r),s&&tt(s),o&&tt(o),D&&c&&C&&b&&(Z(),R(),O())),e.$$.dirty[0]&524312&&(Object.values(p).forEach(m=>{m&&tt(m)}),Object.values(g).forEach(m=>{m&&tt(m)}),Object.values(i).forEach(m=>{m&&tt(m)}),D&&W()),e.$$.dirty[0]&524288&&(Object.values(f).forEach(m=>{m&&tt(m)}),D&&Q())},[r,s,o,p,i,l,k,_,F,T,V,A,H,X,v,E,b,C,c,D,le,Me,ne,ie,te,Ze,_t,ye]}class Us extends Xl{constructor(t){super(),Kl(this,t,Ts,Is,ql,{data:14},null,[-1,-1])}}export{Us as component};
