import{S as ft,i as ut,s as ht,d as A,v as K,o as Q,p as X,w as tt,b as x,y as et,h as $,A as lt,k as q,B as _t,n as rt,x as D,e as v,z as N,j as g,C as it,c as f,f as T,a as ct,g as M,t as S}from"../chunks/vqp9XDtz.js";import{N as dt,e as R}from"../chunks/81iL96uD.js";import"../chunks/IHki7fMi.js";import{b as w}from"../chunks/5PUMWepz.js";import{g as pt,c as mt}from"../chunks/1cJRTIz9.js";import"../chunks/C4dxaJ6L.js";import{F as vt}from"../chunks/CE76q_-h.js";import{c as z}from"../chunks/XhNTmijJ.js";function at(u,t,l){const a=u.slice();return a[10]=t[l],a}function nt(u,t,l){const a=u.slice();return a[13]=t[l],a}function gt(u){let t,l,a="Browse by nation",o,n,c="Click on a nation for a detailed report.",L,s,e=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=England" target="_blank">England</a>`,r,i,b=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=NI" target="_blank">Northern Ireland</a>`,_,C,E=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=Scotland" target="_blank">Scotland</a>`,B,d,y=`<a class="sef-link svelte-16qau9g" href="${w}/nation?nation=Wales" target="_blank">Wales</a>`,W,V,j,O,F,H,U="Browse by local authority",G,I,Y="Open the tabs and then click on a local authority for a detailed report.",Z,P=R(u[2]),k=[];for(let m=0;m<P.length;m+=1)k[m]=ot(at(u,P,m));return{c(){t=g("main"),l=g("h1"),l.textContent=a,o=q(),n=g("p"),n.textContent=c,L=q(),s=g("div"),s.innerHTML=e,r=q(),i=g("div"),i.innerHTML=b,_=q(),C=g("div"),C.innerHTML=E,B=q(),d=g("div"),d.innerHTML=y,W=q(),V=g("br"),j=q(),O=g("br"),F=q(),H=g("h1"),H.textContent=U,G=q(),I=g("p"),I.textContent=Y,Z=q();for(let m=0;m<k.length;m+=1)k[m].c();this.h()},l(m){t=v(m,"MAIN",{class:!0});var h=T(t);l=v(h,"H1",{"data-svelte-h":!0}),N(l)!=="svelte-9p8fnq"&&(l.textContent=a),o=$(h),n=v(h,"P",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-1lqwkbx"&&(n.textContent=c),L=$(h),s=v(h,"DIV",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-9t3y58"&&(s.innerHTML=e),r=$(h),i=v(h,"DIV",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-1birb2o"&&(i.innerHTML=b),_=$(h),C=v(h,"DIV",{class:!0,"data-svelte-h":!0}),N(C)!=="svelte-5o99nm"&&(C.innerHTML=E),B=$(h),d=v(h,"DIV",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-3snel8"&&(d.innerHTML=y),W=$(h),V=v(h,"BR",{}),j=$(h),O=v(h,"BR",{}),F=$(h),H=v(h,"H1",{"data-svelte-h":!0}),N(H)!=="svelte-1bh1rjd"&&(H.textContent=U),G=$(h),I=v(h,"P",{class:!0,"data-svelte-h":!0}),N(I)!=="svelte-1ildy7h"&&(I.textContent=Y),Z=$(h);for(let p=0;p<k.length;p+=1)k[p].l(h);h.forEach(A),this.h()},h(){D(n,"class","svelte-16qau9g"),D(s,"class","sef-link-wrapper svelte-16qau9g"),D(i,"class","sef-link-wrapper svelte-16qau9g"),D(C,"class","sef-link-wrapper svelte-16qau9g"),D(d,"class","sef-link-wrapper svelte-16qau9g"),D(I,"class","svelte-16qau9g"),D(t,"class","svelte-16qau9g")},m(m,h){x(m,t,h),f(t,l),f(t,o),f(t,n),f(t,L),f(t,s),f(t,r),f(t,i),f(t,_),f(t,C),f(t,B),f(t,d),f(t,W),f(t,V),f(t,j),f(t,O),f(t,F),f(t,H),f(t,G),f(t,I),f(t,Z);for(let p=0;p<k.length;p+=1)k[p]&&k[p].m(t,null)},p(m,h){if(h&6){P=R(m[2]);let p;for(p=0;p<P.length;p+=1){const J=at(m,P,p);k[p]?k[p].p(J,h):(k[p]=ot(J),k[p].c(),k[p].m(t,null))}for(;p<k.length;p+=1)k[p].d(1);k.length=P.length}},d(m){m&&A(t),it(k,m)}}}function bt(u){let t,l="Loading local authoritiesâ€¦";return{c(){t=g("p"),t.textContent=l,this.h()},l(a){t=v(a,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-12l6vp8"&&(t.textContent=l),this.h()},h(){D(t,"class","svelte-16qau9g")},m(a,o){x(a,t,o)},p:rt,d(a){a&&A(t)}}}function kt(u){let t,l=u[10]+"",a,o,n=u[1][u[10]].length+"",c,L;return{c(){t=g("p"),a=S(l),o=S(" ("),c=S(n),L=S(")"),this.h()},l(s){t=v(s,"P",{class:!0});var e=T(t);a=M(e,l),o=M(e," ("),c=M(e,n),L=M(e,")"),e.forEach(A),this.h()},h(){D(t,"class","svelte-16qau9g")},m(s,e){x(s,t,e),f(t,a),f(t,o),f(t,c),f(t,L)},p(s,e){e&2&&n!==(n=s[1][s[10]].length+"")&&ct(c,n)},d(s){s&&A(t)}}}function Lt(u){let t,l=u[10]+"",a,o;return{c(){t=g("p"),a=S(l),o=S(" (317)"),this.h()},l(n){t=v(n,"P",{class:!0});var c=T(t);a=M(c,l),o=M(c," (317)"),c.forEach(A),this.h()},h(){D(t,"class","svelte-16qau9g")},m(n,c){x(n,t,c),f(t,a),f(t,o)},p:rt,d(n){n&&A(t)}}}function st(u){let t,l=u[13].name+"",a,o;return{c(){t=g("a"),a=S(l),this.h()},l(n){t=v(n,"A",{class:!0,href:!0});var c=T(t);a=M(c,l),c.forEach(A),this.h()},h(){D(t,"class","lad-link svelte-16qau9g"),D(t,"href",o=w+"/location?location="+u[13].code)},m(n,c){x(n,t,c),f(t,a)},p(n,c){c&2&&l!==(l=n[13].name+"")&&ct(a,l),c&2&&o!==(o=w+"/location?location="+n[13].code)&&D(t,"href",o)},d(n){n&&A(t)}}}function ot(u){let t,l,a,o,n;function c(i,b){return i[10]=="England"?Lt:kt}let s=c(u)(u),e=R(u[1][u[10]]),r=[];for(let i=0;i<e.length;i+=1)r[i]=st(nt(u,e,i));return{c(){t=g("details"),l=g("summary"),s.c(),a=q(),o=g("div");for(let i=0;i<r.length;i+=1)r[i].c();n=q(),this.h()},l(i){t=v(i,"DETAILS",{class:!0});var b=T(t);l=v(b,"SUMMARY",{class:!0});var _=T(l);s.l(_),_.forEach(A),a=$(b),o=v(b,"DIV",{class:!0});var C=T(o);for(let E=0;E<r.length;E+=1)r[E].l(C);C.forEach(A),n=$(b),b.forEach(A),this.h()},h(){D(l,"class","svelte-16qau9g"),D(o,"class","lad-grid svelte-16qau9g"),D(t,"class","svelte-16qau9g")},m(i,b){x(i,t,b),f(t,l),s.m(l,null),f(t,a),f(t,o);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(o,null);f(t,n)},p(i,b){if(s.p(i,b),b&6){e=R(i[1][i[10]]);let _;for(_=0;_<e.length;_+=1){const C=nt(i,e,_);r[_]?r[_].p(C,b):(r[_]=st(C),r[_].c(),r[_].m(o,null))}for(;_<r.length;_+=1)r[_].d(1);r.length=e.length}},d(i){i&&A(t),s.d(),it(r,i)}}}function Dt(u){let t,l,a,o,n;t=new dt({});function c(e,r){return e[0].length===0?bt:gt}let L=c(u),s=L(u);return o=new vt({}),{c(){lt(t.$$.fragment),l=q(),s.c(),a=q(),lt(o.$$.fragment)},l(e){et(t.$$.fragment,e),l=$(e),s.l(e),a=$(e),et(o.$$.fragment,e)},m(e,r){tt(t,e,r),x(e,l,r),s.m(e,r),x(e,a,r),tt(o,e,r),n=!0},p(e,[r]){L===(L=c(e))&&s?s.p(e,r):(s.d(1),s=L(e),s&&(s.c(),s.m(a.parentNode,a)))},i(e){n||(X(t.$$.fragment,e),X(o.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),Q(o.$$.fragment,e),n=!1},d(e){e&&(A(l),A(a)),K(t,e),s.d(e),K(o,e)}}}function Ct(u,t,l){const a=`${w}/LAD/Eng_Wales_LSOA_LADs.csv`,o=`${w}/LAD/NI_DZ_LAD.csv`,n=`${w}/LAD/Scotland_DZ_LA.csv`;let c={},L={},s=[],e={},r=["England","Northern Ireland","Scotland","Wales"];const i={NI:"Northern Ireland",England:"England",Wales:"Wales",Scotland:"Scotland"};async function b(){const _=await z(a);for(let d of _)c[d.LAD22CD]=d.LAD22NM;const C=await z(o);for(let d of C)c[d.LGD2014_code]=d.LGD2014_name;const E=await z(n);for(let d of E)c[d.LA_Code]=d.LA_Name;const B=await pt(mt());for(let d of B){const y=i[d.Nation]||d.Nation;L[d.LAD]=y}l(0,s=Object.entries(c).map(([d,y])=>({code:d,name:y,nation:L[d]}))),l(1,e={});for(let d of r)l(1,e[d]=s.filter(y=>y.nation===d).sort((y,W)=>y.name.localeCompare(W.name)),e)}return _t(async()=>{await b()}),[s,e,r]}class It extends ft{constructor(t){super(),ut(this,t,Ct,Dt,ht,{})}}export{It as component};
