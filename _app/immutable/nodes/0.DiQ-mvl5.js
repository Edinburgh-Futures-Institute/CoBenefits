import{b}from"../chunks/CR7AowjA.js";import"../chunks/DRyxMU8n.js";import{j as U,f as I}from"../chunks/5WxnA5ph.js";import{k as M,g as y,l as Z,m as F}from"../chunks/7bygn2Rg.js";import{s as k,a as z,u as G,g as V,b as W}from"../chunks/lM1_q0kn.js";import{S as Y,i as q,k as H,l as J}from"../chunks/BRjj9-8i.js";var B={},j={},E=34,d=10,w=13;function P(t){return new Function("d","return {"+t.map(function(o,n){return JSON.stringify(o)+": d["+n+'] || ""'}).join(",")+"}")}function K(t,o){var n=P(t);return function(e,a){return o(n(e),a,t)}}function O(t){var o=Object.create(null),n=[];return t.forEach(function(e){for(var a in e)a in o||n.push(o[a]=a)}),n}function c(t,o){var n=t+"",e=n.length;return e<o?new Array(o-e+1).join(0)+n:n}function Q(t){return t<0?"-"+c(-t,6):t>9999?"+"+c(t,6):c(t,4)}function X(t){var o=t.getUTCHours(),n=t.getUTCMinutes(),e=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Q(t.getUTCFullYear())+"-"+c(t.getUTCMonth()+1,2)+"-"+c(t.getUTCDate(),2)+(a?"T"+c(o,2)+":"+c(n,2)+":"+c(e,2)+"."+c(a,3)+"Z":e?"T"+c(o,2)+":"+c(n,2)+":"+c(e,2)+"Z":n||o?"T"+c(o,2)+":"+c(n,2)+"Z":"")}function x(t){var o=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function e(r,s){var p,f,u=a(r,function(g,m){if(p)return p(g,m-1);f=g,p=s?K(g,s):P(g)});return u.columns=f||[],u}function a(r,s){var p=[],f=r.length,u=0,g=0,m,T=f<=0,A=!1;r.charCodeAt(f-1)===d&&--f,r.charCodeAt(f-1)===w&&--f;function $(){if(T)return j;if(A)return A=!1,B;var v,C=u,h;if(r.charCodeAt(C)===E){for(;u++<f&&r.charCodeAt(u)!==E||r.charCodeAt(++u)===E;);return(v=u)>=f?T=!0:(h=r.charCodeAt(u++))===d?A=!0:h===w&&(A=!0,r.charCodeAt(u)===d&&++u),r.slice(C+1,v-1).replace(/""/g,'"')}for(;u<f;){if((h=r.charCodeAt(v=u++))===d)A=!0;else if(h===w)A=!0,r.charCodeAt(u)===d&&++u;else if(h!==n)continue;return r.slice(C,v)}return T=!0,r.slice(C,f)}for(;(m=$())!==j;){for(var L=[];m!==B&&m!==j;)L.push(m),m=$();s&&(L=s(L,g++))==null||p.push(L)}return p}function l(r,s){return r.map(function(p){return s.map(function(f){return D(p[f])}).join(t)})}function i(r,s){return s==null&&(s=O(r)),[s.map(D).join(t)].concat(l(r,s)).join(`
`)}function _(r,s){return s==null&&(s=O(r)),l(r,s).join(`
`)}function R(r){return r.map(N).join(`
`)}function N(r){return r.map(D).join(t)}function D(r){return r==null?"":r instanceof Date?X(r):o.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}return{parse:e,parseRows:a,format:i,formatBody:_,formatRows:R,formatRow:N,formatValue:D}}var tt=x(","),nt=tt.parse;function et(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function rt(t,o){return fetch(t,o).then(et)}function ot(t){return function(o,n,e){return arguments.length===2&&typeof n=="function"&&(e=n,n=void 0),rt(o,n).then(function(a){return t(a,e)})}}var S=ot(nt);const at="maps/Lower_layer_Super_Output_Areas_2021_EW_BGC_V3_-6823567593069184824.json",st=`${b}/LAD/Eng_Wales_LSOA_LADs.csv`,ut=`${b}/LAD/NI_DZ_LAD.csv`,it=`${b}/LAD/Scotland_DZ_LA.csv`;async function ft(){await M();const t=await U(at,i=>i),o=I(t,t.objects["Lower_layer_Super_Output_Areas_2021_EW_BGC_V3_-6823567593069184824"]);let n={};await S(st).then(i=>{for(let _ of i)n[_.LAD22CD]=_.LAD22NM}),await S(ut).then(i=>{for(let _ of i)n[_.LGD2014_code]=_.LGD2014_name}),await S(it).then(i=>{for(let _ of i)n[_.LA_Code]=_.LA_Name});let e=await y(Z());console.log("aggregationPerBenefit",e);const l=(await y(F(10))).map(i=>({LAD:i.LAD,name:n[i.LAD]||i.LAD,total:i.total_value}));return console.log("end root"),{datazones:o,LADToName:n,aggregationPerBenefit:e,topLADsData:l}}const ct=!1,lt=!0,Lt=Object.freeze(Object.defineProperty({__proto__:null,load:ft,prerender:lt,ssr:ct},Symbol.toStringTag,{value:"Module"}));function _t(t){let o;const n=t[1].default,e=z(n,t,t[0],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,l){e&&e.m(a,l),o=!0},p(a,[l]){e&&e.p&&(!o||l&1)&&G(e,n,a,a[0],o?W(n,a[0],l,null):V(a[0]),null)},i(a){o||(J(e,a),o=!0)},o(a){H(e,a),o=!1},d(a){e&&e.d(a)}}}function pt(t,o,n){let{$$slots:e={},$$scope:a}=o;return t.$$set=l=>{"$$scope"in l&&n(0,a=l.$$scope)},[a,e]}class vt extends Y{constructor(o){super(),q(this,o,pt,_t,k,{})}}export{vt as component,Lt as universal};
