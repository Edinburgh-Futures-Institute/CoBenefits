import{s as Fe,d as _,x as ke,y as ue,i as te,b as a,z as W,p as t,g as A,c as o,e as I,q as w,j as T,h as i,v as Me,A as fe,w as De,n as Ve,f as xe,t as Be,B as Ie,C as Ue}from"../chunks/ChnDNINx.js";import{S as Pe,i as Oe,d as we,t as He,a as Ge,m as je,c as Re,b as qe}from"../chunks/BjCzwqlE.js";import{N as ze,e as de}from"../chunks/CkMR_6aY.js";import{i as Ke,o as Ye}from"../chunks/F40_IDQw.js";import"../chunks/s0pE0-UL.js";import{M as Je}from"../chunks/C0JCpU9K.js";import{g as re,d as Ee,e as ye,f as Ze,h as Qe,i as We}from"../chunks/B1kqBJgY.js";import{C as ve,a as Xe,S as Ce,g as Ne,b as be,c as $e,d as et}from"../chunks/DdMhpqo6.js";function Le(u,e,l){const n=u.slice();return n[32]=e[l],n}function Se(u,e,l){const n=u.slice();return n[29]=e[l],n}function tt(u){let e,l,n="Social Economic Factor",h,C,L=de(Ce),r=[];for(let f=0;f<L.length;f+=1)r[f]=Ae(Le(u,L,f));return{c(){e=i("div"),l=i("h2"),l.textContent=n,h=T(),C=i("div");for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){e=o(f,"DIV",{class:!0});var c=I(e);l=o(c,"H2",{"data-svelte-h":!0}),w(l)!=="svelte-1ld89ev"&&(l.textContent=n),h=A(c),C=o(c,"DIV",{id:!0,class:!0});var s=I(C);for(let v=0;v<r.length;v+=1)r[v].l(s);s.forEach(_),c.forEach(_),this.h()},h(){t(C,"id","time"),t(C,"class","svelte-1fc578l"),t(e,"class","tabcontent svelte-1fc578l")},m(f,c){te(f,e,c),a(e,l),a(e,h),a(e,C);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(C,null)},p(f,c){if(c[0]&514){L=de(Ce);let s;for(s=0;s<L.length;s+=1){const v=Le(f,L,s);r[s]?r[s].p(v,c):(r[s]=Ae(v),r[s].c(),r[s].m(C,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=L.length}},d(f){f&&_(e),De(r,f)}}}function lt(u){let e,l,n,h="Co-Benefits",C,L,r,f,c="Time",s,v,k,D,M,E="Total",S,g,F,R,P="2025-2029",q,N,Y,J,H="2030-2034",ae,Z,x,U,d="2035-2039",b,O,z,G,se="2040-2044",ee,le,X,K,oe="2045-2049",ie,ce,Q=de(ve.concat({id:"total",label:"Total"})),m=[];for(let p=0;p<Q.length;p+=1)m[p]=Te(Se(u,Q,p));return{c(){e=i("div"),l=i("div"),n=i("h2"),n.textContent=h,C=T();for(let p=0;p<m.length;p+=1)m[p].c();L=T(),r=i("div"),f=i("h2"),f.textContent=c,s=T(),v=i("div"),k=i("label"),D=i("input"),M=i("span"),M.textContent=E,S=T(),g=i("label"),F=i("input"),R=i("span"),R.textContent=P,q=T(),N=i("label"),Y=i("input"),J=i("span"),J.textContent=H,ae=T(),Z=i("label"),x=i("input"),U=i("span"),U.textContent=d,b=T(),O=i("label"),z=i("input"),G=i("span"),G.textContent=se,ee=T(),le=i("label"),X=i("input"),K=i("span"),K.textContent=oe,this.h()},l(p){e=o(p,"DIV",{class:!0});var B=I(e);l=o(B,"DIV",{class:!0});var y=I(l);n=o(y,"H2",{"data-svelte-h":!0}),w(n)!=="svelte-uglilz"&&(n.textContent=h),C=A(y);for(let ge=0;ge<m.length;ge+=1)m[ge].l(y);y.forEach(_),L=A(B),r=o(B,"DIV",{class:!0});var j=I(r);f=o(j,"H2",{"data-svelte-h":!0}),w(f)!=="svelte-hletp"&&(f.textContent=c),s=A(j),v=o(j,"DIV",{id:!0,class:!0});var V=I(v);k=o(V,"LABEL",{class:!0});var ne=I(k);D=o(ne,"INPUT",{type:!0,name:!0,class:!0}),M=o(ne,"SPAN",{class:!0,"data-svelte-h":!0}),w(M)!=="svelte-2fqrek"&&(M.textContent=E),ne.forEach(_),S=A(V),g=o(V,"LABEL",{class:!0});var $=I(g);F=o($,"INPUT",{type:!0,name:!0,class:!0}),R=o($,"SPAN",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-177152l"&&(R.textContent=P),$.forEach(_),q=A(V),N=o(V,"LABEL",{class:!0});var pe=I(N);Y=o(pe,"INPUT",{type:!0,name:!0,class:!0}),J=o(pe,"SPAN",{class:!0,"data-svelte-h":!0}),w(J)!=="svelte-sne3j9"&&(J.textContent=H),pe.forEach(_),ae=A(V),Z=o(V,"LABEL",{class:!0});var he=I(Z);x=o(he,"INPUT",{type:!0,name:!0,class:!0}),U=o(he,"SPAN",{class:!0,"data-svelte-h":!0}),w(U)!=="svelte-13ifhof"&&(U.textContent=d),he.forEach(_),b=A(V),O=o(V,"LABEL",{class:!0});var me=I(O);z=o(me,"INPUT",{type:!0,name:!0,class:!0}),G=o(me,"SPAN",{class:!0,"data-svelte-h":!0}),w(G)!=="svelte-1pug1mv"&&(G.textContent=se),me.forEach(_),ee=A(V),le=o(V,"LABEL",{class:!0});var _e=I(le);X=o(_e,"INPUT",{type:!0,name:!0,class:!0}),K=o(_e,"SPAN",{class:!0,"data-svelte-h":!0}),w(K)!=="svelte-3f05xd"&&(K.textContent=oe),_e.forEach(_),V.forEach(_),j.forEach(_),B.forEach(_),this.h()},h(){t(l,"class","component"),t(D,"type","radio"),t(D,"name","toggle"),D.value="total",D.checked=!0,t(D,"class","svelte-1fc578l"),t(M,"class","svelte-1fc578l"),t(k,"class","time-radio svelte-1fc578l"),t(F,"type","radio"),t(F,"name","toggle"),F.value="Y2025_2029",t(F,"class","svelte-1fc578l"),t(R,"class","svelte-1fc578l"),t(g,"class","time-radio svelte-1fc578l"),t(Y,"type","radio"),t(Y,"name","toggle"),Y.value="Y2030_2034",t(Y,"class","svelte-1fc578l"),t(J,"class","svelte-1fc578l"),t(N,"class","time-radio svelte-1fc578l"),t(x,"type","radio"),t(x,"name","toggle"),x.value="Y2035_2039",t(x,"class","svelte-1fc578l"),t(U,"class","svelte-1fc578l"),t(Z,"class","time-radio svelte-1fc578l"),t(z,"type","radio"),t(z,"name","toggle"),z.value="Y2040_2044",t(z,"class","svelte-1fc578l"),t(G,"class","svelte-1fc578l"),t(O,"class","time-radio svelte-1fc578l"),t(X,"type","radio"),t(X,"name","toggle"),X.value="Y2045_2049",t(X,"class","svelte-1fc578l"),t(K,"class","svelte-1fc578l"),t(le,"class","time-radio svelte-1fc578l"),t(v,"id","time"),t(v,"class","svelte-1fc578l"),t(r,"class","component"),t(e,"class","tabcontent svelte-1fc578l")},m(p,B){te(p,e,B),a(e,l),a(l,n),a(l,C);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(l,null);a(e,L),a(e,r),a(r,f),a(r,s),a(r,v),a(v,k),a(k,D),a(k,M),a(v,S),a(v,g),a(g,F),a(g,R),a(v,q),a(v,N),a(N,Y),a(N,J),a(v,ae),a(v,Z),a(Z,x),a(Z,U),a(v,b),a(v,O),a(O,z),a(O,G),a(v,ee),a(v,le),a(le,X),a(le,K),ie||(ce=[W(D,"change",u[7]),W(F,"change",u[7]),W(Y,"change",u[7]),W(x,"change",u[7]),W(z,"change",u[7]),W(X,"change",u[7])],ie=!0)},p(p,B){if(B[0]&64){Q=de(ve.concat({id:"total",label:"Total"}));let y;for(y=0;y<Q.length;y+=1){const j=Se(p,Q,y);m[y]?m[y].p(j,B):(m[y]=Te(j),m[y].c(),m[y].m(l,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=Q.length}},d(p){p&&_(e),De(m,p),ie=!1,ke(ce)}}}function Ae(u){let e,l,n,h,C=u[32].label+"",L,r,f,c;return{c(){e=i("input"),n=T(),h=i("label"),L=Be(C),r=i("br"),this.h()},l(s){e=o(s,"INPUT",{type:!0,id:!0,name:!0,class:!0}),n=A(s),h=o(s,"LABEL",{for:!0});var v=I(h);L=xe(v,C),v.forEach(_),r=o(s,"BR",{}),this.h()},h(){t(e,"type","radio"),t(e,"id","html"),t(e,"name","fav_language"),e.value=u[32].id,e.checked=l=u[32].id==u[1],t(e,"class","svelte-1fc578l"),t(h,"for","html")},m(s,v){te(s,e,v),te(s,n,v),te(s,h,v),a(h,L),te(s,r,v),f||(c=W(e,"change",u[9]),f=!0)},p(s,v){v[0]&2&&l!==(l=s[32].id==s[1])&&(e.checked=l)},d(s){s&&(_(e),_(n),_(h),_(r)),f=!1,c()}}}function at(u){let e,l;return{c(){e=i("img"),this.h()},l(n){e=o(n,"IMG",{style:!0,class:!0,src:!0}),this.h()},h(){Ue(e,"opacity","0"),t(e,"class","icon svelte-1fc578l"),Ie(e.src,l=Ne("Air quality"))||t(e,"src",l)},m(n,h){te(n,e,h)},d(n){n&&_(e)}}}function st(u){let e,l;return{c(){e=i("img"),this.h()},l(n){e=o(n,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){t(e,"alt","cobenefit icon"),t(e,"class","icon svelte-1fc578l"),Ie(e.src,l=Ne(u[29].id))||t(e,"src",l)},m(n,h){te(n,e,h)},d(n){n&&_(e)}}}function Te(u){let e,l,n,h,C,L=u[29].label+"",r,f,c,s,v,k;function D(S,g){return S[29].id!="total"?st:at}let E=D(u)(u);return{c(){e=i("div"),E.c(),l=T(),n=i("input"),h=T(),C=i("label"),r=Be(L),f=T(),c=i("br"),s=T(),this.h()},l(S){e=o(S,"DIV",{class:!0});var g=I(e);E.l(g),l=A(g),n=o(g,"INPUT",{type:!0,name:!0}),h=A(g),C=o(g,"LABEL",{for:!0});var F=I(C);r=xe(F,L),F.forEach(_),f=A(g),c=o(g,"BR",{}),s=A(g),g.forEach(_),this.h()},h(){t(n,"type","radio"),t(n,"name","cobenef"),n.value=u[29].id,n.checked=!0,t(C,"for","css"),t(e,"class","checkbox-div svelte-1fc578l")},m(S,g){te(S,e,g),E.m(e,null),a(e,l),a(e,n),a(e,h),a(e,C),a(C,r),a(e,f),a(e,c),a(e,s),v||(k=W(n,"change",u[6]),v=!0)},p:Ve,d(S){S&&_(e),E.d(),v=!1,k()}}}function nt(u){let e,l,n,h,C=`<h2>MapUK</h2> <p>This interactive map allows to explore both the co-benefit values and the socio-economic factors at the local
            authorities and datazones levels.</p>`,L,r,f,c,s="",v,k,D="",M,E,S="Export",g,F,R,P,q,N,Y="CoBenefits",J,H,ae=`Socio-Economic
                    Factors`,Z,x,U,d,b,O="Local Authorities",z,G,se,ee,le="Data Zones",X,K,oe,ie;e=new ze({});function ce(p,B){if(p[0]=="Cobenefit")return lt;if(p[0]=="SEF")return tt}let Q=ce(u),m=Q&&Q(u);return{c(){qe(e.$$.fragment),l=T(),n=i("div"),h=i("div"),h.innerHTML=C,L=T(),r=i("div"),f=i("div"),c=i("div"),c.innerHTML=s,v=T(),k=i("div"),k.innerHTML=D,M=T(),E=i("button"),E.textContent=S,g=T(),F=i("div"),R=T(),P=i("div"),q=i("div"),N=i("button"),N.textContent=Y,J=T(),H=i("button"),H.textContent=ae,Z=T(),x=i("div"),U=i("input"),d=T(),b=i("label"),b.textContent=O,z=T(),G=i("input"),se=T(),ee=i("label"),ee.textContent=le,X=T(),m&&m.c(),this.h()},l(p){Re(e.$$.fragment,p),l=A(p),n=o(p,"DIV",{class:!0});var B=I(n);h=o(B,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),w(h)!=="svelte-1bpnvd7"&&(h.innerHTML=C),L=A(B),r=o(B,"DIV",{id:!0,class:!0});var y=I(r);f=o(y,"DIV",{class:!0,id:!0});var j=I(f);c=o(j,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),w(c)!=="svelte-1ej9vmv"&&(c.innerHTML=s),v=A(j),k=o(j,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),w(k)!=="svelte-1j653gg"&&(k.innerHTML=D),M=A(j),E=o(j,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),w(E)!=="svelte-zgluur"&&(E.textContent=S),g=A(j),F=o(j,"DIV",{id:!0,class:!0}),I(F).forEach(_),j.forEach(_),R=A(y),P=o(y,"DIV",{class:!0,id:!0});var V=I(P);q=o(V,"DIV",{class:!0});var ne=I(q);N=o(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),w(N)!=="svelte-14nmzoo"&&(N.textContent=Y),J=A(ne),H=o(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),w(H)!=="svelte-xxvynj"&&(H.textContent=ae),ne.forEach(_),Z=A(V),x=o(V,"DIV",{class:!0});var $=I(x);U=o($,"INPUT",{type:!0,name:!0}),d=A($),b=o($,"LABEL",{for:!0,"data-svelte-h":!0}),w(b)!=="svelte-p8irzv"&&(b.textContent=O),z=A($),G=o($,"INPUT",{type:!0,name:!0}),se=A($),ee=o($,"LABEL",{for:!0,"data-svelte-h":!0}),w(ee)!=="svelte-1ytveqc"&&(ee.textContent=le),$.forEach(_),X=A(V),m&&m.l(V),V.forEach(_),y.forEach(_),B.forEach(_),this.h()},h(){t(h,"class","component"),t(h,"id","heaser"),t(c,"id","map"),t(c,"class","svelte-1fc578l"),t(k,"id","map-legend"),t(k,"class","svelte-1fc578l"),t(E,"id","export-button"),t(E,"class","svelte-1fc578l"),t(F,"id","tooltip"),t(F,"class","tooltip svelte-1fc578l"),t(f,"class","component column svelte-1fc578l"),t(f,"id","mapComp"),t(N,"class","tablinks svelte-1fc578l"),N.value="Cobenefit",ue(N,"active",u[0]=="Cobenefit"),t(H,"class","tablinks svelte-1fc578l"),H.value="SEF",ue(H,"active",u[0]=="SEF"),t(q,"class","tab svelte-1fc578l"),t(U,"type","radio"),t(U,"name","granularity"),U.value="LAD",U.checked=!0,t(b,"for","LAD"),t(G,"type","radio"),t(G,"name","granularity"),G.value="LSOA",t(ee,"for","LSOA"),t(x,"class","component"),t(P,"class","component column svelte-1fc578l"),t(P,"id","control-panel"),t(r,"id","map-row"),t(r,"class","row svelte-1fc578l"),t(n,"class","page-container svelte-1fc578l")},m(p,B){je(e,p,B),te(p,l,B),te(p,n,B),a(n,h),a(n,L),a(n,r),a(r,f),a(f,c),u[19](c),a(f,v),a(f,k),u[20](k),a(f,M),a(f,E),u[21](E),a(f,g),a(f,F),a(r,R),a(r,P),a(P,q),a(q,N),a(q,J),a(q,H),a(P,Z),a(P,x),a(x,U),a(x,d),a(x,b),a(x,z),a(x,G),a(x,se),a(x,ee),a(P,X),m&&m.m(P,null),u[22](n),K=!0,oe||(ie=[W(E,"click",rt),W(N,"click",u[8]),W(H,"click",u[8]),W(U,"change",u[10]),W(G,"change",u[10])],oe=!0)},p(p,B){(!K||B[0]&1)&&ue(N,"active",p[0]=="Cobenefit"),(!K||B[0]&1)&&ue(H,"active",p[0]=="SEF"),Q===(Q=ce(p))&&m?m.p(p,B):(m&&m.d(1),m=Q&&Q(p),m&&(m.c(),m.m(P,null)))},i(p){K||(Ge(e.$$.fragment,p),K=!0)},o(p){He(e.$$.fragment,p),K=!1},d(p){p&&(_(l),_(n)),we(e,p),u[19](null),u[20](null),u[21](null),m&&m.d(),u[22](null),oe=!1,ke(ie)}}}function rt(){const e=document.getElementsByClassName("maplibregl-canvas")[0].toDataURL("image/png");var l=document.createElement("a");l.download="map.png",l.href=e,l.dataset.downloadurl=["image/png",l.download,l.href].join(":"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function ot(u,e,l){let{data:n}=e,h,C,L,r,f,c,s="Cobenefit",v=!1,k="BNZ",D=ve.map(d=>d.id),M="total",E="LAD",S="EPC",g;function F(){if(c.makeColorScale(!1),s=="SEF"&&be.includes(S)){const d=Ke("white","black");let b=Object.values($e[S]);const O=b.map((G,se)=>d(se/(b.length-1)));let z=Ye().domain(b).range(O);c.setColorScale(z)}L=c.legend(R()),l(4,r.innerHTML="",r),r.append(L)}function R(){if(s=="SEF")return`${Ce.filter(d=>d.id==S)[0].label} (${et(S)})`;if(s=="Cobenefit")return"Cobenefits (£ per capita)"}Me(async()=>{let d;E=="LAD"?d=await re(Ee(Array.from(D),"UK",M)):E=="LSOA"&&(d=await re(ye(Array.from(D),k,M))),d.forEach(b=>{b.value_per_capita=b.value_per_capita*1e6}),l(12,c=new Je(d,E,C,"value_per_capita",!0,"Lookup_Value",!0)),c.initMap(),c.setTooltipCb(H),L=c.legend(R()),r.append(L)});const P=d=>{const b=d.currentTarget.value;b=="total"?l(15,D=ve.map(O=>O.id)):l(15,D=[b])},q=d=>{const b=d.currentTarget.value;l(16,M=b)};function N(d,b){l(0,s=d.currentTarget.value)}const Y=d=>{l(1,S=d.currentTarget.value)},J=d=>{c.removeLayers(),c.removeSources(),l(17,E=d.currentTarget.value),l(12,c.granularity=E,c),E=="LSOA"?l(12,c.border=!1,c):l(12,c.border=!0,c),l(13,v=!0)},H=d=>{if(s=="SEF")return be.includes(S)?`Mode value is ${d}`:`Mean value is ${d}`;if(s=="Cobenefit")return`${d}£ per capita`};function ae(d){fe[d?"unshift":"push"](()=>{C=d,l(3,C)})}function Z(d){fe[d?"unshift":"push"](()=>{r=d,l(4,r)})}function x(d){fe[d?"unshift":"push"](()=>{f=d,l(5,f)})}function U(d){fe[d?"unshift":"push"](()=>{h=d,l(2,h)})}return u.$$set=d=>{"data"in d&&l(11,n=d.data)},u.$$.update=()=>{u.$$.dirty[0]&520195&&c?.loaded&&(s=="Cobenefit"?(l(12,c.dataKey="value_per_capita",c),E=="LAD"?l(18,g=re(Ee(Array.from(D),"UK",M))):E=="LSOA"&&l(18,g=re(ye(Array.from(D),k,M)))):l(0,s="SEF")&&(l(12,c.dataKey="val",c),E=="LAD"?be.includes(S)?l(18,g=re(Ze(S))):l(18,g=re(Qe(S))):E=="LSOA"&&l(18,g=re(We(S)))),g.then(d=>{s=="Cobenefit"&&d.forEach(O=>{O.value_per_capita=O.value_per_capita*1e6});let b;s=="Cobenefit"?D.length==1?(b=JSON.parse(JSON.stringify(Xe(D[0]))),b.shift(),b=b.reverse()):b=["red","white","black"]:b=["white","black"],c.update(d,s,v,b),F(),l(13,v=!1)}))},[s,S,h,C,r,f,P,q,N,Y,J,n,c,v,k,D,M,E,g,ae,Z,x,U]}class mt extends Pe{constructor(e){super(),Oe(this,e,ot,nt,Fe,{data:11},null,[-1,-1])}}export{mt as component};
