import{s as nt,e as r,a as L,t as se,c,b as v,g as H,d as oe,f,q as u,i as Q,h as s,Z as wt,w as Se,n as qe,E as St,_ as nl,x as at,j as _e,p as ne,D as Ce,v as gt,r as Ve,H as il,C as Mt,A as sl,Q as ol,$ as Ot,a0 as rl,y as cl,z as fl,B as xe}from"../chunks/scheduler.CM2kgFFE.js";import{S as bt,i as Ct,c as $e,b as et,m as tt,t as Ee,a as He,e as Ut,d as lt,g as Rt}from"../chunks/index.BdkIKoLm.js";import{e as we,N as ul}from"../chunks/NavigationBar.BPLVs4sB.js";import{b as Ze}from"../chunks/paths.s9346q80.js";import"../chunks/entry.BxYKZL1t.js";import{G as pt,K as hl,O as Gt}from"../chunks/index.gHFfw6XA.js";import{g as Tt,a as Lt,i as dl,j as _l,r as ml,k as vl,f as gl}from"../chunks/globals.NDJAtfKZ.js";import{a as Ht}from"../chunks/bar.DO1Cp6Am.js";import{p as pl,t as bl}from"../chunks/percentage.Cu08Svdw.js";import{p as Cl}from"../chunks/per_capita.COcMrZFY.js";import{g as vt,e as yl,f as Dl,i as El,q as Vl}from"../chunks/duckdb.BisdJWvi.js";import"../chunks/transform.BNP73y-7.js";import{F as kl}from"../chunks/Footer.CuENqgo2.js";function jt(a,e,t){const l=a.slice();return l[10]=e[t],l}function qt(a){let e,t=we(a[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=zt(jt(a,t,n));return{c(){e=r("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"UL",{class:!0});var i=v(e);for(let o=0;o<l.length;o+=1)l[o].l(i);i.forEach(f),this.h()},h(){u(e,"class","suggestions svelte-1kj8esc")},m(n,i){Q(n,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,i){if(i&12){t=we(n[2]);let o;for(o=0;o<t.length;o+=1){const h=jt(n,t,o);l[o]?l[o].p(h,i):(l[o]=zt(h),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&f(e),at(l,n)}}}function zt(a){let e,t=a[10][1]+"",l,n,i;function o(){return a[7](a[10])}return{c(){e=r("li"),l=se(t),this.h()},l(h){e=c(h,"LI",{class:!0});var d=v(e);l=oe(d,t),d.forEach(f),this.h()},h(){u(e,"class","svelte-1kj8esc")},m(h,d){Q(h,e,d),s(e,l),n||(i=Se(e,"click",o),n=!0)},p(h,d){a=h,d&4&&t!==(t=a[10][1]+"")&&_e(l,t)},d(h){h&&f(e),n=!1,i()}}}function Bl(a){let e,t,l,n,i,o,h,d,C,E,m=a[2].length&&qt(a);return{c(){e=r("div"),t=r("div"),l=r("input"),n=L(),i=r("button"),o=se("See Report"),d=L(),m&&m.c(),this.h()},l(y){e=c(y,"DIV",{class:!0});var g=v(e);t=c(g,"DIV",{class:!0});var p=v(t);l=c(p,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),n=H(p),i=c(p,"BUTTON",{type:!0,class:!0});var I=v(i);o=oe(I,"See Report"),I.forEach(f),p.forEach(f),d=H(g),m&&m.l(g),g.forEach(f),this.h()},h(){u(l,"type","text"),u(l,"placeholder","Type local authority name to search..."),u(l,"autocomplete","off"),u(l,"class","svelte-1kj8esc"),u(i,"type","button"),u(i,"class","search-btn svelte-1kj8esc"),i.disabled=h=!a[1],u(t,"class","input-group svelte-1kj8esc"),u(e,"class","autocomplete svelte-1kj8esc")},m(y,g){Q(y,e,g),s(e,t),s(t,l),wt(l,a[0]),s(t,n),s(t,i),s(i,o),s(e,d),m&&m.m(e,null),C||(E=[Se(l,"input",a[6]),Se(i,"click",a[4])],C=!0)},p(y,[g]){g&1&&l.value!==y[0]&&wt(l,y[0]),g&2&&h!==(h=!y[1])&&(i.disabled=h),y[2].length?m?m.p(y,g):(m=qt(y),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:qe,o:qe,d(y){y&&f(e),m&&m.d(),C=!1,St(E)}}}function wl(a,e,t){let l;const n=nl();let{items:i}=e,o="",h=null;const d=Object.entries(i);function C([g,p]){t(0,o=p),t(1,h=g),n("select",g)}function E(){h&&n("search",h)}function m(){o=this.value,t(0,o)}const y=g=>C(g);return a.$$set=g=>{"items"in g&&t(5,i=g.items)},a.$$.update=()=>{a.$$.dirty&1&&t(2,l=o?d.filter(([g,p])=>p.toLowerCase().includes(o.toLowerCase())).slice(0,10):[])},[o,h,l,C,E,i,m,y]}class Tl extends bt{constructor(e){super(),Ct(this,e,wl,Bl,nt,{items:5})}}function Wt(a,e,t){const l=a.slice();return l[11]=e[t],l}function Kt(a){let e,t=(a[6]==="total"?a[8](a[11].total_value,a[1],a[2],a[11].co_benefit_type,a[5]):a[8](a[11].value_per_capita,a[3],a[4],a[11].co_benefit_type,a[5]))+"",l;return{c(){e=new il(!1),l=Mt(),this.h()},l(n){e=sl(n,!1),l=Mt(),this.h()},h(){e.a=l},m(n,i){e.m(t,n,i),Q(n,l,i)},p(n,i){i&127&&t!==(t=(n[6]==="total"?n[8](n[11].total_value,n[1],n[2],n[11].co_benefit_type,n[5]):n[8](n[11].value_per_capita,n[3],n[4],n[11].co_benefit_type,n[5]))+"")&&e.p(t)},d(n){n&&(f(l),e.d())}}}function Ll(a){let e,t=a[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Q(n,e,i),s(e,l)},p(n,i){i&1&&t!==(t=n[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Hl(a){let e,t=a[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Q(n,e,i),s(e,l)},p(n,i){i&1&&t!==(t=n[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Xt(a){let e,t,l,n,i,o,h,d=a[7](a[11].co_benefit_type)+"",C,E,m,y,g,p=a[6],I,S,V,b=Kt(a);function _(N,A){return N[6]==="total"?Hl:Ll}let F=_(a),M=F(a);return{c(){e=r("tr"),t=r("td"),l=r("div"),n=r("img"),o=L(),h=r("a"),C=se(d),m=L(),y=r("td"),g=r("div"),b.c(),I=L(),S=r("td"),M.c(),V=L(),this.h()},l(N){e=c(N,"TR",{});var A=v(e);t=c(A,"TD",{});var z=v(t);l=c(z,"DIV",{class:!0});var W=v(l);n=c(W,"IMG",{src:!0,alt:!0,class:!0}),o=H(W),h=c(W,"A",{href:!0,target:!0});var q=v(h);C=oe(q,d),q.forEach(f),W.forEach(f),z.forEach(f),m=H(A),y=c(A,"TD",{});var j=v(y);g=c(j,"DIV",{class:!0});var T=v(g);b.l(T),T.forEach(f),j.forEach(f),I=H(A),S=c(A,"TD",{});var K=v(S);M.l(K),K.forEach(f),V=H(A),A.forEach(f),this.h()},h(){Ve(n.src,i=Tt(a[11].co_benefit_type))||u(n,"src",i),u(n,"alt","Icon"),u(n,"class","in-table-icon"),u(h,"href",E=Ze+"/cobenefit?cobenefit="+a[11].co_benefit_type),u(h,"target","_blank"),u(l,"class","coben-content"),u(g,"class","bar-cell")},m(N,A){Q(N,e,A),s(e,t),s(t,l),s(l,n),s(l,o),s(l,h),s(h,C),s(e,m),s(e,y),s(y,g),b.m(g,null),s(e,I),s(e,S),M.m(S,null),s(e,V)},p(N,A){A&1&&!Ve(n.src,i=Tt(N[11].co_benefit_type))&&u(n,"src",i),A&1&&d!==(d=N[7](N[11].co_benefit_type)+"")&&_e(C,d),A&1&&E!==(E=Ze+"/cobenefit?cobenefit="+N[11].co_benefit_type)&&u(h,"href",E),A&64&&nt(p,p=N[6])?(b.d(1),b=Kt(N),b.c(),b.m(g,null)):b.p(N,A),F===(F=_(N))&&M?M.p(N,A):(M.d(1),M=F(N),M&&(M.c(),M.m(S,null)))},d(N){N&&f(e),b.d(N),M.d()}}}function Sl(a){let e,t,l,n="Total",i,o,h="Per Capita",d,C,E,m,y,g="Name",p,I,S=a[6]==="total"?"Total":"Per Capita",V,b,_,F=a[6]==="total"?"£, billion":"£",M,N,A,z,W,q=we(a[0]),j=[];for(let T=0;T<q.length;T+=1)j[T]=Xt(Wt(a,q,T));return{c(){e=r("div"),t=r("div"),l=r("button"),l.textContent=n,i=L(),o=r("button"),o.textContent=h,d=L(),C=r("table"),E=r("thead"),m=r("tr"),y=r("th"),y.textContent=g,p=L(),I=r("th"),V=se(S),b=L(),_=r("th"),M=se(F),N=L(),A=r("tbody");for(let T=0;T<j.length;T+=1)j[T].c();this.h()},l(T){e=c(T,"DIV",{class:!0});var K=v(e);t=c(K,"DIV",{class:!0});var O=v(t);l=c(O,"BUTTON",{"data-svelte-h":!0}),ne(l)!=="svelte-15mf98g"&&(l.textContent=n),i=H(O),o=c(O,"BUTTON",{"data-svelte-h":!0}),ne(o)!=="svelte-1ts3a4f"&&(o.textContent=h),O.forEach(f),K.forEach(f),d=H(T),C=c(T,"TABLE",{class:!0});var J=v(C);E=c(J,"THEAD",{});var U=v(E);m=c(U,"TR",{});var Y=v(m);y=c(Y,"TH",{"data-svelte-h":!0}),ne(y)!=="svelte-13ju7y1"&&(y.textContent=g),p=H(Y),I=c(Y,"TH",{style:!0});var R=v(I);V=oe(R,S),R.forEach(f),b=H(Y),_=c(Y,"TH",{style:!0});var B=v(_);M=oe(B,F),B.forEach(f),Y.forEach(f),U.forEach(f),N=H(J),A=c(J,"TBODY",{});var G=v(A);for(let k=0;k<j.length;k+=1)j[k].l(G);G.forEach(f),J.forEach(f),this.h()},h(){Ce(l,"selected",a[6]==="total"),Ce(o,"selected",a[6]==="per_capita"),u(t,"class","button-group"),u(e,"class","controls"),gt(I,"width","180px"),gt(_,"width","80px"),u(C,"class","data-table")},m(T,K){Q(T,e,K),s(e,t),s(t,l),s(t,i),s(t,o),Q(T,d,K),Q(T,C,K),s(C,E),s(E,m),s(m,y),s(m,p),s(m,I),s(I,V),s(m,b),s(m,_),s(_,M),s(C,N),s(C,A);for(let O=0;O<j.length;O+=1)j[O]&&j[O].m(A,null);z||(W=[Se(l,"click",a[9]),Se(o,"click",a[10])],z=!0)},p(T,[K]){if(K&64&&Ce(l,"selected",T[6]==="total"),K&64&&Ce(o,"selected",T[6]==="per_capita"),K&64&&S!==(S=T[6]==="total"?"Total":"Per Capita")&&_e(V,S),K&64&&F!==(F=T[6]==="total"?"£, billion":"£")&&_e(M,F),K&511){q=we(T[0]);let O;for(O=0;O<q.length;O+=1){const J=Wt(T,q,O);j[O]?j[O].p(J,K):(j[O]=Xt(J),j[O].c(),j[O].m(A,null))}for(;O<j.length;O+=1)j[O].d(1);j.length=q.length}},i:qe,o:qe,d(T){T&&(f(e),f(d),f(C)),at(j,T),z=!1,St(W)}}}function Al(a,e,t){let{aggregationPerCapitaPerBenefit:l}=e,{minCoBenefValue:n}=e,{maxCoBenefValue:i}=e,{minHHCoBenefValue:o}=e,{maxHHCoBenefValue:h}=e,{COBENEFS_SCALE:d}=e;function C(p){return Lt.find(I=>I.id===p)?.label??p}let E="total";function m(p,I,S,V,b){const _=b(V);return pt({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[I,S],axis:null},marks:[hl([0],{stroke:"#3C3C3C"}),Ht([p],{x:M=>M,y:0,fill:_})]}).outerHTML}const y=()=>t(6,E="total"),g=()=>t(6,E="per_capita");return a.$$set=p=>{"aggregationPerCapitaPerBenefit"in p&&t(0,l=p.aggregationPerCapitaPerBenefit),"minCoBenefValue"in p&&t(1,n=p.minCoBenefValue),"maxCoBenefValue"in p&&t(2,i=p.maxCoBenefValue),"minHHCoBenefValue"in p&&t(3,o=p.minHHCoBenefValue),"maxHHCoBenefValue"in p&&t(4,h=p.maxHHCoBenefValue),"COBENEFS_SCALE"in p&&t(5,d=p.COBENEFS_SCALE)},[l,n,i,o,h,d,E,C,m,y,g]}class Il extends bt{constructor(e){super(),Ct(this,e,Al,Sl,nt,{aggregationPerCapitaPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function Yt(a,e,t){const l=a.slice();return l[16]=e[t],l}function Zt(a,e,t){const l=a.slice();return l[19]=e[t],l}function Qt(a){let e,t=a[19].label+"",l;return{c(){e=r("option"),l=se(t),this.h()},l(n){e=c(n,"OPTION",{});var i=v(e);l=oe(i,t),i.forEach(f),this.h()},h(){e.__value=a[19].value,wt(e,e.__value)},m(n,i){Q(n,e,i),s(e,l)},p:qe,d(n){n&&f(e)}}}function Nl(a){let e,t=a[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Q(n,e,i),s(e,l)},p(n,i){i&2&&t!==(t=n[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Pl(a){let e,t=a[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Q(n,e,i),s(e,l)},p(n,i){i&2&&t!==(t=n[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Jt(a){let e,t,l,n=(a[5][a[16].LAD]??a[16].LAD)+"",i,o,h,d,C,E,m=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_capita,a[4]))+"",y,g,p;function I(b,_){return b[2]==="total"?Pl:Nl}let S=I(a),V=S(a);return{c(){e=r("tr"),t=r("td"),l=r("a"),i=se(n),h=L(),d=r("td"),C=r("div"),E=new il(!1),y=L(),g=r("td"),V.c(),p=L(),this.h()},l(b){e=c(b,"TR",{});var _=v(e);t=c(_,"TD",{});var F=v(t);l=c(F,"A",{href:!0,target:!0});var M=v(l);i=oe(M,n),M.forEach(f),F.forEach(f),h=H(_),d=c(_,"TD",{});var N=v(d);C=c(N,"DIV",{class:!0});var A=v(C);E=sl(A,!1),A.forEach(f),N.forEach(f),y=H(_),g=c(_,"TD",{});var z=v(g);V.l(z),z.forEach(f),p=H(_),_.forEach(f),this.h()},h(){u(l,"href",o=Ze+"/location?location="+a[16].LAD),u(l,"target","_blank"),E.a=null,u(C,"class","bar-cell")},m(b,_){Q(b,e,_),s(e,t),s(t,l),s(l,i),s(e,h),s(e,d),s(d,C),E.m(m,C),s(e,y),s(e,g),V.m(g,null),s(e,p)},p(b,_){_&34&&n!==(n=(b[5][b[16].LAD]??b[16].LAD)+"")&&_e(i,n),_&2&&o!==(o=Ze+"/location?location="+b[16].LAD)&&u(l,"href",o),_&30&&m!==(m=(b[2]==="total"?b[9](b[16].total_value,b[3]):b[10](b[16].value_per_capita,b[4]))+"")&&E.p(m),S===(S=I(b))&&V?V.p(b,_):(V.d(1),V=S(b),V&&(V.c(),V.m(g,null)))},d(b){b&&f(e),V.d()}}}function Fl(a){let e,t,l="Nation:",n,i,o,h,d,C="Total",E,m,y="Per Capita",g,p,I,S,V,b='Name <span style="font-weight:300; color: #545454">(Top 12 in display)</span>',_,F,M=a[2]==="total"?"Total":"Per Capita",N,A,z,W=a[2]==="total"?"£, billion":"£",q,j,T,K,O,J=we(a[7]),U=[];for(let B=0;B<J.length;B+=1)U[B]=Qt(Zt(a,J,B));let Y=we(a[1]),R=[];for(let B=0;B<Y.length;B+=1)R[B]=Jt(Yt(a,Y,B));return{c(){e=r("div"),t=r("label"),t.textContent=l,n=L(),i=r("select");for(let B=0;B<U.length;B+=1)U[B].c();o=L(),h=r("div"),d=r("button"),d.textContent=C,E=L(),m=r("button"),m.textContent=y,g=L(),p=r("table"),I=r("thead"),S=r("tr"),V=r("th"),V.innerHTML=b,_=L(),F=r("th"),N=se(M),A=L(),z=r("th"),q=se(W),j=L(),T=r("tbody");for(let B=0;B<R.length;B+=1)R[B].c();this.h()},l(B){e=c(B,"DIV",{class:!0});var G=v(e);t=c(G,"LABEL",{"data-svelte-h":!0}),ne(t)!=="svelte-1ecnfnj"&&(t.textContent=l),n=H(G),i=c(G,"SELECT",{});var k=v(i);for(let ge=0;ge<U.length;ge+=1)U[ge].l(k);k.forEach(f),o=H(G),h=c(G,"DIV",{class:!0});var te=v(h);d=c(te,"BUTTON",{"data-svelte-h":!0}),ne(d)!=="svelte-2dev6e"&&(d.textContent=C),E=H(te),m=c(te,"BUTTON",{"data-svelte-h":!0}),ne(m)!=="svelte-1q4fgxf"&&(m.textContent=y),te.forEach(f),G.forEach(f),g=H(B),p=c(B,"TABLE",{class:!0});var ke=v(p);I=c(ke,"THEAD",{});var ye=v(I);S=c(ye,"TR",{});var ve=v(S);V=c(ve,"TH",{"data-svelte-h":!0}),ne(V)!=="svelte-1homman"&&(V.innerHTML=b),_=H(ve),F=c(ve,"TH",{style:!0});var Ae=v(F);N=oe(Ae,M),Ae.forEach(f),A=H(ve),z=c(ve,"TH",{style:!0});var Ie=v(z);q=oe(Ie,W),Ie.forEach(f),ve.forEach(f),ye.forEach(f),j=H(ke),T=c(ke,"TBODY",{});var De=v(T);for(let ge=0;ge<R.length;ge+=1)R[ge].l(De);De.forEach(f),ke.forEach(f),this.h()},h(){a[0]===void 0&&ol(()=>a[13].call(i)),Ce(d,"selected",a[2]==="total"),Ce(m,"selected",a[2]==="per_capita"),u(h,"class","button-group"),u(e,"class","controls"),gt(F,"width","120px"),gt(z,"width","80px"),u(p,"class","data-table")},m(B,G){Q(B,e,G),s(e,t),s(e,n),s(e,i);for(let k=0;k<U.length;k+=1)U[k]&&U[k].m(i,null);Ot(i,a[0],!0),s(e,o),s(e,h),s(h,d),s(h,E),s(h,m),Q(B,g,G),Q(B,p,G),s(p,I),s(I,S),s(S,V),s(S,_),s(S,F),s(F,N),s(S,A),s(S,z),s(z,q),s(p,j),s(p,T);for(let k=0;k<R.length;k+=1)R[k]&&R[k].m(T,null);K||(O=[Se(i,"change",a[13]),Se(i,"change",a[8]),Se(d,"click",a[14]),Se(m,"click",a[15])],K=!0)},p(B,[G]){if(G&128){J=we(B[7]);let k;for(k=0;k<J.length;k+=1){const te=Zt(B,J,k);U[k]?U[k].p(te,G):(U[k]=Qt(te),U[k].c(),U[k].m(i,null))}for(;k<U.length;k+=1)U[k].d(1);U.length=J.length}if(G&129&&Ot(i,B[0]),G&4&&Ce(d,"selected",B[2]==="total"),G&4&&Ce(m,"selected",B[2]==="per_capita"),G&4&&M!==(M=B[2]==="total"?"Total":"Per Capita")&&_e(N,M),G&4&&W!==(W=B[2]==="total"?"£, billion":"£")&&_e(q,W),G&1598){Y=we(B[1]);let k;for(k=0;k<Y.length;k+=1){const te=Yt(B,Y,k);R[k]?R[k].p(te,G):(R[k]=Jt(te),R[k].c(),R[k].m(T,null))}for(;k<R.length;k+=1)R[k].d(1);R.length=Y.length}},i:qe,o:qe,d(B){B&&(f(e),f(g),f(p)),at(U,B),at(R,B),K=!1,St(O)}}}function Ml(a,e,t){const l=nl();let{ladData:n=[]}=e,{region:i}=e,{sortBy:o}=e,{maxLADValue:h}=e,{maxHHLADValue:d}=e,{LADToName:C={}}=e,{viewMode:E="total"}=e,{selectedRegion:m="All"}=e;const y=[{label:"All",value:"All"},{label:"England",value:"England"},{label:"Wales",value:"Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function g(_){l("filterChange",{region:_.target.value,sortBy:o})}function p(_,F){return pt({width:80,height:20,margin:0,x:{domain:[0,F],axis:null},marks:[Ht([_],{x:N=>N,y:0,fill:"#ccc"})]}).outerHTML}function I(_,F){return pt({width:80,height:20,margin:0,x:{domain:[0,F],axis:null},marks:[Ht([_],{x:N=>N,y:0,fill:"#ccc"})]}).outerHTML}function S(){i=rl(this),t(0,i),t(7,y)}const V=()=>l("filterChange",{region:i,sortBy:"total"}),b=()=>l("filterChange",{region:i,sortBy:"per_capita"});return a.$$set=_=>{"ladData"in _&&t(1,n=_.ladData),"region"in _&&t(0,i=_.region),"sortBy"in _&&t(2,o=_.sortBy),"maxLADValue"in _&&t(3,h=_.maxLADValue),"maxHHLADValue"in _&&t(4,d=_.maxHHLADValue),"LADToName"in _&&t(5,C=_.LADToName),"viewMode"in _&&t(11,E=_.viewMode),"selectedRegion"in _&&t(12,m=_.selectedRegion)},[i,n,o,h,d,C,l,y,g,p,I,E,m,S,V,b]}class Ol extends bt{constructor(e){super(),Ct(this,e,Ml,Fl,nt,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function xt(a,e,t){const l=a.slice();return l[47]=e[t],l[49]=t,l}function $t(a){let e,t,l,n,i,o,h;return{c(){e=r("div"),t=r("img"),i=L(),o=r("img"),this.h()},l(d){e=c(d,"DIV",{class:!0});var C=v(e);t=c(C,"IMG",{class:!0,src:!0,alt:!0}),i=H(C),o=c(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(f),this.h()},h(){u(t,"class","slide-image"),Ve(t.src,l=a[47].image)||u(t,"src",l),u(t,"alt",n=a[47].label),u(o,"class","slide-map svelte-1ye7cnd"),Ve(o.src,h=a[47].mapImage)||u(o,"src",h),u(o,"alt","Map overlay"),u(e,"class","hero-slide svelte-1ye7cnd"),Ce(e,"active",a[49]===a[23]),Ce(e,"previous",a[49]===a[24])},m(d,C){Q(d,e,C),s(e,t),s(e,i),s(e,o)},p(d,C){C[0]&1048576&&!Ve(t.src,l=d[47].image)&&u(t,"src",l),C[0]&1048576&&n!==(n=d[47].label)&&u(t,"alt",n),C[0]&1048576&&!Ve(o.src,h=d[47].mapImage)&&u(o,"src",h),C[0]&8388608&&Ce(e,"active",d[49]===d[23]),C[0]&16777216&&Ce(e,"previous",d[49]===d[24])},d(d){d&&f(e)}}}function el(a){let e,t,l;return{c(){e=r("div"),t=r("img"),this.h()},l(n){e=c(n,"DIV",{class:!0});var i=v(e);t=c(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(f),this.h()},h(){Ve(t.src,l=a[19])||u(t,"src",l),u(t,"alt","Icon"),u(t,"class","svelte-1ye7cnd"),u(e,"class","waffle-icon svelte-1ye7cnd")},m(n,i){Q(n,e,i),s(e,t)},p(n,i){i[0]&524288&&!Ve(t.src,l=n[19])&&u(t,"src",l)},d(n){n&&f(e)}}}function Ul(a){let e,t="National costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-o12owz"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Q(l,e,n)},d(l){l&&f(e)}}}function Rl(a){let e,t="National benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-10ytukz"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Q(l,e,n)},d(l){l&&f(e)}}}function Gl(a){let e,t="Per capita costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-6pmcl0"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Q(l,e,n)},d(l){l&&f(e)}}}function jl(a){let e,t="Per capita benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-g1rvwk"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Q(l,e,n)},d(l){l&&f(e)}}}function tl(a){let e,t,l,n,i,o,h,d,C,E,m="%",y,g,p="Contribution";return{c(){e=r("div"),t=r("div"),l=r("img"),i=L(),o=r("div"),h=r("span"),d=se(a[18]),C=L(),E=r("span"),E.textContent=m,y=L(),g=r("div"),g.textContent=p,this.h()},l(I){e=c(I,"DIV",{class:!0});var S=v(e);t=c(S,"DIV",{class:!0});var V=v(t);l=c(V,"IMG",{class:!0,src:!0,alt:!0}),i=H(V),o=c(V,"DIV",{class:!0});var b=v(o);h=c(b,"SPAN",{class:!0});var _=v(h);d=oe(_,a[18]),_.forEach(f),C=H(b),E=c(b,"SPAN",{class:!0,"data-svelte-h":!0}),ne(E)!=="svelte-jxggz7"&&(E.textContent=m),b.forEach(f),V.forEach(f),y=H(S),g=c(S,"DIV",{class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1ahdmih"&&(g.textContent=p),S.forEach(f),this.h()},h(){u(l,"class","aggregation-icon-small svelte-1ye7cnd"),Ve(l.src,n=pl)||u(l,"src",n),u(l,"alt","icon"),u(h,"class","waffle-big svelte-1ye7cnd"),u(E,"class","small svelte-1ye7cnd"),u(o,"class","waffle-value svelte-1ye7cnd"),u(t,"class","waffle-value-container svelte-1ye7cnd"),u(g,"class","waffle-caption svelte-1ye7cnd"),u(e,"class","waffle-stat svelte-1ye7cnd")},m(I,S){Q(I,e,S),s(e,t),s(t,l),s(t,i),s(t,o),s(o,h),s(h,d),s(o,C),s(o,E),s(e,y),s(e,g)},p(I,S){S[0]&262144&&_e(d,I[18])},d(I){I&&f(e)}}}function ll(a){let e,t;return e=new Ol({props:{ladData:a[7],region:a[8],sortBy:a[9],maxLADValue:a[10],maxHHLADValue:a[11],LADToName:a[25]}}),e.$on("filterChange",a[26]),{c(){$e(e.$$.fragment)},l(l){et(e.$$.fragment,l)},m(l,n){tt(e,l,n),t=!0},p(l,n){const i={};n[0]&128&&(i.ladData=l[7]),n[0]&256&&(i.region=l[8]),n[0]&512&&(i.sortBy=l[9]),n[0]&1024&&(i.maxLADValue=l[10]),n[0]&2048&&(i.maxHHLADValue=l[11]),e.$set(i)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){He(e.$$.fragment,l),t=!1},d(l){lt(e,l)}}}function al(a){let e,t;return e=new Il({props:{aggregationPerCapitaPerBenefit:a[1],minCoBenefValue:a[3],maxCoBenefValue:a[2],minHHCoBenefValue:a[4],maxHHCoBenefValue:a[5],COBENEFS_SCALE:dl}}),{c(){$e(e.$$.fragment)},l(l){et(e.$$.fragment,l)},m(l,n){tt(e,l,n),t=!0},p(l,n){const i={};n[0]&2&&(i.aggregationPerCapitaPerBenefit=l[1]),n[0]&8&&(i.minCoBenefValue=l[3]),n[0]&4&&(i.maxCoBenefValue=l[2]),n[0]&16&&(i.minHHCoBenefValue=l[4]),n[0]&32&&(i.maxHHCoBenefValue=l[5]),e.$set(i)},i(l){t||(Ee(e.$$.fragment,l),t=!0)},o(l){He(e.$$.fragment,l),t=!1},d(l){lt(e,l)}}}function ql(a){let e,t,l,n,i,o,h,d=`<img src="${Ze}/atlas-logos/logo-colored-waffle-png.png" alt="Logo" height="0px"/> <h1 class="hero-title svelte-1ye7cnd">The Co-Benefits of Reaching <br/> Net Zero in the UK</h1> <p class="hero-description svelte-1ye7cnd">Climate actions lower greenhouse gas (GHG) emissions but the gains for society reach further. The
                    CO-BENS project models 11 additional benefits based on actions recommended by the Climate Change
                    Committee (CCC) in its Seventh Carbon Budget (2025) across 45,000 communities and regions within the
                    UK.<br/></p> <p class="hero-description svelte-1ye7cnd">Explore how, when and for whom benefits emerge to further understand connections between a wide
                    range of
                    social, economic and environmental priorities, and drive more effective decision-making.</p> <p class="hero-description svelte-1ye7cnd">To understand more about the analysis or if you would like bespoke co-benefit modelling please get
                    in
                    touch by emailing <a href="mailto:cobens@ed.ac.uk">cobens@ed.ac.uk</a></p>`,C,E,m,y,g,p,I,S,V,b,_,F,M,N,A,z,W,q,j,T,K="billion",O,J,U,Y,R,B,G,k,te,ke,ye,ve,Ae,Ie,De,ge,Oe,Qe,D,ie,re="Find My Place",me,de,pe,X,x,fe,Ne="Explore by Local Authority",P,$,Pe="Click to see local authority data report.",Fe,Je,be,Be,Me="Explore by Co-Benefit",yt,Ue,At="Click to see each co-benefit data report.",Dt,Et,Re,Ge;t=new ul({});let ze=we(a[20]),ce=[];for(let w=0;w<ze.length;w+=1)ce[w]=$t(xt(a,ze,w));let ue=a[19]&&el(a);function It(w,Z){return w[16]>0?Rl:Ul}let it=It(a),Te=it(a);function Nt(w,Z){return w[17]>0?jl:Gl}let st=Nt(a),Le=st(a),he=a[22]!==null&&tl(a);de=new Tl({props:{items:a[25]}}),de.$on("search",a[33]);let le=!a[6]&&ll(a),ae=!a[6]&&al(a);return Re=new kl({}),{c(){e=r("div"),$e(t.$$.fragment),l=L(),n=r("section");for(let w=0;w<ce.length;w+=1)ce[w].c();i=L(),o=r("div"),h=r("div"),h.innerHTML=d,C=L(),E=r("div"),m=r("div"),y=r("div"),ue&&ue.c(),g=L(),p=r("div"),I=se(a[15]),S=L(),V=r("div"),b=r("div"),_=r("div"),F=r("img"),N=L(),A=r("div"),z=r("span"),W=se("£"),q=se(a[16]),j=L(),T=r("span"),T.textContent=K,O=L(),Te.c(),J=L(),U=r("div"),Y=r("div"),R=r("img"),G=L(),k=r("div"),te=r("span"),ke=se("£"),ye=se(a[17]),ve=L(),Le.c(),Ae=L(),he&&he.c(),Ie=L(),De=r("div"),ge=L(),Oe=r("div"),Qe=L(),D=r("section"),ie=r("h1"),ie.textContent=re,me=L(),$e(de.$$.fragment),pe=L(),X=r("section"),x=r("div"),fe=r("h2"),fe.textContent=Ne,P=L(),$=r("p"),$.textContent=Pe,Fe=L(),le&&le.c(),Je=L(),be=r("div"),Be=r("h2"),Be.textContent=Me,yt=L(),Ue=r("p"),Ue.textContent=At,Dt=L(),ae&&ae.c(),Et=L(),$e(Re.$$.fragment),this.h()},l(w){e=c(w,"DIV",{});var Z=v(e);et(t.$$.fragment,Z),l=H(Z),n=c(Z,"SECTION",{class:!0});var ee=v(n);for(let Bt=0;Bt<ce.length;Bt+=1)ce[Bt].l(ee);i=H(ee),o=c(ee,"DIV",{class:!0});var je=v(o);h=c(je,"DIV",{class:!0,"data-svelte-h":!0}),ne(h)!=="svelte-8289tn"&&(h.innerHTML=d),C=H(je),E=c(je,"DIV",{class:!0});var We=v(E);m=c(We,"DIV",{class:!0});var ot=v(m);y=c(ot,"DIV",{class:!0});var rt=v(y);ue&&ue.l(rt),g=H(rt),p=c(rt,"DIV",{class:!0});var Pt=v(p);I=oe(Pt,a[15]),Pt.forEach(f),rt.forEach(f),S=H(ot),V=c(ot,"DIV",{class:!0});var Ke=v(V);b=c(Ke,"DIV",{class:!0});var ct=v(b);_=c(ct,"DIV",{class:!0});var ft=v(_);F=c(ft,"IMG",{class:!0,src:!0,alt:!0}),N=H(ft),A=c(ft,"DIV",{class:!0});var ut=v(A);z=c(ut,"SPAN",{class:!0});var Vt=v(z);W=oe(Vt,"£"),q=oe(Vt,a[16]),Vt.forEach(f),j=H(ut),T=c(ut,"SPAN",{class:!0,"data-svelte-h":!0}),ne(T)!=="svelte-tlhydp"&&(T.textContent=K),ut.forEach(f),ft.forEach(f),O=H(ct),Te.l(ct),ct.forEach(f),J=H(Ke),U=c(Ke,"DIV",{class:!0});var ht=v(U);Y=c(ht,"DIV",{class:!0});var dt=v(Y);R=c(dt,"IMG",{class:!0,src:!0,alt:!0}),G=H(dt),k=c(dt,"DIV",{class:!0});var Ft=v(k);te=c(Ft,"SPAN",{class:!0});var kt=v(te);ke=oe(kt,"£"),ye=oe(kt,a[17]),kt.forEach(f),Ft.forEach(f),dt.forEach(f),ve=H(ht),Le.l(ht),ht.forEach(f),Ae=H(Ke),he&&he.l(Ke),Ke.forEach(f),ot.forEach(f),Ie=H(We),De=c(We,"DIV",{class:!0}),v(De).forEach(f),ge=H(We),Oe=c(We,"DIV",{}),v(Oe).forEach(f),We.forEach(f),je.forEach(f),ee.forEach(f),Qe=H(Z),D=c(Z,"SECTION",{class:!0});var _t=v(D);ie=c(_t,"H1",{class:!0,"data-svelte-h":!0}),ne(ie)!=="svelte-byubde"&&(ie.textContent=re),me=H(_t),et(de.$$.fragment,_t),_t.forEach(f),pe=H(Z),X=c(Z,"SECTION",{class:!0});var mt=v(X);x=c(mt,"DIV",{class:!0});var Xe=v(x);fe=c(Xe,"H2",{class:!0,"data-svelte-h":!0}),ne(fe)!=="svelte-pgup4c"&&(fe.textContent=Ne),P=H(Xe),$=c(Xe,"P",{class:!0,"data-svelte-h":!0}),ne($)!=="svelte-owmq24"&&($.textContent=Pe),Fe=H(Xe),le&&le.l(Xe),Xe.forEach(f),Je=H(mt),be=c(mt,"DIV",{class:!0});var Ye=v(be);Be=c(Ye,"H2",{class:!0,"data-svelte-h":!0}),ne(Be)!=="svelte-9nk5va"&&(Be.textContent=Me),yt=H(Ye),Ue=c(Ye,"P",{class:!0,"data-svelte-h":!0}),ne(Ue)!=="svelte-4140on"&&(Ue.textContent=At),Dt=H(Ye),ae&&ae.l(Ye),Ye.forEach(f),mt.forEach(f),Et=H(Z),et(Re.$$.fragment,Z),Z.forEach(f),this.h()},h(){u(h,"class","hero-text svelte-1ye7cnd"),u(p,"class","waffle-title svelte-1ye7cnd"),u(y,"class","waffle-header svelte-1ye7cnd"),u(F,"class","aggregation-icon-small svelte-1ye7cnd"),Ve(F.src,M=bl)||u(F,"src",M),u(F,"alt","icon"),u(z,"class","waffle-big svelte-1ye7cnd"),u(T,"class","small svelte-1ye7cnd"),u(A,"class","waffle-value svelte-1ye7cnd"),u(_,"class","waffle-value-container svelte-1ye7cnd"),u(b,"class","waffle-stat svelte-1ye7cnd"),u(R,"class","aggregation-icon-small svelte-1ye7cnd"),Ve(R.src,B=Cl)||u(R,"src",B),u(R,"alt","icon"),u(te,"class","waffle-big svelte-1ye7cnd"),u(k,"class","waffle-value svelte-1ye7cnd"),u(Y,"class","waffle-value-container svelte-1ye7cnd"),u(U,"class","waffle-stat svelte-1ye7cnd"),u(V,"class","waffle-stats svelte-1ye7cnd"),u(m,"class","waffle-label svelte-1ye7cnd"),u(De,"class","waffle-bg svelte-1ye7cnd"),u(E,"class","waffle-overlay svelte-1ye7cnd"),u(o,"class","hero-content svelte-1ye7cnd"),u(n,"class","hero-container svelte-1ye7cnd"),u(ie,"class","svelte-1ye7cnd"),u(D,"class","search-section svelte-1ye7cnd"),u(fe,"class","svelte-1ye7cnd"),u($,"class","svelte-1ye7cnd"),u(x,"class","side-box svelte-1ye7cnd"),u(Be,"class","svelte-1ye7cnd"),u(Ue,"class","svelte-1ye7cnd"),u(be,"class","side-box svelte-1ye7cnd"),u(X,"class","side-by-side-section svelte-1ye7cnd")},m(w,Z){Q(w,e,Z),tt(t,e,null),s(e,l),s(e,n);for(let ee=0;ee<ce.length;ee+=1)ce[ee]&&ce[ee].m(n,null);s(n,i),s(n,o),s(o,h),s(o,C),s(o,E),s(E,m),s(m,y),ue&&ue.m(y,null),s(y,g),s(y,p),s(p,I),s(m,S),s(m,V),s(V,b),s(b,_),s(_,F),s(_,N),s(_,A),s(A,z),s(z,W),s(z,q),s(A,j),s(A,T),s(b,O),Te.m(b,null),s(V,J),s(V,U),s(U,Y),s(Y,R),s(Y,G),s(Y,k),s(k,te),s(te,ke),s(te,ye),s(U,ve),Le.m(U,null),s(V,Ae),he&&he.m(V,null),a[29](m),s(E,Ie),s(E,De),a[30](De),s(E,ge),s(E,Oe),a[31](Oe),a[32](n),s(e,Qe),s(e,D),s(D,ie),s(D,me),tt(de,D,null),s(e,pe),s(e,X),s(X,x),s(x,fe),s(x,P),s(x,$),s(x,Fe),le&&le.m(x,null),s(X,Je),s(X,be),s(be,Be),s(be,yt),s(be,Ue),s(be,Dt),ae&&ae.m(be,null),s(e,Et),tt(Re,e,null),a[34](e),Ge=!0},p(w,Z){if(Z[0]&26214400){ze=we(w[20]);let ee;for(ee=0;ee<ze.length;ee+=1){const je=xt(w,ze,ee);ce[ee]?ce[ee].p(je,Z):(ce[ee]=$t(je),ce[ee].c(),ce[ee].m(n,i))}for(;ee<ce.length;ee+=1)ce[ee].d(1);ce.length=ze.length}w[19]?ue?ue.p(w,Z):(ue=el(w),ue.c(),ue.m(y,g)):ue&&(ue.d(1),ue=null),(!Ge||Z[0]&32768)&&_e(I,w[15]),(!Ge||Z[0]&65536)&&_e(q,w[16]),it!==(it=It(w))&&(Te.d(1),Te=it(w),Te&&(Te.c(),Te.m(b,null))),(!Ge||Z[0]&131072)&&_e(ye,w[17]),st!==(st=Nt(w))&&(Le.d(1),Le=st(w),Le&&(Le.c(),Le.m(U,null))),w[22]!==null?he?he.p(w,Z):(he=tl(w),he.c(),he.m(V,null)):he&&(he.d(1),he=null),w[6]?le&&(Rt(),He(le,1,1,()=>{le=null}),Ut()):le?(le.p(w,Z),Z[0]&64&&Ee(le,1)):(le=ll(w),le.c(),Ee(le,1),le.m(x,null)),w[6]?ae&&(Rt(),He(ae,1,1,()=>{ae=null}),Ut()):ae?(ae.p(w,Z),Z[0]&64&&Ee(ae,1)):(ae=al(w),ae.c(),Ee(ae,1),ae.m(be,null))},i(w){Ge||(Ee(t.$$.fragment,w),Ee(de.$$.fragment,w),Ee(le),Ee(ae),Ee(Re.$$.fragment,w),Ge=!0)},o(w){He(t.$$.fragment,w),He(de.$$.fragment,w),He(le),He(ae),He(Re.$$.fragment,w),Ge=!1},d(w){w&&f(e),lt(t),at(ce,w),ue&&ue.d(),Te.d(),Le.d(),he&&he.d(),a[29](null),a[30](null),a[31](null),a[32](null),lt(de),le&&le.d(),ae&&ae.d(),lt(Re),a[34](null)}}}function zl(a,e,t){let{data:l}=e,n=l.LADToName,i,o,h,d,C,E,m,y,g,p=!0;async function I(){o=await vt(yl()),t(1,h=await vt(Dl())),d=await vt(El()),o=[...o].sort((D,ie)=>ie.total-D.total),t(1,h=[...h].sort((D,ie)=>ie.total_value-D.total_value)),console.log("aggregationPerCapitaPerBenefit",h),C=d[0].total_value_per_capita,t(2,E=Math.max(...h.map(D=>D.total_value))),t(3,m=Math.min(...h.map(D=>D.total_value))),t(4,y=Math.min(...h.map(D=>D.value_per_capita))),t(5,g=Math.max(...h.map(D=>D.value_per_capita))),t(6,p=!1)}let S=[],V="All",b="total",_=0,F=0;async function M(){const D=Vl({region:V,sortBy:b}),ie=await vt(D);t(7,S=ie),t(10,_=Math.max(...ie.map(re=>re.total_value))),t(11,F=Math.max(...ie.map(re=>re.value_per_capita)))}function N(D){t(8,V=D.detail.region),t(9,b=D.detail.sortBy),M()}let A,z=[],W=null,q,j,T,K,O="",J,U=null,Y=[],R,B=null,G=0,k=0,te;function ke(D){const ie=A.filter(X=>X.type!=="empty").map(X=>X.type),re=Array.from(new Set(ie)),me=o.reduce((X,x)=>X+x.total,0),de=[{type:null,label:"Total Co-Benefits",icon:null,totalValue:me.toFixed(2),perCapitaValue:C.toFixed(2),percentValue:"100%"},...re.map(X=>{const fe=Lt.find(Me=>Me.id===X)?.label??X;let Ne=Tt(X);const P=o.find(Me=>Me.co_benefit_type===X),$=h.find(Me=>Me.co_benefit_type===X),Pe=P?.total??0,Fe=$?.value_per_capita??0,Je=Pe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),be=Fe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Be=me>0?(Pe/me*100).toFixed(2):0;return console.log("percentage",X,Pe,me,Be),{type:X,label:fe,icon:Ne,totalValue:Je,perCapitaValue:be,percentValue:Be}})];setInterval(()=>{t(24,k=G),t(23,G=(G+1)%de.length);const{type:X,label:x,icon:fe,totalValue:Ne,perCapitaValue:P,percentValue:$}=de[G];t(22,B=X),t(15,T=x),t(16,K=Ne),t(17,O=P),t(18,J=$),t(19,U=fe),ye(D,X)},5e3);const pe=de[0];t(22,B=pe.type),t(15,T=pe.label),t(16,K=pe.totalValue),t(17,O=pe.perCapitaValue),t(18,J=pe.percentValue),ye(D,pe.type),console.log("update display",Y)}function ye(D,ie){if(!W)return;t(12,W.innerHTML="",W);const re=20,me=15,de=Math.floor(D/re),pe=me*de,X=o.reduce((P,$)=>P+$.total,0),x=[];for(const P of o){const $=Math.round(Math.abs(P.total)/X*pe),Pe=P.total<0;for(let Fe=0;Fe<$;Fe++)x.push({type:P.co_benefit_type,negative:Pe})}for(;x.length<pe;)x.push({type:"empty"});x.sort((P,$)=>P.type==="empty"?1:$.type==="empty"?-1:P.negative&&!$.negative?1:!P.negative&&$.negative?-1:0),A=x.map((P,$)=>({x:$%me,y:Math.floor($/me),...P})),z=Array.from(new Set(A.map(P=>P.type).filter(P=>P!=="empty"))),t(20,Y=vl(z));const fe=ie??null,Ne=pt({width:re*me,height:re*de,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Lt.map(P=>P.id),range:gl,unknown:"#eee",legend:!1},marks:[Gt(A.filter(P=>!P.negative),{x:P=>P.x*re,y:P=>P.y*re,fill:"type",fillOpacity:P=>fe&&P.type!==fe?.15:1}),Gt(A.filter(P=>P.negative),{x:P=>P.x*re,y:P=>P.y*re,stroke:"type",strokeOpacity:P=>fe&&P.type!==fe?.15:1,strokeWidth:1,fill:"none"})]});q&&(t(13,q.style.width=`${re*me}px`,q),t(13,q.style.height=`${D}px`,q)),t(12,W.innerHTML="",W),W.append(Ne)}function ve(D){window.open(`${Ze}/location?location=${D}`,"_blank")}cl(()=>{_l(i),I().then(()=>{M();const D=R.getBoundingClientRect().height;ye(D),ke(D),ml(i)})}),fl(()=>{clearInterval(te)});function Ae(D){xe[D?"unshift":"push"](()=>{j=D,t(14,j)})}function Ie(D){xe[D?"unshift":"push"](()=>{q=D,t(13,q)})}function De(D){xe[D?"unshift":"push"](()=>{W=D,t(12,W)})}function ge(D){xe[D?"unshift":"push"](()=>{R=D,t(21,R)})}const Oe=D=>ve(D.detail);function Qe(D){xe[D?"unshift":"push"](()=>{i=D,t(0,i)})}return a.$$set=D=>{"data"in D&&t(28,l=D.data)},a.$$.update=()=>{a.$$.dirty[0]&268435456},[i,h,E,m,y,g,p,S,V,b,_,F,W,q,j,T,K,O,J,U,Y,R,B,G,k,n,N,ve,l,Ae,Ie,De,ge,Oe,Qe]}class na extends bt{constructor(e){super(),Ct(this,e,zl,ql,nt,{data:28},null,[-1,-1])}}export{na as component};
