import{s as ra,a as w,e as f,t as D,g as S,c as h,b,p as se,d as L,f as n,q as c,B as vl,A as Me,i as E,h as s,x as It,v as Ol,y as ea,r as na,F as ca,H as ua,D as da,j as me,z as ze,n as Ge}from"../chunks/scheduler.BVm0POKv.js";import{S as fa,i as ha,c as Pl,b as Fl,m as Bl,t as Hl,a as Rl,d as zl}from"../chunks/index.C_bTuQvQ.js";import{N as pa,e as Wt}from"../chunks/NavigationBar.DJf97Zba.js";import"../chunks/transform.Db-NgJu-.js";import{aq as _a,o as Ul,ar as va,as as ma,at as ba,q as rt,G as ga,u as nt,w as wt,z as St,x as ya,y as Gl,au as ka,v as Ct}from"../chunks/index.DrA8R0kw.js";import{f as dl}from"../chunks/module.BDHLYmQ2.js";import{b as Yt}from"../chunks/paths.CAlsdRjH.js";import{M as Da}from"../chunks/mapUK.Lfdt33g4.js";import{p as La,q as Aa,s as Ea,t as wa,u as Sa,v as Ca,a as Wl,e as xt,g as Va,S as Xe,w as jt,f as Ia,x as fl,r as Ta,m as qa,n as Na,o as Ma,d as Oa}from"../chunks/globals.S_aik7iL.js";import{g as Vt,i as Pa,h as Fa,w as Ba,x as Ha,r as Ra}from"../chunks/duckdb.msf5nPxV.js";import{p as Jt}from"../chunks/per_capita.COcMrZFY.js";import{F as za}from"../chunks/Footer.CgmEqsx_.js";import{e as hl,a as Ua,t as jl,b as Ga,m as Wa}from"../chunks/linear.DZfyr4Dt.js";import{n as ja}from"../chunks/nice.J2OPSXwp.js";import{t as Ka,b as Ya}from"../chunks/bin.CLltLqji.js";import{c as pl}from"../chunks/dsv.XhNTmijJ.js";import{d as Kt}from"../chunks/dot.BXu9dTF1.js";var xa=Array.prototype,Ja=xa.slice;function _l(a){return()=>a}function Xa(){var a=_a,t=hl,e=Ka;function l(i){Array.isArray(i)||(i=Array.from(i));var o,u=i.length,_,T,y=new Array(u);for(o=0;o<u;++o)y[o]=a(i[o],o,i);var d=t(y),v=d[0],C=d[1],I=e(y,v,C);if(!Array.isArray(I)){const A=C,N=+I;if(t===hl&&([v,C]=ja(v,C,N)),I=Ua(v,C,N),I[0]<=v&&(T=jl(v,C,N)),I[I.length-1]>=C)if(A>=C&&t===hl){const B=jl(v,C,N);isFinite(B)&&(B>0?C=(Math.floor(C/B)+1)*B:B<0&&(C=(Math.ceil(C*-B)+1)/-B))}else I.pop()}for(var k=I.length,m=0,g=k;I[m]<=v;)++m;for(;I[g-1]>C;)--g;(m||g<k)&&(I=I.slice(m,g),k=g-m);var V=new Array(k+1),q;for(o=0;o<=k;++o)q=V[o]=[],q.x0=o>0?I[o-1]:v,q.x1=o<k?I[o]:C;if(isFinite(T)){if(T>0)for(o=0;o<u;++o)(_=y[o])!=null&&v<=_&&_<=C&&V[Math.min(k,Math.floor((_-v)/T))].push(i[o]);else if(T<0){for(o=0;o<u;++o)if((_=y[o])!=null&&v<=_&&_<=C){const A=Math.floor((v-_)*T);V[Math.min(k,A+(I[A]<=_))].push(i[o])}}}else for(o=0;o<u;++o)(_=y[o])!=null&&v<=_&&_<=C&&V[Ga(I,_,0,k)].push(i[o]);return V}return l.value=function(i){return arguments.length?(a=typeof i=="function"?i:_l(i),l):a},l.domain=function(i){return arguments.length?(t=typeof i=="function"?i:_l([i[0],i[1]]),l):t},l.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:_l(Array.isArray(i)?Ja.call(i):i),l):e},l}const ta=""+new URL("../assets/negative.BhphYhmj.png",import.meta.url).href;function Kl(a,t,e){const l=a.slice();return l[74]=t[e],l[75]=t,l[76]=e,l}function Yl(a,t,e){const l=a.slice();return l[74]=t[e],l}function Za(a){let t;return{c(){t=f("div"),this.h()},l(e){t=h(e,"DIV",{class:!0}),b(t).forEach(n),this.h()},h(){c(t,"class","plot svelte-1qi276a")},m(e,l){E(e,t,l),a[45](t)},p:Ge,d(e){e&&n(t),a[45](null)}}}function Qa(a){let t;return{c(){t=f("div"),this.h()},l(e){t=h(e,"DIV",{class:!0}),b(t).forEach(n),this.h()},h(){c(t,"class","plot svelte-1qi276a")},m(e,l){E(e,t,l),a[44](t)},p:Ge,d(e){e&&n(t),a[44](null)}}}function $a(a){let t,e,l=a[25].toLowerCase()+"",i,o,u,_,T=Ue(a[15],a[28])+"",y,d,v;function C(m,g){return m[7]==m[2]?ls:ts}let I=C(a),k=I(a);return{c(){t=f("h3"),e=D("Distribution of "),i=D(l),o=D(" across the UK"),u=D(`\r
                    Max value: `),_=f("strong"),y=D(T),d=D(` \r
                    (`),k.c(),v=D(")"),this.h()},l(m){t=h(m,"H3",{class:!0});var g=b(t);e=L(g,"Distribution of "),i=L(g,l),o=L(g," across the UK"),g.forEach(n),u=L(m,`\r
                    Max value: `),_=h(m,"STRONG",{});var V=b(_);y=L(V,T),V.forEach(n),d=L(m,` \r
                    (`),k.l(m),v=L(m,")"),this.h()},h(){c(t,"class","component-title")},m(m,g){E(m,t,g),s(t,e),s(t,i),s(t,o),E(m,u,g),E(m,_,g),s(_,y),E(m,d,g),k.m(m,g),E(m,v,g)},p(m,g){g[0]&32768&&T!==(T=Ue(m[15],m[28])+"")&&me(y,T),I===(I=C(m))&&k?k.p(m,g):(k.d(1),k=I(m),k&&(k.c(),k.m(v.parentNode,v)))},d(m){m&&(n(t),n(u),n(_),n(d),n(v)),k.d(m)}}}function es(a){let t,e,l=a[25].toLowerCase()+"",i,o,u=a[29].toLowerCase()+"",_,T;return{c(){t=f("h3"),e=D("Distribution of "),i=D(l),o=D(" by "),_=D(u),T=D(" across the UK"),this.h()},l(y){t=h(y,"H3",{class:!0});var d=b(t);e=L(d,"Distribution of "),i=L(d,l),o=L(d," by "),_=L(d,u),T=L(d," across the UK"),d.forEach(n),this.h()},h(){c(t,"class","component-title")},m(y,d){E(y,t,d),s(t,e),s(t,i),s(t,o),s(t,_),s(t,T)},p:Ge,d(y){y&&n(t)}}}function ts(a){let t;return{c(){t=D(a[23])},l(e){t=L(e,a[23])},m(e,l){E(e,t,l)},p(e,l){l[0]&8388608&&me(t,e[23])},d(e){e&&n(t)}}}function ls(a){let t=a[5][a[3]]+"",e;return{c(){e=D(t)},l(l){e=L(l,t)},m(l,i){E(l,e,i)},p(l,i){i[0]&40&&t!==(t=l[5][l[3]]+"")&&me(e,t)},d(l){l&&n(e)}}}function as(a){let t,e,l=Ue(a[13],a[28])+"",i;return{c(){t=D("Average value: "),e=f("strong"),i=D(l),this.h()},l(o){t=L(o,"Average value: "),e=h(o,"STRONG",{style:!0});var u=b(e);i=L(u,l),u.forEach(n),this.h()},h(){Me(e,"color","#BD210E")},m(o,u){E(o,t,u),E(o,e,u),s(e,i)},p(o,u){u[0]&8192&&l!==(l=Ue(o[13],o[28])+"")&&me(i,l)},d(o){o&&(n(t),n(e))}}}function ss(a){let t;return{c(){t=D(" ")},l(e){t=L(e," ")},m(e,l){E(e,t,l)},p:Ge,d(e){e&&n(t)}}}function is(a){let t,e,l=Ue(a[16],a[28])+"",i,o,u;function _(d,v){return d[7]==d[2]?ns:rs}let T=_(a),y=T(a);return{c(){t=D("Min value: "),e=f("strong"),i=D(l),o=D(` \r
                    (`),y.c(),u=D(")")},l(d){t=L(d,"Min value: "),e=h(d,"STRONG",{});var v=b(e);i=L(v,l),v.forEach(n),o=L(d,` \r
                    (`),y.l(d),u=L(d,")")},m(d,v){E(d,t,v),E(d,e,v),s(e,i),E(d,o,v),y.m(d,v),E(d,u,v)},p(d,v){v[0]&65536&&l!==(l=Ue(d[16],d[28])+"")&&me(i,l),T===(T=_(d))&&y?y.p(d,v):(y.d(1),y=T(d),y&&(y.c(),y.m(u.parentNode,u)))},d(d){d&&(n(t),n(e),n(o),n(u)),y.d(d)}}}function os(a){let t,e,l=Ue(a[14],a[28])+"",i;return{c(){t=D("Most common category: "),e=f("strong"),i=D(l),this.h()},l(o){t=L(o,"Most common category: "),e=h(o,"STRONG",{style:!0});var u=b(e);i=L(u,l),u.forEach(n),this.h()},h(){Me(e,"color","#BD210E")},m(o,u){E(o,t,u),E(o,e,u),s(e,i)},p(o,u){u[0]&16384&&l!==(l=Ue(o[14],o[28])+"")&&me(i,l)},d(o){o&&(n(t),n(e))}}}function rs(a){let t;return{c(){t=D(a[22])},l(e){t=L(e,a[22])},m(e,l){E(e,t,l)},p(e,l){l[0]&4194304&&me(t,e[22])},d(e){e&&n(t)}}}function ns(a){let t=a[5][a[4]]+"",e;return{c(){e=D(t)},l(l){e=L(l,t)},m(l,i){E(l,e,i)},p(l,i){i[0]&48&&t!==(t=l[5][l[4]]+"")&&me(e,t)},d(l){l&&n(e)}}}function cs(a){let t=a[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).",e;return{c(){e=D(t)},l(l){e=L(l,t)},m(l,i){E(l,e,i)},p(l,i){i[0]&64&&t!==(t=l[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).")&&me(e,t)},d(l){l&&n(e)}}}function us(a){let t,e;return{c(){t=f("span"),e=D(`\r
                        Loading...`),this.h()},l(l){t=h(l,"SPAN",{class:!0}),b(t).forEach(n),e=L(l,`\r
                        Loading...`),this.h()},h(){c(t,"class","spinner svelte-1qi276a")},m(l,i){E(l,t,i),E(l,e,i)},p:Ge,d(l){l&&(n(t),n(e))}}}function xl(a){let t,e,l,i,o,u,_,T,y,d="Download Page Data",v,C;function I(g,V){return g[21]?fs:ds}let k=I(a),m=k(a);return{c(){t=f("div"),e=f("div"),l=f("span"),i=D(a[25]),o=D(" >>"),u=w(),_=f("button"),m.c(),T=w(),y=f("button"),y.textContent=d,this.h()},l(g){t=h(g,"DIV",{class:!0});var V=b(t);e=h(V,"DIV",{class:!0});var q=b(e);l=h(q,"SPAN",{class:!0});var A=b(l);i=L(A,a[25]),o=L(A," >>"),A.forEach(n),u=S(q),_=h(q,"BUTTON",{class:!0});var N=b(_);m.l(N),N.forEach(n),q.forEach(n),T=S(V),y=h(V,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(y)!=="svelte-vn9rs8"&&(y.textContent=d),V.forEach(n),this.h()},h(){c(l,"class","mini-header-text"),c(_,"class","switch-button-sticky svelte-1qi276a"),_.disabled=a[21],c(e,"class","mini-header-content"),c(y,"type","button"),c(y,"class","data-btn-sticky"),c(t,"class","mini-header")},m(g,V){E(g,t,V),s(t,e),s(e,l),s(l,i),s(l,o),s(e,u),s(e,_),m.m(_,null),s(t,T),s(t,y),v||(C=[It(_,"click",a[31]),It(y,"click",a[32])],v=!0)},p(g,V){k===(k=I(g))&&m?m.p(g,V):(m.d(1),m=k(g),m&&(m.c(),m.m(_,null))),V[0]&2097152&&(_.disabled=g[21])},d(g){g&&n(t),m.d(),v=!1,ea(C)}}}function ds(a){let t=a[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).",e;return{c(){e=D(t)},l(l){e=L(l,t)},m(l,i){E(l,e,i)},p(l,i){i[0]&64&&t!==(t=l[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).")&&me(e,t)},d(l){l&&n(e)}}}function fs(a){let t,e;return{c(){t=f("span"),e=D(`\r
                Loading...`),this.h()},l(l){t=h(l,"SPAN",{class:!0}),b(t).forEach(n),e=L(l,`\r
                Loading...`),this.h()},h(){c(t,"class","spinner svelte-1qi276a")},m(l,i){E(l,t,i),E(l,e,i)},p:Ge,d(l){l&&(n(t),n(e))}}}function hs(a){let t;return{c(){t=D("data zone (LSOA).")},l(e){t=L(e,"data zone (LSOA).")},m(e,l){E(e,t,l)},d(e){e&&n(t)}}}function ps(a){let t;return{c(){t=D("local authority (LAD).")},l(e){t=L(e,"local authority (LAD).")},m(e,l){E(e,t,l)},d(e){e&&n(t)}}}function Jl(a){let t,e,l,i,o="This chart includes negative values.";return{c(){t=f("img"),l=w(),i=f("span"),i.textContent=o,this.h()},l(u){t=h(u,"IMG",{class:!0,src:!0,alt:!0}),l=S(u),i=h(u,"SPAN",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-56pton"&&(i.textContent=o),this.h()},h(){c(t,"class","aggregation-icon"),vl(t.src,e=ta)||c(t,"src",e),c(t,"alt","icon"),c(i,"class","tooltip-text-neg svelte-1qi276a")},m(u,_){E(u,t,_),E(u,l,_),E(u,i,_)},d(u){u&&(n(t),n(l),n(i))}}}function _s(a){let t;return{c(){t=f("div"),this.h()},l(e){t=h(e,"DIV",{class:!0}),b(t).forEach(n),this.h()},h(){c(t,"class","plot svelte-1qi276a")},m(e,l){E(e,t,l),a[47](t)},p:Ge,d(e){e&&n(t),a[47](null)}}}function vs(a){let t;return{c(){t=f("div"),this.h()},l(e){t=h(e,"DIV",{class:!0}),b(t).forEach(n),this.h()},h(){c(t,"class","plot svelte-1qi276a")},m(e,l){E(e,t,l),a[46](t)},p:Ge,d(e){e&&n(t),a[46](null)}}}function Xl(a){let t,e,l=a[17].legend(a[29]).outerHTML+"";return{c(){t=f("div"),e=new ua(!1),this.h()},l(i){t=h(i,"DIV",{id:!0});var o=b(t);e=da(o,!1),o.forEach(n),this.h()},h(){e.a=null,c(t,"id","legend")},m(i,o){E(i,t,o),e.m(l,t)},p(i,o){o[0]&131072&&l!==(l=i[17].legend(i[29]).outerHTML+"")&&e.p(l)},d(i){i&&n(t)}}}function Zl(a){let t,e,l,i,o=a[74].def+"",u,_,T,y,d,v=a[74].id+"",C,I;return{c(){t=f("div"),e=f("div"),l=f("div"),i=w(),u=D(o),_=w(),T=f("br"),y=w(),d=f("a"),C=D(v),I=D(" report page"),this.h()},l(k){t=h(k,"DIV",{class:!0});var m=b(t);e=h(m,"DIV",{class:!0});var g=b(e);l=h(g,"DIV",{style:!0}),b(l).forEach(n),i=S(g),u=L(g,o),_=S(g),T=h(g,"BR",{}),y=S(g),d=h(g,"A",{class:!0,href:!0,target:!0,rel:!0,style:!0});var V=b(d);C=L(V,v),I=L(V," report page"),V.forEach(n),g.forEach(n),m.forEach(n),this.h()},h(){Me(l,"height","0.8em"),c(d,"class","link"),c(d,"href",Yt+"/cobenefit?cobenefit="+a[74].id),c(d,"target","_blank"),c(d,"rel","noopener noreferrer"),Me(d,"color",xt(a[74].id)),Me(d,"text-decoration","underline"),c(e,"class","legend-description svelte-1qi276a"),c(t,"class","legend-description-box svelte-1qi276a")},m(k,m){E(k,t,m),s(t,e),s(e,l),s(e,i),s(e,u),s(e,_),s(e,T),s(e,y),s(e,d),s(d,C),s(d,I)},d(k){k&&n(t)}}}function Ql(a){let t,e,l,i,o,u=a[74].label+"",_,T,y,d,v=a[20].has(a[74].id)?"▲":"▼",C,I,k=a[20].has(a[74].id),m,g,V;function q(){return a[49](a[74])}let A=k&&Zl(a);return{c(){t=f("div"),e=f("div"),l=f("span"),i=w(),o=f("span"),_=D(u),y=w(),d=f("span"),C=D(v),I=w(),A&&A.c(),m=w(),this.h()},l(N){t=h(N,"DIV",{class:!0});var B=b(t);e=h(B,"DIV",{class:!0,style:!0});var j=b(e);l=h(j,"SPAN",{class:!0,style:!0}),b(l).forEach(n),i=S(j),o=h(j,"SPAN",{class:!0});var Ee=b(o);_=L(Ee,u),Ee.forEach(n),y=S(j),d=h(j,"SPAN",{class:!0});var J=b(d);C=L(J,v),J.forEach(n),j.forEach(n),I=S(B),A&&A.l(B),m=S(B),B.forEach(n),this.h()},h(){c(l,"class","legend-color svelte-1qi276a"),Me(l,"background-color",xt(a[74].id)),c(o,"class",T="legend-text "+(a[20].has(a[74].id)?"expanded":"")+" svelte-1qi276a"),c(d,"class","toggle-icon svelte-1qi276a"),c(e,"class","legend-header svelte-1qi276a"),Me(e,"cursor","pointer"),c(t,"class","legend-item svelte-1qi276a")},m(N,B){E(N,t,B),s(t,e),s(e,l),s(e,i),s(e,o),s(o,_),s(e,y),s(e,d),s(d,C),s(t,I),A&&A.m(t,null),s(t,m),g||(V=It(e,"click",q),g=!0)},p(N,B){a=N,B[0]&1048576&&T!==(T="legend-text "+(a[20].has(a[74].id)?"expanded":"")+" svelte-1qi276a")&&c(o,"class",T),B[0]&1048576&&v!==(v=a[20].has(a[74].id)?"▲":"▼")&&me(C,v),B[0]&1048576&&(k=a[20].has(a[74].id)),k?A||(A=Zl(a),A.c(),A.m(t,m)):A&&(A.d(1),A=null)},d(N){N&&n(t),A&&A.d(),g=!1,V()}}}function ms(a){let t,e=`<img class="sm-icon svelte-1qi276a" src="${Jt}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each area.</span>`;return{c(){t=f("div"),t.innerHTML=e,this.h()},l(l){t=h(l,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1lqh0bd"&&(t.innerHTML=e),this.h()},h(){c(t,"class","tooltip-wrapper")},m(l,i){E(l,t,i)},d(l){l&&n(t)}}}function bs(a){let t,e=`<img class="sm-icon svelte-1qi276a" src="${Jt}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each area.</span>`,l,i,o=`<img class="sm-icon svelte-1qi276a" src="${ta}" alt="icon"/> <span class="tooltip-text-neg svelte-1qi276a">This chart includes negative values.</span>`;return{c(){t=f("div"),t.innerHTML=e,l=w(),i=f("div"),i.innerHTML=o,this.h()},l(u){t=h(u,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1tqucbd"&&(t.innerHTML=e),l=S(u),i=h(u,"DIV",{class:!0,"data-svelte-h":!0}),se(i)!=="svelte-10ijo5a"&&(i.innerHTML=o),this.h()},h(){c(t,"class","tooltip-wrapper"),c(i,"class","tooltip-wrapper")},m(u,_){E(u,t,_),E(u,l,_),E(u,i,_)},d(u){u&&(n(t),n(l),n(i))}}}function gs(a){let t,e=a[74];const l=()=>a[51](t,e),i=()=>a[51](null,e);return{c(){t=f("div"),this.h()},l(o){t=h(o,"DIV",{class:!0}),b(t).forEach(n),this.h()},h(){c(t,"class","plot svelte-1qi276a")},m(o,u){E(o,t,u),l()},p(o,u){a=o,e!==a[74]&&(i(),e=a[74],l())},d(o){o&&n(t),i()}}}function ys(a){let t,e=a[74];const l=()=>a[50](t,e),i=()=>a[50](null,e);return{c(){t=f("div"),this.h()},l(o){t=h(o,"DIV",{class:!0}),b(t).forEach(n),this.h()},h(){c(t,"class","plot svelte-1qi276a")},m(o,u){E(o,t,u),l()},p(o,u){a=o,e!==a[74]&&(i(),e=a[74],l())},d(o){o&&n(t),i()}}}function $l(a){let t,e,l,i,o,u,_=a[74].label+"",T,y,d,v;function C(q,A){return q[74].id=="Longer travel times"||q[74].id=="Road repairs"||q[74].id=="Road safety"||q[74].id=="Congestion"||q[74].id=="Excess heat"?bs:ms}let k=C(a)(a);function m(q,A){return Xe.includes(q[24])?ys:gs}let V=m(a)(a);return{c(){t=f("div"),e=f("div"),l=f("img"),o=w(),u=f("h3"),T=D(_),y=w(),k.c(),d=w(),V.c(),v=w(),this.h()},l(q){t=h(q,"DIV",{class:!0});var A=b(t);e=h(A,"DIV",{class:!0});var N=b(e);l=h(N,"IMG",{class:!0,src:!0,alt:!0}),o=S(N),u=h(N,"H3",{class:!0});var B=b(u);T=L(B,_),B.forEach(n),y=S(N),k.l(N),N.forEach(n),d=S(A),V.l(A),v=S(A),A.forEach(n),this.h()},h(){c(l,"class","sm-cb-icon svelte-1qi276a"),vl(l.src,i=Va(a[74].id))||c(l,"src",i),c(l,"alt",a[74].label+" icon"),c(u,"class","chart-component-title"),c(e,"class","component-chart-title-container svelte-1qi276a"),c(t,"class","plot-container svelte-1qi276a")},m(q,A){E(q,t,A),s(t,e),s(e,l),s(e,o),s(e,u),s(u,T),s(e,y),k.m(e,null),s(t,d),V.m(t,null),s(t,v)},p(q,A){V.p(q,A)},d(q){q&&n(t),k.d(),V.d()}}}function ks(a){let t,e,l,i,o,u,_,T="Socio-Economic Factor Report",y,d,v,C,I,k,m,g,V,q,A,N="Download Page Data",B,j,Ee,J,we,Ze,X,be,ie,ge,ne,te,We,U,W,ye,Se,Tt='<p class="section-subtitle svelte-1qi276a">Overview</p>',ct,G,Z,ce,Qe,$e,ut,z,Q,Oe,Pe,oe,ue,qt,pe,ke,et="This chart uses per capita values. i.e. shows the cost/benefit per person in each area.",dt,Ce,ft,K,Ve,ht,pt,_t,Ie,Nt="Scroll for zooming in and out.",vt,Te,Mt=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Jt}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each area.</span></div>`,mt,tt,qe,bt,De,r,F='<p class="section-subtitle svelte-1qi276a">By Co-benefits</p>',O,le,R,H,de,_e=a[25].toLowerCase()+"",Xt,Zt,Qt,je,ml="Each plot shows the distribution of benefits or costs for each of the 11 co-benefits.",$t,el,tl,re,lt,bl="Co-benefits:",ll,al,gt,sl,il,Fe,gl='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Varying y-axis scales:</strong> The scatter plots have different scales on the y-axis due to the nature of each co-benefit.</p>',ol,Ke,Be,Ot,Ye,yt,rl,yl;t=new pa({});function la(p,P){return Xe.includes(p[24])?Qa:Za}let kt=la(a)(a);function aa(p,P){return Xe.includes(p[24])?es:$a}let Dt=aa(a)(a);function sa(p,P){return Xe.includes(p[24])?ss:as}let Lt=sa(a)(a);function ia(p,P){return Xe.includes(p[24])?os:is}let At=ia(a)(a);function kl(p,P){return p[21]?us:cs}let Pt=kl(a),ve=Pt(a),$=a[19]&&xl(a);function Dl(p,P){return p[7]==p[2]?ps:hs}let Ft=Dl(a),Ne=Ft(a),ae=a[6]&&Jl();function oa(p,P){return Xe.includes(p[24])?vs:_s}let Et=oa(a)(a),ee=a[17]&&Xl(a),at=Wt(jt),Y=[];for(let p=0;p<at.length;p+=1)Y[p]=Ql(Yl(a,at,p));let st=Wt(jt),x=[];for(let p=0;p<st.length;p+=1)x[p]=$l(Kl(a,st,p));return Ye=new za({}),{c(){Pl(t.$$.fragment),e=w(),l=f("div"),i=f("div"),o=f("div"),u=f("div"),_=f("p"),_.textContent=T,y=w(),d=f("div"),v=f("h1"),C=D(a[27]),I=w(),k=f("p"),m=D(a[26]),g=w(),V=f("br"),q=w(),A=f("button"),A.textContent=N,B=w(),j=f("div"),kt.c(),Ee=w(),J=f("div"),we=f("p"),Dt.c(),Ze=w(),X=f("p"),Lt.c(),be=w(),ie=f("p"),At.c(),ge=w(),ne=f("div"),te=f("button"),ve.c(),We=w(),$&&$.c(),U=w(),W=f("div"),ye=f("div"),Se=f("div"),Se.innerHTML=Tt,ct=w(),G=f("div"),Z=f("div"),ce=f("h3"),Qe=D(a[25]),$e=D(" against per capita co-benefit values (£, thousand)"),ut=w(),z=f("p"),Q=D(`Each point in the chart below represents a UK \r
                        `),Ne.c(),Oe=w(),Pe=f("div"),oe=f("div"),ue=f("img"),pe=w(),ke=f("span"),ke.textContent=et,dt=w(),ae&&ae.c(),Ce=w(),Et.c(),ft=w(),K=f("div"),Ve=f("h3"),ht=D(a[25]),pt=D(" at data zone (LSOA) level"),_t=w(),Ie=f("p"),Ie.textContent=Nt,vt=w(),Te=f("div"),Te.innerHTML=Mt,mt=w(),ee&&ee.c(),tt=w(),qe=f("div"),bt=w(),De=f("div"),r=f("div"),r.innerHTML=F,O=w(),le=f("div"),R=f("div"),H=f("h3"),de=D(`Plotting \r
                    \r
                    `),Xt=D(_e),Zt=D(`\r
                \r
                against the gain/loss (£, thousand) per capita for each co-benefit`),Qt=w(),je=f("p"),je.textContent=ml,$t=w(),el=f("br"),tl=w(),re=f("div"),lt=f("strong"),lt.textContent=bl,ll=f("br"),al=D(`Expand for detailed explanation\r
                    `),gt=f("div"),sl=w();for(let p=0;p<Y.length;p+=1)Y[p].c();il=w(),Fe=f("div"),Fe.innerHTML=gl,ol=w(),Ke=f("div"),Be=f("div");for(let p=0;p<x.length;p+=1)x[p].c();Ot=w(),Pl(Ye.$$.fragment),this.h()},l(p){Fl(t.$$.fragment,p),e=S(p),l=h(p,"DIV",{class:!0});var P=b(l);i=h(P,"DIV",{class:!0});var M=b(i);o=h(M,"DIV",{class:!0});var fe=b(o);u=h(fe,"DIV",{class:!0});var Bt=b(u);_=h(Bt,"P",{class:!0,"data-svelte-h":!0}),se(_)!=="svelte-16ymxs7"&&(_.textContent=T),y=S(Bt),d=h(Bt,"DIV",{class:!0});var He=b(d);v=h(He,"H1",{class:!0});var Ll=b(v);C=L(Ll,a[27]),Ll.forEach(n),I=S(He),k=h(He,"P",{class:!0});var Al=b(k);m=L(Al,a[26]),Al.forEach(n),g=S(He),V=h(He,"BR",{}),q=S(He),A=h(He,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(A)!=="svelte-1d58oxe"&&(A.textContent=N),He.forEach(n),Bt.forEach(n),B=S(fe),j=h(fe,"DIV",{class:!0});var El=b(j);kt.l(El),El.forEach(n),Ee=S(fe),J=h(fe,"DIV",{class:!0});var it=b(J);we=h(it,"P",{class:!0});var wl=b(we);Dt.l(wl),wl.forEach(n),Ze=S(it),X=h(it,"P",{class:!0});var Sl=b(X);Lt.l(Sl),Sl.forEach(n),be=S(it),ie=h(it,"P",{class:!0});var Cl=b(ie);At.l(Cl),Cl.forEach(n),it.forEach(n),fe.forEach(n),M.forEach(n),ge=S(P),ne=h(P,"DIV",{class:!0});var Vl=b(ne);te=h(Vl,"BUTTON",{class:!0});var Il=b(te);ve.l(Il),Il.forEach(n),Vl.forEach(n),We=S(P),$&&$.l(P),U=S(P),W=h(P,"DIV",{class:!0});var Tl=b(W);ye=h(Tl,"DIV",{id:!0});var Ht=b(ye);Se=h(Ht,"DIV",{class:!0,"data-svelte-h":!0}),se(Se)!=="svelte-ll1i43"&&(Se.innerHTML=Tt),ct=S(Ht),G=h(Ht,"DIV",{id:!0,class:!0});var Rt=b(G);Z=h(Rt,"DIV",{class:!0});var Re=b(Z);ce=h(Re,"H3",{class:!0});var nl=b(ce);Qe=L(nl,a[25]),$e=L(nl," against per capita co-benefit values (£, thousand)"),nl.forEach(n),ut=S(Re),z=h(Re,"P",{class:!0});var cl=b(z);Q=L(cl,`Each point in the chart below represents a UK \r
                        `),Ne.l(cl),cl.forEach(n),Oe=S(Re),Pe=h(Re,"DIV",{class:!0});var ql=b(Pe);oe=h(ql,"DIV",{class:!0});var ot=b(oe);ue=h(ot,"IMG",{class:!0,src:!0,alt:!0}),pe=S(ot),ke=h(ot,"SPAN",{class:!0,"data-svelte-h":!0}),se(ke)!=="svelte-1iyw7e6"&&(ke.textContent=et),dt=S(ot),ae&&ae.l(ot),ot.forEach(n),ql.forEach(n),Ce=S(Re),Et.l(Re),Re.forEach(n),ft=S(Rt),K=h(Rt,"DIV",{class:!0});var Le=b(K);Ve=h(Le,"H3",{class:!0});var ul=b(Ve);ht=L(ul,a[25]),pt=L(ul," at data zone (LSOA) level"),ul.forEach(n),_t=S(Le),Ie=h(Le,"P",{class:!0,"data-svelte-h":!0}),se(Ie)!=="svelte-1ask2se"&&(Ie.textContent=Nt),vt=S(Le),Te=h(Le,"DIV",{class:!0,"data-svelte-h":!0}),se(Te)!=="svelte-7b2hds"&&(Te.innerHTML=Mt),mt=S(Le),ee&&ee.l(Le),tt=S(Le),qe=h(Le,"DIV",{id:!0,class:!0}),b(qe).forEach(n),Le.forEach(n),Rt.forEach(n),Ht.forEach(n),Tl.forEach(n),bt=S(P),De=h(P,"DIV",{id:!0});var zt=b(De);r=h(zt,"DIV",{class:!0,"data-svelte-h":!0}),se(r)!=="svelte-1av3fse"&&(r.innerHTML=F),O=S(zt),le=h(zt,"DIV",{id:!0,class:!0,style:!0});var Ut=b(le);R=h(Ut,"DIV",{id:!0,class:!0});var Ae=b(R);H=h(Ae,"H3",{class:!0});var Gt=b(H);de=L(Gt,`Plotting \r
                    \r
                    `),Xt=L(Gt,_e),Zt=L(Gt,`\r
                \r
                against the gain/loss (£, thousand) per capita for each co-benefit`),Gt.forEach(n),Qt=S(Ae),je=h(Ae,"P",{class:!0,"data-svelte-h":!0}),se(je)!=="svelte-1h97e3k"&&(je.textContent=ml),$t=S(Ae),el=h(Ae,"BR",{}),tl=S(Ae),re=h(Ae,"DIV",{id:!0,class:!0});var xe=b(re);lt=h(xe,"STRONG",{"data-svelte-h":!0}),se(lt)!=="svelte-1qu96kx"&&(lt.textContent=bl),ll=h(xe,"BR",{}),al=L(xe,`Expand for detailed explanation\r
                    `),gt=h(xe,"DIV",{style:!0}),b(gt).forEach(n),sl=S(xe);for(let Je=0;Je<Y.length;Je+=1)Y[Je].l(xe);xe.forEach(n),il=S(Ae),Fe=h(Ae,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),se(Fe)!=="svelte-11g4vkg"&&(Fe.innerHTML=gl),Ae.forEach(n),ol=S(Ut),Ke=h(Ut,"DIV",{id:!0,class:!0});var Nl=b(Ke);Be=h(Nl,"DIV",{id:!0,class:!0});var Ml=b(Be);for(let Je=0;Je<x.length;Je+=1)x[Je].l(Ml);Ml.forEach(n),Nl.forEach(n),Ut.forEach(n),zt.forEach(n),P.forEach(n),Ot=S(p),Fl(Ye.$$.fragment,p),this.h()},h(){c(_,"class","page-subtitle svelte-1qi276a"),c(v,"class","page-title svelte-1qi276a"),c(k,"class","definition"),c(A,"type","button"),c(A,"class","data-btn"),c(d,"class","title-container"),c(u,"class","header-text svelte-1qi276a"),c(j,"class","header-vis svelte-1qi276a"),c(we,"class","definition-stat svelte-1qi276a"),c(X,"class","definition-stat svelte-1qi276a"),c(ie,"class","definition-stat svelte-1qi276a"),c(J,"class","header-stats svelte-1qi276a"),c(o,"class","header-content svelte-1qi276a"),c(i,"class","section header svelte-1qi276a"),c(te,"class","switch-button svelte-1qi276a"),te.disabled=a[21],c(ne,"class","button-wrapper svelte-1qi276a"),c(Se,"class","section-header"),c(ce,"class","component-title"),c(z,"class","description"),c(ue,"class","aggregation-icon"),vl(ue.src,qt=Jt)||c(ue,"src",qt),c(ue,"alt","icon"),c(ke,"class","tooltip-text"),c(oe,"class","tooltip-wrapper"),c(Pe,"class","aggregation-icon-container2 svelte-1qi276a"),c(Z,"class","component column"),c(Ve,"class","component-title"),c(Ie,"class","description"),c(Te,"class","aggregation-icon-container2 svelte-1qi276a"),c(qe,"id","map"),c(qe,"class","svelte-1qi276a"),c(K,"class","component column"),c(G,"id","vis-block"),c(G,"class","svelte-1qi276a"),c(ye,"id","overview"),c(W,"class","section"),c(r,"class","section-header"),c(H,"class","component-title"),c(je,"class","explanation"),Me(gt,"height","0.8em"),c(re,"id","main-legend"),c(re,"class","legend-box svelte-1qi276a"),c(Fe,"id","se-disclaimer"),c(Fe,"class","disclaimer-box svelte-1qi276a"),c(R,"id","se-title"),c(R,"class","svelte-1qi276a"),c(Be,"id","multiple-plots"),c(Be,"class","svelte-1qi276a"),c(Ke,"id","multiple-comp"),c(Ke,"class","svelte-1qi276a"),c(le,"id","se-block"),c(le,"class","component svelte-1qi276a"),Me(le,"margin-left","1rem"),c(De,"id","compare"),c(l,"class","page-container")},m(p,P){Bl(t,p,P),E(p,e,P),E(p,l,P),s(l,i),s(i,o),s(o,u),s(u,_),s(u,y),s(u,d),s(d,v),s(v,C),s(d,I),s(d,k),s(k,m),s(d,g),s(d,V),s(d,q),s(d,A),s(o,B),s(o,j),kt.m(j,null),s(o,Ee),s(o,J),s(J,we),Dt.m(we,null),s(J,Ze),s(J,X),Lt.m(X,null),s(J,be),s(J,ie),At.m(ie,null),s(l,ge),s(l,ne),s(ne,te),ve.m(te,null),s(l,We),$&&$.m(l,null),s(l,U),s(l,W),s(W,ye),s(ye,Se),s(ye,ct),s(ye,G),s(G,Z),s(Z,ce),s(ce,Qe),s(ce,$e),s(Z,ut),s(Z,z),s(z,Q),Ne.m(z,null),s(Z,Oe),s(Z,Pe),s(Pe,oe),s(oe,ue),s(oe,pe),s(oe,ke),s(oe,dt),ae&&ae.m(oe,null),s(Z,Ce),Et.m(Z,null),s(G,ft),s(G,K),s(K,Ve),s(Ve,ht),s(Ve,pt),s(K,_t),s(K,Ie),s(K,vt),s(K,Te),s(K,mt),ee&&ee.m(K,null),s(K,tt),s(K,qe),a[48](qe),s(l,bt),s(l,De),s(De,r),s(De,O),s(De,le),s(le,R),s(R,H),s(H,de),s(H,Xt),s(H,Zt),s(R,Qt),s(R,je),s(R,$t),s(R,el),s(R,tl),s(R,re),s(re,lt),s(re,ll),s(re,al),s(re,gt),s(re,sl);for(let M=0;M<Y.length;M+=1)Y[M]&&Y[M].m(re,null);s(R,il),s(R,Fe),s(le,ol),s(le,Ke),s(Ke,Be);for(let M=0;M<x.length;M+=1)x[M]&&x[M].m(Be,null);a[52](l),E(p,Ot,P),Bl(Ye,p,P),yt=!0,rl||(yl=[It(A,"click",a[32]),It(te,"click",a[31])],rl=!0)},p(p,P){if(kt.p(p,P),Dt.p(p,P),Lt.p(p,P),At.p(p,P),Pt===(Pt=kl(p))&&ve?ve.p(p,P):(ve.d(1),ve=Pt(p),ve&&(ve.c(),ve.m(te,null))),(!yt||P[0]&2097152)&&(te.disabled=p[21]),p[19]?$?$.p(p,P):($=xl(p),$.c(),$.m(l,U)):$&&($.d(1),$=null),Ft!==(Ft=Dl(p))&&(Ne.d(1),Ne=Ft(p),Ne&&(Ne.c(),Ne.m(z,null))),p[6]?ae||(ae=Jl(),ae.c(),ae.m(oe,null)):ae&&(ae.d(1),ae=null),Et.p(p,P),p[17]?ee?ee.p(p,P):(ee=Xl(p),ee.c(),ee.m(K,tt)):ee&&(ee.d(1),ee=null),P[0]&1074790400){at=Wt(jt);let M;for(M=0;M<at.length;M+=1){const fe=Yl(p,at,M);Y[M]?Y[M].p(fe,P):(Y[M]=Ql(fe),Y[M].c(),Y[M].m(re,null))}for(;M<Y.length;M+=1)Y[M].d(1);Y.length=at.length}if(P[0]&16777219){st=Wt(jt);let M;for(M=0;M<st.length;M+=1){const fe=Kl(p,st,M);x[M]?x[M].p(fe,P):(x[M]=$l(fe),x[M].c(),x[M].m(Be,null))}for(;M<x.length;M+=1)x[M].d(1);x.length=st.length}},i(p){yt||(Hl(t.$$.fragment,p),Hl(Ye.$$.fragment,p),yt=!0)},o(p){Rl(t.$$.fragment,p),Rl(Ye.$$.fragment,p),yt=!1},d(p){p&&(n(e),n(l),n(Ot)),zl(t,p),kt.d(),Dt.d(),Lt.d(),At.d(),ve.d(),$&&$.d(),Ne.d(),ae&&ae.d(),Et.d(),ee&&ee.d(),a[48](null),Ol(Y,p),Ol(x,p),a[52](null),zl(Ye,p),rl=!1,ea(yl)}}}let he=400;function Ue(a,t){return t==="£"?`${t}${a}`:`${a} ${t}`}function Ds(a,t,e){let l,i,o,u;const _=`${Yt}/LAD/Eng_Wales_LSOA_LADs.csv`,T=`${Yt}/LAD/NI_DZ_LAD.csv`,y=`${Yt}/LAD/Scotland_DZ_LA.csv`;let d,v,C,I,k,m={},g={},V,q,A,N,B,j=!1,Ee,J,we,Ze,X,be,ie,ge,ne,te,{data:We}=t;const U=We.SEF,W=La.find(r=>r.id===U)?.id??U,ye=Aa.find(r=>r.id===U)?.label??U,Se=Ea.find(r=>r.id===U)?.def??U,Tt=wa.find(r=>r.id===U)?.description??U,ct=Sa.find(r=>r.id===U)?.short_units??U,G=Ca.find(r=>r.id===U)?.units??U;let Z,ce,Qe=!1,$e="";const ut=["overview","compare"],z={},Q={};let Oe=!1;async function Pe(){try{const r=new Set,F=await pl(_);for(let R of F){const H=R.LAD22CD?.trim(),de=R.LAD22NM?.trim(),_e=R.LSOA11CD?.trim();_e&&H&&e(42,Q[_e]=H,Q),!r.has(H)&&H&&de&&(e(5,z[H]=de,z),r.add(H))}const O=await pl(T);for(let R of O){const H=R.LGD2014_code?.trim(),de=R.LGD2014_name?.trim(),_e=R.DZ2021_code?.trim();_e&&H&&e(42,Q[_e]=H,Q),!r.has(H)&&H&&de&&(e(5,z[H]=de,z),r.add(H))}const le=await pl(y);for(let R of le){const H=R.LA_Code?.trim(),de=R.LA_Name?.trim(),_e=R.DZ2011_Code?.trim();_e&&H&&e(42,Q[_e]=H,Q),!r.has(H)&&H&&de&&(e(5,z[H]=de,z),r.add(H))}e(43,Oe=!0),console.log("Loaded LAD names:",Object.keys(z).length,z),console.log("SmallArea → LAD mapping:",Object.keys(Q).length,Q)}catch(r){console.error("Error loading LAD names:",r)}}function oe(r){if(!r)return"Unknown";const F=Q[r];return F?z[F]||"Unknown Name":"Unknown LAD"}Pe();function ue(){const r=window.scrollY;e(19,Qe=r>250);for(const F of ut){const O=document.getElementById(F);if(!O)continue;const le=O.getBoundingClientRect();if(le.top<=150&&le.bottom>=150){$e!==F&&dl.capture("section entered (sef)",{section_name:F}),$e=F;break}}}na(()=>(Ia(d),window.addEventListener("scroll",ue),ue(),()=>window.removeEventListener("scroll",ue))),ca(()=>{window.removeEventListener("scroll",ue)});async function qt(){e(34,V=await Vt(Pa(U))),console.log("totals",V),e(2,N=await Vt(Fa(U))),console.log("LAD data 1 ",N),e(35,q=await Vt(Ba(U))),console.log("by cobens",q),e(36,B=await Vt(Ha(U))),console.log("LADsef",B),A=await Vt(Ra()),console.log("per_capita_data",A),fl.forEach(r=>{e(35,q[r]=+q[r],q)}),e(37,j=!0),Ta(d)}qt().then(()=>{e(17,Z=new Da(V,"LSOA",ce,"val",!1,"Lookup_Value",!1)),Z.initMap()});let pe=new Set;function ke(r){pe.has(r)?pe.delete(r):pe.add(r),e(20,pe=new Set(pe))}let et=!1;function dt(){e(21,et=!0),setTimeout(()=>{e(6,Ce=!Ce),e(21,et=!1)},1e3)}let Ce=!0;function ft(){const r=Ul(V,F=>F.val)??0;Wa(Xa().thresholds(20).value(F=>F.val)(V),F=>F.length),e(9,v.innerHTML="",v),v?.append(rt({height:he/1.9,width:he*1.7,marginLeft:60,marginTop:30,marginRight:20,marginBottom:50,x:{label:`${G}`},y:{label:l===N?"No. of LADs":"No. of LSOAs",labelArrow:!1},style:{fontSize:"16px"},marks:[ga(l,Ya({y:"count"},{x:{value:"val",thresholds:20},fill:"black",fillOpacity:.5,stroke:"black",srokeWidth:5})),nt([r],{stroke:"#BD210E",strokeWidth:4,channels:{average:{value:r,label:"Average"}},tip:{format:{average:F=>`${F.toFixed(2)}`,x:!1}}}),wt({label:`${G}`,labelArrow:!1,labelAnchor:"center"})]}))}function K(){const r=Wl[W],F=r?Object.keys(r).map(Number):l.filter(O=>O.SEFMAME==W).map(O=>O.SE);e(11,I.innerHTML="",I),I?.append(rt({height:he/1.9,width:he*1.7,marginLeft:60,marginTop:30,marginRight:20,marginBottom:W==="Typology"?80:50,x:{domain:F,label:Oa(W),tickFormat:O=>r?.[O]??O,tickRotate:W==="Typology"?-10:0,padding:.5},style:{fontSize:"16px"},marks:[St([0],{stroke:"#333",strokeWidth:.75}),nt([0],{stroke:"#333",strokeWidth:.75}),ya(l,Gl({y:"count"},{x:"val",fill:"black",opacity:.5,tooltip:!0,title:O=>`Count: ${O.count}`})),ka(l,Gl({y:"count",text:"count"},{x:"val",text:O=>O.count,dy:-15,fill:"#333",fontWeight:500})),Ct({label:l===N?"No. of LADs":"No. of LSOAs",labelArrow:!1})]}))}function Ve(){e(10,C.innerHTML="",C),C?.append(rt({height:he*1.5,width:he*2,marginLeft:60,marginTop:60,marginRight:10,marginBottom:60,x:{grid:!1},y:{grid:!0},style:{fontSize:"16px"},marks:[St([0],{stroke:"#333",strokeWidth:.75}),nt([0],{stroke:"#333",strokeWidth:.75}),Kt(l,{x:W=="Rurality"?r=>r.val+(Math.random()-.5)*.02:r=>r.val,y:r=>r.total_per_capita*1e3,fill:r=>r.total_per_capita<0?"#BD210E":"#242424",r:l===N?4:.9,fillOpacity:.75,channels:{location:{value:r=>l===N?z[r.Lookup_Value]||"Unknown":oe(r.Lookup_Value),label:"Location"},sef:{value:"val",label:`${G}`},value:{value:r=>r.total_per_capita*1e3,label:"Co-Benefit Value (£, thousand)"}},tip:{format:{location:!0,sef:!0,value:!0,x:!1,y:!1}}}),Ct({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"center"}),wt({label:`${G}`,labelArrow:!1,labelAnchor:"center"})]}))}function ht(){e(12,k.innerHTML="",k),k?.append(rt({height:he*1.5,width:he*2,marginLeft:60,marginTop:60,marginRight:10,marginBottom:60,x:{grid:!1},y:{grid:!0},style:{fontSize:"16px"},marks:[St([0],{stroke:"#333",strokeWidth:1.25}),nt([0],{stroke:"#333",strokeWidth:.75}),Kt(l,{x:i===B?r=>r.val+(Math.random()-.5)*.05:r=>r.val+(Math.random()-.5)*.1,y:r=>r.total_per_capita*1e3,fill:r=>r.total_per_capita<0?"#BD210E":"#242424",r:l===N?4:.9,fillOpacity:.75,channels:{location:{value:"Lookup_Value",label:"Location"},sef:{value:"val",label:`${G}`},value:{value:r=>r.total_per_capita*1e3,label:"Co-Benefit Value (£, thousand)"}},tip:{format:{location:!0,sef:!0,value:!0,x:!1,y:!1}}}),Ct({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"center"}),wt({label:`${G}`,labelArrow:!1,labelAnchor:"center"})]}))}function pt(){fl.forEach(r=>{let F;F=rt({height:he,width:he,marginLeft:r==="Excess heat"?80:60,marginTop:40,marginRight:10,marginBottom:50,x:{label:null},y:{label:null},style:{fontSize:"14px"},marks:[St([0],{stroke:"#333",strokeWidth:1.25}),nt([0],{stroke:"#333",strokeWidth:.75}),Kt(i.filter(O=>O.co_benefit_type==r),{x:W=="Rurality"?O=>O.val+(Math.random()-.5)*.02:O=>O.val,y:"total",fill:xt(r),fillOpacity:.5,r:i===B?3.5:.5,channels:{location:{value:O=>l===N?z[O.Lookup_Value]||"Unknown":oe(O.Lookup_Value),label:"Location"}},tip:{format:{location:!0,x:!1,y:!1}}}),Ct({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"top"}),wt({label:`${G}`,labelArrow:!1,labelAnchor:"center"})]}),m[r]?.append(F)})}function _t(){fl.forEach(r=>{let F;F=rt({height:he,width:he,marginLeft:60,marginTop:40,marginRight:10,marginBottom:50,x:{label:null},y:{label:null},style:{fontSize:"14px"},marks:[St([0],{stroke:"#333",strokeWidth:1.25}),nt([0],{stroke:"#333",strokeWidth:.75}),Kt(i.filter(O=>O.co_benefit_type==r),{x:i===B?O=>O.val+(Math.random()-.5)*.1:O=>O.val+(Math.random()-.5)*.2,y:"total",fill:xt(r),fillOpacity:.5,r:i===B?3.5:.5,channels:{location:{value:"Lookup_Value",label:"Location"}},tip:{format:{location:!0,x:!1,y:!1}}}),Ct({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"top"}),wt({label:`${G}`,labelArrow:!1,labelAnchor:"center"})]}),g[r]?.append(F)})}function Ie(){let r=V;r.forEach(O=>{delete O.scenario});const F=qa(r);Na(F,`cobenefits_${W}.csv`),Ma("/Scotland_co-benefits_CB7_2045.pdf","readme.pdf")}function Nt(r){ze[r?"unshift":"push"](()=>{I=r,e(11,I)})}function vt(r){ze[r?"unshift":"push"](()=>{v=r,e(9,v)})}function Te(r){ze[r?"unshift":"push"](()=>{k=r,e(12,k)})}function Mt(r){ze[r?"unshift":"push"](()=>{C=r,e(10,C)})}function mt(r){ze[r?"unshift":"push"](()=>{ce=r,e(18,ce)})}const tt=r=>{const F=pe.has(r.id);ke(r.id),F?dl.capture("cobenefit closed",{cobenefit:r.label}):dl.capture("cobenefit opened",{cobenefit:r.label})};function qe(r,F){ze[r?"unshift":"push"](()=>{g[F.id]=r,e(1,g)})}function bt(r,F){ze[r?"unshift":"push"](()=>{m[F.id]=r,e(0,m)})}function De(r){ze[r?"unshift":"push"](()=>{d=r,e(8,d)})}return a.$$set=r=>{"data"in r&&e(33,We=r.data)},a.$$.update=()=>{a.$$.dirty[0]&68|a.$$.dirty[1]&8&&e(7,l=Ce?N:V),a.$$.dirty[0]&64|a.$$.dirty[1]&48&&(i=Ce?B:q),a.$$.dirty[0]&128&&e(13,Ee=l?(Ul(l,r=>r.val)??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&128&&e(40,ne=l?va(l,r=>r.val):null),a.$$.dirty[1]&1536&&e(14,J=ne!=null&&te?te[ne]??ne:"N/A"),a.$$.dirty[0]&128&&e(38,be=l?ma(l,r=>r.val):-1),a.$$.dirty[0]&128|a.$$.dirty[1]&128&&e(3,X=be!==-1&&l?l[be].Lookup_Value?.trim()??"N/A":"N/A"),a.$$.dirty[0]&128|a.$$.dirty[1]&128&&e(15,we=be!==-1&&l?(l[be].val??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&128&&e(39,ge=l?ba(l,r=>r.val):-1),a.$$.dirty[0]&128|a.$$.dirty[1]&256&&e(4,ie=ge!==-1&&l?l[ge].Lookup_Value?.trim()??"N/A":"N/A"),a.$$.dirty[0]&128|a.$$.dirty[1]&256&&e(16,Ze=ge!==-1&&l?(l[ge].val??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&172|a.$$.dirty[1]&6144&&e(23,o=Oe&&X!=="N/A"?l===N?z[X]??X:z[Q[X]]??X:"Loading..."),a.$$.dirty[0]&180|a.$$.dirty[1]&6144&&e(22,u=Oe&&ie!=="N/A"?l===N?z[ie]??ie:z[Q[ie]]??ie:"Loading..."),a.$$.dirty[0]&8&&console.log("maxLookupValue:",X),a.$$.dirty[0]&40&&console.log("LAD name for maxLookupValue:",z[X]),a.$$.dirty[0]&131|a.$$.dirty[1]&64&&(Object.values(m).forEach(r=>{r.firstChild?.remove()}),Object.values(g).forEach(r=>{r.firstChild?.remove()}),j&&l&&(Xe.includes(W)?(K(),_t(),ht()):(Ve(),pt(),ft())))},e(41,te=Wl[W]),[m,g,N,X,ie,z,Ce,l,d,v,C,I,k,Ee,J,we,Ze,Z,ce,Qe,pe,et,u,o,W,ye,Se,Tt,ct,G,ke,dt,Ie,We,V,q,B,j,be,ge,ne,te,Q,Oe,Nt,vt,Te,Mt,mt,tt,qe,bt,De]}class js extends fa{constructor(t){super(),ha(this,t,Ds,ks,ra,{data:33},null,[-1,-1,-1])}}export{js as component};
