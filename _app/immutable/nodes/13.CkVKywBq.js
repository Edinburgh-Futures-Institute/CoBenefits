import{s as ca,a as g,e as i,t as L,g as _,c as r,b as p,p as I,f,d as A,q as n,C as Qs,B as Ut,i as R,h as e,y as ua,w as fa,r as Ts,Y as da,j as Ie,H as ha,E as va,A as ae}from"../chunks/scheduler.C9ZL8GxQ.js";import{S as pa,i as ma,c as ga,b as _a,m as ba,t as ya,a as Ea,d as wa}from"../chunks/index.vifww4_P.js";import{N as Ca,e as Ns}from"../chunks/NavigationBar.BYuwvbEc.js";import"../chunks/transform.BNP73y-7.js";import{av as Yl,aw as Da,ax as Sa,ay as ka,az as La,aA as Aa,a3 as za,ah as Vs,aB as Ia,aC as xa,aD as Ta,a as $s,aE as Ms,d as Na,aF as Va,M as Ma,F as Ba,l as Pa,n as Ha,o as Oa,q as Fa,G as Ua,aG as Ra,X as ta,aH as Wa,W as qa,_ as ea,aI as la,aJ as Ka,aK as Ya,J as ze,N as Qe,aL as Bs,Y as Ga,aM as ja,aN as Ps,au as Hs,L as Xa,Z as Os}from"../chunks/index.B4KwkhC0.js";import{b as Za}from"../chunks/paths.bJXgmblM.js";import{M as Ja}from"../chunks/mapUK.Dbq-Y1oR.js";import{q as ye,C as Fs,D as Qa,b as ne,s as Us,c as Rs,g as $a,T as tn,S as en,d as Gl,p as ln,M as sn,a as an}from"../chunks/globals.ilUZkq3N.js";import{g as _e,o as nn,p as on,l as rn,k as cn,q as un,m as fn}from"../chunks/duckdb.BE9xdooP.js";import{p as dn}from"../chunks/per_capita.COcMrZFY.js";import{c as hn,b as vn}from"../chunks/bin.C4pIMdIW.js";import{a as sa}from"../chunks/bar.C_j9TK5i.js";import{d as Zl}from"../chunks/dot.aAhCYIXz.js";function aa(a,t=Yl){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let l=Array.from(a);const s=new Float64Array(l.length);t.length!==2&&(l=l.map(t),t=Yl);const o=(y,w)=>t(l[y],l[w]);let u,c;return a=Uint32Array.from(l,(y,w)=>w),a.sort(t===Yl?(y,w)=>Da(l[y],l[w]):Sa(o)),a.forEach((y,w)=>{const C=o(y,u===void 0?y:u);C>=0?((u===void 0||C>0)&&(u=y,c=w),s[y]=c):s[y]=NaN}),s}function pn(a={},t={}){const l=ka(t),s=Object.entries(a).map(([o,u])=>{const c=La(o,t);if(c==null)throw new Error(`missing channel: ${o}`);const[y,w]=Aa(c);return{key:o,input:c,output:y,setOutput:w,map:mn(u)}});return{...za(t,(o,u)=>{const c=Vs(o,l),y=s.map(({input:C})=>Vs(o,C)),w=s.map(({setOutput:C})=>C(new Array(o.length)));for(const C of u)for(const m of c?Ia(C,z=>c[z]).values():[C])s.forEach(({map:z},S)=>z.mapIndex(m,y[S],w[S]));return{data:o,facets:u}}),...Object.fromEntries(s.map(({key:o,output:u})=>[o,u]))}}function mn(a){if(a==null)throw new Error("missing map");if(typeof a.mapIndex=="function")return a;if(typeof a.map=="function"&&xa(a))return gn(a);if(typeof a=="function")return jl(Ta(a));switch(`${a}`.toLowerCase()){case"cumsum":return bn;case"rank":return jl((t,l)=>aa(t,s=>l[s]));case"quantile":return jl((t,l)=>_n(t,s=>l[s]))}throw new Error(`invalid map: ${a}`)}function gn(a){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:a.map.bind(a)}}function _n(a,t){const l=hn(a,t)-1;return aa(a,t).map(s=>s/l)}function jl(a){return{mapIndex(t,l,s){const o=a(t,l);if(o.length!==t.length)throw new Error("map function returned a mismatched length");for(let u=0,c=t.length;u<c;++u)s[t[u]]=o[u]}}}const bn={mapIndex(a,t,l){let s=0;for(const o of a)l[o]=s+=t[o]}},yn={ariaLabel:"tick",fill:null,stroke:"currentColor"};class En extends Ma{constructor(t,l,s){super(t,l,s,yn),Ba(this,s)}render(t,l,s,o,u){return Pa("svg:g",u).call(Ha,this,o,u).call(this._transform,this,l).call(c=>c.selectAll().data(t).enter().append("line").call(Oa,this).attr("x1",this._x1(l,s,o)).attr("x2",this._x2(l,s,o)).attr("y1",this._y1(l,s,o)).attr("y2",this._y2(l,s,o)).call(Fa,this,s).call(Ua,this,s,u)).node()}}class wn extends En{constructor(t,l={}){const{x:s,y:o,inset:u=0,insetRight:c=u,insetLeft:y=u}=l;super(t,{y:{value:o,scale:"y"},x:{value:s,scale:"x",type:"band",optional:!0}},l),this.insetRight=Ms(c),this.insetLeft=Ms(y)}_transform(t,l,{y:s}){t.call(Na,l,{y:s},0,Va)}_x1({x:t},{x:l},{marginLeft:s}){const{insetLeft:o}=this;return l&&t?u=>l[u]+o:s+o}_x2({x:t},{x:l},{width:s,marginRight:o}){const{insetRight:u}=this;return l&&t?c=>l[c]+t.bandwidth()-u:s-o-u}_y1(t,{y:l}){return s=>l[s]}_y2(t,{y:l}){return s=>l[s]}}function Cn(a,{y:t=$s,...l}={}){return new wn(a,{...l,y:t})}function Dn(a,{y:t=$s,x:l=null,r:s,fill:o="#ccc",fillOpacity:u,stroke:c="currentColor",strokeOpacity:y,strokeWidth:w=2,sort:C,...m}={}){const z=l!=null?la:Ka;return Ra(ta(a,z({y1:na,y2:oa},{x:l,y:t,stroke:c,strokeOpacity:y,...m})),sa(a,z({y1:"p25",y2:"p75"},{x:l,y:t,fill:o,fillOpacity:u,...m})),Cn(a,z({y:"p50"},{x:l,y:t,stroke:c,strokeOpacity:y,strokeWidth:w,sort:C,...m})),Zl(a,pn({y:Sn},{x:l,y:t,z:l,r:s,stroke:c,strokeOpacity:y,...m})))}function Sn(a){const t=na(a),l=oa(a);return a.map(s=>s<t||s>l?s:NaN)}function na(a){const t=ia(a)*2.5-ra(a)*1.5;return Wa(a,l=>l>=t?l:NaN)}function oa(a){const t=ra(a)*2.5-ia(a)*1.5;return qa(a,l=>l<=t?l:NaN)}function ia(a){return ea(a,.25)}function ra(a){return ea(a,.75)}const Xl=""+new URL("../assets/total.DNiyzZzC.png",import.meta.url).href;function Ws(a,t,l){const s=a.slice();return s[47]=t[l],s[48]=t,s[49]=l,s}function qs(a){let t,l,s=a[4].toLocaleString()+"",o;return{c(){t=i("span"),l=L("£"),o=L(s),this.h()},l(u){t=r(u,"SPAN",{class:!0});var c=p(t);l=A(c,"£"),o=A(c,s),c.forEach(f),this.h()},h(){n(t,"class","waffle-big svelte-1os9uzm")},m(u,c){R(u,t,c),e(t,l),e(t,o)},p(u,c){c[0]&16&&s!==(s=u[4].toLocaleString()+"")&&Ie(o,s)},d(u){u&&f(t)}}}function kn(a){let t,l="National costs";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-o12owz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function Ln(a){let t,l="National benefits";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-10ytukz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function Ks(a){let t,l,s=a[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",o;return{c(){t=i("span"),l=L("£"),o=L(s),this.h()},l(u){t=r(u,"SPAN",{class:!0});var c=p(t);l=A(c,"£"),o=A(c,s),c.forEach(f),this.h()},h(){n(t,"class","waffle-big svelte-1os9uzm")},m(u,c){R(u,t,c),e(t,l),e(t,o)},p(u,c){c[0]&64&&s!==(s=u[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Ie(o,s)},d(u){u&&f(t)}}}function An(a){let t,l="Per capita costs";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-6pmcl0"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function zn(a){let t,l="Per capita benefits";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-g1rvwk"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function Ys(a){let t,l,s=(a[4]/a[5]*100).toFixed(2)+"",o,u,c,y="%";return{c(){t=i("div"),l=i("span"),o=L(s),u=g(),c=i("span"),c.textContent=y,this.h()},l(w){t=r(w,"DIV",{class:!0});var C=p(t);l=r(C,"SPAN",{class:!0});var m=p(l);o=A(m,s),m.forEach(f),u=_(C),c=r(C,"SPAN",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-jxggz7"&&(c.textContent=y),C.forEach(f),this.h()},h(){n(l,"class","waffle-big svelte-1os9uzm"),n(c,"class","small svelte-1os9uzm"),n(t,"class","waffle-value svelte-1os9uzm")},m(w,C){R(w,t,C),e(t,l),e(l,o),e(t,u),e(t,c)},p(w,C){C[0]&48&&s!==(s=(w[4]/w[5]*100).toFixed(2)+"")&&Ie(o,s)},d(w){w&&f(t)}}}function Gs(a){let t,l,s,o,u,c,y,w,C,m=Js(a[10])+"",z,S=a[4]&&js(a);return{c(){t=i("div"),l=i("div"),s=i("img"),u=g(),c=i("span"),y=L(a[15]),w=g(),S&&S.c(),C=L(`
                    >> `),z=L(m),this.h()},l(B){t=r(B,"DIV",{class:!0});var N=p(t);l=r(N,"DIV",{class:!0});var V=p(l);s=r(V,"IMG",{src:!0,alt:!0,class:!0}),u=_(V),c=r(V,"SPAN",{class:!0});var T=p(c);y=A(T,a[15]),w=_(T),S&&S.l(T),C=A(T,`
                    >> `),z=A(T,m),T.forEach(f),V.forEach(f),N.forEach(f),this.h()},h(){Qs(s.src,o=a[17])||n(s,"src",o),n(s,"alt","Icon"),n(s,"class","mini-heading-icon"),n(c,"class","mini-header-text"),n(l,"class","mini-header-content"),n(t,"class","mini-header")},m(B,N){R(B,t,N),e(t,l),e(l,s),e(l,u),e(l,c),e(c,y),e(c,w),S&&S.m(c,null),e(c,C),e(c,z)},p(B,N){B[4]?S?S.p(B,N):(S=js(B),S.c(),S.m(c,C)):S&&(S.d(1),S=null),N[0]&1024&&m!==(m=Js(B[10])+"")&&Ie(z,m)},d(B){B&&f(t),S&&S.d()}}}function js(a){let t,l,s,o;return{c(){t=i("span"),l=L("(UK total: £"),s=L(a[4]),o=L(" billion)"),this.h()},l(u){t=r(u,"SPAN",{class:!0});var c=p(t);l=A(c,"(UK total: £"),s=A(c,a[4]),o=A(c," billion)"),c.forEach(f),this.h()},h(){n(t,"class","mini-header-value")},m(u,c){R(u,t,c),e(t,l),e(t,s),e(t,o)},p(u,c){c[0]&16&&Ie(s,u[4])},d(u){u&&f(t)}}}function In(a){let t,l="Each bar shows the predicted total costs in billion pounds for each five-year periods for all of UK.";return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-iv9ed2"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function xn(a){let t,l="Each bar shows the predicted total benefits in billion pounds for each five-year periods for all of UK.";return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-149e5eg"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function Tn(a){let t,l="The x-axis represents the value of costs, while the y-axis shows the number of data zones falling within each benefit range.";return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-f18vbm"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function Nn(a){let t,l="The x-axis represents the predicted value of benefits, measured in billion pounds, while the y-axis shows the number of data zones falling within each benefit range.";return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-138vh45"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){R(s,t,o)},d(s){s&&f(t)}}}function Xs(a){let t,l,s=a[7].legend().outerHTML+"";return{c(){t=i("div"),l=new ha(!1),this.h()},l(o){t=r(o,"DIV",{id:!0});var u=p(t);l=va(u,!1),u.forEach(f),this.h()},h(){l.a=null,n(t,"id","legend")},m(o,u){R(o,t,u),l.m(s,t)},p(o,u){u[0]&128&&s!==(s=o[7].legend().outerHTML+"")&&l.p(s)},d(o){o&&f(t)}}}function Zs(a){let t,l,s=a[47].label+"",o,u,c,y=a[47].def+"",w,C,m,z=a[47],S;const B=()=>a[28](m,z),N=()=>a[28](null,z);return{c(){t=i("div"),l=i("h3"),o=L(s),u=g(),c=i("p"),w=L(y),C=g(),m=i("div"),S=g(),this.h()},l(V){t=r(V,"DIV",{class:!0});var T=p(t);l=r(T,"H3",{class:!0});var lt=p(l);o=A(lt,s),lt.forEach(f),u=_(T),c=r(T,"P",{class:!0});var rt=p(c);w=A(rt,y),rt.forEach(f),C=_(T),m=r(T,"DIV",{class:!0}),p(m).forEach(f),S=_(T),T.forEach(f),this.h()},h(){n(l,"class","component-chart-title svelte-1os9uzm"),n(c,"class","component-chart-caption svelte-1os9uzm"),n(m,"class","plot"),n(t,"class","plot-container svelte-1os9uzm")},m(V,T){R(V,t,T),e(t,l),e(l,o),e(t,u),e(t,c),e(c,w),e(t,C),e(t,m),B(),e(t,S)},p(V,T){a=V,z!==a[47]&&(N(),z=a[47],B())},d(V){V&&f(t),N()}}}function Vn(a){let t,l,s,o,u,c,y,w="Co-Benefit Report",C,m,z,S,B,N,V,T,lt,rt,Ct,oe,ct,ie,Dt,Z,St,st,at,nt,re,W,Rt="billion",Ee,ut,O,pt,we,Ce,ft,ce,mt,xe="Contribution to national benefits",De,kt,Se,Lt,ke,v,d,k,M,q='<p class="section-subtitle">Overview</p>',ot,b,E,it,Wt,D,tt=a[15].toLowerCase()+"",Le,ue,$e,Te,qt,Jl=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Xl}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,tl,fe,el,ll,sl,gt,al,Kt,Ql=a[15].toLowerCase()+"",nl,ol,Yt,$l=`data zones
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,il,Ne,Gt,ts=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Xl}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,rl,At,es="",cl,ul,fl,J,zt,dl,jt,ls=a[15].toLowerCase()+"",hl,vl,pl,Xt,ss="Each local authority is coloured by the predicted total benefits/cost, showing regional variation in how benefits/cost are distributed. Scroll for zooming in and out.",ml,Zt,as=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Xl}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,gl,Ve,_t,ns="",_l,It,Jt,os='<p class="section-subtitle">Socio-economic factors</p>',bl,dt,et,xt,yl,Qt,is=a[15]?.toLowerCase()+"",El,wl,Cl,$t,rs="Each chart shows how benefits or costs are distributed across UK local authorities in correlation with a specific household social-economic factor.",Dl,Q,te,cs=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${dn}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Sl,ee,us="Legend:",kl,Ll,Al,de,fs="The scatter points are coloured by nation. Click the buttons below to filter.",zl,F,Il,xl,Tt,Tl,Nl,Nt,Vl,Ml,Vt,Bl,Pl,Mt,Hl,Ol,Fl,Ul,Bt,ds="Reset",Rl,Pt,hs=`<p style="margin: 0 0 0.5rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where the x-axis is non-linear.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots
                            represent modelled associations and should not be interpreted as direct causal
                            relationships.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Aggregated data:</strong> Each socio-economic factor for a given local authority is aggregated from the data zones within its boundary.</p>`,Wl,le,Ht,Ot,ql,vs;t=new Ca({});let K=a[4]&&qs(a);function ps(h,x){return h[4]>0?Ln:kn}let Me=ps(a),bt=Me(a),Y=a[4]&&Ks(a);function ms(h,x){return h[4]>0?zn:An}let Be=ms(a),yt=Be(a),G=a[4]&&Ys(a),j=a[9]&&Gs(a);function gs(h,x){return h[4]>0?xn:In}let Pe=gs(a),Et=Pe(a);function _s(h,x){return h[4]>0?Nn:Tn}let He=_s(a),wt=He(a),X=a[7]&&Xs(a),he=Ns(Rs),U=[];for(let h=0;h<he.length;h+=1)U[h]=Zs(Ws(a,he,h));return{c(){ga(t.$$.fragment),l=g(),s=i("div"),o=i("div"),u=i("div"),c=i("div"),y=i("p"),y.textContent=w,C=g(),m=i("div"),z=i("h1"),S=i("img"),N=g(),V=i("div"),T=g(),lt=L(a[15]),rt=g(),Ct=i("div"),oe=g(),ct=i("p"),ie=L(a[16]),Dt=g(),Z=i("div"),St=i("div"),st=i("div"),at=i("div"),nt=i("div"),K&&K.c(),re=g(),W=i("span"),W.textContent=Rt,Ee=g(),bt.c(),ut=g(),O=i("div"),pt=i("div"),Y&&Y.c(),we=g(),yt.c(),Ce=g(),ft=i("div"),G&&G.c(),ce=g(),mt=i("div"),mt.textContent=xe,De=g(),kt=i("div"),Se=g(),Lt=i("div"),ke=g(),j&&j.c(),v=g(),d=i("div"),k=i("div"),M=i("div"),M.innerHTML=q,ot=g(),b=i("div"),E=i("div"),it=i("h3"),Wt=L("Total "),D=i("span"),Le=L(tt),ue=L(" over time 2025-2050"),$e=g(),Et.c(),Te=g(),qt=i("div"),qt.innerHTML=Jl,tl=g(),fe=i("div"),el=g(),ll=i("br"),sl=g(),gt=i("h3"),al=L("Distribution of "),Kt=i("span"),nl=L(Ql),ol=L(` across UK 
                            

                            `),Yt=i("span"),Yt.innerHTML=$l,il=g(),wt.c(),Ne=g(),Gt=i("div"),Gt.innerHTML=ts,rl=g(),At=i("div"),At.innerHTML=es,cl=g(),ul=i("br"),fl=g(),J=i("div"),zt=i("h3"),dl=L("Total "),jt=i("span"),hl=L(ls),vl=L(" by UK local authorities"),pl=g(),Xt=i("p"),Xt.textContent=ss,ml=g(),Zt=i("div"),Zt.innerHTML=as,gl=g(),X&&X.c(),Ve=g(),_t=i("div"),_t.innerHTML=ns,_l=g(),It=i("div"),Jt=i("div"),Jt.innerHTML=os,bl=g(),dt=i("div"),et=i("div"),xt=i("h3"),yl=L("How "),Qt=i("span"),El=L(is),wl=L(" vary by household social-economic factors"),Cl=g(),$t=i("p"),$t.textContent=rs,Dl=g(),Q=i("div"),te=i("div"),te.innerHTML=cs,Sl=g(),ee=i("strong"),ee.textContent=us,kl=g(),Ll=i("br"),Al=g(),de=i("span"),de.textContent=fs,zl=g(),F=i("div"),Il=i("br"),xl=g(),Tt=i("button"),Tl=L("Scotland"),Nl=g(),Nt=i("button"),Vl=L("Northern Ireland"),Ml=g(),Vt=i("button"),Bl=L("England"),Pl=g(),Mt=i("button"),Hl=L("Wales"),Ol=g(),Fl=i("br"),Ul=g(),Bt=i("button"),Bt.textContent=ds,Rl=g(),Pt=i("div"),Pt.innerHTML=hs,Wl=g(),le=i("div"),Ht=i("div");for(let h=0;h<U.length;h+=1)U[h].c();this.h()},l(h){_a(t.$$.fragment,h),l=_(h),s=r(h,"DIV",{class:!0});var x=p(s);o=r(x,"DIV",{class:!0});var P=p(o);u=r(P,"DIV",{class:!0});var se=p(u);c=r(se,"DIV",{class:!0});var Oe=p(c);y=r(Oe,"P",{class:!0,"data-svelte-h":!0}),I(y)!=="svelte-1flv0v9"&&(y.textContent=w),C=_(Oe),m=r(Oe,"DIV",{class:!0});var ve=p(m);z=r(ve,"H1",{class:!0});var pe=p(z);S=r(pe,"IMG",{src:!0,alt:!0,class:!0}),N=_(pe),V=r(pe,"DIV",{style:!0}),p(V).forEach(f),T=_(pe),lt=A(pe,a[15]),pe.forEach(f),rt=_(ve),Ct=r(ve,"DIV",{style:!0}),p(Ct).forEach(f),oe=_(ve),ct=r(ve,"P",{class:!0});var bs=p(ct);ie=A(bs,a[16]),bs.forEach(f),ve.forEach(f),Oe.forEach(f),Dt=_(se),Z=r(se,"DIV",{class:!0});var me=p(Z);St=r(me,"DIV",{class:!0});var ys=p(St);st=r(ys,"DIV",{class:!0});var ge=p(st);at=r(ge,"DIV",{class:!0});var Fe=p(at);nt=r(Fe,"DIV",{class:!0});var Ue=p(nt);K&&K.l(Ue),re=_(Ue),W=r(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),I(W)!=="svelte-tlhydp"&&(W.textContent=Rt),Ue.forEach(f),Ee=_(Fe),bt.l(Fe),Fe.forEach(f),ut=_(ge),O=r(ge,"DIV",{class:!0});var Re=p(O);pt=r(Re,"DIV",{class:!0});var Es=p(pt);Y&&Y.l(Es),Es.forEach(f),we=_(Re),yt.l(Re),Re.forEach(f),Ce=_(ge),ft=r(ge,"DIV",{class:!0});var We=p(ft);G&&G.l(We),ce=_(We),mt=r(We,"DIV",{class:!0,"data-svelte-h":!0}),I(mt)!=="svelte-1v3rfza"&&(mt.textContent=xe),We.forEach(f),ge.forEach(f),ys.forEach(f),De=_(me),kt=r(me,"DIV",{class:!0}),p(kt).forEach(f),Se=_(me),Lt=r(me,"DIV",{class:!0}),p(Lt).forEach(f),me.forEach(f),se.forEach(f),P.forEach(f),ke=_(x),j&&j.l(x),v=_(x),d=r(x,"DIV",{class:!0});var qe=p(d);k=r(qe,"DIV",{id:!0});var Ke=p(k);M=r(Ke,"DIV",{class:!0,"data-svelte-h":!0}),I(M)!=="svelte-ll1i43"&&(M.innerHTML=q),ot=_(Ke),b=r(Ke,"DIV",{id:!0,class:!0});var Ye=p(b);E=r(Ye,"DIV",{class:!0});var H=p(E);it=r(H,"H3",{class:!0});var Ge=p(it);Wt=A(Ge,"Total "),D=r(Ge,"SPAN",{style:!0});var ws=p(D);Le=A(ws,tt),ws.forEach(f),ue=A(Ge," over time 2025-2050"),Ge.forEach(f),$e=_(H),Et.l(H),Te=_(H),qt=r(H,"DIV",{class:!0,"data-svelte-h":!0}),I(qt)!=="svelte-1yzemw8"&&(qt.innerHTML=Jl),tl=_(H),fe=r(H,"DIV",{class:!0}),p(fe).forEach(f),el=_(H),ll=r(H,"BR",{}),sl=_(H),gt=r(H,"H3",{class:!0});var Ae=p(gt);al=A(Ae,"Distribution of "),Kt=r(Ae,"SPAN",{style:!0});var Cs=p(Kt);nl=A(Cs,Ql),Cs.forEach(f),ol=A(Ae,` across UK 
                            

                            `),Yt=r(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),I(Yt)!=="svelte-7glovi"&&(Yt.innerHTML=$l),Ae.forEach(f),il=_(H),wt.l(H),Ne=_(H),Gt=r(H,"DIV",{class:!0,"data-svelte-h":!0}),I(Gt)!=="svelte-1yzemw8"&&(Gt.innerHTML=ts),rl=_(H),At=r(H,"DIV",{class:!0,"data-svelte-h":!0}),I(At)!=="svelte-17463th"&&(At.innerHTML=es),cl=_(H),ul=r(H,"BR",{}),H.forEach(f),fl=_(Ye),J=r(Ye,"DIV",{class:!0});var ht=p(J);zt=r(ht,"H3",{class:!0});var je=p(zt);dl=A(je,"Total "),jt=r(je,"SPAN",{style:!0});var Ds=p(jt);hl=A(Ds,ls),Ds.forEach(f),vl=A(je," by UK local authorities"),je.forEach(f),pl=_(ht),Xt=r(ht,"P",{class:!0,"data-svelte-h":!0}),I(Xt)!=="svelte-1d6vo75"&&(Xt.textContent=ss),ml=_(ht),Zt=r(ht,"DIV",{class:!0,"data-svelte-h":!0}),I(Zt)!=="svelte-1e8o09a"&&(Zt.innerHTML=as),gl=_(ht),X&&X.l(ht),Ve=_(ht),_t=r(ht,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),I(_t)!=="svelte-1bex1ev"&&(_t.innerHTML=ns),ht.forEach(f),Ye.forEach(f),Ke.forEach(f),_l=_(qe),It=r(qe,"DIV",{id:!0});var Xe=p(It);Jt=r(Xe,"DIV",{class:!0,"data-svelte-h":!0}),I(Jt)!=="svelte-1l51yw7"&&(Jt.innerHTML=os),bl=_(Xe),dt=r(Xe,"DIV",{id:!0,class:!0,style:!0});var Ze=p(dt);et=r(Ze,"DIV",{id:!0,class:!0});var Ft=p(et);xt=r(Ft,"H3",{class:!0});var Je=p(xt);yl=A(Je,"How "),Qt=r(Je,"SPAN",{style:!0});var Ss=p(Qt);El=A(Ss,is),Ss.forEach(f),wl=A(Je," vary by household social-economic factors"),Je.forEach(f),Cl=_(Ft),$t=r(Ft,"P",{class:!0,"data-svelte-h":!0}),I($t)!=="svelte-1eo897"&&($t.textContent=rs),Dl=_(Ft),Q=r(Ft,"DIV",{id:!0,class:!0});var vt=p(Q);te=r(vt,"DIV",{class:!0,"data-svelte-h":!0}),I(te)!=="svelte-131efpe"&&(te.innerHTML=cs),Sl=_(vt),ee=r(vt,"STRONG",{style:!0,"data-svelte-h":!0}),I(ee)!=="svelte-1s0qlts"&&(ee.textContent=us),kl=_(vt),Ll=r(vt,"BR",{}),Al=_(vt),de=r(vt,"SPAN",{"data-svelte-h":!0}),I(de)!=="svelte-av8zq9"&&(de.textContent=fs),zl=_(vt),F=r(vt,"DIV",{class:!0});var $=p(F);Il=r($,"BR",{}),xl=_($),Tt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var ks=p(Tt);Tl=A(ks,"Scotland"),ks.forEach(f),Nl=_($),Nt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ls=p(Nt);Vl=A(Ls,"Northern Ireland"),Ls.forEach(f),Ml=_($),Vt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var As=p(Vt);Bl=A(As,"England"),As.forEach(f),Pl=_($),Mt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var zs=p(Mt);Hl=A(zs,"Wales"),zs.forEach(f),Ol=_($),Fl=r($,"BR",{}),Ul=_($),Bt=r($,"BUTTON",{class:!0,"data-svelte-h":!0}),I(Bt)!=="svelte-2t5u5r"&&(Bt.textContent=ds),$.forEach(f),vt.forEach(f),Rl=_(Ft),Pt=r(Ft,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),I(Pt)!=="svelte-yjwg3u"&&(Pt.innerHTML=hs),Ft.forEach(f),Wl=_(Ze),le=r(Ze,"DIV",{id:!0,class:!0});var Is=p(le);Ht=r(Is,"DIV",{id:!0,class:!0});var xs=p(Ht);for(let Kl=0;Kl<U.length;Kl+=1)U[Kl].l(xs);xs.forEach(f),Is.forEach(f),Ze.forEach(f),Xe.forEach(f),qe.forEach(f),x.forEach(f),this.h()},h(){n(y,"class","page-subtitle svelte-1os9uzm"),Qs(S.src,B=a[17])||n(S,"src",B),n(S,"alt","Icon"),n(S,"class","heading-icon svelte-1os9uzm"),Ut(V,"margin-top","10px"),n(z,"class","page-title svelte-1os9uzm"),Ut(Ct,"margin-top","14px"),n(ct,"class","definition svelte-1os9uzm"),n(m,"class","title-container"),n(c,"class","header-text svelte-1os9uzm"),n(W,"class","small svelte-1os9uzm"),n(nt,"class","waffle-value svelte-1os9uzm"),n(at,"class","waffle-stat svelte-1os9uzm"),n(pt,"class","waffle-value svelte-1os9uzm"),n(O,"class","waffle-stat svelte-1os9uzm"),n(mt,"class","waffle-caption svelte-1os9uzm"),n(ft,"class","waffle-stat svelte-1os9uzm"),n(st,"class","waffle-stats svelte-1os9uzm"),n(St,"class","waffle-label svelte-1os9uzm"),n(kt,"class","waffle-el"),n(Lt,"class","waffle-bg svelte-1os9uzm"),n(Z,"class","header-waffle-wrapper svelte-1os9uzm"),n(u,"class","header-content svelte-1os9uzm"),n(o,"class","section header svelte-1os9uzm"),n(M,"class","section-header"),n(D,"style",a[13]),n(it,"class","component-title"),n(qt,"class","aggregation-icon-container"),n(fe,"class","plot-bar svelte-1os9uzm"),n(Kt,"style",a[13]),n(Yt,"class","tooltip-term"),n(gt,"class","component-title"),n(Gt,"class","aggregation-icon-container"),n(At,"class","plot-bar svelte-1os9uzm"),n(E,"class","component singlevis"),n(jt,"style",a[13]),n(zt,"class","component-title"),n(Xt,"class","description svelte-1os9uzm"),n(Zt,"class","aggregation-icon-container2 svelte-1os9uzm"),n(_t,"id","map"),n(_t,"class","svelte-1os9uzm"),n(J,"class","component column"),n(b,"id","vis-block"),n(b,"class","svelte-1os9uzm"),n(k,"id","overview"),n(Jt,"class","section-header"),n(Qt,"style",a[13]),n(xt,"class","component-title"),n($t,"class","explanation"),n(te,"class","aggregation-icon-container2 svelte-1os9uzm"),Ut(ee,"margin-bottom","0.8rem"),n(Tt,"class","nation-button svelte-1os9uzm"),n(Tt,"data-nation","S"),Ut(Tt,"background-color",ye(a[14])[0]),n(Nt,"class","nation-button svelte-1os9uzm"),n(Nt,"data-nation","N"),Ut(Nt,"background-color",ye(a[14])[1]),n(Vt,"class","nation-button svelte-1os9uzm"),n(Vt,"data-nation","E"),Ut(Vt,"background-color",ye(a[14])[2]),n(Mt,"class","nation-button svelte-1os9uzm"),n(Mt,"data-nation","W"),Ut(Mt,"background-color",ye(a[14])[3]),n(Bt,"class","reset-button svelte-1os9uzm"),n(F,"class","legend-buttons svelte-1os9uzm"),n(Q,"id","se-legend"),n(Q,"class","legend-box svelte-1os9uzm"),n(Pt,"id","se-disclaimer"),n(Pt,"class","disclaimer-box svelte-1os9uzm"),n(et,"id","se-title"),n(et,"class","svelte-1os9uzm"),n(Ht,"id","multiple-plots"),n(Ht,"class","svelte-1os9uzm"),n(le,"id","multiple-comp"),n(le,"class","svelte-1os9uzm"),n(dt,"id","se-block"),n(dt,"class","component svelte-1os9uzm"),Ut(dt,"margin-left","1rem"),n(It,"id","compare"),n(d,"class","section"),n(s,"class","page-container")},m(h,x){ba(t,h,x),R(h,l,x),R(h,s,x),e(s,o),e(o,u),e(u,c),e(c,y),e(c,C),e(c,m),e(m,z),e(z,S),e(z,N),e(z,V),e(z,T),e(z,lt),e(m,rt),e(m,Ct),e(m,oe),e(m,ct),e(ct,ie),e(u,Dt),e(u,Z),e(Z,St),e(St,st),e(st,at),e(at,nt),K&&K.m(nt,null),e(nt,re),e(nt,W),e(at,Ee),bt.m(at,null),e(st,ut),e(st,O),e(O,pt),Y&&Y.m(pt,null),e(O,we),yt.m(O,null),e(st,Ce),e(st,ft),G&&G.m(ft,null),e(ft,ce),e(ft,mt),e(Z,De),e(Z,kt),a[23](kt),e(Z,Se),e(Z,Lt),a[24](Lt),e(s,ke),j&&j.m(s,null),e(s,v),e(s,d),e(d,k),e(k,M),e(k,ot),e(k,b),e(b,E),e(E,it),e(it,Wt),e(it,D),e(D,Le),e(it,ue),e(E,$e),Et.m(E,null),e(E,Te),e(E,qt),e(E,tl),e(E,fe),a[25](fe),e(E,el),e(E,ll),e(E,sl),e(E,gt),e(gt,al),e(gt,Kt),e(Kt,nl),e(gt,ol),e(gt,Yt),e(E,il),wt.m(E,null),e(E,Ne),e(E,Gt),e(E,rl),e(E,At),a[26](At),e(E,cl),e(E,ul),e(b,fl),e(b,J),e(J,zt),e(zt,dl),e(zt,jt),e(jt,hl),e(zt,vl),e(J,pl),e(J,Xt),e(J,ml),e(J,Zt),e(J,gl),X&&X.m(J,null),e(J,Ve),e(J,_t),a[27](_t),e(d,_l),e(d,It),e(It,Jt),e(It,bl),e(It,dt),e(dt,et),e(et,xt),e(xt,yl),e(xt,Qt),e(Qt,El),e(xt,wl),e(et,Cl),e(et,$t),e(et,Dl),e(et,Q),e(Q,te),e(Q,Sl),e(Q,ee),e(Q,kl),e(Q,Ll),e(Q,Al),e(Q,de),e(Q,zl),e(Q,F),e(F,Il),e(F,xl),e(F,Tt),e(Tt,Tl),e(F,Nl),e(F,Nt),e(Nt,Vl),e(F,Ml),e(F,Vt),e(Vt,Bl),e(F,Pl),e(F,Mt),e(Mt,Hl),e(F,Ol),e(F,Fl),e(F,Ul),e(F,Bt),e(et,Rl),e(et,Pt),e(dt,Wl),e(dt,le),e(le,Ht);for(let P=0;P<U.length;P+=1)U[P]&&U[P].m(Ht,null);a[29](s),Ot=!0,ql||(vs=ua(Bt,"click",a[18]),ql=!0)},p(h,x){if(h[4]?K?K.p(h,x):(K=qs(h),K.c(),K.m(nt,re)):K&&(K.d(1),K=null),Me!==(Me=ps(h))&&(bt.d(1),bt=Me(h),bt&&(bt.c(),bt.m(at,null))),h[4]?Y?Y.p(h,x):(Y=Ks(h),Y.c(),Y.m(pt,null)):Y&&(Y.d(1),Y=null),Be!==(Be=ms(h))&&(yt.d(1),yt=Be(h),yt&&(yt.c(),yt.m(O,null))),h[4]?G?G.p(h,x):(G=Ys(h),G.c(),G.m(ft,ce)):G&&(G.d(1),G=null),h[9]?j?j.p(h,x):(j=Gs(h),j.c(),j.m(s,v)):j&&(j.d(1),j=null),(!Ot||x[0]&8192)&&n(D,"style",h[13]),Pe!==(Pe=gs(h))&&(Et.d(1),Et=Pe(h),Et&&(Et.c(),Et.m(E,Te))),(!Ot||x[0]&8192)&&n(Kt,"style",h[13]),He!==(He=_s(h))&&(wt.d(1),wt=He(h),wt&&(wt.c(),wt.m(E,Ne))),(!Ot||x[0]&8192)&&n(jt,"style",h[13]),h[7]?X?X.p(h,x):(X=Xs(h),X.c(),X.m(J,Ve)):X&&(X.d(1),X=null),(!Ot||x[0]&8192)&&n(Qt,"style",h[13]),x[0]&2){he=Ns(Rs);let P;for(P=0;P<he.length;P+=1){const se=Ws(h,he,P);U[P]?U[P].p(se,x):(U[P]=Zs(se),U[P].c(),U[P].m(Ht,null))}for(;P<U.length;P+=1)U[P].d(1);U.length=he.length}},i(h){Ot||(ya(t.$$.fragment,h),Ot=!0)},o(h){Ea(t.$$.fragment,h),Ot=!1},d(h){h&&(f(l),f(s)),wa(t,h),K&&K.d(),bt.d(),Y&&Y.d(),yt.d(),G&&G.d(),a[23](null),a[24](null),j&&j.d(),Et.d(),a[25](null),wt.d(),a[26](null),X&&X.d(),a[27](null),fa(U,h),a[29](null),ql=!1,vs()}}}let be=400;function Js(a){return{overview:"Overview",compare:"Compare by socio-economic factor"}[a]||""}function Mn(a,t,l){let s,o,u,c,y,w={},{data:C}=t;const m=C.coBenefit,z=Fs.find(v=>v.id===m)?.label??m,S=Qa.find(v=>v.id===m)?.def??m;let B,N,V,T,lt,rt,Ct,oe,ct=!1,ie,Dt,Z,St;Ee().then(()=>{let v=JSON.parse(JSON.stringify(ne(m)));v.shift(),v=v.reverse(),l(7,Dt=new Ja(N,"LAD",Z,"total",!0,"LAD",!1,v)),Dt.initMap();let d=Dt.legend("Cobenefits (Billions of £)");St.append(d)});let st=$a(m),at=!1,nt="";const re=["overview","compare"];let W=null;function Rt(){const v=window.scrollY;l(9,at=v>250);for(const d of re){const k=document.getElementById(d);if(!k)continue;const M=k.getBoundingClientRect();if(M.top<=150&&M.bottom>=150){l(10,nt=d);break}}}Ts(()=>(window.addEventListener("scroll",Rt),Rt(),()=>window.removeEventListener("scroll",Rt))),da(()=>{window.removeEventListener("scroll",Rt)});async function Ee(){B=await _e(nn(m)),V=await _e(on(m)),lt=await _e(rn()),lt=lt.sort((d,k)=>k.total-d.total),rt=await _e(cn()),rt=rt.sort((d,k)=>k.total_value-d.total_value);const v=rt.find(d=>d.co_benefit_type===m);l(6,ie=v?v.value_per_capita:null),N=await _e(un(m)),console.log("data",N),Ct=await _e(fn()),l(5,oe=Ct[0].total_value),Us.forEach(d=>{V[d]=+V[d]}),l(4,T=Ya(B,d=>d.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),l(20,ct=!0)}let ut,O;function pt(v,d){if(!ut)return;const k=20,M=15,q=Math.floor(200/k),ot=M*q,b=lt.reduce((D,tt)=>D+tt.total,0),E=[];for(const D of lt){const tt=Math.round(Math.abs(D.total)/b*ot),Le=D.total<0;for(let ue=0;ue<tt;ue++)E.push({type:D.co_benefit_type,negative:Le})}for(;E.length<ot;)E.push({type:"empty"});E.sort((D,tt)=>D.type==="empty"?1:tt.type==="empty"?-1:D.negative&&!tt.negative?1:!D.negative&&tt.negative?-1:0);const it=E.map((D,tt)=>({x:tt%M,y:Math.floor(tt/M),...D})),Wt=ze({width:k*M,height:k*q,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Fs.map(D=>D.id),range:ln,unknown:"#eee",legend:!1},marks:[Hs(it.filter(D=>!D.negative),{x:D=>D.x*k,y:D=>D.y*k,fill:"type",fillOpacity:D=>d&&D.type!==d?.15:1}),Hs(it.filter(D=>D.negative),{x:D=>D.x*k,y:D=>D.y*k,stroke:"type",strokeOpacity:D=>d&&D.type!==d?.15:1,strokeWidth:1,fill:"none"})]});O&&(l(12,O.style.width=`${k*M}px`,O),l(12,O.style.height=`${v-100}px`,O)),l(11,ut.innerHTML="",ut),ut.append(Wt)}function we(){c?.append(ze({height:be/1.5,...sn,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazones",grid:!0},x:{label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Xa(N,vn({y:"count"},{x:v=>v.total*1e3,fill:ne(m)[0],tip:!0,fillOpacity:.5,stroke:ne(m)[0],strokeWidth:2})),Os({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),Qe([0],{stroke:"#333",strokeWidth:.75})]}))}function Ce(){let v=B.flatMap(d=>tn.map(k=>({time:k,value:d[k],total:d.total,scenario:d.scenario})));y?.append(ze({height:be/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:d=>d.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[sa(v,la({y:"sum"},{x:"time",y:d=>d.value/1e3,fill:ne(m)[0],tip:{format:{y:d=>`${d.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),Os({anchor:"left",grid:!0,label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"}),Qe([0],{stroke:"#333",strokeWidth:.75})]}))}function ft(){const v=d=>d.LAD.startsWith("S")?"S":d.LAD.startsWith("N")?"N":d.LAD.startsWith("E")?"E":"W";Us.forEach((d,k)=>{let M;if(en.includes(d)){const q=an[d],ot=q?Object.keys(q).map(Number):N.filter(b=>b.SEFMAME==d).map(b=>b.SE);M=ze({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:be/1.4,width:be*1.2,marginLeft:70,marginBottom:d==="Typology"?80:60,marginRight:20,marginTop:30,x:{domain:ot,label:Gl(d),tickFormat:b=>q?.[b]??b,tickRotate:d==="Typology"?-20:0},y:{label:"£, thousand",labelArrow:"none"},color:{legend:!0},marks:[Dn(N.filter(b=>b.SEFMAME==d),{x:"SE",y:b=>b.total*1e3,stroke:ne(m)[0],fill:ne(m)[0],r:2,fillOpacity:.3}),Qe([0],{stroke:"#333",strokeWidth:.75})]})}else{let q=N.filter(b=>b.SEFMAME===d&&(W===null||v(b)!==W)),ot=q.reduce(function(b,E){return b.SE<E.SE?b:E});M=ze({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:be/1.4,width:be*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:30,x:{label:Gl(d),labelArrow:!1,labelAnchor:"center"},y:{label:"£, thousand",labelArrow:!1},color:{legend:!0},marks:[k==6?Bs(["Each dot represents a Local Authority District (LAD)."],{x:["Under_35","Over_65","Unemployment"].includes(d)?ot.SE*100:ot.SE,y:ot.total*1e3,textPadding:6,opacity:.5,lineWidth:12}):[],Zl(q,{x:b=>["Under_35","Over_65","Unemployment"].includes(d)?b.SE*100:b.SE,y:b=>b.total*1e3,fill:b=>{const E=["S","N","E","W"].indexOf(v(b));return ye(m)[E]},r:2,fillOpacity:.1,channels:{LAD:"LAD"}}),Zl(q,{x:b=>["Under_35","Over_65","Unemployment"].includes(d)?b.SE*100:b.SE,y:b=>b.total*1e3,fill:b=>{const E=["S","N","E","W"].indexOf(v(b));return ye(m)[E]},r:3.5,fillOpacity:1}),Ga({label:Gl(d),labelArrow:!1,labelAnchor:"center"}),Qe([0],{stroke:"#333",strokeWidth:.75}),ta([0],{stroke:"#333",strokeWidth:.75}),Bs(q,ja({x:b=>["Under_35","Over_65","Unemployment"].includes(d)?b.SE*100:b.SE,y:b=>b.total*1e3,title:b=>[`LAD: ${b.LAD}`,"Click to navigate to page."].join(`
`)}))]}),console.log(Ps(M).select('g[aria-label="dot"]').selectAll("circle")),Ps(M).selectAll('g[aria-label="dot"]').selectAll("circle").style("cursor","pointer").on("click",(b,E,it)=>{let Wt=q[E].LAD;window.open(`${Za}/location?location=${Wt}`,"_blank").focus()})}w[d]?.append(M)})}function ce(){l(21,W=null)}Ts(()=>{document.querySelectorAll(".nation-button").forEach(v=>{v.addEventListener("click",()=>{const d=v.getAttribute("data-nation");W===d?(l(21,W=null),v.classList.remove("active")):(l(21,W=d),document.querySelectorAll(".nation-button").forEach(k=>k.classList.remove("active")),v.classList.add("active"))})})});function mt(v){ae[v?"unshift":"push"](()=>{ut=v,l(11,ut)})}function xe(v){ae[v?"unshift":"push"](()=>{O=v,l(12,O)})}function De(v){ae[v?"unshift":"push"](()=>{y=v,l(0,y)})}function kt(v){ae[v?"unshift":"push"](()=>{c=v,l(3,c)})}function Se(v){ae[v?"unshift":"push"](()=>{Z=v,l(8,Z)})}function Lt(v,d){ae[v?"unshift":"push"](()=>{w[d.id]=v,l(1,w)})}function ke(v){ae[v?"unshift":"push"](()=>{u=v,l(2,u)})}return a.$$set=v=>{"data"in v&&l(19,C=v.data)},a.$$.update=()=>{a.$$.dirty[0]&1048577&&ct&&(y?.firstChild?.remove(),we(),Ce(),pt(300,m)),a.$$.dirty[0]&3145730&&ct&&W!==void 0&&(Object.values(w).forEach(v=>{v.firstChild?.remove()}),ft()),a.$$.dirty[0]&4194304&&l(13,o=`color: ${s}; font-weight: bold; font-size: 22px;`)},l(22,s=ne(m)[0]),[y,w,u,c,T,oe,ie,Dt,Z,at,nt,ut,O,o,m,z,S,st,ce,C,ct,W,s,mt,xe,De,kt,Se,Lt,ke]}class Xn extends pa{constructor(t){super(),ma(this,t,Mn,Vn,ca,{data:19},null,[-1,-1])}}export{Xn as component};
