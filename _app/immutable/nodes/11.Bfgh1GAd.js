import{s as Rs,d,w as Us,p as n,i as U,b as s,B as xs,C as Tt,g as m,c as o,e as v,q as M,f as S,j as _,h as r,t as I,v as Ws,_ as qs,a as De,E as Ys,H as Ks,A as Qt}from"../chunks/ChnDNINx.js";import{S as Gs,i as js,d as Xs,t as Zs,a as Js,m as Qs,c as $s,b as ta}from"../chunks/BjCzwqlE.js";import{N as ea,e as us}from"../chunks/CkMR_6aY.js";import"../chunks/F40_IDQw.js";import{Q as Ol,R as la,S as sa,T as aa,U as na,V as ia,W as oa,X as ra,Y as ca,Z as vs,_ as fa,o as Vs,$ as hs,f as da,a0 as ua,M as va,E as ha,d as pa,e as ma,g as _a,i as ga,F as ya,a1 as ba,a2 as Ns,a3 as Ea,O as Rl,a4 as wa,a5 as Ca,a6 as Ms,a7 as Da,H as Ce,N as ps,a8 as ka,a9 as ms,P as _s}from"../chunks/s0pE0-UL.js";import{M as Sa}from"../chunks/C0JCpU9K.js";import{a as z,C as gs,D as Ia,j as ys,g as Aa,S as bs,T as La,b as xa,c as Va,d as Hl,M as Na,i as Ma}from"../chunks/DdMhpqo6.js";import{g as he,n as Pa,o as Ta,j as Fa,k as Ba,p as Oa,l as Ha}from"../chunks/B1kqBJgY.js";import{d as za,a as Ra,b as Ua}from"../chunks/Bp7O2jHZ.js";import{a as Ps}from"../chunks/DfkbkWuS.js";import{d as Ts}from"../chunks/Ds05NSQs.js";function Fs(a,t=Ol){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let l=Array.from(a);const e=new Float64Array(l.length);t.length!==2&&(l=l.map(t),t=Ol);const i=(g,E)=>t(l[g],l[E]);let f,c;return a=Uint32Array.from(l,(g,E)=>E),a.sort(t===Ol?(g,E)=>la(l[g],l[E]):sa(i)),a.forEach((g,E)=>{const C=i(g,f===void 0?g:f);C>=0?((f===void 0||C>0)&&(f=g,c=E),e[g]=c):e[g]=NaN}),e}function Wa(a={},t={}){const l=aa(t),e=Object.entries(a).map(([i,f])=>{const c=na(i,t);if(c==null)throw new Error(`missing channel: ${i}`);const[g,E]=ia(c);return{key:i,input:c,output:g,setOutput:E,map:qa(f)}});return{...oa(t,(i,f)=>{const c=vs(i,l),g=e.map(({input:C})=>vs(i,C)),E=e.map(({setOutput:C})=>C(new Array(i.length)));for(const C of f)for(const w of c?fa(C,p=>c[p]).values():[C])e.forEach(({map:p},D)=>p.mapIndex(w,g[D],E[D]));return{data:i,facets:f}}),...Object.fromEntries(e.map(({key:i,output:f})=>[i,f]))}}function qa(a){if(a==null)throw new Error("missing map");if(typeof a.mapIndex=="function")return a;if(typeof a.map=="function"&&ra(a))return Ya(a);if(typeof a=="function")return zl(ca(a));switch(`${a}`.toLowerCase()){case"cumsum":return Ga;case"rank":return zl((t,l)=>Fs(t,e=>l[e]));case"quantile":return zl((t,l)=>Ka(t,e=>l[e]))}throw new Error(`invalid map: ${a}`)}function Ya(a){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:a.map.bind(a)}}function Ka(a,t){const l=za(a,t)-1;return Fs(a,t).map(e=>e/l)}function zl(a){return{mapIndex(t,l,e){const i=a(t,l);if(i.length!==t.length)throw new Error("map function returned a mismatched length");for(let f=0,c=t.length;f<c;++f)e[t[f]]=i[f]}}}const Ga={mapIndex(a,t,l){let e=0;for(const i of a)l[i]=e+=t[i]}},ja={ariaLabel:"tick",fill:null,stroke:"currentColor"};class Xa extends va{constructor(t,l,e){super(t,l,e,ja),ha(this,e)}render(t,l,e,i,f){return pa("svg:g",f).call(ma,this,i,f).call(this._transform,this,l).call(c=>c.selectAll().data(t).enter().append("line").call(_a,this).attr("x1",this._x1(l,e,i)).attr("x2",this._x2(l,e,i)).attr("y1",this._y1(l,e,i)).attr("y2",this._y2(l,e,i)).call(ga,this,e).call(ya,this,e,f)).node()}}class Za extends Xa{constructor(t,l={}){const{x:e,y:i,inset:f=0,insetRight:c=f,insetLeft:g=f}=l;super(t,{y:{value:i,scale:"y"},x:{value:e,scale:"x",type:"band",optional:!0}},l),this.insetRight=hs(c),this.insetLeft=hs(g)}_transform(t,l,{y:e}){t.call(da,l,{y:e},0,ua)}_x1({x:t},{x:l},{marginLeft:e}){const{insetLeft:i}=this;return l&&t?f=>l[f]+i:e+i}_x2({x:t},{x:l},{width:e,marginRight:i}){const{insetRight:f}=this;return l&&t?c=>l[c]+t.bandwidth()-f:e-i-f}_y1(t,{y:l}){return e=>l[e]}_y2(t,{y:l}){return e=>l[e]}}function Ja(a,{y:t=Vs,...l}={}){return new Za(a,{...l,y:t})}function Qa(a,{y:t=Vs,x:l=null,r:e,fill:i="#ccc",fillOpacity:f,stroke:c="currentColor",strokeOpacity:g,strokeWidth:E=2,sort:C,...w}={}){const p=l!=null?Ns:Ea;return ba(Rl(a,p({y1:Bs,y2:Os},{x:l,y:t,stroke:c,strokeOpacity:g,...w})),Ps(a,p({y1:"p25",y2:"p75"},{x:l,y:t,fill:i,fillOpacity:f,...w})),Ja(a,p({y:"p50"},{x:l,y:t,stroke:c,strokeOpacity:g,strokeWidth:E,sort:C,...w})),Ts(a,Wa({y:$a},{x:l,y:t,z:l,r:e,stroke:c,strokeOpacity:g,...w})))}function $a(a){const t=Bs(a),l=Os(a);return a.map(e=>e<t||e>l?e:NaN)}function Bs(a){const t=Hs(a)*2.5-zs(a)*1.5;return wa(a,l=>l>=t?l:NaN)}function Os(a){const t=zs(a)*2.5-Hs(a)*1.5;return Ca(a,l=>l<=t?l:NaN)}function Hs(a){return Ms(a,.25)}function zs(a){return Ms(a,.75)}function Es(a,t,l){const e=a.slice();return e[45]=t[l],e[46]=t,e[47]=l,e}function ws(a){let t,l,e=a[4].toLocaleString()+"",i;return{c(){t=r("span"),l=I("£"),i=I(e),this.h()},l(f){t=o(f,"SPAN",{class:!0});var c=v(t);l=S(c,"£"),i=S(c,e),c.forEach(d),this.h()},h(){n(t,"class","waffle-big svelte-13dtovy")},m(f,c){U(f,t,c),s(t,l),s(t,i)},p(f,c){c[0]&16&&e!==(e=f[4].toLocaleString()+"")&&De(i,e)},d(f){f&&d(t)}}}function tn(a){let t,l="National costs";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=o(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-o12owz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function en(a){let t,l="National benefits";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=o(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-10ytukz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function Cs(a){let t,l,e=a[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",i;return{c(){t=r("span"),l=I("£"),i=I(e),this.h()},l(f){t=o(f,"SPAN",{class:!0});var c=v(t);l=S(c,"£"),i=S(c,e),c.forEach(d),this.h()},h(){n(t,"class","waffle-big svelte-13dtovy")},m(f,c){U(f,t,c),s(t,l),s(t,i)},p(f,c){c[0]&64&&e!==(e=f[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&De(i,e)},d(f){f&&d(t)}}}function ln(a){let t,l="Per capita costs";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=o(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-6pmcl0"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function sn(a){let t,l="Per capita benefits";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=o(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-g1rvwk"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function Ds(a){let t,l,e=(a[4]/a[5]*100).toFixed(2)+"",i,f,c,g="%";return{c(){t=r("div"),l=r("span"),i=I(e),f=_(),c=r("span"),c.textContent=g,this.h()},l(E){t=o(E,"DIV",{class:!0});var C=v(t);l=o(C,"SPAN",{class:!0});var w=v(l);i=S(w,e),w.forEach(d),f=m(C),c=o(C,"SPAN",{class:!0,"data-svelte-h":!0}),M(c)!=="svelte-jxggz7"&&(c.textContent=g),C.forEach(d),this.h()},h(){n(l,"class","waffle-big svelte-13dtovy"),n(c,"class","small svelte-13dtovy"),n(t,"class","waffle-value svelte-13dtovy")},m(E,C){U(E,t,C),s(t,l),s(l,i),s(t,f),s(t,c)},p(E,C){C[0]&48&&e!==(e=(E[4]/E[5]*100).toFixed(2)+"")&&De(i,e)},d(E){E&&d(t)}}}function ks(a){let t,l,e,i,f,c,g,E,C,w=Ls(a[10])+"",p,D=a[4]&&Ss(a);return{c(){t=r("div"),l=r("div"),e=r("img"),f=_(),c=r("span"),g=I(a[15]),E=_(),D&&D.c(),C=I(`
            >> `),p=I(w),this.h()},l(F){t=o(F,"DIV",{class:!0});var B=v(t);l=o(B,"DIV",{class:!0});var L=v(l);e=o(L,"IMG",{src:!0,alt:!0,class:!0}),f=m(L),c=o(L,"SPAN",{class:!0});var x=v(c);g=S(x,a[15]),E=m(x),D&&D.l(x),C=S(x,`
            >> `),p=S(x,w),x.forEach(d),L.forEach(d),B.forEach(d),this.h()},h(){xs(e.src,i=a[17])||n(e,"src",i),n(e,"alt","Icon"),n(e,"class","mini-heading-icon"),n(c,"class","mini-header-text"),n(l,"class","mini-header-content"),n(t,"class","mini-header")},m(F,B){U(F,t,B),s(t,l),s(l,e),s(l,f),s(l,c),s(c,g),s(c,E),D&&D.m(c,null),s(c,C),s(c,p)},p(F,B){F[4]?D?D.p(F,B):(D=Ss(F),D.c(),D.m(c,C)):D&&(D.d(1),D=null),B[0]&1024&&w!==(w=Ls(F[10])+"")&&De(p,w)},d(F){F&&d(t),D&&D.d()}}}function Ss(a){let t,l,e,i;return{c(){t=r("span"),l=I("(UK total: £"),e=I(a[4]),i=I(" billion)"),this.h()},l(f){t=o(f,"SPAN",{class:!0});var c=v(t);l=S(c,"(UK total: £"),e=S(c,a[4]),i=S(c," billion)"),c.forEach(d),this.h()},h(){n(t,"class","mini-header-value")},m(f,c){U(f,t,c),s(t,l),s(t,e),s(t,i)},p(f,c){c[0]&16&&De(e,f[4])},d(f){f&&d(t)}}}function an(a){let t,l="Each bar shows the total benefits or costs obtained in that period.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=o(e,"P",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1ualj8m"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function nn(a){let t,l="Each bar shows the total values obtained in that period.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=o(e,"P",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-19uixzb"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function on(a){let t,l="Along the x-axis, see how many data zones (y-axis) lose/benefit how much.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=o(e,"P",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-wn292q"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function rn(a){let t,l="Along the x-axis, see how many data zones (y-axis) benefit how much.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=o(e,"P",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-8ib03s"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,i){U(e,t,i)},d(e){e&&d(t)}}}function Is(a){let t,l,e=a[7].legend().outerHTML+"";return{c(){t=r("div"),l=new Ks(!1),this.h()},l(i){t=o(i,"DIV",{id:!0});var f=v(t);l=Ys(f,!1),f.forEach(d),this.h()},h(){l.a=null,n(t,"id","legend")},m(i,f){U(i,t,f),l.m(e,t)},p(i,f){f[0]&128&&e!==(e=i[7].legend().outerHTML+"")&&l.p(e)},d(i){i&&d(t)}}}function As(a){let t,l,e=a[45].label+"",i,f,c,g=a[45].def+"",E,C,w,p=a[45],D;const F=()=>a[27](w,p),B=()=>a[27](null,p);return{c(){t=r("div"),l=r("h3"),i=I(e),f=_(),c=r("p"),E=I(g),C=_(),w=r("div"),D=_(),this.h()},l(L){t=o(L,"DIV",{class:!0});var x=v(t);l=o(x,"H3",{class:!0});var ut=v(l);i=S(ut,e),ut.forEach(d),f=m(x),c=o(x,"P",{class:!0});var tt=v(c);E=S(tt,g),tt.forEach(d),C=m(x),w=o(x,"DIV",{class:!0}),v(w).forEach(d),D=m(x),x.forEach(d),this.h()},h(){n(l,"class","component-chart-title svelte-13dtovy"),n(c,"class","component-chart-caption svelte-13dtovy"),n(w,"class","plot"),n(t,"class","plot-container svelte-13dtovy")},m(L,x){U(L,t,x),s(t,l),s(l,i),s(t,f),s(t,c),s(c,E),s(t,C),s(t,w),F(),s(t,D)},p(L,x){a=L,p!==a[45]&&(B(),p=a[45],F())},d(L){L&&d(t),B()}}}function cn(a){let t,l,e,i,f,c,g,E="Co-Benefit Report",C,w,p,D,F,B,L,x,ut,tt,rt,$t,vt,Ft,te,X,at,et,nt,lt,Bt,ht,Ot="billion",me,it,O,pt,_e,ge,ot,ee,mt,ke="Contribution to national benefits",ye,wt,be,Ct,h,y,b,T,N,Ee='<p class="section-subtitle">Overview</p>',we,Z,V,ct,k,H,Se=a[15].toLowerCase()+"",le,je,Xe,Ie,se,Ze,Je,Qe,Dt,$e,Ht,Ul=a[15].toLowerCase()+"",tl,el,ll,Ae,kt,Wl="",sl,al,nl,Q,St,il,zt,ql=a[15].toLowerCase()+"",ol,rl,cl,Rt,Yl="Scroll for zooming in and out.",fl,Le,_t,Kl="",dl,It,Ut,Gl='<p class="section-subtitle">Socio-economic factors</p>',ul,ft,J,At,vl,Wt,jl=a[15]?.toLowerCase()+"",hl,pl,ml,qt,Xl="Each scatterplot shows the distribution of benefits or costs depending on a given socio-economic factor.",_l,gl,yl,Lt,Zl='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where the x-axis is non-linear:  EPC, Tenure, Typology, Fuel type, Gas flag, Number of cars.</p>',bl,$,Yt,Jl="Legend:",El,wl,Cl,ae,Ql="The scatter plots are shaded by nation.",Dl,st,Kt,ne,kl,Sl,Gt,ie,Il,Al,jt,oe,Ll,xl,Xt,re,Vl,Nl,Zt,xt,Vt;t=new ea({});let W=a[4]&&ws(a);function $l(u,A){return u[4]>0?en:tn}let xe=$l(a),gt=xe(a),q=a[4]&&Cs(a);function ts(u,A){return u[4]>0?sn:ln}let Ve=ts(a),yt=Ve(a),Y=a[4]&&Ds(a),K=a[9]&&ks(a);function es(u,A){return u[4]>0?nn:an}let Ne=es(a),bt=Ne(a);function ls(u,A){return u[4]>0?rn:on}let Me=ls(a),Et=Me(a),G=a[7]&&Is(a),ce=us(bs),R=[];for(let u=0;u<ce.length;u+=1)R[u]=As(Es(a,ce,u));return{c(){ta(t.$$.fragment),l=_(),e=r("div"),i=r("div"),f=r("div"),c=r("div"),g=r("p"),g.textContent=E,C=_(),w=r("div"),p=r("h1"),D=r("img"),B=_(),L=r("div"),x=_(),ut=I(a[15]),tt=_(),rt=r("div"),$t=_(),vt=r("p"),Ft=I(a[16]),te=_(),X=r("div"),at=r("div"),et=r("div"),nt=r("div"),lt=r("div"),W&&W.c(),Bt=_(),ht=r("span"),ht.textContent=Ot,me=_(),gt.c(),it=_(),O=r("div"),pt=r("div"),q&&q.c(),_e=_(),yt.c(),ge=_(),ot=r("div"),Y&&Y.c(),ee=_(),mt=r("div"),mt.textContent=ke,ye=_(),wt=r("div"),be=_(),Ct=r("div"),h=_(),K&&K.c(),y=_(),b=r("div"),T=r("div"),N=r("div"),N.innerHTML=Ee,we=_(),Z=r("div"),V=r("div"),ct=r("h3"),k=I("Total values (£, billion) for "),H=r("span"),le=I(Se),je=I(" over time"),Xe=_(),bt.c(),Ie=_(),se=r("div"),Ze=_(),Je=r("br"),Qe=_(),Dt=r("h3"),$e=I("Distribution of values (£, billion) for "),Ht=r("span"),tl=I(Ul),el=I(" by UK data zones"),ll=_(),Et.c(),Ae=_(),kt=r("div"),kt.innerHTML=Wl,sl=_(),al=r("br"),nl=_(),Q=r("div"),St=r("h3"),il=I("Total values (£, billion) for "),zt=r("span"),ol=I(ql),rl=I(" across the UK"),cl=_(),Rt=r("p"),Rt.textContent=Yl,fl=_(),G&&G.c(),Le=_(),_t=r("div"),_t.innerHTML=Kl,dl=_(),It=r("div"),Ut=r("div"),Ut.innerHTML=Gl,ul=_(),ft=r("div"),J=r("div"),At=r("h3"),vl=I("Mapping the impact of "),Wt=r("span"),hl=I(jl),pl=I(" across UK local authorities according to socio-economic factors"),ml=_(),qt=r("p"),qt.textContent=Xl,_l=_(),gl=r("br"),yl=_(),Lt=r("div"),Lt.innerHTML=Zl,bl=_(),$=r("div"),Yt=r("strong"),Yt.textContent=Jl,El=_(),wl=r("br"),Cl=_(),ae=r("span"),ae.textContent=Ql,Dl=_(),st=r("ul"),Kt=r("li"),ne=r("span"),kl=I(`
                            Scotland`),Sl=_(),Gt=r("li"),ie=r("span"),Il=I(`
                            Northern Ireland`),Al=_(),jt=r("li"),oe=r("span"),Ll=I("England"),xl=_(),Xt=r("li"),re=r("span"),Vl=I("Wales"),Nl=_(),Zt=r("div"),xt=r("div");for(let u=0;u<R.length;u+=1)R[u].c();this.h()},l(u){$s(t.$$.fragment,u),l=m(u),e=o(u,"DIV",{class:!0});var A=v(e);i=o(A,"DIV",{class:!0});var P=v(i);f=o(P,"DIV",{class:!0});var Jt=v(f);c=o(Jt,"DIV",{class:!0});var Pe=v(c);g=o(Pe,"P",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-1flv0v9"&&(g.textContent=E),C=m(Pe),w=o(Pe,"DIV",{class:!0});var fe=v(w);p=o(fe,"H1",{class:!0});var de=v(p);D=o(de,"IMG",{src:!0,alt:!0,class:!0}),B=m(de),L=o(de,"DIV",{style:!0}),v(L).forEach(d),x=m(de),ut=S(de,a[15]),de.forEach(d),tt=m(fe),rt=o(fe,"DIV",{style:!0}),v(rt).forEach(d),$t=m(fe),vt=o(fe,"P",{class:!0});var ss=v(vt);Ft=S(ss,a[16]),ss.forEach(d),fe.forEach(d),Pe.forEach(d),te=m(Jt),X=o(Jt,"DIV",{class:!0});var ue=v(X);at=o(ue,"DIV",{class:!0});var as=v(at);et=o(as,"DIV",{class:!0});var ve=v(et);nt=o(ve,"DIV",{class:!0});var Te=v(nt);lt=o(Te,"DIV",{class:!0});var Fe=v(lt);W&&W.l(Fe),Bt=m(Fe),ht=o(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),M(ht)!=="svelte-tlhydp"&&(ht.textContent=Ot),Fe.forEach(d),me=m(Te),gt.l(Te),Te.forEach(d),it=m(ve),O=o(ve,"DIV",{class:!0});var Be=v(O);pt=o(Be,"DIV",{class:!0});var ns=v(pt);q&&q.l(ns),ns.forEach(d),_e=m(Be),yt.l(Be),Be.forEach(d),ge=m(ve),ot=o(ve,"DIV",{class:!0});var Oe=v(ot);Y&&Y.l(Oe),ee=m(Oe),mt=o(Oe,"DIV",{class:!0,"data-svelte-h":!0}),M(mt)!=="svelte-1v3rfza"&&(mt.textContent=ke),Oe.forEach(d),ve.forEach(d),as.forEach(d),ye=m(ue),wt=o(ue,"DIV",{class:!0}),v(wt).forEach(d),be=m(ue),Ct=o(ue,"DIV",{class:!0}),v(Ct).forEach(d),ue.forEach(d),Jt.forEach(d),P.forEach(d),h=m(A),K&&K.l(A),y=m(A),b=o(A,"DIV",{class:!0});var He=v(b);T=o(He,"DIV",{id:!0});var ze=v(T);N=o(ze,"DIV",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-ll1i43"&&(N.innerHTML=Ee),we=m(ze),Z=o(ze,"DIV",{id:!0,class:!0});var Re=v(Z);V=o(Re,"DIV",{class:!0});var j=v(V);ct=o(j,"H3",{class:!0});var Ue=v(ct);k=S(Ue,"Total values (£, billion) for "),H=o(Ue,"SPAN",{style:!0});var is=v(H);le=S(is,Se),is.forEach(d),je=S(Ue," over time"),Ue.forEach(d),Xe=m(j),bt.l(j),Ie=m(j),se=o(j,"DIV",{class:!0}),v(se).forEach(d),Ze=m(j),Je=o(j,"BR",{}),Qe=m(j),Dt=o(j,"H3",{class:!0});var We=v(Dt);$e=S(We,"Distribution of values (£, billion) for "),Ht=o(We,"SPAN",{style:!0});var os=v(Ht);tl=S(os,Ul),os.forEach(d),el=S(We," by UK data zones"),We.forEach(d),ll=m(j),Et.l(j),Ae=m(j),kt=o(j,"DIV",{class:!0,"data-svelte-h":!0}),M(kt)!=="svelte-1ta2xvp"&&(kt.innerHTML=Wl),sl=m(j),al=o(j,"BR",{}),j.forEach(d),nl=m(Re),Q=o(Re,"DIV",{class:!0});var Nt=v(Q);St=o(Nt,"H3",{class:!0});var qe=v(St);il=S(qe,"Total values (£, billion) for "),zt=o(qe,"SPAN",{style:!0});var rs=v(zt);ol=S(rs,ql),rs.forEach(d),rl=S(qe," across the UK"),qe.forEach(d),cl=m(Nt),Rt=o(Nt,"P",{class:!0,"data-svelte-h":!0}),M(Rt)!=="svelte-1ask2se"&&(Rt.textContent=Yl),fl=m(Nt),G&&G.l(Nt),Le=m(Nt),_t=o(Nt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),M(_t)!=="svelte-1bex1ev"&&(_t.innerHTML=Kl),Nt.forEach(d),Re.forEach(d),ze.forEach(d),dl=m(He),It=o(He,"DIV",{id:!0});var Ye=v(It);Ut=o(Ye,"DIV",{class:!0,"data-svelte-h":!0}),M(Ut)!=="svelte-dcew9z"&&(Ut.innerHTML=Gl),ul=m(Ye),ft=o(Ye,"DIV",{id:!0,class:!0,style:!0});var Ke=v(ft);J=o(Ke,"DIV",{id:!0,class:!0});var dt=v(J);At=o(dt,"H3",{class:!0});var Ge=v(At);vl=S(Ge,"Mapping the impact of "),Wt=o(Ge,"SPAN",{style:!0});var cs=v(Wt);hl=S(cs,jl),cs.forEach(d),pl=S(Ge," across UK local authorities according to socio-economic factors"),Ge.forEach(d),ml=m(dt),qt=o(dt,"P",{class:!0,"data-svelte-h":!0}),M(qt)!=="svelte-xtub96"&&(qt.textContent=Xl),_l=m(dt),gl=o(dt,"BR",{}),yl=m(dt),Lt=o(dt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),M(Lt)!=="svelte-250g83"&&(Lt.innerHTML=Zl),bl=m(dt),$=o(dt,"DIV",{id:!0,class:!0});var Mt=v($);Yt=o(Mt,"STRONG",{style:!0,"data-svelte-h":!0}),M(Yt)!=="svelte-xb363n"&&(Yt.textContent=Jl),El=m(Mt),wl=o(Mt,"BR",{}),Cl=m(Mt),ae=o(Mt,"SPAN",{"data-svelte-h":!0}),M(ae)!=="svelte-ddxsq2"&&(ae.textContent=Ql),Dl=m(Mt),st=o(Mt,"UL",{class:!0});var Pt=v(st);Kt=o(Pt,"LI",{class:!0});var Ml=v(Kt);ne=o(Ml,"SPAN",{class:!0,style:!0}),v(ne).forEach(d),kl=S(Ml,`
                            Scotland`),Ml.forEach(d),Sl=m(Pt),Gt=o(Pt,"LI",{class:!0});var Pl=v(Gt);ie=o(Pl,"SPAN",{class:!0,style:!0}),v(ie).forEach(d),Il=S(Pl,`
                            Northern Ireland`),Pl.forEach(d),Al=m(Pt),jt=o(Pt,"LI",{class:!0});var Tl=v(jt);oe=o(Tl,"SPAN",{class:!0,style:!0}),v(oe).forEach(d),Ll=S(Tl,"England"),Tl.forEach(d),xl=m(Pt),Xt=o(Pt,"LI",{class:!0});var Fl=v(Xt);re=o(Fl,"SPAN",{class:!0,style:!0}),v(re).forEach(d),Vl=S(Fl,"Wales"),Fl.forEach(d),Pt.forEach(d),Mt.forEach(d),dt.forEach(d),Nl=m(Ke),Zt=o(Ke,"DIV",{id:!0,class:!0});var fs=v(Zt);xt=o(fs,"DIV",{id:!0,class:!0});var ds=v(xt);for(let Bl=0;Bl<R.length;Bl+=1)R[Bl].l(ds);ds.forEach(d),fs.forEach(d),Ke.forEach(d),Ye.forEach(d),He.forEach(d),A.forEach(d),this.h()},h(){n(g,"class","page-subtitle svelte-13dtovy"),xs(D.src,F=a[17])||n(D,"src",F),n(D,"alt","Icon"),n(D,"class","heading-icon svelte-13dtovy"),Tt(L,"margin-top","10px"),n(p,"class","page-title svelte-13dtovy"),Tt(rt,"margin-top","14px"),n(vt,"class","definition svelte-13dtovy"),n(w,"class","title-container"),n(c,"class","header-text svelte-13dtovy"),n(ht,"class","small svelte-13dtovy"),n(lt,"class","waffle-value svelte-13dtovy"),n(nt,"class","waffle-stat svelte-13dtovy"),n(pt,"class","waffle-value svelte-13dtovy"),n(O,"class","waffle-stat svelte-13dtovy"),n(mt,"class","waffle-caption svelte-13dtovy"),n(ot,"class","waffle-stat svelte-13dtovy"),n(et,"class","waffle-stats svelte-13dtovy"),n(at,"class","waffle-label svelte-13dtovy"),n(wt,"class","waffle-el"),n(Ct,"class","waffle-bg svelte-13dtovy"),n(X,"class","header-waffle-wrapper svelte-13dtovy"),n(f,"class","header-content svelte-13dtovy"),n(i,"class","section header svelte-13dtovy"),n(N,"class","section-header"),n(H,"style",a[13]),n(ct,"class","component-title"),n(se,"class","plot"),n(Ht,"style",a[13]),n(Dt,"class","component-title"),n(kt,"class","plot"),n(V,"class","component singlevis"),n(zt,"style",a[13]),n(St,"class","component-title"),n(Rt,"class","description svelte-13dtovy"),n(_t,"id","map"),n(_t,"class","svelte-13dtovy"),n(Q,"class","component column"),n(Z,"id","vis-block"),n(Z,"class","svelte-13dtovy"),n(T,"id","overview"),n(Ut,"class","section-header"),n(Wt,"style",a[13]),n(At,"class","component-title"),n(qt,"class","explanation"),n(Lt,"id","se-disclaimer"),n(Lt,"class","disclaimer-box svelte-13dtovy"),Tt(Yt,"margin-bottom","1rem"),n(ne,"class","legend-color svelte-13dtovy"),Tt(ne,"background-color",z(a[14])[1]),n(Kt,"class","svelte-13dtovy"),n(ie,"class","legend-color svelte-13dtovy"),Tt(ie,"background-color",z(a[14])[2]),n(Gt,"class","svelte-13dtovy"),n(oe,"class","legend-color svelte-13dtovy"),Tt(oe,"background-color",z(a[14])[3]),n(jt,"class","svelte-13dtovy"),n(re,"class","legend-color svelte-13dtovy"),Tt(re,"background-color",z(a[14])[4]),n(Xt,"class","svelte-13dtovy"),n(st,"class","legend-list svelte-13dtovy"),n($,"id","se-legend"),n($,"class","legend-box svelte-13dtovy"),n(J,"id","se-title"),n(J,"class","svelte-13dtovy"),n(xt,"id","multiple-plots"),n(xt,"class","svelte-13dtovy"),n(Zt,"id","multiple-comp"),n(Zt,"class","svelte-13dtovy"),n(ft,"id","se-block"),n(ft,"class","component svelte-13dtovy"),Tt(ft,"margin-left","1rem"),n(It,"id","compare"),n(b,"class","section"),n(e,"class","page-container")},m(u,A){Qs(t,u,A),U(u,l,A),U(u,e,A),s(e,i),s(i,f),s(f,c),s(c,g),s(c,C),s(c,w),s(w,p),s(p,D),s(p,B),s(p,L),s(p,x),s(p,ut),s(w,tt),s(w,rt),s(w,$t),s(w,vt),s(vt,Ft),s(f,te),s(f,X),s(X,at),s(at,et),s(et,nt),s(nt,lt),W&&W.m(lt,null),s(lt,Bt),s(lt,ht),s(nt,me),gt.m(nt,null),s(et,it),s(et,O),s(O,pt),q&&q.m(pt,null),s(O,_e),yt.m(O,null),s(et,ge),s(et,ot),Y&&Y.m(ot,null),s(ot,ee),s(ot,mt),s(X,ye),s(X,wt),a[22](wt),s(X,be),s(X,Ct),a[23](Ct),s(e,h),K&&K.m(e,null),s(e,y),s(e,b),s(b,T),s(T,N),s(T,we),s(T,Z),s(Z,V),s(V,ct),s(ct,k),s(ct,H),s(H,le),s(ct,je),s(V,Xe),bt.m(V,null),s(V,Ie),s(V,se),a[24](se),s(V,Ze),s(V,Je),s(V,Qe),s(V,Dt),s(Dt,$e),s(Dt,Ht),s(Ht,tl),s(Dt,el),s(V,ll),Et.m(V,null),s(V,Ae),s(V,kt),a[25](kt),s(V,sl),s(V,al),s(Z,nl),s(Z,Q),s(Q,St),s(St,il),s(St,zt),s(zt,ol),s(St,rl),s(Q,cl),s(Q,Rt),s(Q,fl),G&&G.m(Q,null),s(Q,Le),s(Q,_t),a[26](_t),s(b,dl),s(b,It),s(It,Ut),s(It,ul),s(It,ft),s(ft,J),s(J,At),s(At,vl),s(At,Wt),s(Wt,hl),s(At,pl),s(J,ml),s(J,qt),s(J,_l),s(J,gl),s(J,yl),s(J,Lt),s(J,bl),s(J,$),s($,Yt),s($,El),s($,wl),s($,Cl),s($,ae),s($,Dl),s($,st),s(st,Kt),s(Kt,ne),s(Kt,kl),s(st,Sl),s(st,Gt),s(Gt,ie),s(Gt,Il),s(st,Al),s(st,jt),s(jt,oe),s(jt,Ll),s(st,xl),s(st,Xt),s(Xt,re),s(Xt,Vl),s(ft,Nl),s(ft,Zt),s(Zt,xt);for(let P=0;P<R.length;P+=1)R[P]&&R[P].m(xt,null);a[28](e),Vt=!0},p(u,A){if(u[4]?W?W.p(u,A):(W=ws(u),W.c(),W.m(lt,Bt)):W&&(W.d(1),W=null),xe!==(xe=$l(u))&&(gt.d(1),gt=xe(u),gt&&(gt.c(),gt.m(nt,null))),u[4]?q?q.p(u,A):(q=Cs(u),q.c(),q.m(pt,null)):q&&(q.d(1),q=null),Ve!==(Ve=ts(u))&&(yt.d(1),yt=Ve(u),yt&&(yt.c(),yt.m(O,null))),u[4]?Y?Y.p(u,A):(Y=Ds(u),Y.c(),Y.m(ot,ee)):Y&&(Y.d(1),Y=null),u[9]?K?K.p(u,A):(K=ks(u),K.c(),K.m(e,y)):K&&(K.d(1),K=null),(!Vt||A[0]&8192)&&n(H,"style",u[13]),Ne!==(Ne=es(u))&&(bt.d(1),bt=Ne(u),bt&&(bt.c(),bt.m(V,Ie))),(!Vt||A[0]&8192)&&n(Ht,"style",u[13]),Me!==(Me=ls(u))&&(Et.d(1),Et=Me(u),Et&&(Et.c(),Et.m(V,Ae))),(!Vt||A[0]&8192)&&n(zt,"style",u[13]),u[7]?G?G.p(u,A):(G=Is(u),G.c(),G.m(Q,Le)):G&&(G.d(1),G=null),(!Vt||A[0]&8192)&&n(Wt,"style",u[13]),A[0]&2){ce=us(bs);let P;for(P=0;P<ce.length;P+=1){const Jt=Es(u,ce,P);R[P]?R[P].p(Jt,A):(R[P]=As(Jt),R[P].c(),R[P].m(xt,null))}for(;P<R.length;P+=1)R[P].d(1);R.length=ce.length}},i(u){Vt||(Js(t.$$.fragment,u),Vt=!0)},o(u){Zs(t.$$.fragment,u),Vt=!1},d(u){u&&(d(l),d(e)),Xs(t,u),W&&W.d(),gt.d(),q&&q.d(),yt.d(),Y&&Y.d(),a[22](null),a[23](null),K&&K.d(),bt.d(),a[24](null),Et.d(),a[25](null),G&&G.d(),a[26](null),Us(R,u),a[28](null)}}}let pe=400;function Ls(a){return{overview:"Overview",compare:"Compare by socio-economic factor"}[a]||""}function fn(a,t,l){let e,i,f,c,g,E={},C="barchart",{data:w}=t;const p=w.coBenefit,D=gs.find(h=>h.id===p)?.label??p,F=Ia.find(h=>h.id===p)?.def??p;let B,L,x,ut,tt,rt,$t,vt,Ft=!1,te,X,at,et;me().then(()=>{let h=JSON.parse(JSON.stringify(z(p)));h.shift(),h=h.reverse(),l(7,X=new Sa(L,"LAD",at,"total",!1,"LAD",!1,h)),X.initMap();let y=X.legend();et.append(y)});let nt=Aa(p),lt=!1,Bt="";const ht=["overview","compare"];function Ot(){const h=window.scrollY;l(9,lt=h>250);for(const y of ht){const b=document.getElementById(y);if(!b)continue;const T=b.getBoundingClientRect();if(T.top<=150&&T.bottom>=150){l(10,Bt=y);break}}}Ws(()=>(window.addEventListener("scroll",Ot),Ot(),()=>window.removeEventListener("scroll",Ot))),qs(()=>{window.removeEventListener("scroll",Ot)});async function me(){B=await he(Pa(p)),x=await he(Ta(p)),tt=await he(Fa()),tt=tt.sort((y,b)=>b.total-y.total),rt=await he(Ba()),rt=rt.sort((y,b)=>b.total_value-y.total_value);const h=rt.find(y=>y.co_benefit_type===p);l(6,te=h?h.value_per_capita:null),L=await he(Oa(p)),$t=await he(Ha()),l(5,vt=$t[0].total_value),ys.forEach(y=>{x[y]=+x[y]}),l(4,ut=Da(B,y=>y.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),l(20,Ft=!0)}let it,O;function pt(h,y){if(!it)return;const b=20,T=15,N=Math.floor(200/b),Ee=T*N,we=tt.reduce((k,H)=>k+H.total,0),Z=[];for(const k of tt){const H=Math.round(Math.abs(k.total)/we*Ee),Se=k.total<0;for(let le=0;le<H;le++)Z.push({type:k.co_benefit_type,negative:Se})}for(;Z.length<Ee;)Z.push({type:"empty"});Z.sort((k,H)=>k.type==="empty"?1:H.type==="empty"?-1:k.negative&&!H.negative?1:!k.negative&&H.negative?-1:0);const V=Z.map((k,H)=>({x:H%T,y:Math.floor(H/T),...k})),ct=Ce({width:b*T,height:b*N,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:gs.map(k=>k.id),range:Ma,unknown:"#eee",legend:!1},marks:[_s(V.filter(k=>!k.negative),{x:k=>k.x*b,y:k=>k.y*b,fill:"type",fillOpacity:k=>y&&k.type!==y?.15:1}),_s(V.filter(k=>k.negative),{x:k=>k.x*b,y:k=>k.y*b,stroke:"type",strokeOpacity:k=>y&&k.type!==y?.15:1,strokeWidth:1,fill:"none"})]});O&&(l(12,O.style.width=`${b*T}px`,O),l(12,O.style.height=`${h-100}px`,O)),l(11,it.innerHTML="",it),it.append(ct)}function _e(){c?.append(Ce({height:pe/1.5,...Na,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazoness"},x:{label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Ra(L,Ua({y:"count"},{x:"total",fill:z(p)[0],tip:!0,fillOpacity:.5,stroke:z(p)[0],strokeWidth:3})),ms({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),Rl([0],{stroke:"#333",strokeWidth:.75})]}))}function ge(){let h=B.flatMap(y=>La.map(b=>({time:b,value:y[b],total:y.total,scenario:y.scenario})));g?.append(Ce({height:pe/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:y=>y.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[Ps(h,Ns({y:"sum"},{x:"time",y:y=>y.value/1e3,fill:z(p)[0],tip:{format:{y:y=>`${y.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),ms({anchor:"left",grid:!0,label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"})]}))}function ot(){ys.forEach(h=>{let y;if(xa.includes(h)){const b=Va[h],T=b?Object.keys(b).map(Number):L.filter(N=>N.SEFMAME==h).map(N=>N.SE);y=Ce({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:pe/1.4,width:pe*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:20,x:{domain:T,label:Hl(h),tickFormat:N=>b?.[N]??N},y:{label:"£, billion",labelArrow:"none"},color:{legend:!0},marks:[Qa(L.filter(N=>N.SEFMAME==h),{x:"SE",y:"total",stroke:N=>N.LAD.startsWith("S")?z(p)[1]:N.LAD.startsWith("N")?z(p)[2]:N.LAD.startsWith("E")?z(p)[3]:z(p)[4],fill:z(p)[4],r:2,fillOpacity:.3}),ps([0],{stroke:"#333",strokeWidth:.75})]})}else y=Ce({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:pe/1.4,width:pe*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:20,x:{label:Hl(h),labelArrow:!1,labelAnchor:"center"},y:{label:"£, billion",labelArrow:!1},color:{legend:!0},marks:[Ts(L.filter(b=>b.SEFMAME==h),{x:b=>["Under_35","Over_65","Unemployment"].includes(h)?b.SE*100:b.SE,y:"total",fill:b=>b.LAD.startsWith("S")?z(p)[1]:b.LAD.startsWith("N")?z(p)[2]:b.LAD.startsWith("E")?z(p)[3]:z(p)[4],r:2,fillOpacity:1}),ka({label:Hl(h),labelArrow:!1,labelAnchor:"center"}),ps([0],{stroke:"#333",strokeWidth:.75}),Rl([0],{stroke:"#333",strokeWidth:.75})]});E[h]?.append(y)})}function ee(h){Qt[h?"unshift":"push"](()=>{it=h,l(11,it)})}function mt(h){Qt[h?"unshift":"push"](()=>{O=h,l(12,O)})}function ke(h){Qt[h?"unshift":"push"](()=>{g=h,l(0,g)})}function ye(h){Qt[h?"unshift":"push"](()=>{c=h,l(3,c)})}function wt(h){Qt[h?"unshift":"push"](()=>{at=h,l(8,at)})}function be(h,y){Qt[h?"unshift":"push"](()=>{E[y.id]=h,l(1,E)})}function Ct(h){Qt[h?"unshift":"push"](()=>{f=h,l(2,f)})}return a.$$set=h=>{"data"in h&&l(18,w=h.data)},a.$$.update=()=>{a.$$.dirty[0]&1572867&&(g?.firstChild?.remove(),Object.values(E).forEach(h=>{h.firstChild?.remove()}),Ft&&(_e(),ge(),ot(),pt(300,p))),a.$$.dirty[0]&2097152&&l(13,i=`color: ${e}; font-weight: bold; font-size: 22px;`)},l(21,e=z(p)[0]),[g,E,f,c,ut,vt,te,X,at,lt,Bt,it,O,i,p,D,F,nt,w,C,Ft,e,ee,mt,ke,ye,wt,be,Ct]}class wn extends Gs{constructor(t){super(),js(this,t,fn,cn,Rs,{data:18},null,[-1,-1])}}export{wn as component};
