import{s as Et,e as r,a as D,t as oe,c,b as v,g as E,d as re,f,q as o,i as Q,h as i,K as nl,y as qe,n as ut,z as fl,L as Xl,w as Ct,j as pe,p as G,x as Le,B as Dt,C as Ne,H as Jl,v as Tl,E as Zl,T as Ql,a0 as Bl,a1 as $l,r as ea,G as ta,A as mt}from"../chunks/scheduler.DxTP-Qzi.js";import{S as jt,i as Gt,c as _t,b as gt,m as bt,t as Me,a as ze,e as Hl,d as yt,g as Sl}from"../chunks/index.CDFQmUj4.js";import{e as Ue,N as la,s as aa}from"../chunks/NavigationBar.YjIgI8Y7.js";import{b as ge}from"../chunks/paths.DUL3tRBr.js";import"../chunks/entry.DGfLtvDt.js";import{I as Ut,J as sa,F as ia,av as Al,O as na}from"../chunks/index.BLoJmirk.js";import{g as ol,C as rl,e as oa,f as ra,r as ca,i as fa,h as ua}from"../chunks/globals.1IBIOW7t.js";import{b as cl}from"../chunks/bar.CuW7nKQD.js";import{p as ha,t as da}from"../chunks/percentage.Cu08Svdw.js";import{p as va}from"../chunks/per_capita.COcMrZFY.js";import{g as qt,r as pa,s as ma,t as _a,p as ga}from"../chunks/duckdb.-XNuYltr.js";import"../chunks/transform.BNP73y-7.js";import{F as ba}from"../chunks/Footer.D48Tbyji.js";function Il(a,e,t){const l=a.slice();return l[10]=e[t],l}function Pl(a){let e,t=Ue(a[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ml(Il(a,t,s));return{c(){e=r("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=c(s,"UL",{class:!0});var n=v(e);for(let u=0;u<l.length;u+=1)l[u].l(n);n.forEach(f),this.h()},h(){o(e,"class","suggestions svelte-1kj8esc")},m(s,n){Q(s,e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(s,n){if(n&12){t=Ue(s[2]);let u;for(u=0;u<t.length;u+=1){const h=Il(s,t,u);l[u]?l[u].p(h,n):(l[u]=Ml(h),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(s){s&&f(e),Ct(l,s)}}}function Ml(a){let e,t=a[10][1]+"",l,s,n;function u(){return a[7](a[10])}return{c(){e=r("li"),l=oe(t),this.h()},l(h){e=c(h,"LI",{class:!0});var d=v(e);l=re(d,t),d.forEach(f),this.h()},h(){o(e,"class","svelte-1kj8esc")},m(h,d){Q(h,e,d),i(e,l),s||(n=qe(e,"click",u),s=!0)},p(h,d){a=h,d&4&&t!==(t=a[10][1]+"")&&pe(l,t)},d(h){h&&f(e),s=!1,n()}}}function ya(a){let e,t,l,s,n,u,h,d,y,C,m=a[2].length&&Pl(a);return{c(){e=r("div"),t=r("div"),l=r("input"),s=D(),n=r("button"),u=oe("See Report"),d=D(),m&&m.c(),this.h()},l(V){e=c(V,"DIV",{class:!0});var _=v(e);t=c(_,"DIV",{class:!0});var g=v(t);l=c(g,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),s=E(g),n=c(g,"BUTTON",{type:!0,class:!0});var I=v(n);u=re(I,"See Report"),I.forEach(f),g.forEach(f),d=E(_),m&&m.l(_),_.forEach(f),this.h()},h(){o(l,"type","text"),o(l,"placeholder","Type local authority name to search..."),o(l,"autocomplete","off"),o(l,"class","svelte-1kj8esc"),o(n,"type","button"),o(n,"class","search-btn svelte-1kj8esc"),n.disabled=h=!a[1],o(t,"class","input-group svelte-1kj8esc"),o(e,"class","autocomplete svelte-1kj8esc")},m(V,_){Q(V,e,_),i(e,t),i(t,l),nl(l,a[0]),i(t,s),i(t,n),i(n,u),i(e,d),m&&m.m(e,null),y||(C=[qe(l,"input",a[6]),qe(n,"click",a[4])],y=!0)},p(V,[_]){_&1&&l.value!==V[0]&&nl(l,V[0]),_&2&&h!==(h=!V[1])&&(n.disabled=h),V[2].length?m?m.p(V,_):(m=Pl(V),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:ut,o:ut,d(V){V&&f(e),m&&m.d(),y=!1,fl(C)}}}function Ca(a,e,t){let l;const s=Xl();let{items:n}=e,u="",h=null;const d=Object.entries(n);function y([_,g]){t(0,u=g),t(1,h=_),s("select",_)}function C(){h&&s("search",h)}function m(){u=this.value,t(0,u)}const V=_=>y(_);return a.$$set=_=>{"items"in _&&t(5,n=_.items)},a.$$.update=()=>{a.$$.dirty&1&&t(2,l=u?d.filter(([_,g])=>g.toLowerCase().includes(u.toLowerCase())).slice(0,10):[])},[u,h,l,y,C,n,m,V]}class Da extends jt{constructor(e){super(),Gt(this,e,Ca,ya,Et,{items:5})}}function Nl(a,e,t){const l=a.slice();return l[11]=e[t],l}function Fl(a){let e,t=(a[6]==="total"?a[8](a[11].total_value,a[1],a[2],a[11].co_benefit_type,a[5]):a[8](a[11].value_per_capita,a[3],a[4],a[11].co_benefit_type,a[5]))+"",l;return{c(){e=new Jl(!1),l=Tl(),this.h()},l(s){e=Zl(s,!1),l=Tl(),this.h()},h(){e.a=l},m(s,n){e.m(t,s,n),Q(s,l,n)},p(s,n){n&127&&t!==(t=(s[6]==="total"?s[8](s[11].total_value,s[1],s[2],s[11].co_benefit_type,s[5]):s[8](s[11].value_per_capita,s[3],s[4],s[11].co_benefit_type,s[5]))+"")&&e.p(t)},d(s){s&&(f(l),e.d())}}}function Ea(a){let e,t=a[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=oe(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=re(n,t),n.forEach(f)},m(s,n){Q(s,e,n),i(e,l)},p(s,n){n&1&&t!==(t=s[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&pe(l,t)},d(s){s&&f(e)}}}function Va(a){let e,t=a[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=oe(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=re(n,t),n.forEach(f)},m(s,n){Q(s,e,n),i(e,l)},p(s,n){n&1&&t!==(t=s[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&pe(l,t)},d(s){s&&f(e)}}}function Ol(a){let e,t,l,s,n,u,h,d=a[7](a[11].co_benefit_type)+"",y,C,m,V,_,g=a[6],I,S,k,b=Fl(a);function p(M,A){return M[6]==="total"?Va:Ea}let N=p(a),F=N(a);return{c(){e=r("tr"),t=r("td"),l=r("div"),s=r("img"),u=D(),h=r("a"),y=oe(d),m=D(),V=r("td"),_=r("div"),b.c(),I=D(),S=r("td"),F.c(),k=D(),this.h()},l(M){e=c(M,"TR",{});var A=v(e);t=c(A,"TD",{});var z=v(t);l=c(z,"DIV",{class:!0});var W=v(l);s=c(W,"IMG",{src:!0,alt:!0,class:!0}),u=E(W),h=c(W,"A",{href:!0,target:!0});var x=v(h);y=re(x,d),x.forEach(f),W.forEach(f),z.forEach(f),m=E(A),V=c(A,"TD",{});var j=v(V);_=c(j,"DIV",{class:!0});var H=v(_);b.l(H),H.forEach(f),j.forEach(f),I=E(A),S=c(A,"TD",{});var Y=v(S);F.l(Y),Y.forEach(f),k=E(A),A.forEach(f),this.h()},h(){Ne(s.src,n=ol(a[11].co_benefit_type))||o(s,"src",n),o(s,"alt","Icon"),o(s,"class","in-table-icon"),o(h,"href",C=ge+"/cobenefit?cobenefit="+a[11].co_benefit_type),o(h,"target","_blank"),o(l,"class","coben-content"),o(_,"class","bar-cell")},m(M,A){Q(M,e,A),i(e,t),i(t,l),i(l,s),i(l,u),i(l,h),i(h,y),i(e,m),i(e,V),i(V,_),b.m(_,null),i(e,I),i(e,S),F.m(S,null),i(e,k)},p(M,A){A&1&&!Ne(s.src,n=ol(M[11].co_benefit_type))&&o(s,"src",n),A&1&&d!==(d=M[7](M[11].co_benefit_type)+"")&&pe(y,d),A&1&&C!==(C=ge+"/cobenefit?cobenefit="+M[11].co_benefit_type)&&o(h,"href",C),A&64&&Et(g,g=M[6])?(b.d(1),b=Fl(M),b.c(),b.m(_,null)):b.p(M,A),N===(N=p(M))&&F?F.p(M,A):(F.d(1),F=N(M),F&&(F.c(),F.m(S,null)))},d(M){M&&f(e),b.d(M),F.d()}}}function wa(a){let e,t,l,s="Total",n,u,h="Per Capita",d,y,C,m,V,_="Name",g,I,S=a[6]==="total"?"Total":"Per Capita",k,b,p,N=a[6]==="total"?"£, billion":"£",F,M,A,z,W,x=Ue(a[0]),j=[];for(let H=0;H<x.length;H+=1)j[H]=Ol(Nl(a,x,H));return{c(){e=r("div"),t=r("div"),l=r("button"),l.textContent=s,n=D(),u=r("button"),u.textContent=h,d=D(),y=r("table"),C=r("thead"),m=r("tr"),V=r("th"),V.textContent=_,g=D(),I=r("th"),k=oe(S),b=D(),p=r("th"),F=oe(N),M=D(),A=r("tbody");for(let H=0;H<j.length;H+=1)j[H].c();this.h()},l(H){e=c(H,"DIV",{class:!0});var Y=v(e);t=c(Y,"DIV",{class:!0});var O=v(t);l=c(O,"BUTTON",{"data-svelte-h":!0}),G(l)!=="svelte-15mf98g"&&(l.textContent=s),n=E(O),u=c(O,"BUTTON",{"data-svelte-h":!0}),G(u)!=="svelte-1ts3a4f"&&(u.textContent=h),O.forEach(f),Y.forEach(f),d=E(H),y=c(H,"TABLE",{class:!0});var ee=v(y);C=c(ee,"THEAD",{});var R=v(C);m=c(R,"TR",{});var X=v(m);V=c(X,"TH",{"data-svelte-h":!0}),G(V)!=="svelte-13ju7y1"&&(V.textContent=_),g=E(X),I=c(X,"TH",{style:!0});var q=v(I);k=re(q,S),q.forEach(f),b=E(X),p=c(X,"TH",{style:!0});var T=v(p);F=re(T,N),T.forEach(f),X.forEach(f),R.forEach(f),M=E(ee),A=c(ee,"TBODY",{});var U=v(A);for(let L=0;L<j.length;L+=1)j[L].l(U);U.forEach(f),ee.forEach(f),this.h()},h(){Le(l,"selected",a[6]==="total"),Le(u,"selected",a[6]==="per_capita"),o(t,"class","button-group"),o(e,"class","controls"),Dt(I,"width","180px"),Dt(p,"width","80px"),o(y,"class","data-table")},m(H,Y){Q(H,e,Y),i(e,t),i(t,l),i(t,n),i(t,u),Q(H,d,Y),Q(H,y,Y),i(y,C),i(C,m),i(m,V),i(m,g),i(m,I),i(I,k),i(m,b),i(m,p),i(p,F),i(y,M),i(y,A);for(let O=0;O<j.length;O+=1)j[O]&&j[O].m(A,null);z||(W=[qe(l,"click",a[9]),qe(u,"click",a[10])],z=!0)},p(H,[Y]){if(Y&64&&Le(l,"selected",H[6]==="total"),Y&64&&Le(u,"selected",H[6]==="per_capita"),Y&64&&S!==(S=H[6]==="total"?"Total":"Per Capita")&&pe(k,S),Y&64&&N!==(N=H[6]==="total"?"£, billion":"£")&&pe(F,N),Y&511){x=Ue(H[0]);let O;for(O=0;O<x.length;O+=1){const ee=Nl(H,x,O);j[O]?j[O].p(ee,Y):(j[O]=Ol(ee),j[O].c(),j[O].m(A,null))}for(;O<j.length;O+=1)j[O].d(1);j.length=x.length}},i:ut,o:ut,d(H){H&&(f(e),f(d),f(y)),Ct(j,H),z=!1,fl(W)}}}function ka(a,e,t){let{aggregationPerCapitaPerBenefit:l}=e,{minCoBenefValue:s}=e,{maxCoBenefValue:n}=e,{minHHCoBenefValue:u}=e,{maxHHCoBenefValue:h}=e,{COBENEFS_SCALE:d}=e;function y(g){return rl.find(I=>I.id===g)?.label??g}let C="total";function m(g,I,S,k,b){const p=b(k);return Ut({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[I,S],axis:null},marks:[sa([0],{stroke:"#3C3C3C"}),cl([g],{x:F=>F,y:0,fill:p})]}).outerHTML}const V=()=>t(6,C="total"),_=()=>t(6,C="per_capita");return a.$$set=g=>{"aggregationPerCapitaPerBenefit"in g&&t(0,l=g.aggregationPerCapitaPerBenefit),"minCoBenefValue"in g&&t(1,s=g.minCoBenefValue),"maxCoBenefValue"in g&&t(2,n=g.maxCoBenefValue),"minHHCoBenefValue"in g&&t(3,u=g.minHHCoBenefValue),"maxHHCoBenefValue"in g&&t(4,h=g.maxHHCoBenefValue),"COBENEFS_SCALE"in g&&t(5,d=g.COBENEFS_SCALE)},[l,s,n,u,h,d,C,y,m,V,_]}class La extends jt{constructor(e){super(),Gt(this,e,ka,wa,Et,{aggregationPerCapitaPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function Rl(a,e,t){const l=a.slice();return l[16]=e[t],l}function ql(a,e,t){const l=a.slice();return l[19]=e[t],l}function Ul(a){let e,t=a[19].label+"",l;return{c(){e=r("option"),l=oe(t),this.h()},l(s){e=c(s,"OPTION",{});var n=v(e);l=re(n,t),n.forEach(f),this.h()},h(){e.__value=a[19].value,nl(e,e.__value)},m(s,n){Q(s,e,n),i(e,l)},p:ut,d(s){s&&f(e)}}}function Ta(a){let e,t=a[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=oe(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=re(n,t),n.forEach(f)},m(s,n){Q(s,e,n),i(e,l)},p(s,n){n&2&&t!==(t=s[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&pe(l,t)},d(s){s&&f(e)}}}function Ba(a){let e,t=a[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=oe(t)},l(s){e=c(s,"SPAN",{});var n=v(e);l=re(n,t),n.forEach(f)},m(s,n){Q(s,e,n),i(e,l)},p(s,n){n&2&&t!==(t=s[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&pe(l,t)},d(s){s&&f(e)}}}function jl(a){let e,t,l,s=(a[5][a[16].LAD]??a[16].LAD)+"",n,u,h,d,y,C,m=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_capita,a[4]))+"",V,_,g;function I(b,p){return b[2]==="total"?Ba:Ta}let S=I(a),k=S(a);return{c(){e=r("tr"),t=r("td"),l=r("a"),n=oe(s),h=D(),d=r("td"),y=r("div"),C=new Jl(!1),V=D(),_=r("td"),k.c(),g=D(),this.h()},l(b){e=c(b,"TR",{});var p=v(e);t=c(p,"TD",{});var N=v(t);l=c(N,"A",{href:!0,target:!0});var F=v(l);n=re(F,s),F.forEach(f),N.forEach(f),h=E(p),d=c(p,"TD",{});var M=v(d);y=c(M,"DIV",{class:!0});var A=v(y);C=Zl(A,!1),A.forEach(f),M.forEach(f),V=E(p),_=c(p,"TD",{});var z=v(_);k.l(z),z.forEach(f),g=E(p),p.forEach(f),this.h()},h(){o(l,"href",u=ge+"/location?location="+a[16].LAD),o(l,"target","_blank"),C.a=null,o(y,"class","bar-cell")},m(b,p){Q(b,e,p),i(e,t),i(t,l),i(l,n),i(e,h),i(e,d),i(d,y),C.m(m,y),i(e,V),i(e,_),k.m(_,null),i(e,g)},p(b,p){p&34&&s!==(s=(b[5][b[16].LAD]??b[16].LAD)+"")&&pe(n,s),p&2&&u!==(u=ge+"/location?location="+b[16].LAD)&&o(l,"href",u),p&30&&m!==(m=(b[2]==="total"?b[9](b[16].total_value,b[3]):b[10](b[16].value_per_capita,b[4]))+"")&&C.p(m),S===(S=I(b))&&k?k.p(b,p):(k.d(1),k=S(b),k&&(k.c(),k.m(_,null)))},d(b){b&&f(e),k.d()}}}function Ha(a){let e,t,l="Nation:",s,n,u,h,d,y="Total",C,m,V="Per Capita",_,g,I,S,k,b='Name <span style="font-weight:300; color: #545454">(Top 12 in display)</span>',p,N,F=a[2]==="total"?"Total":"Per Capita",M,A,z,W=a[2]==="total"?"£, billion":"£",x,j,H,Y,O,ee=Ue(a[7]),R=[];for(let T=0;T<ee.length;T+=1)R[T]=Ul(ql(a,ee,T));let X=Ue(a[1]),q=[];for(let T=0;T<X.length;T+=1)q[T]=jl(Rl(a,X,T));return{c(){e=r("div"),t=r("label"),t.textContent=l,s=D(),n=r("select");for(let T=0;T<R.length;T+=1)R[T].c();u=D(),h=r("div"),d=r("button"),d.textContent=y,C=D(),m=r("button"),m.textContent=V,_=D(),g=r("table"),I=r("thead"),S=r("tr"),k=r("th"),k.innerHTML=b,p=D(),N=r("th"),M=oe(F),A=D(),z=r("th"),x=oe(W),j=D(),H=r("tbody");for(let T=0;T<q.length;T+=1)q[T].c();this.h()},l(T){e=c(T,"DIV",{class:!0});var U=v(e);t=c(U,"LABEL",{"data-svelte-h":!0}),G(t)!=="svelte-1ecnfnj"&&(t.textContent=l),s=E(U),n=c(U,"SELECT",{});var L=v(n);for(let ye=0;ye<R.length;ye+=1)R[ye].l(L);L.forEach(f),u=E(U),h=c(U,"DIV",{class:!0});var ae=v(h);d=c(ae,"BUTTON",{"data-svelte-h":!0}),G(d)!=="svelte-2dev6e"&&(d.textContent=y),C=E(ae),m=c(ae,"BUTTON",{"data-svelte-h":!0}),G(m)!=="svelte-1q4fgxf"&&(m.textContent=V),ae.forEach(f),U.forEach(f),_=E(T),g=c(T,"TABLE",{class:!0});var Fe=v(g);I=c(Fe,"THEAD",{});var Te=v(I);S=c(Te,"TR",{});var be=v(S);k=c(be,"TH",{"data-svelte-h":!0}),G(k)!=="svelte-1homman"&&(k.innerHTML=b),p=E(be),N=c(be,"TH",{style:!0});var We=v(N);M=re(We,F),We.forEach(f),A=E(be),z=c(be,"TH",{style:!0});var Ye=v(z);x=re(Ye,W),Ye.forEach(f),be.forEach(f),Te.forEach(f),j=E(Fe),H=c(Fe,"TBODY",{});var Be=v(H);for(let ye=0;ye<q.length;ye+=1)q[ye].l(Be);Be.forEach(f),Fe.forEach(f),this.h()},h(){a[0]===void 0&&Ql(()=>a[13].call(n)),Le(d,"selected",a[2]==="total"),Le(m,"selected",a[2]==="per_capita"),o(h,"class","button-group"),o(e,"class","controls"),Dt(N,"width","120px"),Dt(z,"width","80px"),o(g,"class","data-table")},m(T,U){Q(T,e,U),i(e,t),i(e,s),i(e,n);for(let L=0;L<R.length;L+=1)R[L]&&R[L].m(n,null);Bl(n,a[0],!0),i(e,u),i(e,h),i(h,d),i(h,C),i(h,m),Q(T,_,U),Q(T,g,U),i(g,I),i(I,S),i(S,k),i(S,p),i(S,N),i(N,M),i(S,A),i(S,z),i(z,x),i(g,j),i(g,H);for(let L=0;L<q.length;L+=1)q[L]&&q[L].m(H,null);Y||(O=[qe(n,"change",a[13]),qe(n,"change",a[8]),qe(d,"click",a[14]),qe(m,"click",a[15])],Y=!0)},p(T,[U]){if(U&128){ee=Ue(T[7]);let L;for(L=0;L<ee.length;L+=1){const ae=ql(T,ee,L);R[L]?R[L].p(ae,U):(R[L]=Ul(ae),R[L].c(),R[L].m(n,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=ee.length}if(U&129&&Bl(n,T[0]),U&4&&Le(d,"selected",T[2]==="total"),U&4&&Le(m,"selected",T[2]==="per_capita"),U&4&&F!==(F=T[2]==="total"?"Total":"Per Capita")&&pe(M,F),U&4&&W!==(W=T[2]==="total"?"£, billion":"£")&&pe(x,W),U&1598){X=Ue(T[1]);let L;for(L=0;L<X.length;L+=1){const ae=Rl(T,X,L);q[L]?q[L].p(ae,U):(q[L]=jl(ae),q[L].c(),q[L].m(H,null))}for(;L<q.length;L+=1)q[L].d(1);q.length=X.length}},i:ut,o:ut,d(T){T&&(f(e),f(_),f(g)),Ct(R,T),Ct(q,T),Y=!1,fl(O)}}}function Sa(a,e,t){const l=Xl();let{ladData:s=[]}=e,{region:n}=e,{sortBy:u}=e,{maxLADValue:h}=e,{maxHHLADValue:d}=e,{LADToName:y={}}=e,{viewMode:C="total"}=e,{selectedRegion:m="All"}=e;const V=[{label:"All",value:"All"},{label:"England",value:"England"},{label:"Wales",value:"Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function _(p){l("filterChange",{region:p.target.value,sortBy:u})}function g(p,N){return Ut({width:80,height:20,margin:0,x:{domain:[0,N],axis:null},marks:[cl([p],{x:M=>M,y:0,fill:"#ccc"})]}).outerHTML}function I(p,N){return Ut({width:80,height:20,margin:0,x:{domain:[0,N],axis:null},marks:[cl([p],{x:M=>M,y:0,fill:"#ccc"})]}).outerHTML}function S(){n=$l(this),t(0,n),t(7,V)}const k=()=>l("filterChange",{region:n,sortBy:"total"}),b=()=>l("filterChange",{region:n,sortBy:"per_capita"});return a.$$set=p=>{"ladData"in p&&t(1,s=p.ladData),"region"in p&&t(0,n=p.region),"sortBy"in p&&t(2,u=p.sortBy),"maxLADValue"in p&&t(3,h=p.maxLADValue),"maxHHLADValue"in p&&t(4,d=p.maxHHLADValue),"LADToName"in p&&t(5,y=p.LADToName),"viewMode"in p&&t(11,C=p.viewMode),"selectedRegion"in p&&t(12,m=p.selectedRegion)},[n,s,u,h,d,y,l,V,_,g,I,C,m,S,k,b]}class Aa extends jt{constructor(e){super(),Gt(this,e,Sa,Ha,Et,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function Gl(a,e,t){const l=a.slice();return l[48]=e[t],l[50]=t,l}function xl(a){let e,t,l,s,n,u,h;return{c(){e=r("div"),t=r("img"),n=D(),u=r("img"),this.h()},l(d){e=c(d,"DIV",{class:!0});var y=v(e);t=c(y,"IMG",{class:!0,src:!0,alt:!0}),n=E(y),u=c(y,"IMG",{class:!0,src:!0,alt:!0}),y.forEach(f),this.h()},h(){o(t,"class","slide-image"),Ne(t.src,l=a[48].image)||o(t,"src",l),o(t,"alt",s=a[48].label),o(u,"class","slide-map svelte-1638pyi"),Ne(u.src,h=a[48].mapImage)||o(u,"src",h),o(u,"alt","Map overlay"),o(e,"class","hero-slide svelte-1638pyi"),Le(e,"active",a[50]===a[23]),Le(e,"previous",a[50]===a[24])},m(d,y){Q(d,e,y),i(e,t),i(e,n),i(e,u)},p(d,y){y[0]&1048576&&!Ne(t.src,l=d[48].image)&&o(t,"src",l),y[0]&1048576&&s!==(s=d[48].label)&&o(t,"alt",s),y[0]&1048576&&!Ne(u.src,h=d[48].mapImage)&&o(u,"src",h),y[0]&8388608&&Le(e,"active",d[50]===d[23]),y[0]&16777216&&Le(e,"previous",d[50]===d[24])},d(d){d&&f(e)}}}function zl(a){let e,t,l;return{c(){e=r("div"),t=r("img"),this.h()},l(s){e=c(s,"DIV",{class:!0});var n=v(e);t=c(n,"IMG",{src:!0,alt:!0,class:!0}),n.forEach(f),this.h()},h(){Ne(t.src,l=a[19])||o(t,"src",l),o(t,"alt","Icon"),o(t,"class","svelte-1638pyi"),o(e,"class","waffle-icon svelte-1638pyi")},m(s,n){Q(s,e,n),i(e,t)},p(s,n){n[0]&524288&&!Ne(t.src,l=s[19])&&o(t,"src",l)},d(s){s&&f(e)}}}function Ia(a){let e,t="National costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-o12owz"&&(e.textContent=t),this.h()},h(){o(e,"class","waffle-caption svelte-1638pyi")},m(l,s){Q(l,e,s)},d(l){l&&f(e)}}}function Pa(a){let e,t="National benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-10ytukz"&&(e.textContent=t),this.h()},h(){o(e,"class","waffle-caption svelte-1638pyi")},m(l,s){Q(l,e,s)},d(l){l&&f(e)}}}function Ma(a){let e,t="Per capita costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-6pmcl0"&&(e.textContent=t),this.h()},h(){o(e,"class","waffle-caption svelte-1638pyi")},m(l,s){Q(l,e,s)},d(l){l&&f(e)}}}function Na(a){let e,t="Per capita benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-g1rvwk"&&(e.textContent=t),this.h()},h(){o(e,"class","waffle-caption svelte-1638pyi")},m(l,s){Q(l,e,s)},d(l){l&&f(e)}}}function Wl(a){let e,t,l,s,n,u,h,d,y,C,m="%",V,_,g="Contribution";return{c(){e=r("div"),t=r("div"),l=r("img"),n=D(),u=r("div"),h=r("span"),d=oe(a[18]),y=D(),C=r("span"),C.textContent=m,V=D(),_=r("div"),_.textContent=g,this.h()},l(I){e=c(I,"DIV",{class:!0});var S=v(e);t=c(S,"DIV",{class:!0});var k=v(t);l=c(k,"IMG",{class:!0,src:!0,alt:!0}),n=E(k),u=c(k,"DIV",{class:!0});var b=v(u);h=c(b,"SPAN",{class:!0});var p=v(h);d=re(p,a[18]),p.forEach(f),y=E(b),C=c(b,"SPAN",{class:!0,"data-svelte-h":!0}),G(C)!=="svelte-jxggz7"&&(C.textContent=m),b.forEach(f),k.forEach(f),V=E(S),_=c(S,"DIV",{class:!0,"data-svelte-h":!0}),G(_)!=="svelte-1ahdmih"&&(_.textContent=g),S.forEach(f),this.h()},h(){o(l,"class","aggregation-icon-small svelte-1638pyi"),Ne(l.src,s=ha)||o(l,"src",s),o(l,"alt","icon"),o(h,"class","waffle-big svelte-1638pyi"),o(C,"class","small svelte-1638pyi"),o(u,"class","waffle-value svelte-1638pyi"),o(t,"class","waffle-value-container svelte-1638pyi"),o(_,"class","waffle-caption svelte-1638pyi"),o(e,"class","waffle-stat svelte-1638pyi")},m(I,S){Q(I,e,S),i(e,t),i(t,l),i(t,n),i(t,u),i(u,h),i(h,d),i(u,y),i(u,C),i(e,V),i(e,_)},p(I,S){S[0]&262144&&pe(d,I[18])},d(I){I&&f(e)}}}function Yl(a){let e,t;return e=new Aa({props:{ladData:a[7],region:a[8],sortBy:a[9],maxLADValue:a[10],maxHHLADValue:a[11],LADToName:a[26]}}),e.$on("filterChange",a[27]),{c(){_t(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,s){bt(e,l,s),t=!0},p(l,s){const n={};s[0]&128&&(n.ladData=l[7]),s[0]&256&&(n.region=l[8]),s[0]&512&&(n.sortBy=l[9]),s[0]&1024&&(n.maxLADValue=l[10]),s[0]&2048&&(n.maxHHLADValue=l[11]),e.$set(n)},i(l){t||(Me(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){yt(e,l)}}}function Kl(a){let e,t;return e=new La({props:{aggregationPerCapitaPerBenefit:a[1],minCoBenefValue:a[3],maxCoBenefValue:a[2],minHHCoBenefValue:a[4],maxHHCoBenefValue:a[5],COBENEFS_SCALE:oa}}),{c(){_t(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,s){bt(e,l,s),t=!0},p(l,s){const n={};s[0]&2&&(n.aggregationPerCapitaPerBenefit=l[1]),s[0]&8&&(n.minCoBenefValue=l[3]),s[0]&4&&(n.maxCoBenefValue=l[2]),s[0]&16&&(n.minHHCoBenefValue=l[4]),s[0]&32&&(n.maxHHCoBenefValue=l[5]),e.$set(n)},i(l){t||(Me(e.$$.fragment,l),t=!0)},o(l){ze(e.$$.fragment,l),t=!1},d(l){yt(e,l)}}}function Fa(a){let e,t,l,s,n,u,h,d=`<img src="${ge}/atlas-logos/logo-colored-waffle-png.png" alt="Logo" height="0px"/> <h1 class="hero-title svelte-1638pyi">The Co-Benefits of Reaching <br/> Net Zero in the UK</h1> <p class="hero-description svelte-1638pyi">Climate actions lower greenhouse gas (GHG) emissions but the gains for society reach further. The
                    CO-BENS project models 11 additional benefits based on actions recommended by the Climate Change
                    Committee (CCC) in its Seventh Carbon Budget (2025) across 45,000 communities and regions within the
                    UK.<br/></p> <p class="hero-description svelte-1638pyi">Explore how, when and for whom benefits emerge to further understand connections between a wide
                    range of
                    social, economic and environmental priorities, and drive more effective decision-making.</p> <p class="hero-description svelte-1638pyi">To understand more about the analysis or if you would like bespoke co-benefit modelling please get
                    in
                    touch by emailing <a href="mailto:cobens@ed.ac.uk">cobens@ed.ac.uk</a></p>`,y,C,m,V,_,g,I,S,k,b,p,N,F,M,A,z,W,x,j,H,Y="billion",O,ee,R,X,q,T,U,L,ae,Fe,Te,be,We,Ye,Be,ye,Oe,Vt="Co-benefits",w,se,Ce,J,De,le,$="Negative impacts",He,ce,Z,me,Ke="Explore the Atlas",Ee,Re,Ve,_e,je="Find My Place",Se,P,fe,Xe,ue,Ae,Je,ul="Browse Report Pages",xt,we,Ze,hl=`<div class="explore-page svelte-1638pyi"><img src="${ge}/pages-teasers/coben.png" alt="Open Co-Benefits Dropdown"/> <h3 class="svelte-1638pyi">11 Co-Benefits Pages</h3> <p class="svelte-1638pyi">A Co-benefit page shows the spatial and temporal distribution of a given co-benefit, and
                                its relationship with socio-economic factors.</p></div>`,zt,Qe,dl=`<div class="explore-page svelte-1638pyi"><img class="page-teaser-img svelte-1638pyi" src="${ge}/pages-teasers/location.png"/> <h3 class="svelte-1638pyi">382 Local Area Pages</h3> <p class="svelte-1638pyi">A Local Area page shows the different co-benefits in this area, temporal distributions,
                                and their relationships with local socio-economic distributions.</p></div>`,Wt,$e,vl=`<div class="explore-page svelte-1638pyi"><img class="page-teaser-img svelte-1638pyi" src="${ge}/pages-teasers/sef.png"/> <h3 class="svelte-1638pyi">17 Socio-Economic Factors Pages</h3> <p class="svelte-1638pyi">A Socio-Economic Factor Page shows the spatial distribution of a given factor and it&#39;s
                                relationships with the different co-benefits.</p></div>`,Yt,et,pl=`<div class="explore-page svelte-1638pyi"><img class="page-teaser-img svelte-1638pyi" src="${ge}/pages-teasers/map.png"/> <h3 class="svelte-1638pyi">Interactive Map</h3> <p class="svelte-1638pyi">The interactive map enables exploring the spatial distributions of both the co-benefits
                                and the socio-economic factors at the datazones and local area levels.</p></div>`,Kt,at,ml=`<h1>Read Stories and Analyses</h1> <hr class="story-teaser-hr svelte-1638pyi"/> <div class="explore-pages story-pages svelte-1638pyi"><a href="/stories/story.pdf" target="_blank" rel="noopener noreferrer" class="svelte-1638pyi"><div class="story svelte-1638pyi"><img class="story-teaser-img svelte-1638pyi" src="${ge}/stories/Derry_picture_new.png"/> <h3 class="svelte-1638pyi">Accelerating climate financing in Derry City and Strabane District Council</h3> <hr class="story-teaser-hr svelte-1638pyi"/></div></a></div> <div class="explore-pages story-pages svelte-1638pyi"><div class="story svelte-1638pyi"><br/> <h3 class="svelte-1638pyi">More to come...</h3> <p>In the meantime, if you have your own ideas for collaboration on stories related to co-benefits please get in touch using the
                    <a href="https://docs.google.com/forms/d/1w-8Lt9bESZ56PdklTIT38plec7dPgDbJtORkatoXFVY/viewform?edit_requested=true" class="svelte-1638pyi">feedback form.</a></p></div></div>`,Xt,tt,Ie,st,_l="Explore by Local Authority",Jt,it,gl="Click to see local authority data report.",Zt,Qt,Pe,nt,bl="Explore by Co-Benefit",$t,ot,yl="Click to see each co-benefit data report.",el,tl,rt,ct,ll,Cl;t=new la({});let ht=Ue(a[20]),he=[];for(let B=0;B<ht.length;B+=1)he[B]=xl(Gl(a,ht,B));let de=a[19]&&zl(a);function Dl(B,K){return B[16]>0?Pa:Ia}let wt=Dl(a),Ge=wt(a);function El(B,K){return B[17]>0?Na:Ma}let kt=El(a),xe=kt(a),ve=a[22]!==null&&Wl(a);fe=new Da({props:{items:a[26]}}),fe.$on("search",a[34]);let ie=!a[6]&&Yl(a),ne=!a[6]&&Kl(a);return rt=new ba({}),{c(){e=r("div"),_t(t.$$.fragment),l=D(),s=r("section");for(let B=0;B<he.length;B+=1)he[B].c();n=D(),u=r("div"),h=r("div"),h.innerHTML=d,y=D(),C=r("div"),m=r("div"),V=r("div"),de&&de.c(),_=D(),g=r("div"),I=oe(a[15]),S=D(),k=r("div"),b=r("div"),p=r("div"),N=r("img"),M=D(),A=r("div"),z=r("span"),W=oe("£"),x=oe(a[16]),j=D(),H=r("span"),H.textContent=Y,O=D(),Ge.c(),ee=D(),R=r("div"),X=r("div"),q=r("img"),U=D(),L=r("div"),ae=r("span"),Fe=oe("£"),Te=oe(a[17]),be=D(),xe.c(),We=D(),ve&&ve.c(),Ye=D(),Be=r("div"),ye=D(),Oe=r("span"),Oe.textContent=Vt,w=D(),se=r("div"),Ce=D(),J=r("div"),De=D(),le=r("span"),le.textContent=$,He=D(),ce=r("section"),Z=r("div"),me=r("h1"),me.textContent=Ke,Ee=D(),Re=r("div"),Ve=r("div"),_e=r("h1"),_e.textContent=je,Se=D(),P=r("div"),_t(fe.$$.fragment),Xe=D(),ue=r("div"),Ae=r("div"),Je=r("h2"),Je.textContent=ul,xt=D(),we=r("div"),Ze=r("div"),Ze.innerHTML=hl,zt=D(),Qe=r("a"),Qe.innerHTML=dl,Wt=D(),$e=r("a"),$e.innerHTML=vl,Yt=D(),et=r("a"),et.innerHTML=pl,Kt=D(),at=r("div"),at.innerHTML=ml,Xt=D(),tt=r("section"),Ie=r("div"),st=r("h2"),st.textContent=_l,Jt=D(),it=r("p"),it.textContent=gl,Zt=D(),ie&&ie.c(),Qt=D(),Pe=r("div"),nt=r("h2"),nt.textContent=bl,$t=D(),ot=r("p"),ot.textContent=yl,el=D(),ne&&ne.c(),tl=D(),_t(rt.$$.fragment),this.h()},l(B){e=c(B,"DIV",{});var K=v(e);gt(t.$$.fragment,K),l=E(K),s=c(K,"SECTION",{class:!0});var te=v(s);for(let il=0;il<he.length;il+=1)he[il].l(te);n=E(te),u=c(te,"DIV",{class:!0});var ft=v(u);h=c(ft,"DIV",{class:!0,"data-svelte-h":!0}),G(h)!=="svelte-8289tn"&&(h.innerHTML=d),y=E(ft),C=c(ft,"DIV",{class:!0});var ke=v(C);m=c(ke,"DIV",{class:!0});var Lt=v(m);V=c(Lt,"DIV",{class:!0});var Tt=v(V);de&&de.l(Tt),_=E(Tt),g=c(Tt,"DIV",{class:!0});var Vl=v(g);I=re(Vl,a[15]),Vl.forEach(f),Tt.forEach(f),S=E(Lt),k=c(Lt,"DIV",{class:!0});var dt=v(k);b=c(dt,"DIV",{class:!0});var Bt=v(b);p=c(Bt,"DIV",{class:!0});var Ht=v(p);N=c(Ht,"IMG",{class:!0,src:!0,alt:!0}),M=E(Ht),A=c(Ht,"DIV",{class:!0});var St=v(A);z=c(St,"SPAN",{class:!0});var al=v(z);W=re(al,"£"),x=re(al,a[16]),al.forEach(f),j=E(St),H=c(St,"SPAN",{class:!0,"data-svelte-h":!0}),G(H)!=="svelte-tlhydp"&&(H.textContent=Y),St.forEach(f),Ht.forEach(f),O=E(Bt),Ge.l(Bt),Bt.forEach(f),ee=E(dt),R=c(dt,"DIV",{class:!0});var At=v(R);X=c(At,"DIV",{class:!0});var It=v(X);q=c(It,"IMG",{class:!0,src:!0,alt:!0}),U=E(It),L=c(It,"DIV",{class:!0});var wl=v(L);ae=c(wl,"SPAN",{class:!0});var sl=v(ae);Fe=re(sl,"£"),Te=re(sl,a[17]),sl.forEach(f),wl.forEach(f),It.forEach(f),be=E(At),xe.l(At),At.forEach(f),We=E(dt),ve&&ve.l(dt),dt.forEach(f),Lt.forEach(f),Ye=E(ke),Be=c(ke,"DIV",{class:!0}),v(Be).forEach(f),ye=E(ke),Oe=c(ke,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),G(Oe)!=="svelte-17e5mfb"&&(Oe.textContent=Vt),w=E(ke),se=c(ke,"DIV",{class:!0}),v(se).forEach(f),Ce=E(ke),J=c(ke,"DIV",{id:!0,class:!0}),v(J).forEach(f),De=E(ke),le=c(ke,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),G(le)!=="svelte-t2ovnm"&&(le.textContent=$),ke.forEach(f),ft.forEach(f),te.forEach(f),He=E(K),ce=c(K,"SECTION",{id:!0,class:!0});var Pt=v(ce);Z=c(Pt,"DIV",{class:!0});var Mt=v(Z);me=c(Mt,"H1",{id:!0,class:!0,"data-svelte-h":!0}),G(me)!=="svelte-157b9z3"&&(me.textContent=Ke),Ee=E(Mt),Re=c(Mt,"DIV",{class:!0});var kl=v(Re);Ve=c(kl,"DIV",{class:!0});var Nt=v(Ve);_e=c(Nt,"H1",{class:!0,"data-svelte-h":!0}),G(_e)!=="svelte-2t7dxi"&&(_e.textContent=je),Se=E(Nt),P=c(Nt,"DIV",{class:!0});var Ll=v(P);gt(fe.$$.fragment,Ll),Ll.forEach(f),Nt.forEach(f),kl.forEach(f),Mt.forEach(f),Xe=E(Pt),ue=c(Pt,"DIV",{id:!0,class:!0});var Ft=v(ue);Ae=c(Ft,"DIV",{class:!0});var Ot=v(Ae);Je=c(Ot,"H2",{"data-svelte-h":!0}),G(Je)!=="svelte-1ig97qq"&&(Je.textContent=ul),xt=E(Ot),we=c(Ot,"DIV",{class:!0});var lt=v(we);Ze=c(lt,"DIV",{style:!0,"data-svelte-h":!0}),G(Ze)!=="svelte-1rl3594"&&(Ze.innerHTML=hl),zt=E(lt),Qe=c(lt,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(Qe)!=="svelte-13xts9j"&&(Qe.innerHTML=dl),Wt=E(lt),$e=c(lt,"A",{href:!0,class:!0,"data-svelte-h":!0}),G($e)!=="svelte-1j5qio4"&&($e.innerHTML=vl),Yt=E(lt),et=c(lt,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(et)!=="svelte-dihjqi"&&(et.innerHTML=pl),lt.forEach(f),Ot.forEach(f),Kt=E(Ft),at=c(Ft,"DIV",{class:!0,"data-svelte-h":!0}),G(at)!=="svelte-euqg2l"&&(at.innerHTML=ml),Ft.forEach(f),Pt.forEach(f),Xt=E(K),tt=c(K,"SECTION",{class:!0});var Rt=v(tt);Ie=c(Rt,"DIV",{class:!0});var vt=v(Ie);st=c(vt,"H2",{class:!0,"data-svelte-h":!0}),G(st)!=="svelte-pgup4c"&&(st.textContent=_l),Jt=E(vt),it=c(vt,"P",{class:!0,"data-svelte-h":!0}),G(it)!=="svelte-owmq24"&&(it.textContent=gl),Zt=E(vt),ie&&ie.l(vt),vt.forEach(f),Qt=E(Rt),Pe=c(Rt,"DIV",{class:!0});var pt=v(Pe);nt=c(pt,"H2",{class:!0,"data-svelte-h":!0}),G(nt)!=="svelte-9nk5va"&&(nt.textContent=bl),$t=E(pt),ot=c(pt,"P",{class:!0,"data-svelte-h":!0}),G(ot)!=="svelte-4140on"&&(ot.textContent=yl),el=E(pt),ne&&ne.l(pt),pt.forEach(f),Rt.forEach(f),tl=E(K),gt(rt.$$.fragment,K),K.forEach(f),this.h()},h(){o(h,"class","hero-text svelte-1638pyi"),o(g,"class","waffle-title svelte-1638pyi"),o(V,"class","waffle-header svelte-1638pyi"),o(N,"class","aggregation-icon-small svelte-1638pyi"),Ne(N.src,F=da)||o(N,"src",F),o(N,"alt","icon"),o(z,"class","waffle-big svelte-1638pyi"),o(H,"class","small svelte-1638pyi"),o(A,"class","waffle-value svelte-1638pyi"),o(p,"class","waffle-value-container svelte-1638pyi"),o(b,"class","waffle-stat svelte-1638pyi"),o(q,"class","aggregation-icon-small svelte-1638pyi"),Ne(q.src,T=va)||o(q,"src",T),o(q,"alt","icon"),o(ae,"class","waffle-big svelte-1638pyi"),o(L,"class","waffle-value svelte-1638pyi"),o(X,"class","waffle-value-container svelte-1638pyi"),o(R,"class","waffle-stat svelte-1638pyi"),o(k,"class","waffle-stats svelte-1638pyi"),o(m,"class","waffle-label svelte-1638pyi"),o(Be,"class","waffle-bg svelte-1638pyi"),o(Oe,"id","waffleTopLabel"),o(Oe,"class","waffle-text svelte-1638pyi"),o(se,"class","waffle"),o(J,"id","waffleLabels"),o(J,"class","waffle-chart-labels svelte-1638pyi"),o(le,"id","waffleBottomLabel"),o(le,"class","waffle-text svelte-1638pyi"),o(C,"class","waffle-overlay svelte-1638pyi"),o(u,"class","hero-content svelte-1638pyi"),o(s,"class","hero-container svelte-1638pyi"),o(me,"id","explore-title"),o(me,"class","svelte-1638pyi"),o(_e,"class","search-label svelte-1638pyi"),o(P,"class","search-container svelte-1638pyi"),o(Ve,"class","search-label-and-input svelte-1638pyi"),o(Re,"class","explore-block search-section svelte-1638pyi"),o(Z,"class","explore-header svelte-1638pyi"),Dt(Ze,"cursor","pointer"),o(Qe,"href",ge+"/lad"),o(Qe,"class","svelte-1638pyi"),o($e,"href",ge+"/sefs"),o($e,"class","svelte-1638pyi"),o(et,"href",ge+"/map"),o(et,"class","svelte-1638pyi"),o(we,"class","explore-pages svelte-1638pyi"),o(Ae,"class","explore-block svelte-1638pyi"),o(at,"class","explore-block story-section svelte-1638pyi"),o(ue,"id","explore-section-main"),o(ue,"class","svelte-1638pyi"),o(ce,"id","explore-section"),o(ce,"class","svelte-1638pyi"),o(st,"class","svelte-1638pyi"),o(it,"class","svelte-1638pyi"),o(Ie,"class","side-box svelte-1638pyi"),o(nt,"class","svelte-1638pyi"),o(ot,"class","svelte-1638pyi"),o(Pe,"class","side-box svelte-1638pyi"),o(tt,"class","side-by-side-section svelte-1638pyi")},m(B,K){Q(B,e,K),bt(t,e,null),i(e,l),i(e,s);for(let te=0;te<he.length;te+=1)he[te]&&he[te].m(s,null);i(s,n),i(s,u),i(u,h),i(u,y),i(u,C),i(C,m),i(m,V),de&&de.m(V,null),i(V,_),i(V,g),i(g,I),i(m,S),i(m,k),i(k,b),i(b,p),i(p,N),i(p,M),i(p,A),i(A,z),i(z,W),i(z,x),i(A,j),i(A,H),i(b,O),Ge.m(b,null),i(k,ee),i(k,R),i(R,X),i(X,q),i(X,U),i(X,L),i(L,ae),i(ae,Fe),i(ae,Te),i(R,be),xe.m(R,null),i(k,We),ve&&ve.m(k,null),a[30](m),i(C,Ye),i(C,Be),a[31](Be),i(C,ye),i(C,Oe),i(C,w),i(C,se),a[32](se),i(C,Ce),i(C,J),i(C,De),i(C,le),a[33](s),i(e,He),i(e,ce),i(ce,Z),i(Z,me),i(Z,Ee),i(Z,Re),i(Re,Ve),i(Ve,_e),i(Ve,Se),i(Ve,P),bt(fe,P,null),i(ce,Xe),i(ce,ue),i(ue,Ae),i(Ae,Je),i(Ae,xt),i(Ae,we),i(we,Ze),i(we,zt),i(we,Qe),i(we,Wt),i(we,$e),i(we,Yt),i(we,et),i(ue,Kt),i(ue,at),i(e,Xt),i(e,tt),i(tt,Ie),i(Ie,st),i(Ie,Jt),i(Ie,it),i(Ie,Zt),ie&&ie.m(Ie,null),i(tt,Qt),i(tt,Pe),i(Pe,nt),i(Pe,$t),i(Pe,ot),i(Pe,el),ne&&ne.m(Pe,null),i(e,tl),bt(rt,e,null),a[35](e),ct=!0,ll||(Cl=qe(Ze,"click",a[25]),ll=!0)},p(B,K){if(K[0]&26214400){ht=Ue(B[20]);let te;for(te=0;te<ht.length;te+=1){const ft=Gl(B,ht,te);he[te]?he[te].p(ft,K):(he[te]=xl(ft),he[te].c(),he[te].m(s,n))}for(;te<he.length;te+=1)he[te].d(1);he.length=ht.length}B[19]?de?de.p(B,K):(de=zl(B),de.c(),de.m(V,_)):de&&(de.d(1),de=null),(!ct||K[0]&32768)&&pe(I,B[15]),(!ct||K[0]&65536)&&pe(x,B[16]),wt!==(wt=Dl(B))&&(Ge.d(1),Ge=wt(B),Ge&&(Ge.c(),Ge.m(b,null))),(!ct||K[0]&131072)&&pe(Te,B[17]),kt!==(kt=El(B))&&(xe.d(1),xe=kt(B),xe&&(xe.c(),xe.m(R,null))),B[22]!==null?ve?ve.p(B,K):(ve=Wl(B),ve.c(),ve.m(k,null)):ve&&(ve.d(1),ve=null),B[6]?ie&&(Sl(),ze(ie,1,1,()=>{ie=null}),Hl()):ie?(ie.p(B,K),K[0]&64&&Me(ie,1)):(ie=Yl(B),ie.c(),Me(ie,1),ie.m(Ie,null)),B[6]?ne&&(Sl(),ze(ne,1,1,()=>{ne=null}),Hl()):ne?(ne.p(B,K),K[0]&64&&Me(ne,1)):(ne=Kl(B),ne.c(),Me(ne,1),ne.m(Pe,null))},i(B){ct||(Me(t.$$.fragment,B),Me(fe.$$.fragment,B),Me(ie),Me(ne),Me(rt.$$.fragment,B),ct=!0)},o(B){ze(t.$$.fragment,B),ze(fe.$$.fragment,B),ze(ie),ze(ne),ze(rt.$$.fragment,B),ct=!1},d(B){B&&f(e),yt(t),Ct(he,B),de&&de.d(),Ge.d(),xe.d(),ve&&ve.d(),a[30](null),a[31](null),a[32](null),a[33](null),yt(fe),ie&&ie.d(),ne&&ne.d(),yt(rt),a[35](null),ll=!1,Cl()}}}function Oa(a,e,t){function l(){aa.set(!0)}let{data:s}=e,n=s.LADToName,u,h,d,y,C,m,V,_,g=!0;async function I(){h=await qt(pa()),t(1,d=await qt(ma())),await qt(_a()),h=[...h].sort((w,se)=>se.total-w.total),t(1,d=[...d].sort((w,se)=>se.total_value-w.total_value)),y=ia(d,w=>w.value_per_capita),t(2,C=Math.max(...d.map(w=>w.total_value))),t(3,m=Math.min(...d.map(w=>w.total_value))),t(4,V=Math.min(...d.map(w=>w.value_per_capita))),t(5,_=Math.max(...d.map(w=>w.value_per_capita))),t(6,g=!1)}let S=[],k="All",b="total",p=0,N=0;async function F(){const w=ga({region:k,sortBy:b}),se=await qt(w);t(7,S=se),t(10,p=Math.max(...se.map(Ce=>Ce.total_value))),t(11,N=Math.max(...se.map(Ce=>Ce.value_per_capita)))}function M(w){t(8,k=w.detail.region),t(9,b=w.detail.sortBy),F()}let A,z=[],W=null,x,j,H,Y,O="",ee,R=null,X=[],q,T=null,U=0,L=0,ae;function Fe(w){const se=A.filter($=>$.type!=="empty").map($=>$.type),Ce=Array.from(new Set(se)),J=h.reduce(($,He)=>$+He.total,0),De=[{type:null,label:"Total Co-Benefits",icon:null,totalValue:J.toFixed(2),perCapitaValue:y.toFixed(2),percentValue:"100%"},...Ce.map($=>{const ce=rl.find(Se=>Se.id===$)?.label??$;let Z=ol($);const me=h.find(Se=>Se.co_benefit_type===$),Ke=d.find(Se=>Se.co_benefit_type===$),Ee=me?.total??0,Re=Ke?.value_per_capita??0,Ve=Ee.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),_e=Re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),je=J>0?(Ee/J*100).toFixed(2):0;return{type:$,label:ce,icon:Z,totalValue:Ve,perCapitaValue:_e,percentValue:je}})];setInterval(()=>{t(24,L=U),t(23,U=(U+1)%De.length);const{type:$,label:He,icon:ce,totalValue:Z,perCapitaValue:me,percentValue:Ke}=De[U];t(22,T=$),t(15,H=He),t(16,Y=Z),t(17,O=me),t(18,ee=Ke),t(19,R=ce),Te(w,$)},6e3);const le=De[0];t(22,T=le.type),t(15,H=le.label),t(16,Y=le.totalValue),t(17,O=le.perCapitaValue),t(18,ee=le.percentValue),Te(w,le.type)}function Te(w,se){if(!W)return;t(12,W.innerHTML="",W);const Ce=1,J=12,De=[],le=[];for(const P of h){const fe=Math.round(Math.abs(P.total)/Ce),Xe=Array.from({length:fe},()=>({type:P.co_benefit_type,negative:P.total<0}));P.total<0?le.push(...Xe):De.push(...Xe)}const $=Math.ceil(De.length/J),He=Math.ceil(le.length/J),ce=$+He,Z=Math.floor(w/ce),me=De.map((P,fe)=>({x:fe%J,y:Math.floor(fe/J),...P})),Ke=le.map((P,fe)=>({x:fe%J,y:$+Math.floor(fe/J),...P}));A=[...me,...Ke];const Ee=50,Re=Math.floor($*J/Ee)*Ee,Ve=-Math.floor(He*J/Ee)*Ee,_e=document.getElementById("waffleLabels");if(_e){_e.innerHTML="";for(let P=Re;P>=Ve;P-=Ee){const Xe=($*J-P)/J,ue=document.createElement("div");ue.textContent=`${P>0?"+":""}${P}bn`,ue.style.position="absolute",ue.style.left="0";const Ae=Math.max(8,Math.floor(Z*.6)),Je=Xe*Z+Z/2-Ae/2-15;ue.style.top=`${Je}px`,ue.style.fontSize=`${Ae}px`,ue.style.lineHeight="1",_e.appendChild(ue)}_e.style.height=`${Z*ce}px`}z=Array.from(new Set(A.map(P=>P.type).filter(P=>P!=="empty"))),t(20,X=fa(z));const je=se??null,Se=Ut({width:Z*J*1.1,height:Z*ce-30,margin:0,marginRight:35,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:rl.map(P=>P.id),range:ua,unknown:"#eee",legend:!1},marks:[Al(A.filter(P=>!P.negative),{x:P=>P.x*Z,y:P=>P.y*Z,fill:"type",fillOpacity:P=>je&&P.type!==je?.15:1}),na([$*Z-10],{stroke:"grey",strokeWidth:1.2}),Al(A.filter(P=>P.negative),{x:P=>P.x*Z,y:P=>P.y*Z,stroke:"type",strokeOpacity:P=>je&&P.type!==je?.15:1,strokeWidth:1,fill:"none"})]});x&&(t(13,x.style.width=`${Z*J+30}px`,x),t(13,x.style.height=`${w}px`,x)),t(12,W.innerHTML="",W),W.append(Se)}function be(w){window.open(`${ge}/location?location=${w}`,"_blank")}ea(()=>{ra(u),I().then(()=>{F();const w=q.getBoundingClientRect().height,se=document.getElementById("waffleTopLabel"),Ce=document.getElementById("waffleBottomLabel"),J=se?.offsetHeight??0,De=Ce?.offsetHeight??0,le=w-J-De;Te(le),Fe(w),ca(u)})}),ta(()=>{clearInterval(ae)});function We(w){mt[w?"unshift":"push"](()=>{j=w,t(14,j)})}function Ye(w){mt[w?"unshift":"push"](()=>{x=w,t(13,x)})}function Be(w){mt[w?"unshift":"push"](()=>{W=w,t(12,W)})}function ye(w){mt[w?"unshift":"push"](()=>{q=w,t(21,q)})}const Oe=w=>be(w.detail);function Vt(w){mt[w?"unshift":"push"](()=>{u=w,t(0,u)})}return a.$$set=w=>{"data"in w&&t(29,s=w.data)},a.$$.update=()=>{a.$$.dirty[0]&536870912},[u,d,C,m,V,_,g,S,k,b,p,N,W,x,j,H,Y,O,ee,R,X,q,T,U,L,l,n,M,be,s,We,Ye,Be,ye,Oe,Vt]}class Qa extends jt{constructor(e){super(),Gt(this,e,Oa,Fa,Et,{data:29},null,[-1,-1])}}export{Qa as component};
