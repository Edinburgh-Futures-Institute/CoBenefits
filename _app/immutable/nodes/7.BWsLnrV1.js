import{s as be,f as Ce,o as Se,e as bt}from"../chunks/lM1_q0kn.js";import{S as De,i as Ae,d as f,v as Ie,m as ke,k as Me,l as Te,p as a,w as Be,a as St,b as e,x as Le,g as D,c as r,e as u,r as ot,f as k,y as qe,j as A,h as o,t as M,s as Pe,q as Ve}from"../chunks/BRjj9-8i.js";import{e as ie}from"../chunks/-gASlQSi.js";import"../chunks/DRyxMU8n.js";import{w as Fe,x as pe,y as Ne,v as Oe,i as we,z as He,A as ze,B as he,C as xe,t as Ct}from"../chunks/DqZn9OX_.js";import{N as Re,M as Ye}from"../chunks/Bxxzb8Zk.js";import{S as Dt,C as it,c as je,T as Ge,d as Xe,M as ce}from"../chunks/DKnfWfcu.js";import{g as Kt,h as Ke,i as Ue,j as We}from"../chunks/7bygn2Rg.js";import{d as ve,m as Ze,t as Je,l as Qe}from"../chunks/B1-ZKkBx.js";import{a as me}from"../chunks/fUzdCYTx.js";import{a as $e,b as tl}from"../chunks/VOK_i5h5.js";function el(t,{y:l=we,x:s=null,r:i,fill:v="#ccc",fillOpacity:h,stroke:p="currentColor",strokeOpacity:y,strokeWidth:_=2,sort:L,...g}={}){const d=s!=null?pe:Ne;return Fe(Oe(t,d({y1:_e,y2:ge},{x:s,y:l,stroke:p,strokeOpacity:y,...g})),me(t,d({y1:"p25",y2:"p75"},{x:s,y:l,fill:v,fillOpacity:h,...g})),Je(t,d({y:"p50"},{x:s,y:l,stroke:p,strokeOpacity:y,strokeWidth:_,sort:L,...g})),ve(t,Ze({y:ll},{x:s,y:l,z:s,r:i,stroke:p,strokeOpacity:y,...g})))}function ll(t){const l=_e(t),s=ge(t);return t.map(i=>i<l||i>s?i:NaN)}function _e(t){const l=ye(t)*2.5-Ee(t)*1.5;return He(t,s=>s>=l?s:NaN)}function ge(t){const l=Ee(t)*2.5-ye(t)*1.5;return ze(t,s=>s<=l?s:NaN)}function ye(t){return he(t,.25)}function Ee(t){return he(t,.75)}function fe(t,l,s){const i=t.slice();return i[27]=l[s],i[28]=l,i[29]=s,i}function de(t){let l,s,i=t[4].toLocaleString()+"",v;return{c(){l=o("p"),s=M("£"),v=M(i),this.h()},l(h){l=r(h,"P",{class:!0});var p=u(l);s=k(p,"£"),v=k(p,i),p.forEach(f),this.h()},h(){a(l,"class","total-value svelte-1lqrarx")},m(h,p){St(h,l,p),e(l,s),e(l,v)},p(h,p){p&16&&i!==(i=h[4].toLocaleString()+"")&&Pe(v,i)},d(h){h&&f(l)}}}function ue(t){let l,s,i=t[27].replaceAll("_"," ")+"",v,h,p,y=t[27],_;const L=()=>t[14](p,y),g=()=>t[14](null,y);return{c(){l=o("div"),s=o("h3"),v=M(i),h=A(),p=o("div"),_=A(),this.h()},l(d){l=r(d,"DIV",{class:!0});var b=u(l);s=r(b,"H3",{class:!0,style:!0});var H=u(s);v=k(H,i),H.forEach(f),h=D(b),p=r(b,"DIV",{class:!0}),u(p).forEach(f),_=D(b),b.forEach(f),this.h()},h(){a(s,"class","component-title"),Ve(s,"text-align","center"),a(p,"class","plot"),a(l,"class","plot-container")},m(d,b){St(d,l,b),e(l,s),e(s,v),e(l,h),e(l,p),L(),e(l,_)},p(d,b){t=d,y!==t[27]&&(g(),y=t[27],L())},d(d){d&&f(l),g()}}}function al(t){let l,s,i,v,h,p="Co-Benefit Report",y,_,L,g,d,b,H,F,at,P,ft,N,dt,O,ut,pt,ht,w,V,E,z,n,T,B,At,U,Ut="The total? cost benefit per capita for each 5 year interval.",It,st,Y,Wt="",kt,j,Mt,W,Tt,Bt,Lt,Z,Zt="The total cost benefit per capita for each LSOA.",qt,nt,G,Jt="",Pt,X,J,Q,Vt,Ft,Nt,$,Qt="Scroll for zooming in and out.",Ot,x,tt,et,wt,Ht,zt,K,R;l=new Re({});let I=t[4]&&de(t),rt=ie(Dt),C=[];for(let c=0;c<rt.length;c+=1)C[c]=ue(fe(t,rt,c));return{c(){qe(l.$$.fragment),s=A(),i=o("div"),v=o("div"),h=o("p"),h.textContent=p,y=A(),_=o("div"),L=o("div"),g=o("h1"),d=o("img"),H=A(),F=M(t[6]),at=A(),P=o("div"),I&&I.c(),ft=A(),N=o("p"),dt=M("Total cost benefit regarding "),O=o("span"),ut=M(t[6]),pt=M(":"),ht=A(),w=o("div"),V=o("div"),E=o("div"),z=o("h3"),n=o("span"),T=M(t[6]),B=M(" Total Cost Benefit Over Time"),At=A(),U=o("p"),U.textContent=Ut,It=A(),st=o("div"),Y=o("div"),Y.innerHTML=Wt,kt=A(),j=o("h3"),Mt=M("Distribution of "),W=o("span"),Tt=M(t[6]),Bt=M(` Total Cost
                    Benefit by LSOA`),Lt=A(),Z=o("p"),Z.textContent=Zt,qt=A(),nt=o("div"),G=o("div"),G.innerHTML=Jt,Pt=A(),X=o("div"),J=o("h3"),Q=o("span"),Vt=M(t[6]),Ft=M(" on UK Map"),Nt=A(),$=o("p"),$.textContent=Qt,Ot=A(),x=o("div"),tt=o("h3"),et=o("span"),wt=M(t[6]),Ht=M(` Cost Benefit by Socio Economic
                Factors`),zt=A(),K=o("div");for(let c=0;c<C.length;c+=1)C[c].c();this.h()},l(c){Le(l.$$.fragment,c),s=D(c),i=r(c,"DIV",{class:!0});var S=u(i);v=r(S,"DIV",{class:!0});var m=u(v);h=r(m,"P",{class:!0,"data-svelte-h":!0}),ot(h)!=="svelte-1flv0v9"&&(h.textContent=p),y=D(m),_=r(m,"DIV",{class:!0});var lt=u(_);L=r(lt,"DIV",{class:!0});var $t=u(L);g=r($t,"H1",{class:!0});var vt=u(g);d=r(vt,"IMG",{src:!0,alt:!0,class:!0}),H=D(vt),F=k(vt,t[6]),vt.forEach(f),$t.forEach(f),at=D(lt),P=r(lt,"DIV",{class:!0});var te=u(P);I&&I.l(te),te.forEach(f),lt.forEach(f),ft=D(m),N=r(m,"P",{class:!0});var xt=u(N);dt=k(xt,"Total cost benefit regarding "),O=r(xt,"SPAN",{style:!0});var Rt=u(O);ut=k(Rt,t[6]),pt=k(Rt,":"),Rt.forEach(f),xt.forEach(f),m.forEach(f),ht=D(S),w=r(S,"DIV",{class:!0});var mt=u(w);V=r(mt,"DIV",{id:!0,class:!0});var _t=u(V);E=r(_t,"DIV",{class:!0});var q=u(E);z=r(q,"H3",{class:!0});var Yt=u(z);n=r(Yt,"SPAN",{style:!0});var ee=u(n);T=k(ee,t[6]),ee.forEach(f),B=k(Yt," Total Cost Benefit Over Time"),Yt.forEach(f),At=D(q),U=r(q,"P",{class:!0,"data-svelte-h":!0}),ot(U)!=="svelte-p4didb"&&(U.textContent=Ut),It=D(q),st=r(q,"DIV",{class:!0});var le=u(st);Y=r(le,"DIV",{class:!0,"data-svelte-h":!0}),ot(Y)!=="svelte-l1ce0t"&&(Y.innerHTML=Wt),le.forEach(f),kt=D(q),j=r(q,"H3",{class:!0});var gt=u(j);Mt=k(gt,"Distribution of "),W=r(gt,"SPAN",{style:!0});var ae=u(W);Tt=k(ae,t[6]),ae.forEach(f),Bt=k(gt,` Total Cost
                    Benefit by LSOA`),gt.forEach(f),Lt=D(q),Z=r(q,"P",{class:!0,"data-svelte-h":!0}),ot(Z)!=="svelte-ae39jc"&&(Z.textContent=Zt),qt=D(q),nt=r(q,"DIV",{class:!0});var se=u(nt);G=r(se,"DIV",{class:!0,"data-svelte-h":!0}),ot(G)!=="svelte-4vto3d"&&(G.innerHTML=Jt),se.forEach(f),q.forEach(f),Pt=D(_t),X=r(_t,"DIV",{class:!0});var yt=u(X);J=r(yt,"H3",{class:!0});var jt=u(J);Q=r(jt,"SPAN",{style:!0});var ne=u(Q);Vt=k(ne,t[6]),ne.forEach(f),Ft=k(jt," on UK Map"),jt.forEach(f),Nt=D(yt),$=r(yt,"P",{class:!0,"data-svelte-h":!0}),ot($)!=="svelte-1ask2se"&&($.textContent=Qt),yt.forEach(f),_t.forEach(f),Ot=D(mt),x=r(mt,"DIV",{id:!0,class:!0});var Et=u(x);tt=r(Et,"H3",{class:!0});var Gt=u(tt);et=r(Gt,"SPAN",{style:!0});var re=u(et);wt=k(re,t[6]),re.forEach(f),Ht=k(Gt,` Cost Benefit by Socio Economic
                Factors`),Gt.forEach(f),zt=D(Et),K=r(Et,"DIV",{id:!0,class:!0});var oe=u(K);for(let Xt=0;Xt<C.length;Xt+=1)C[Xt].l(oe);oe.forEach(f),Et.forEach(f),mt.forEach(f),S.forEach(f),this.h()},h(){a(h,"class","page-subtitle"),Ce(d.src,b=t[7])||a(d,"src",b),a(d,"alt","Icon"),a(d,"class","heading-icon svelte-1lqrarx"),a(g,"class","page-title"),a(L,"class","title-container svelte-1lqrarx"),a(P,"class","total-value-container svelte-1lqrarx"),a(_,"class","header-container svelte-1lqrarx"),a(O,"style",t[5]),a(N,"class","description"),a(v,"class","section header"),a(n,"style",t[5]),a(z,"class","component-title"),a(U,"class","description"),a(Y,"class","plot"),a(st,"class","component row"),a(W,"style",t[5]),a(j,"class","component-title"),a(Z,"class","description"),a(G,"class","plot"),a(nt,"class","component row"),a(E,"class","component singlevis"),a(Q,"style",t[5]),a(J,"class","component-title"),a($,"class","description"),a(X,"class","component column"),a(V,"id","vis-block"),a(V,"class","svelte-1lqrarx"),a(et,"style",t[5]),a(tt,"class","component-title"),a(K,"id","multiple-plots"),a(K,"class","svelte-1lqrarx"),a(x,"id","multiple-comp"),a(x,"class","component svelte-1lqrarx"),a(w,"class","section"),a(i,"class","page-container")},m(c,S){Be(l,c,S),St(c,s,S),St(c,i,S),e(i,v),e(v,h),e(v,y),e(v,_),e(_,L),e(L,g),e(g,d),e(g,H),e(g,F),e(_,at),e(_,P),I&&I.m(P,null),e(v,ft),e(v,N),e(N,dt),e(N,O),e(O,ut),e(O,pt),e(i,ht),e(i,w),e(w,V),e(V,E),e(E,z),e(z,n),e(n,T),e(z,B),e(E,At),e(E,U),e(E,It),e(E,st),e(st,Y),t[12](Y),e(E,kt),e(E,j),e(j,Mt),e(j,W),e(W,Tt),e(j,Bt),e(E,Lt),e(E,Z),e(E,qt),e(E,nt),e(nt,G),t[13](G),e(V,Pt),e(V,X),e(X,J),e(J,Q),e(Q,Vt),e(J,Ft),e(X,Nt),e(X,$),e(w,Ot),e(w,x),e(x,tt),e(tt,et),e(et,wt),e(tt,Ht),e(x,zt),e(x,K);for(let m=0;m<C.length;m+=1)C[m]&&C[m].m(K,null);t[15](i),R=!0},p(c,[S]){if(c[4]?I?I.p(c,S):(I=de(c),I.c(),I.m(P,null)):I&&(I.d(1),I=null),(!R||S&32)&&a(O,"style",c[5]),(!R||S&32)&&a(n,"style",c[5]),(!R||S&32)&&a(W,"style",c[5]),(!R||S&32)&&a(Q,"style",c[5]),(!R||S&32)&&a(et,"style",c[5]),S&2){rt=ie(Dt);let m;for(m=0;m<rt.length;m+=1){const lt=fe(c,rt,m);C[m]?C[m].p(lt,S):(C[m]=ue(lt),C[m].c(),C[m].m(K,null))}for(;m<C.length;m+=1)C[m].d(1);C.length=rt.length}},i(c){R||(Te(l.$$.fragment,c),R=!0)},o(c){Me(l.$$.fragment,c),R=!1},d(c){c&&(f(s),f(i)),Ie(l,c),I&&I.d(),t[12](null),t[13](null),ke(C,c),t[15](null)}}}let ct=400;function sl(t,l,s){let i,v,h,p,y,_={},L="barchart",{data:g}=l;const d=g.coBenefit;let b,H,F,at,P=!1;O();let ft=je(d),N,dt;Se(()=>{N=new Ye(b,"LSOA",dt,"total"),N.initMap()});async function O(){b=await Kt(Ke(d)),F=await Kt(Ue(d)),H=await Kt(We(d)),console.log(22,H),Dt.forEach(n=>{F[n]=+F[n]}),s(4,at=xe(b,n=>n.total)),s(10,P=!0)}function ut(){p?.append(Ct({height:ct/1.2,...ce,marginLeft:60,marginRight:60,y:{label:"Datazones Frequency"},x:{label:"Cost Per Capita (£)"},style:{fontSize:"18px"},marks:[$e(b,tl({y:"count"},{x:"total",fill:it(d),tip:!0,fillOpacity:.5,stroke:it(d),strokeWidth:3}))]}))}function pt(){let n=b.flatMap(T=>Ge.map(B=>({time:B,value:T[B],total:T.total,scenario:T.scenario})));y?.append(Ct({height:ct/1.2,...ce,style:{fontSize:"18px"},x:{type:"band",tickFormat:T=>T.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{label:"Cost Benefit £/Capita",grid:!0},marks:[me(n,pe({y:"sum"},{x:"time",y:"value",fill:it(d),tip:!0,fillOpacity:.8,ry1:5,insetLeft:15,insetRight:15}))]}))}function ht(){Dt.forEach(n=>{let T;Xe.includes(n)?T=Ct({style:{fontSize:"18px",textAnchor:"middle",fill:"#333"},height:ct/1.4,width:ct/1.5,marginLeft:30,marginBottom:60,marginRight:30,marginTop:20,x:{grid:!0,label:null,type:"band",tickFormat:B=>Math.floor(B)},y:{label:null},color:{legend:!0},marks:[el(F.filter(B=>B.SEFMAME==n),{x:"SE",y:"total",stroke:it(d),r:1,strokeOpacity:.2})]}):T=Ct({style:{fontSize:"18px",textAnchor:"middle",fill:"#333"},height:ct/1.4,width:ct/1.5,marginLeft:30,marginBottom:60,marginRight:30,marginTop:20,x:{grid:!0,label:null},y:{grid:!0,label:null},color:{legend:!0},marks:[ve(F.filter(B=>B.SEFMAME==n),{x:"SE",y:"total",stroke:it(d),r:1,strokeOpacity:.2}),Qe(F.filter(B=>B.SEFMAME==n),{x:"SE",y:"total",stroke:"#333",strokeWidth:2,strokeOpacity:.75,strokeDasharray:"5,5",clip:!0})]}),_[n]?.append(T)})}function w(n){bt[n?"unshift":"push"](()=>{y=n,s(0,y)})}function V(n){bt[n?"unshift":"push"](()=>{p=n,s(3,p)})}function E(n,T){bt[n?"unshift":"push"](()=>{_[T]=n,s(1,_)})}function z(n){bt[n?"unshift":"push"](()=>{h=n,s(2,h)})}return t.$$set=n=>{"data"in n&&s(8,g=n.data)},t.$$.update=()=>{t.$$.dirty&1539&&(y?.firstChild?.remove(),Object.values(_).forEach(n=>{n.firstChild?.remove()}),P&&(ut(),pt(),ht())),t.$$.dirty&2048&&s(5,v=`color: ${i}; font-weight: bold; font-size: 22px;`)},s(11,i=it(d)),[y,_,h,p,at,v,d,ft,g,L,P,i,w,V,E,z]}class ml extends De{constructor(l){super(),Ae(this,l,sl,al,be,{data:8})}}export{ml as component};
