import{s as Z,a as $,C as T,g as P,i as y,f as v,y as z,e as b,c as D,b as E,p as x,q as d,h as p,x as q,n as B,t as g,d as k,j as G}from"../chunks/scheduler.Uo5vrMzy.js";import{S as H,i as U,c as V,b as Y,m as F,t as J,a as K,d as Q}from"../chunks/index.CfagcI6h.js";import{N as X,e as I}from"../chunks/NavigationBar.DmUW6qqq.js";import{b as S}from"../chunks/paths.CccibVs_.js";import{g as tt,j as et}from"../chunks/duckdb.C2uT7ASB.js";import"../chunks/transform.BNP73y-7.js";import{c as M}from"../chunks/dsv.XhNTmijJ.js";function W(u,t,r){const o=u.slice();return o[10]=t[r],o}function j(u,t,r){const o=u.slice();return o[13]=t[r],o}function lt(u){let t,r,o="Browse local authorities",i,c,f="Open the tabs and then click on a local authority for detailed reports.",h,e=I(u[2]),n=[];for(let l=0;l<e.length;l+=1)n[l]=R(W(u,e,l));return{c(){t=b("main"),r=b("h1"),r.textContent=o,i=$(),c=b("p"),c.textContent=f,h=$();for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){t=D(l,"MAIN",{class:!0});var a=E(t);r=D(a,"H1",{"data-svelte-h":!0}),x(r)!=="svelte-1ieghi8"&&(r.textContent=o),i=P(a),c=D(a,"P",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-xzip8x"&&(c.textContent=f),h=P(a);for(let s=0;s<n.length;s+=1)n[s].l(a);a.forEach(v),this.h()},h(){d(c,"class","svelte-1rtvnkm"),d(t,"class","svelte-1rtvnkm")},m(l,a){y(l,t,a),p(t,r),p(t,i),p(t,c),p(t,h);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null)},p(l,a){if(a&6){e=I(l[2]);let s;for(s=0;s<e.length;s+=1){const _=W(l,e,s);n[s]?n[s].p(_,a):(n[s]=R(_),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=e.length}},d(l){l&&v(t),q(n,l)}}}function at(u){let t,r="Loading local authoritiesâ€¦";return{c(){t=b("p"),t.textContent=r,this.h()},l(o){t=D(o,"P",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-12l6vp8"&&(t.textContent=r),this.h()},h(){d(t,"class","svelte-1rtvnkm")},m(o,i){y(o,t,i)},p:B,d(o){o&&v(t)}}}function nt(u){let t,r=u[10]+"",o,i,c=u[1][u[10]].length+"",f,h,e,n,l,a,s,_=u[10]+"",L,N;return{c(){t=b("p"),o=g(r),i=g(" ("),f=g(c),h=g(") - "),e=b("span"),n=g("Click "),l=b("a"),a=g("here"),s=g(" for the "),L=g(_),N=g(" report page"),this.h()},l(C){t=D(C,"P",{class:!0});var m=E(t);o=k(m,r),i=k(m," ("),f=k(m,c),h=k(m,") - "),e=D(m,"SPAN",{class:!0});var A=E(e);n=k(A,"Click "),l=D(A,"A",{class:!0,href:!0,target:!0});var w=E(l);a=k(w,"here"),w.forEach(v),s=k(A," for the "),L=k(A,_),N=k(A," report page"),A.forEach(v),m.forEach(v),this.h()},h(){d(l,"class","nation-link svelte-1rtvnkm"),d(l,"href",S+"/nation?nation="+u[10]),d(l,"target","_blank"),d(e,"class","small-text svelte-1rtvnkm"),d(t,"class","svelte-1rtvnkm")},m(C,m){y(C,t,m),p(t,o),p(t,i),p(t,f),p(t,h),p(t,e),p(e,n),p(e,l),p(l,a),p(e,s),p(e,L),p(e,N)},p(C,m){m&2&&c!==(c=C[1][C[10]].length+"")&&G(f,c)},d(C){C&&v(t)}}}function st(u){let t,r=u[10]+"",o,i,c,f,h,e,n;return{c(){t=b("p"),o=g(r),i=g(" (317) - "),c=b("span"),f=g("Click "),h=b("a"),e=g("here"),n=g(" for the England report page"),this.h()},l(l){t=D(l,"P",{class:!0});var a=E(t);o=k(a,r),i=k(a," (317) - "),c=D(a,"SPAN",{class:!0});var s=E(c);f=k(s,"Click "),h=D(s,"A",{class:!0,href:!0,target:!0});var _=E(h);e=k(_,"here"),_.forEach(v),n=k(s," for the England report page"),s.forEach(v),a.forEach(v),this.h()},h(){d(h,"class","nation-link svelte-1rtvnkm"),d(h,"href",S+"/nation?nation="+u[10]),d(h,"target","_blank"),d(c,"class","small-text svelte-1rtvnkm"),d(t,"class","svelte-1rtvnkm")},m(l,a){y(l,t,a),p(t,o),p(t,i),p(t,c),p(c,f),p(c,h),p(h,e),p(c,n)},p:B,d(l){l&&v(t)}}}function O(u){let t,r=u[13].name+"",o,i;return{c(){t=b("a"),o=g(r),this.h()},l(c){t=D(c,"A",{class:!0,href:!0});var f=E(t);o=k(f,r),f.forEach(v),this.h()},h(){d(t,"class","lad-link svelte-1rtvnkm"),d(t,"href",i=S+"/location?location="+u[13].code)},m(c,f){y(c,t,f),p(t,o)},p(c,f){f&2&&r!==(r=c[13].name+"")&&G(o,r),f&2&&i!==(i=S+"/location?location="+c[13].code)&&d(t,"href",i)},d(c){c&&v(t)}}}function R(u){let t,r,o,i,c;function f(a,s){return a[10]=="England"?st:nt}let e=f(u)(u),n=I(u[1][u[10]]),l=[];for(let a=0;a<n.length;a+=1)l[a]=O(j(u,n,a));return{c(){t=b("details"),r=b("summary"),e.c(),o=$(),i=b("div");for(let a=0;a<l.length;a+=1)l[a].c();c=$(),this.h()},l(a){t=D(a,"DETAILS",{class:!0});var s=E(t);r=D(s,"SUMMARY",{class:!0});var _=E(r);e.l(_),_.forEach(v),o=P(s),i=D(s,"DIV",{class:!0});var L=E(i);for(let N=0;N<l.length;N+=1)l[N].l(L);L.forEach(v),c=P(s),s.forEach(v),this.h()},h(){d(r,"class","svelte-1rtvnkm"),d(i,"class","lad-grid svelte-1rtvnkm"),d(t,"class","svelte-1rtvnkm")},m(a,s){y(a,t,s),p(t,r),e.m(r,null),p(t,o),p(t,i);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(i,null);p(t,c)},p(a,s){if(e.p(a,s),s&6){n=I(a[1][a[10]]);let _;for(_=0;_<n.length;_+=1){const L=j(a,n,_);l[_]?l[_].p(L,s):(l[_]=O(L),l[_].c(),l[_].m(i,null))}for(;_<l.length;_+=1)l[_].d(1);l.length=n.length}},d(a){a&&v(t),e.d(),q(l,a)}}}function rt(u){let t,r,o,i;t=new X({});function c(e,n){return e[0].length===0?at:lt}let f=c(u),h=f(u);return{c(){V(t.$$.fragment),r=$(),h.c(),o=T()},l(e){Y(t.$$.fragment,e),r=P(e),h.l(e),o=T()},m(e,n){F(t,e,n),y(e,r,n),h.m(e,n),y(e,o,n),i=!0},p(e,[n]){f===(f=c(e))&&h?h.p(e,n):(h.d(1),h=f(e),h&&(h.c(),h.m(o.parentNode,o)))},i(e){i||(J(t.$$.fragment,e),i=!0)},o(e){K(t.$$.fragment,e),i=!1},d(e){e&&(v(r),v(o)),Q(t,e),h.d(e)}}}function ot(u,t,r){const o=`${S}/LAD/Eng_Wales_LSOA_LADs.csv`,i=`${S}/LAD/NI_DZ_LAD.csv`,c=`${S}/LAD/Scotland_DZ_LA.csv`;let f={},h={},e=[],n={},l=["England","Northern Ireland","Scotland","Wales"];const a={NI:"Northern Ireland",England:"England",Wales:"Wales",Scotland:"Scotland"};async function s(){const _=await M(o);for(let m of _)f[m.LAD22CD]=m.LAD22NM;const L=await M(i);for(let m of L)f[m.LGD2014_code]=m.LGD2014_name;const N=await M(c);for(let m of N)f[m.LA_Code]=m.LA_Name;const C=await tt(et());for(let m of C){const A=a[m.Nation]||m.Nation;h[m.LAD]=A}r(0,e=Object.entries(f).map(([m,A])=>({code:m,name:A,nation:h[m]}))),r(1,n={});for(let m of l)r(1,n[m]=e.filter(A=>A.nation===m).sort((A,w)=>A.name.localeCompare(w.name)),n)}return z(async()=>{await s()}),[e,n,l]}class pt extends H{constructor(t){super(),U(this,t,ot,rt,Z,{})}}export{pt as component};
