import{s as zs,d as f,w as Us,p as n,i as z,b as s,B as xs,C as Pt,g as m,c as i,e as v,q as N,f as S,j as _,h as r,t as I,v as Ws,_ as qs,a as ke,E as Ys,H as Ks,A as Qt}from"../chunks/ChnDNINx.js";import{S as Gs,i as js,d as Xs,t as Zs,a as Js,m as Qs,c as $s,b as ta}from"../chunks/BjCzwqlE.js";import{N as ea,e as us}from"../chunks/D3yhtIB4.js";import"../chunks/F40_IDQw.js";import{Q as Ol,R as la,S as sa,T as aa,U as na,V as oa,W as ia,X as ra,Y as ca,Z as vs,_ as da,o as Vs,$ as hs,f as fa,a0 as ua,M as va,E as ha,d as pa,e as ma,g as _a,i as ga,F as ya,a1 as ba,a2 as Ns,a3 as Ea,O as zl,a4 as wa,a5 as Ca,a6 as Ts,a7 as ka,H as Ce,N as ps,a8 as Da,a9 as ms,P as _s}from"../chunks/s0pE0-UL.js";import{M as Sa}from"../chunks/GJiAJI5J.js";import{a as J,C as gs,D as Ia,j as ys,g as Aa,S as bs,T as La,b as xa,c as Va,d as Hl,M as Na,i as Ta}from"../chunks/Bp8VrrfW.js";import{g as he,n as Ma,o as Pa,j as Fa,k as Ba,p as Oa,l as Ha}from"../chunks/Cm7C6eAu.js";import{d as Ra,a as za,b as Ua}from"../chunks/Bp7O2jHZ.js";import{a as Ms}from"../chunks/DfkbkWuS.js";import{d as Ps}from"../chunks/Ds05NSQs.js";function Fs(a,t=Ol){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let l=Array.from(a);const e=new Float64Array(l.length);t.length!==2&&(l=l.map(t),t=Ol);const o=(g,E)=>t(l[g],l[E]);let d,c;return a=Uint32Array.from(l,(g,E)=>E),a.sort(t===Ol?(g,E)=>la(l[g],l[E]):sa(o)),a.forEach((g,E)=>{const C=o(g,d===void 0?g:d);C>=0?((d===void 0||C>0)&&(d=g,c=E),e[g]=c):e[g]=NaN}),e}function Wa(a={},t={}){const l=aa(t),e=Object.entries(a).map(([o,d])=>{const c=na(o,t);if(c==null)throw new Error(`missing channel: ${o}`);const[g,E]=oa(c);return{key:o,input:c,output:g,setOutput:E,map:qa(d)}});return{...ia(t,(o,d)=>{const c=vs(o,l),g=e.map(({input:C})=>vs(o,C)),E=e.map(({setOutput:C})=>C(new Array(o.length)));for(const C of d)for(const w of c?da(C,p=>c[p]).values():[C])e.forEach(({map:p},k)=>p.mapIndex(w,g[k],E[k]));return{data:o,facets:d}}),...Object.fromEntries(e.map(({key:o,output:d})=>[o,d]))}}function qa(a){if(a==null)throw new Error("missing map");if(typeof a.mapIndex=="function")return a;if(typeof a.map=="function"&&ra(a))return Ya(a);if(typeof a=="function")return Rl(ca(a));switch(`${a}`.toLowerCase()){case"cumsum":return Ga;case"rank":return Rl((t,l)=>Fs(t,e=>l[e]));case"quantile":return Rl((t,l)=>Ka(t,e=>l[e]))}throw new Error(`invalid map: ${a}`)}function Ya(a){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:a.map.bind(a)}}function Ka(a,t){const l=Ra(a,t)-1;return Fs(a,t).map(e=>e/l)}function Rl(a){return{mapIndex(t,l,e){const o=a(t,l);if(o.length!==t.length)throw new Error("map function returned a mismatched length");for(let d=0,c=t.length;d<c;++d)e[t[d]]=o[d]}}}const Ga={mapIndex(a,t,l){let e=0;for(const o of a)l[o]=e+=t[o]}},ja={ariaLabel:"tick",fill:null,stroke:"currentColor"};class Xa extends va{constructor(t,l,e){super(t,l,e,ja),ha(this,e)}render(t,l,e,o,d){return pa("svg:g",d).call(ma,this,o,d).call(this._transform,this,l).call(c=>c.selectAll().data(t).enter().append("line").call(_a,this).attr("x1",this._x1(l,e,o)).attr("x2",this._x2(l,e,o)).attr("y1",this._y1(l,e,o)).attr("y2",this._y2(l,e,o)).call(ga,this,e).call(ya,this,e,d)).node()}}class Za extends Xa{constructor(t,l={}){const{x:e,y:o,inset:d=0,insetRight:c=d,insetLeft:g=d}=l;super(t,{y:{value:o,scale:"y"},x:{value:e,scale:"x",type:"band",optional:!0}},l),this.insetRight=hs(c),this.insetLeft=hs(g)}_transform(t,l,{y:e}){t.call(fa,l,{y:e},0,ua)}_x1({x:t},{x:l},{marginLeft:e}){const{insetLeft:o}=this;return l&&t?d=>l[d]+o:e+o}_x2({x:t},{x:l},{width:e,marginRight:o}){const{insetRight:d}=this;return l&&t?c=>l[c]+t.bandwidth()-d:e-o-d}_y1(t,{y:l}){return e=>l[e]}_y2(t,{y:l}){return e=>l[e]}}function Ja(a,{y:t=Vs,...l}={}){return new Za(a,{...l,y:t})}function Qa(a,{y:t=Vs,x:l=null,r:e,fill:o="#ccc",fillOpacity:d,stroke:c="currentColor",strokeOpacity:g,strokeWidth:E=2,sort:C,...w}={}){const p=l!=null?Ns:Ea;return ba(zl(a,p({y1:Bs,y2:Os},{x:l,y:t,stroke:c,strokeOpacity:g,...w})),Ms(a,p({y1:"p25",y2:"p75"},{x:l,y:t,fill:o,fillOpacity:d,...w})),Ja(a,p({y:"p50"},{x:l,y:t,stroke:c,strokeOpacity:g,strokeWidth:E,sort:C,...w})),Ps(a,Wa({y:$a},{x:l,y:t,z:l,r:e,stroke:c,strokeOpacity:g,...w})))}function $a(a){const t=Bs(a),l=Os(a);return a.map(e=>e<t||e>l?e:NaN)}function Bs(a){const t=Hs(a)*2.5-Rs(a)*1.5;return wa(a,l=>l>=t?l:NaN)}function Os(a){const t=Rs(a)*2.5-Hs(a)*1.5;return Ca(a,l=>l<=t?l:NaN)}function Hs(a){return Ts(a,.25)}function Rs(a){return Ts(a,.75)}function Es(a,t,l){const e=a.slice();return e[45]=t[l],e[46]=t,e[47]=l,e}function ws(a){let t,l,e=a[4].toLocaleString()+"",o;return{c(){t=r("span"),l=I("£"),o=I(e),this.h()},l(d){t=i(d,"SPAN",{class:!0});var c=v(t);l=S(c,"£"),o=S(c,e),c.forEach(f),this.h()},h(){n(t,"class","waffle-big svelte-13dtovy")},m(d,c){z(d,t,c),s(t,l),s(t,o)},p(d,c){c[0]&16&&e!==(e=d[4].toLocaleString()+"")&&ke(o,e)},d(d){d&&f(t)}}}function tn(a){let t,l="National costs";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=i(e,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-o12owz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function en(a){let t,l="National benefits";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=i(e,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-10ytukz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function Cs(a){let t,l,e=a[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",o;return{c(){t=r("span"),l=I("£"),o=I(e),this.h()},l(d){t=i(d,"SPAN",{class:!0});var c=v(t);l=S(c,"£"),o=S(c,e),c.forEach(f),this.h()},h(){n(t,"class","waffle-big svelte-13dtovy")},m(d,c){z(d,t,c),s(t,l),s(t,o)},p(d,c){c[0]&64&&e!==(e=d[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&ke(o,e)},d(d){d&&f(t)}}}function ln(a){let t,l="Per capita costs";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=i(e,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-6pmcl0"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function sn(a){let t,l="Per capita benefits";return{c(){t=r("div"),t.textContent=l,this.h()},l(e){t=i(e,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-g1rvwk"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function ks(a){let t,l,e=(a[4]/a[5]*100).toFixed(2)+"",o,d,c,g="%";return{c(){t=r("div"),l=r("span"),o=I(e),d=_(),c=r("span"),c.textContent=g,this.h()},l(E){t=i(E,"DIV",{class:!0});var C=v(t);l=i(C,"SPAN",{class:!0});var w=v(l);o=S(w,e),w.forEach(f),d=m(C),c=i(C,"SPAN",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-jxggz7"&&(c.textContent=g),C.forEach(f),this.h()},h(){n(l,"class","waffle-big svelte-13dtovy"),n(c,"class","small svelte-13dtovy"),n(t,"class","waffle-value svelte-13dtovy")},m(E,C){z(E,t,C),s(t,l),s(l,o),s(t,d),s(t,c)},p(E,C){C[0]&48&&e!==(e=(E[4]/E[5]*100).toFixed(2)+"")&&ke(o,e)},d(E){E&&f(t)}}}function Ds(a){let t,l,e,o,d,c,g,E,C,w=Ls(a[10])+"",p,k=a[4]&&Ss(a);return{c(){t=r("div"),l=r("div"),e=r("img"),d=_(),c=r("span"),g=I(a[15]),E=_(),k&&k.c(),C=I(`
            >> `),p=I(w),this.h()},l(F){t=i(F,"DIV",{class:!0});var B=v(t);l=i(B,"DIV",{class:!0});var L=v(l);e=i(L,"IMG",{src:!0,alt:!0,class:!0}),d=m(L),c=i(L,"SPAN",{class:!0});var x=v(c);g=S(x,a[15]),E=m(x),k&&k.l(x),C=S(x,`
            >> `),p=S(x,w),x.forEach(f),L.forEach(f),B.forEach(f),this.h()},h(){xs(e.src,o=a[17])||n(e,"src",o),n(e,"alt","Icon"),n(e,"class","mini-heading-icon"),n(c,"class","mini-header-text"),n(l,"class","mini-header-content"),n(t,"class","mini-header")},m(F,B){z(F,t,B),s(t,l),s(l,e),s(l,d),s(l,c),s(c,g),s(c,E),k&&k.m(c,null),s(c,C),s(c,p)},p(F,B){F[4]?k?k.p(F,B):(k=Ss(F),k.c(),k.m(c,C)):k&&(k.d(1),k=null),B[0]&1024&&w!==(w=Ls(F[10])+"")&&ke(p,w)},d(F){F&&f(t),k&&k.d()}}}function Ss(a){let t,l,e,o;return{c(){t=r("span"),l=I("(UK total: £"),e=I(a[4]),o=I(" billion)"),this.h()},l(d){t=i(d,"SPAN",{class:!0});var c=v(t);l=S(c,"(UK total: £"),e=S(c,a[4]),o=S(c," billion)"),c.forEach(f),this.h()},h(){n(t,"class","mini-header-value")},m(d,c){z(d,t,c),s(t,l),s(t,e),s(t,o)},p(d,c){c[0]&16&&ke(e,d[4])},d(d){d&&f(t)}}}function an(a){let t,l="Each bar shows the total benefits or costs obtained in that period.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=i(e,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1ualj8m"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function nn(a){let t,l="Each bar shows the total values obtained in that period.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=i(e,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-19uixzb"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function on(a){let t,l="Along the x-axis, see how many data zones (y-axis) lose/benefit how much.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=i(e,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-wn292q"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function rn(a){let t,l="Along the x-axis, see how many data zones (y-axis) benefit how much.";return{c(){t=r("p"),t.textContent=l,this.h()},l(e){t=i(e,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-8ib03s"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-13dtovy")},m(e,o){z(e,t,o)},d(e){e&&f(t)}}}function Is(a){let t,l,e=a[7].legend().outerHTML+"";return{c(){t=r("div"),l=new Ks(!1),this.h()},l(o){t=i(o,"DIV",{id:!0});var d=v(t);l=Ys(d,!1),d.forEach(f),this.h()},h(){l.a=null,n(t,"id","legend")},m(o,d){z(o,t,d),l.m(e,t)},p(o,d){d[0]&128&&e!==(e=o[7].legend().outerHTML+"")&&l.p(e)},d(o){o&&f(t)}}}function As(a){let t,l,e=a[45].label+"",o,d,c,g=a[45].def+"",E,C,w,p=a[45],k;const F=()=>a[27](w,p),B=()=>a[27](null,p);return{c(){t=r("div"),l=r("h3"),o=I(e),d=_(),c=r("p"),E=I(g),C=_(),w=r("div"),k=_(),this.h()},l(L){t=i(L,"DIV",{class:!0});var x=v(t);l=i(x,"H3",{class:!0});var ut=v(l);o=S(ut,e),ut.forEach(f),d=m(x),c=i(x,"P",{class:!0});var tt=v(c);E=S(tt,g),tt.forEach(f),C=m(x),w=i(x,"DIV",{class:!0}),v(w).forEach(f),k=m(x),x.forEach(f),this.h()},h(){n(l,"class","component-chart-title svelte-13dtovy"),n(c,"class","component-chart-caption svelte-13dtovy"),n(w,"class","plot"),n(t,"class","plot-container svelte-13dtovy")},m(L,x){z(L,t,x),s(t,l),s(l,o),s(t,d),s(t,c),s(c,E),s(t,C),s(t,w),F(),s(t,k)},p(L,x){a=L,p!==a[45]&&(B(),p=a[45],F())},d(L){L&&f(t),B()}}}function cn(a){let t,l,e,o,d,c,g,E="Co-Benefit Report",C,w,p,k,F,B,L,x,ut,tt,rt,$t,vt,Ft,te,j,at,et,nt,lt,Bt,ht,Ot="billion",me,ot,O,pt,_e,ge,it,ee,mt,De="Contribution to national benefits",ye,wt,be,Ct,h,y,b,P,T,Ee='<p class="section-subtitle">Overview</p>',we,X,V,ct,D,H,Se=a[15].toLowerCase()+"",le,je,Xe,Ie,se,Ze,Je,Qe,kt,$e,Ht,Ul=a[15].toLowerCase()+"",tl,el,ll,Ae,Dt,Wl="",sl,al,nl,Q,St,ol,Rt,ql=a[15].toLowerCase()+"",il,rl,cl,zt,Yl="Scroll for zooming in and out.",dl,Le,_t,Kl="",fl,It,Ut,Gl='<p class="section-subtitle">Socio-economic factors</p>',ul,dt,Z,At,vl,Wt,jl=a[15]?.toLowerCase()+"",hl,pl,ml,qt,Xl="Each scatterplot shows the distribution of benefits or costs depending on a given socio-economic factor.",_l,gl,yl,Lt,Zl='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where the x-axis is non-linear:  EPC, Tenure, Typology, Fuel type, Gas flag, Number of cars.</p>',bl,$,Yt,Jl="Legend:",El,wl,Cl,ae,Ql="The scatter plots are shaded by nation.",kl,st,Kt,ne,Dl,Sl,Gt,oe,Il,Al,jt,ie,Ll,xl,Xt,re,Vl,Nl,Zt,xt,Vt;t=new ea({});let U=a[4]&&ws(a);function $l(u,A){return u[4]>0?en:tn}let xe=$l(a),gt=xe(a),W=a[4]&&Cs(a);function ts(u,A){return u[4]>0?sn:ln}let Ve=ts(a),yt=Ve(a),q=a[4]&&ks(a),Y=a[9]&&Ds(a);function es(u,A){return u[4]>0?nn:an}let Ne=es(a),bt=Ne(a);function ls(u,A){return u[4]>0?rn:on}let Te=ls(a),Et=Te(a),K=a[7]&&Is(a),ce=us(bs),R=[];for(let u=0;u<ce.length;u+=1)R[u]=As(Es(a,ce,u));return{c(){ta(t.$$.fragment),l=_(),e=r("div"),o=r("div"),d=r("div"),c=r("div"),g=r("p"),g.textContent=E,C=_(),w=r("div"),p=r("h1"),k=r("img"),B=_(),L=r("div"),x=_(),ut=I(a[15]),tt=_(),rt=r("div"),$t=_(),vt=r("p"),Ft=I(a[16]),te=_(),j=r("div"),at=r("div"),et=r("div"),nt=r("div"),lt=r("div"),U&&U.c(),Bt=_(),ht=r("span"),ht.textContent=Ot,me=_(),gt.c(),ot=_(),O=r("div"),pt=r("div"),W&&W.c(),_e=_(),yt.c(),ge=_(),it=r("div"),q&&q.c(),ee=_(),mt=r("div"),mt.textContent=De,ye=_(),wt=r("div"),be=_(),Ct=r("div"),h=_(),Y&&Y.c(),y=_(),b=r("div"),P=r("div"),T=r("div"),T.innerHTML=Ee,we=_(),X=r("div"),V=r("div"),ct=r("h3"),D=I("Total values (£, billion) for "),H=r("span"),le=I(Se),je=I(" over time"),Xe=_(),bt.c(),Ie=_(),se=r("div"),Ze=_(),Je=r("br"),Qe=_(),kt=r("h3"),$e=I("Distribution of values (£, billion) for "),Ht=r("span"),tl=I(Ul),el=I(" by UK data zones"),ll=_(),Et.c(),Ae=_(),Dt=r("div"),Dt.innerHTML=Wl,sl=_(),al=r("br"),nl=_(),Q=r("div"),St=r("h3"),ol=I("Total values (£, billion) for "),Rt=r("span"),il=I(ql),rl=I(" across the UK"),cl=_(),zt=r("p"),zt.textContent=Yl,dl=_(),K&&K.c(),Le=_(),_t=r("div"),_t.innerHTML=Kl,fl=_(),It=r("div"),Ut=r("div"),Ut.innerHTML=Gl,ul=_(),dt=r("div"),Z=r("div"),At=r("h3"),vl=I("Mapping the impact of "),Wt=r("span"),hl=I(jl),pl=I(" across UK local authorities according to socio-economic factors"),ml=_(),qt=r("p"),qt.textContent=Xl,_l=_(),gl=r("br"),yl=_(),Lt=r("div"),Lt.innerHTML=Zl,bl=_(),$=r("div"),Yt=r("strong"),Yt.textContent=Jl,El=_(),wl=r("br"),Cl=_(),ae=r("span"),ae.textContent=Ql,kl=_(),st=r("ul"),Kt=r("li"),ne=r("span"),Dl=I(`
                            Scotland`),Sl=_(),Gt=r("li"),oe=r("span"),Il=I(`
                            Northern Ireland`),Al=_(),jt=r("li"),ie=r("span"),Ll=I("England"),xl=_(),Xt=r("li"),re=r("span"),Vl=I("Wales"),Nl=_(),Zt=r("div"),xt=r("div");for(let u=0;u<R.length;u+=1)R[u].c();this.h()},l(u){$s(t.$$.fragment,u),l=m(u),e=i(u,"DIV",{class:!0});var A=v(e);o=i(A,"DIV",{class:!0});var M=v(o);d=i(M,"DIV",{class:!0});var Jt=v(d);c=i(Jt,"DIV",{class:!0});var Me=v(c);g=i(Me,"P",{class:!0,"data-svelte-h":!0}),N(g)!=="svelte-1flv0v9"&&(g.textContent=E),C=m(Me),w=i(Me,"DIV",{class:!0});var de=v(w);p=i(de,"H1",{class:!0});var fe=v(p);k=i(fe,"IMG",{src:!0,alt:!0,class:!0}),B=m(fe),L=i(fe,"DIV",{style:!0}),v(L).forEach(f),x=m(fe),ut=S(fe,a[15]),fe.forEach(f),tt=m(de),rt=i(de,"DIV",{style:!0}),v(rt).forEach(f),$t=m(de),vt=i(de,"P",{class:!0});var ss=v(vt);Ft=S(ss,a[16]),ss.forEach(f),de.forEach(f),Me.forEach(f),te=m(Jt),j=i(Jt,"DIV",{class:!0});var ue=v(j);at=i(ue,"DIV",{class:!0});var as=v(at);et=i(as,"DIV",{class:!0});var ve=v(et);nt=i(ve,"DIV",{class:!0});var Pe=v(nt);lt=i(Pe,"DIV",{class:!0});var Fe=v(lt);U&&U.l(Fe),Bt=m(Fe),ht=i(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),N(ht)!=="svelte-tlhydp"&&(ht.textContent=Ot),Fe.forEach(f),me=m(Pe),gt.l(Pe),Pe.forEach(f),ot=m(ve),O=i(ve,"DIV",{class:!0});var Be=v(O);pt=i(Be,"DIV",{class:!0});var ns=v(pt);W&&W.l(ns),ns.forEach(f),_e=m(Be),yt.l(Be),Be.forEach(f),ge=m(ve),it=i(ve,"DIV",{class:!0});var Oe=v(it);q&&q.l(Oe),ee=m(Oe),mt=i(Oe,"DIV",{class:!0,"data-svelte-h":!0}),N(mt)!=="svelte-1v3rfza"&&(mt.textContent=De),Oe.forEach(f),ve.forEach(f),as.forEach(f),ye=m(ue),wt=i(ue,"DIV",{class:!0}),v(wt).forEach(f),be=m(ue),Ct=i(ue,"DIV",{class:!0}),v(Ct).forEach(f),ue.forEach(f),Jt.forEach(f),M.forEach(f),h=m(A),Y&&Y.l(A),y=m(A),b=i(A,"DIV",{class:!0});var He=v(b);P=i(He,"DIV",{id:!0});var Re=v(P);T=i(Re,"DIV",{class:!0,"data-svelte-h":!0}),N(T)!=="svelte-ll1i43"&&(T.innerHTML=Ee),we=m(Re),X=i(Re,"DIV",{id:!0,class:!0});var ze=v(X);V=i(ze,"DIV",{class:!0});var G=v(V);ct=i(G,"H3",{class:!0});var Ue=v(ct);D=S(Ue,"Total values (£, billion) for "),H=i(Ue,"SPAN",{style:!0});var os=v(H);le=S(os,Se),os.forEach(f),je=S(Ue," over time"),Ue.forEach(f),Xe=m(G),bt.l(G),Ie=m(G),se=i(G,"DIV",{class:!0}),v(se).forEach(f),Ze=m(G),Je=i(G,"BR",{}),Qe=m(G),kt=i(G,"H3",{class:!0});var We=v(kt);$e=S(We,"Distribution of values (£, billion) for "),Ht=i(We,"SPAN",{style:!0});var is=v(Ht);tl=S(is,Ul),is.forEach(f),el=S(We," by UK data zones"),We.forEach(f),ll=m(G),Et.l(G),Ae=m(G),Dt=i(G,"DIV",{class:!0,"data-svelte-h":!0}),N(Dt)!=="svelte-1ta2xvp"&&(Dt.innerHTML=Wl),sl=m(G),al=i(G,"BR",{}),G.forEach(f),nl=m(ze),Q=i(ze,"DIV",{class:!0});var Nt=v(Q);St=i(Nt,"H3",{class:!0});var qe=v(St);ol=S(qe,"Total values (£, billion) for "),Rt=i(qe,"SPAN",{style:!0});var rs=v(Rt);il=S(rs,ql),rs.forEach(f),rl=S(qe," across the UK"),qe.forEach(f),cl=m(Nt),zt=i(Nt,"P",{class:!0,"data-svelte-h":!0}),N(zt)!=="svelte-1ask2se"&&(zt.textContent=Yl),dl=m(Nt),K&&K.l(Nt),Le=m(Nt),_t=i(Nt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),N(_t)!=="svelte-1bex1ev"&&(_t.innerHTML=Kl),Nt.forEach(f),ze.forEach(f),Re.forEach(f),fl=m(He),It=i(He,"DIV",{id:!0});var Ye=v(It);Ut=i(Ye,"DIV",{class:!0,"data-svelte-h":!0}),N(Ut)!=="svelte-dcew9z"&&(Ut.innerHTML=Gl),ul=m(Ye),dt=i(Ye,"DIV",{id:!0,class:!0,style:!0});var Ke=v(dt);Z=i(Ke,"DIV",{id:!0,class:!0});var ft=v(Z);At=i(ft,"H3",{class:!0});var Ge=v(At);vl=S(Ge,"Mapping the impact of "),Wt=i(Ge,"SPAN",{style:!0});var cs=v(Wt);hl=S(cs,jl),cs.forEach(f),pl=S(Ge," across UK local authorities according to socio-economic factors"),Ge.forEach(f),ml=m(ft),qt=i(ft,"P",{class:!0,"data-svelte-h":!0}),N(qt)!=="svelte-xtub96"&&(qt.textContent=Xl),_l=m(ft),gl=i(ft,"BR",{}),yl=m(ft),Lt=i(ft,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),N(Lt)!=="svelte-250g83"&&(Lt.innerHTML=Zl),bl=m(ft),$=i(ft,"DIV",{id:!0,class:!0});var Tt=v($);Yt=i(Tt,"STRONG",{style:!0,"data-svelte-h":!0}),N(Yt)!=="svelte-xb363n"&&(Yt.textContent=Jl),El=m(Tt),wl=i(Tt,"BR",{}),Cl=m(Tt),ae=i(Tt,"SPAN",{"data-svelte-h":!0}),N(ae)!=="svelte-ddxsq2"&&(ae.textContent=Ql),kl=m(Tt),st=i(Tt,"UL",{class:!0});var Mt=v(st);Kt=i(Mt,"LI",{class:!0});var Tl=v(Kt);ne=i(Tl,"SPAN",{class:!0,style:!0}),v(ne).forEach(f),Dl=S(Tl,`
                            Scotland`),Tl.forEach(f),Sl=m(Mt),Gt=i(Mt,"LI",{class:!0});var Ml=v(Gt);oe=i(Ml,"SPAN",{class:!0,style:!0}),v(oe).forEach(f),Il=S(Ml,`
                            Northern Ireland`),Ml.forEach(f),Al=m(Mt),jt=i(Mt,"LI",{class:!0});var Pl=v(jt);ie=i(Pl,"SPAN",{class:!0,style:!0}),v(ie).forEach(f),Ll=S(Pl,"England"),Pl.forEach(f),xl=m(Mt),Xt=i(Mt,"LI",{class:!0});var Fl=v(Xt);re=i(Fl,"SPAN",{class:!0,style:!0}),v(re).forEach(f),Vl=S(Fl,"Wales"),Fl.forEach(f),Mt.forEach(f),Tt.forEach(f),ft.forEach(f),Nl=m(Ke),Zt=i(Ke,"DIV",{id:!0,class:!0});var ds=v(Zt);xt=i(ds,"DIV",{id:!0,class:!0});var fs=v(xt);for(let Bl=0;Bl<R.length;Bl+=1)R[Bl].l(fs);fs.forEach(f),ds.forEach(f),Ke.forEach(f),Ye.forEach(f),He.forEach(f),A.forEach(f),this.h()},h(){n(g,"class","page-subtitle svelte-13dtovy"),xs(k.src,F=a[17])||n(k,"src",F),n(k,"alt","Icon"),n(k,"class","heading-icon svelte-13dtovy"),Pt(L,"margin-top","10px"),n(p,"class","page-title svelte-13dtovy"),Pt(rt,"margin-top","14px"),n(vt,"class","definition svelte-13dtovy"),n(w,"class","title-container"),n(c,"class","header-text svelte-13dtovy"),n(ht,"class","small svelte-13dtovy"),n(lt,"class","waffle-value svelte-13dtovy"),n(nt,"class","waffle-stat svelte-13dtovy"),n(pt,"class","waffle-value svelte-13dtovy"),n(O,"class","waffle-stat svelte-13dtovy"),n(mt,"class","waffle-caption svelte-13dtovy"),n(it,"class","waffle-stat svelte-13dtovy"),n(et,"class","waffle-stats svelte-13dtovy"),n(at,"class","waffle-label svelte-13dtovy"),n(wt,"class","waffle-el"),n(Ct,"class","waffle-bg svelte-13dtovy"),n(j,"class","header-waffle-wrapper svelte-13dtovy"),n(d,"class","header-content svelte-13dtovy"),n(o,"class","section header svelte-13dtovy"),n(T,"class","section-header"),n(H,"style",a[13]),n(ct,"class","component-title"),n(se,"class","plot"),n(Ht,"style",a[13]),n(kt,"class","component-title"),n(Dt,"class","plot"),n(V,"class","component singlevis"),n(Rt,"style",a[13]),n(St,"class","component-title"),n(zt,"class","description svelte-13dtovy"),n(_t,"id","map"),n(_t,"class","svelte-13dtovy"),n(Q,"class","component column"),n(X,"id","vis-block"),n(X,"class","svelte-13dtovy"),n(P,"id","overview"),n(Ut,"class","section-header"),n(Wt,"style",a[13]),n(At,"class","component-title"),n(qt,"class","explanation"),n(Lt,"id","se-disclaimer"),n(Lt,"class","disclaimer-box svelte-13dtovy"),Pt(Yt,"margin-bottom","1rem"),n(ne,"class","legend-color svelte-13dtovy"),Pt(ne,"background-color",J(a[14])[1]),n(Kt,"class","svelte-13dtovy"),n(oe,"class","legend-color svelte-13dtovy"),Pt(oe,"background-color",J(a[14])[2]),n(Gt,"class","svelte-13dtovy"),n(ie,"class","legend-color svelte-13dtovy"),Pt(ie,"background-color",J(a[14])[3]),n(jt,"class","svelte-13dtovy"),n(re,"class","legend-color svelte-13dtovy"),Pt(re,"background-color",J(a[14])[4]),n(Xt,"class","svelte-13dtovy"),n(st,"class","legend-list svelte-13dtovy"),n($,"id","se-legend"),n($,"class","legend-box svelte-13dtovy"),n(Z,"id","se-title"),n(Z,"class","svelte-13dtovy"),n(xt,"id","multiple-plots"),n(xt,"class","svelte-13dtovy"),n(Zt,"id","multiple-comp"),n(Zt,"class","svelte-13dtovy"),n(dt,"id","se-block"),n(dt,"class","component svelte-13dtovy"),Pt(dt,"margin-left","1rem"),n(It,"id","compare"),n(b,"class","section"),n(e,"class","page-container")},m(u,A){Qs(t,u,A),z(u,l,A),z(u,e,A),s(e,o),s(o,d),s(d,c),s(c,g),s(c,C),s(c,w),s(w,p),s(p,k),s(p,B),s(p,L),s(p,x),s(p,ut),s(w,tt),s(w,rt),s(w,$t),s(w,vt),s(vt,Ft),s(d,te),s(d,j),s(j,at),s(at,et),s(et,nt),s(nt,lt),U&&U.m(lt,null),s(lt,Bt),s(lt,ht),s(nt,me),gt.m(nt,null),s(et,ot),s(et,O),s(O,pt),W&&W.m(pt,null),s(O,_e),yt.m(O,null),s(et,ge),s(et,it),q&&q.m(it,null),s(it,ee),s(it,mt),s(j,ye),s(j,wt),a[22](wt),s(j,be),s(j,Ct),a[23](Ct),s(e,h),Y&&Y.m(e,null),s(e,y),s(e,b),s(b,P),s(P,T),s(P,we),s(P,X),s(X,V),s(V,ct),s(ct,D),s(ct,H),s(H,le),s(ct,je),s(V,Xe),bt.m(V,null),s(V,Ie),s(V,se),a[24](se),s(V,Ze),s(V,Je),s(V,Qe),s(V,kt),s(kt,$e),s(kt,Ht),s(Ht,tl),s(kt,el),s(V,ll),Et.m(V,null),s(V,Ae),s(V,Dt),a[25](Dt),s(V,sl),s(V,al),s(X,nl),s(X,Q),s(Q,St),s(St,ol),s(St,Rt),s(Rt,il),s(St,rl),s(Q,cl),s(Q,zt),s(Q,dl),K&&K.m(Q,null),s(Q,Le),s(Q,_t),a[26](_t),s(b,fl),s(b,It),s(It,Ut),s(It,ul),s(It,dt),s(dt,Z),s(Z,At),s(At,vl),s(At,Wt),s(Wt,hl),s(At,pl),s(Z,ml),s(Z,qt),s(Z,_l),s(Z,gl),s(Z,yl),s(Z,Lt),s(Z,bl),s(Z,$),s($,Yt),s($,El),s($,wl),s($,Cl),s($,ae),s($,kl),s($,st),s(st,Kt),s(Kt,ne),s(Kt,Dl),s(st,Sl),s(st,Gt),s(Gt,oe),s(Gt,Il),s(st,Al),s(st,jt),s(jt,ie),s(jt,Ll),s(st,xl),s(st,Xt),s(Xt,re),s(Xt,Vl),s(dt,Nl),s(dt,Zt),s(Zt,xt);for(let M=0;M<R.length;M+=1)R[M]&&R[M].m(xt,null);a[28](e),Vt=!0},p(u,A){if(u[4]?U?U.p(u,A):(U=ws(u),U.c(),U.m(lt,Bt)):U&&(U.d(1),U=null),xe!==(xe=$l(u))&&(gt.d(1),gt=xe(u),gt&&(gt.c(),gt.m(nt,null))),u[4]?W?W.p(u,A):(W=Cs(u),W.c(),W.m(pt,null)):W&&(W.d(1),W=null),Ve!==(Ve=ts(u))&&(yt.d(1),yt=Ve(u),yt&&(yt.c(),yt.m(O,null))),u[4]?q?q.p(u,A):(q=ks(u),q.c(),q.m(it,ee)):q&&(q.d(1),q=null),u[9]?Y?Y.p(u,A):(Y=Ds(u),Y.c(),Y.m(e,y)):Y&&(Y.d(1),Y=null),(!Vt||A[0]&8192)&&n(H,"style",u[13]),Ne!==(Ne=es(u))&&(bt.d(1),bt=Ne(u),bt&&(bt.c(),bt.m(V,Ie))),(!Vt||A[0]&8192)&&n(Ht,"style",u[13]),Te!==(Te=ls(u))&&(Et.d(1),Et=Te(u),Et&&(Et.c(),Et.m(V,Ae))),(!Vt||A[0]&8192)&&n(Rt,"style",u[13]),u[7]?K?K.p(u,A):(K=Is(u),K.c(),K.m(Q,Le)):K&&(K.d(1),K=null),(!Vt||A[0]&8192)&&n(Wt,"style",u[13]),A[0]&2){ce=us(bs);let M;for(M=0;M<ce.length;M+=1){const Jt=Es(u,ce,M);R[M]?R[M].p(Jt,A):(R[M]=As(Jt),R[M].c(),R[M].m(xt,null))}for(;M<R.length;M+=1)R[M].d(1);R.length=ce.length}},i(u){Vt||(Js(t.$$.fragment,u),Vt=!0)},o(u){Zs(t.$$.fragment,u),Vt=!1},d(u){u&&(f(l),f(e)),Xs(t,u),U&&U.d(),gt.d(),W&&W.d(),yt.d(),q&&q.d(),a[22](null),a[23](null),Y&&Y.d(),bt.d(),a[24](null),Et.d(),a[25](null),K&&K.d(),a[26](null),Us(R,u),a[28](null)}}}let pe=400;function Ls(a){return{overview:"Overview",compare:"Compare by socio-economic factor"}[a]||""}function dn(a,t,l){let e,o,d,c,g,E={},C="barchart",{data:w}=t;const p=w.coBenefit,k=gs.find(h=>h.id===p)?.label??p,F=Ia.find(h=>h.id===p)?.def??p;let B,L,x,ut,tt,rt,$t,vt,Ft=!1,te,j,at,et;me().then(()=>{let h=JSON.parse(JSON.stringify(J(p)));h.shift(),h=h.reverse(),l(7,j=new Sa(L,"LAD",at,"total",!1,"LAD",!1,h)),j.initMap();let y=j.legend();et.append(y)});let nt=Aa(p),lt=!1,Bt="";const ht=["overview","compare"];function Ot(){const h=window.scrollY;l(9,lt=h>250);for(const y of ht){const b=document.getElementById(y);if(!b)continue;const P=b.getBoundingClientRect();if(P.top<=150&&P.bottom>=150){l(10,Bt=y);break}}}Ws(()=>(window.addEventListener("scroll",Ot),Ot(),()=>window.removeEventListener("scroll",Ot))),qs(()=>{window.removeEventListener("scroll",Ot)});async function me(){B=await he(Ma(p)),x=await he(Pa(p)),tt=await he(Fa()),tt=tt.sort((y,b)=>b.total-y.total),rt=await he(Ba()),rt=rt.sort((y,b)=>b.total_value-y.total_value);const h=rt.find(y=>y.co_benefit_type===p);l(6,te=h?h.value_per_capita:null),L=await he(Oa(p)),$t=await he(Ha()),l(5,vt=$t[0].total_value),ys.forEach(y=>{x[y]=+x[y]}),l(4,ut=ka(B,y=>y.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),l(20,Ft=!0)}let ot,O;function pt(h,y){if(!ot)return;const b=20,P=15,T=Math.floor(200/b),Ee=P*T,we=tt.reduce((D,H)=>D+H.total,0),X=[];for(const D of tt){const H=Math.round(Math.abs(D.total)/we*Ee),Se=D.total<0;for(let le=0;le<H;le++)X.push({type:D.co_benefit_type,negative:Se})}for(;X.length<Ee;)X.push({type:"empty"});X.sort((D,H)=>D.type==="empty"?1:H.type==="empty"?-1:D.negative&&!H.negative?1:!D.negative&&H.negative?-1:0);const V=X.map((D,H)=>({x:H%P,y:Math.floor(H/P),...D})),ct=Ce({width:b*P,height:b*T,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:gs.map(D=>D.id),range:Ta,unknown:"#eee",legend:!1},marks:[_s(V.filter(D=>!D.negative),{x:D=>D.x*b,y:D=>D.y*b,fill:"type",fillOpacity:D=>y&&D.type!==y?.15:1}),_s(V.filter(D=>D.negative),{x:D=>D.x*b,y:D=>D.y*b,stroke:"type",strokeOpacity:D=>y&&D.type!==y?.15:1,strokeWidth:1,fill:"none"})]});O&&(l(12,O.style.width=`${b*P}px`,O),l(12,O.style.height=`${h-100}px`,O)),l(11,ot.innerHTML="",ot),ot.append(ct)}function _e(){c?.append(Ce({height:pe/1.5,...Na,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazoness"},x:{label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[za(L,Ua({y:"count"},{x:"total",fill:J(p)[0],tip:!0,fillOpacity:.5,stroke:J(p)[0],strokeWidth:3})),ms({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),zl([0],{stroke:"#333",strokeWidth:.75})]}))}function ge(){let h=B.flatMap(y=>La.map(b=>({time:b,value:y[b],total:y.total,scenario:y.scenario})));g?.append(Ce({height:pe/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:y=>y.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[Ms(h,Ns({y:"sum"},{x:"time",y:y=>y.value/1e3,fill:J(p)[0],tip:{format:{y:y=>`${y.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),ms({anchor:"left",grid:!0,label:"Total (£, billion)",labelArrow:"none",labelAnchor:"center"})]}))}function it(){ys.forEach(h=>{let y;if(xa.includes(h)){const b=Va[h],P=b?Object.keys(b).map(Number):L.filter(T=>T.SEFMAME==h).map(T=>T.SE);y=Ce({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:pe/1.4,width:pe*1.2,marginLeft:70,marginBottom:h==="Typology"?80:60,marginRight:20,marginTop:20,x:{domain:P,label:Hl(h),tickFormat:T=>b?.[T]??T,tickRotate:h==="Typology"?-20:0},y:{label:"£, billion",labelArrow:"none"},color:{legend:!0},marks:[Qa(L.filter(T=>T.SEFMAME==h),{x:"SE",y:"total",stroke:J(p)[0],fill:J(p)[0],r:2,fillOpacity:.3}),ps([0],{stroke:"#333",strokeWidth:.75})]})}else y=Ce({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:pe/1.4,width:pe*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:20,x:{label:Hl(h),labelArrow:!1,labelAnchor:"center"},y:{label:"£, billion",labelArrow:!1},color:{legend:!0},marks:[Ps(L.filter(b=>b.SEFMAME==h),{x:b=>["Under_35","Over_65","Unemployment"].includes(h)?b.SE*100:b.SE,y:"total",fill:b=>b.LAD.startsWith("S")?J(p)[1]:b.LAD.startsWith("N")?J(p)[2]:b.LAD.startsWith("E")?J(p)[3]:J(p)[4],r:2,fillOpacity:1}),Da({label:Hl(h),labelArrow:!1,labelAnchor:"center"}),ps([0],{stroke:"#333",strokeWidth:.75}),zl([0],{stroke:"#333",strokeWidth:.75})]});E[h]?.append(y)})}function ee(h){Qt[h?"unshift":"push"](()=>{ot=h,l(11,ot)})}function mt(h){Qt[h?"unshift":"push"](()=>{O=h,l(12,O)})}function De(h){Qt[h?"unshift":"push"](()=>{g=h,l(0,g)})}function ye(h){Qt[h?"unshift":"push"](()=>{c=h,l(3,c)})}function wt(h){Qt[h?"unshift":"push"](()=>{at=h,l(8,at)})}function be(h,y){Qt[h?"unshift":"push"](()=>{E[y.id]=h,l(1,E)})}function Ct(h){Qt[h?"unshift":"push"](()=>{d=h,l(2,d)})}return a.$$set=h=>{"data"in h&&l(18,w=h.data)},a.$$.update=()=>{a.$$.dirty[0]&1572867&&(g?.firstChild?.remove(),Object.values(E).forEach(h=>{h.firstChild?.remove()}),Ft&&(_e(),ge(),it(),pt(300,p))),a.$$.dirty[0]&2097152&&l(13,o=`color: ${e}; font-weight: bold; font-size: 22px;`)},l(21,e=J(p)[0]),[g,E,d,c,ut,vt,te,j,at,lt,Bt,ot,O,o,p,k,F,nt,w,C,Ft,e,ee,mt,De,ye,wt,be,Ct]}class wn extends Gs{constructor(t){super(),js(this,t,dn,cn,zs,{data:18},null,[-1,-1])}}export{wn as component};
