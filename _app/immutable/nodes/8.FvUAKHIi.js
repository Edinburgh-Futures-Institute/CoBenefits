import{s as lt,o as st,d as at,n as et,e as Le}from"../chunks/lM1_q0kn.js";import{S as nt,i as ot,d as h,m as rt,r as xe,k as it,l as ct,s as Ue,n as ht,a as ue,b as e,u as f,v as Ae,o as ft,g as p,c as i,e as d,p as je,f as he,q as ut,j as _,h as c,t as fe,w as Se,x as Ve,H as Ie}from"../chunks/DTv_bg8f.js";import{N as dt,e as we}from"../chunks/Cu8BW6Yp.js";import{b as tt}from"../chunks/0aX-xDHL.js";import{C as mt,g as vt,a as pt,b as _t}from"../chunks/B75u2SNK.js";import{t as Ne,u as gt,v as We}from"../chunks/B2I3FSX7.js";import{b as Pe}from"../chunks/BTXI4x7B.js";function Ze(l,t,a){const n=l.slice();return n[35]=t[a],n}function Ke(l,t,a){const n=l.slice();return n[38]=t[a],n[40]=a,n}function Xe(l,t,a){const n=l.slice();return n[41]=t[a],n[40]=a,n}function Ye(l){let t;return{c(){t=c("div"),this.h()},l(a){t=i(a,"DIV",{class:!0,style:!0}),d(t).forEach(h),this.h()},h(){f(t,"class","hero-slide svelte-1snjeym"),Ae(t,"background-image","url("+l[41].image+")"),Se(t,"active",l[40]===l[7]),Se(t,"previous",l[40]===l[8])},m(a,n){ue(a,t,n)},p(a,n){n[0]&1&&Ae(t,"background-image","url("+a[41].image+")"),n[0]&128&&Se(t,"active",a[40]===a[7]),n[0]&256&&Se(t,"previous",a[40]===a[8])},d(a){a&&h(t)}}}function Je(l){let t,a,n,L=l[38].name+"",H,M,S,y,b,g=l[18](l[38].total,l[13])+"",W,x,ne=l[38].total.toFixed(1)+"",C,Z,j,m,G,oe=l[19](l[38].per,l[12])+"",P,N,Q=l[38].per.toFixed(1)+"",k,K;return{c(){t=c("tr"),a=c("td"),n=c("a"),H=fe(L),M=_(),S=c("td"),y=c("div"),b=new Ie(!1),W=_(),x=c("span"),C=fe(ne),Z=_(),j=c("td"),m=c("div"),G=new Ie(!1),P=_(),N=c("span"),k=fe(Q),K=_(),this.h()},l(O){t=i(O,"TR",{class:!0});var v=d(t);a=i(v,"TD",{class:!0});var te=d(a);n=i(te,"A",{href:!0,class:!0});var le=d(n);H=he(le,L),le.forEach(h),te.forEach(h),M=p(v),S=i(v,"TD",{class:!0});var ae=d(S);y=i(ae,"DIV",{class:!0});var T=d(y);b=Ve(T,!1),W=p(T),x=i(T,"SPAN",{});var A=d(x);C=he(A,ne),A.forEach(h),T.forEach(h),ae.forEach(h),Z=p(v),j=i(v,"TD",{class:!0});var X=d(j);m=i(X,"DIV",{class:!0});var $=d(m);G=Ve($,!1),P=p($),N=i($,"SPAN",{});var re=d(N);k=he(re,Q),re.forEach(h),$.forEach(h),X.forEach(h),K=p(v),v.forEach(h),this.h()},h(){f(n,"href",tt+"/location?location="+l[38].LAD),f(n,"class","svelte-1snjeym"),f(a,"class","svelte-1snjeym"),b.a=W,f(y,"class","bar-cell"),f(S,"class","svelte-1snjeym"),G.a=P,f(m,"class","bar-cell"),f(j,"class","svelte-1snjeym"),f(t,"class","svelte-1snjeym")},m(O,v){ue(O,t,v),e(t,a),e(a,n),e(n,H),e(t,M),e(t,S),e(S,y),b.m(g,y),e(y,W),e(y,x),e(x,C),e(t,Z),e(t,j),e(j,m),G.m(oe,m),e(m,P),e(m,N),e(N,k),e(t,K)},p:et,d(O){O&&h(t)}}}function Qe(l){let t,a,n,L=l[35].co_benefit_type+"",H,M,S,y,b,g=l[20](l[35].total_value,l[15],l[14],l[35].co_benefit_type)+"",W,x,ne=l[35].total_value.toFixed(1)+"",C,Z,j,m,G,oe=l[20](l[35].value_per_household,l[16],l[17],l[35].co_benefit_type)+"",P,N,Q=l[35].value_per_household.toFixed(1)+"",k,K;return{c(){t=c("tr"),a=c("td"),n=c("a"),H=fe(L),M=_(),S=c("td"),y=c("div"),b=new Ie(!1),W=_(),x=c("span"),C=fe(ne),Z=_(),j=c("td"),m=c("div"),G=new Ie(!1),P=_(),N=c("span"),k=fe(Q),K=_(),this.h()},l(O){t=i(O,"TR",{class:!0});var v=d(t);a=i(v,"TD",{class:!0});var te=d(a);n=i(te,"A",{href:!0,class:!0});var le=d(n);H=he(le,L),le.forEach(h),te.forEach(h),M=p(v),S=i(v,"TD",{class:!0});var ae=d(S);y=i(ae,"DIV",{class:!0});var T=d(y);b=Ve(T,!1),W=p(T),x=i(T,"SPAN",{});var A=d(x);C=he(A,ne),A.forEach(h),T.forEach(h),ae.forEach(h),Z=p(v),j=i(v,"TD",{class:!0});var X=d(j);m=i(X,"DIV",{class:!0});var $=d(m);G=Ve($,!1),P=p($),N=i($,"SPAN",{});var re=d(N);k=he(re,Q),re.forEach(h),$.forEach(h),X.forEach(h),K=p(v),v.forEach(h),this.h()},h(){f(n,"href",tt+"/cobenefit?cobenefit="+l[35].co_benefit_type),f(n,"class","svelte-1snjeym"),f(a,"class","svelte-1snjeym"),b.a=W,f(y,"class","bar-cell"),f(S,"class","svelte-1snjeym"),G.a=P,f(m,"class","bar-cell"),f(j,"class","svelte-1snjeym"),f(t,"class","svelte-1snjeym")},m(O,v){ue(O,t,v),e(t,a),e(a,n),e(n,H),e(t,M),e(t,S),e(S,y),b.m(g,y),e(y,W),e(y,x),e(x,C),e(t,Z),e(t,j),e(j,m),G.m(oe,m),e(m,P),e(m,N),e(N,k),e(t,K)},p:et,d(O){O&&h(t)}}}function $e(l){let t,a=`GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG
            GGGGGGGGG`;return{c(){t=c("div"),t.textContent=a,this.h()},l(n){t=i(n,"DIV",{class:!0,"data-svelte-h":!0}),je(t)!=="svelte-18sd2ca"&&(t.textContent=a),this.h()},h(){f(t,"class","spinner")},m(n,L){ue(n,t,L)},d(n){n&&h(t)}}}function yt(l){let t,a,n,L,H,M,S='<h1 class="hero-title svelte-1snjeym">The Co-Benefits of the UK’s Path to Net-Zero GHG Emissions</h1> <p class="hero-description svelte-1snjeym">Climate actions affects more than GHG emissions. Electric cars reduce urban air pollution, retrofits prevent mould and damp, cycling improves public health. The CO-BENS project models 11 co-benefits from the climate actions in the UK Climate Change Committee’s most recent pathway to Net Zero for the UK. In each of 45,000 local communities and regions we consider our local context determine both which climate actions will be implemented and how, when and for whom those climate actions will lead to benefits (and in some cases costs).</p> <p class="hero-description svelte-1snjeym">Just as climate actions affects more than GHG emissions, climate solutions require more than climate modelling. This website provides data and visualisations to support local, regional and national stakeholders who want to understand how climate actions are closely connected with a wide range of social, economic and environmental priorities. <br/></p> <p class="hero-description svelte-1snjeym">If you would like bespoke analysis highlighting how co-benefits are key to the work your team or organisation is doing, please reach out!</p>',y,b,g,W,x,ne,C,Z,j,m,G,oe,P,N,Q,k,K,O,v,te,le,ae,T,A,X,$="Explore by Local Authority",re,me,r,E,w,R='<tr class="svelte-1snjeym"><th style="max-width: 200px;" class="svelte-1snjeym">Name</th> <th class="svelte-1snjeym">Total £m</th> <th class="svelte-1snjeym">Per Household £k</th></tr>',ie,ee,V,B,U,pe="Explore by Co-Benefit",u,I,de,Te='<tr class="svelte-1snjeym"><th style="max-width: 200px;" class="svelte-1snjeym">Name</th> <th class="svelte-1snjeym">Total £m</th> <th class="svelte-1snjeym">Per Household £k</th></tr>',Me,_e,De,ve,ge;t=new dt({});let ye=we(l[0]),F=[];for(let s=0;s<ye.length;s+=1)F[s]=Ye(Xe(l,ye,s));let be=we(l[11]),q=[];for(let s=0;s<be.length;s+=1)q[s]=Je(Ke(l,be,s));let Ge=we(l[10]),z=[];for(let s=0;s<Ge.length;s+=1)z[s]=Qe(Ze(l,Ge,s));let Y=l[9]&&$e();return{c(){ut(t.$$.fragment),a=_(),n=c("section");for(let s=0;s<F.length;s+=1)F[s].c();L=_(),H=c("div"),M=c("div"),M.innerHTML=S,y=_(),b=c("div"),g=c("div"),W=fe("National gain of "),x=c("br"),ne=_(),C=c("strong"),Z=fe(l[4]),j=_(),m=c("br"),G=fe(`
        in reaching NetZero `),oe=c("br"),P=fe(`
        by 2050 is: `),N=c("br"),Q=_(),k=c("strong"),K=fe(l[5]),O=_(),v=c("div"),te=_(),le=c("div"),ae=_(),T=c("section"),A=c("div"),X=c("h2"),X.textContent=$,re=_(),me=c("input"),r=_(),E=c("table"),w=c("thead"),w.innerHTML=R,ie=_(),ee=c("tbody");for(let s=0;s<q.length;s+=1)q[s].c();V=_(),B=c("div"),U=c("h2"),U.textContent=pe,u=_(),I=c("table"),de=c("thead"),de.innerHTML=Te,Me=_(),_e=c("tbody");for(let s=0;s<z.length;s+=1)z[s].c();De=_(),ve=c("main"),Y&&Y.c(),this.h()},l(s){ft(t.$$.fragment,s),a=p(s),n=i(s,"SECTION",{class:!0});var D=d(n);for(let ce=0;ce<F.length;ce+=1)F[ce].l(D);L=p(D),H=i(D,"DIV",{class:!0});var o=d(H);M=i(o,"DIV",{class:!0,"data-svelte-h":!0}),je(M)!=="svelte-hf82dh"&&(M.innerHTML=S),y=p(o),b=i(o,"DIV",{class:!0});var J=d(b);g=i(J,"DIV",{class:!0});var se=d(g);W=he(se,"National gain of "),x=i(se,"BR",{}),ne=p(se),C=i(se,"STRONG",{style:!0});var Oe=d(C);Z=he(Oe,l[4]),Oe.forEach(h),j=p(se),m=i(se,"BR",{}),G=he(se,`
        in reaching NetZero `),oe=i(se,"BR",{}),P=he(se,`
        by 2050 is: `),N=i(se,"BR",{}),Q=p(se),k=i(se,"STRONG",{style:!0});var Re=d(k);K=he(Re,l[5]),Re.forEach(h),se.forEach(h),O=p(J),v=i(J,"DIV",{class:!0}),d(v).forEach(h),te=p(J),le=i(J,"DIV",{}),d(le).forEach(h),J.forEach(h),o.forEach(h),D.forEach(h),ae=p(s),T=i(s,"SECTION",{class:!0});var He=d(T);A=i(He,"DIV",{class:!0});var Ee=d(A);X=i(Ee,"H2",{class:!0,"data-svelte-h":!0}),je(X)!=="svelte-pgup4c"&&(X.textContent=$),re=p(Ee),me=i(Ee,"INPUT",{type:!0,placeholder:!0,class:!0}),r=p(Ee),E=i(Ee,"TABLE",{class:!0});var Ce=d(E);w=i(Ce,"THEAD",{class:!0,"data-svelte-h":!0}),je(w)!=="svelte-dxeohh"&&(w.innerHTML=R),ie=p(Ce),ee=i(Ce,"TBODY",{});var Fe=d(ee);for(let ce=0;ce<q.length;ce+=1)q[ce].l(Fe);Fe.forEach(h),Ce.forEach(h),Ee.forEach(h),V=p(He),B=i(He,"DIV",{class:!0});var ke=d(B);U=i(ke,"H2",{class:!0,"data-svelte-h":!0}),je(U)!=="svelte-9nk5va"&&(U.textContent=pe),u=p(ke),I=i(ke,"TABLE",{class:!0});var Be=d(I);de=i(Be,"THEAD",{class:!0,"data-svelte-h":!0}),je(de)!=="svelte-dxeohh"&&(de.innerHTML=Te),Me=p(Be),_e=i(Be,"TBODY",{});var qe=d(_e);for(let ce=0;ce<z.length;ce+=1)z[ce].l(qe);qe.forEach(h),Be.forEach(h),ke.forEach(h),He.forEach(h),De=p(s),ve=i(s,"MAIN",{class:!0});var ze=d(ve);Y&&Y.l(ze),ze.forEach(h),this.h()},h(){f(M,"class","hero-text svelte-1snjeym"),Ae(C,"font-size","1.2rem"),Ae(k,"font-size","1.2rem"),f(g,"class","waffle-label svelte-1snjeym"),f(v,"class","waffle-bg svelte-1snjeym"),f(b,"class","waffle-overlay svelte-1snjeym"),f(H,"class","hero-content svelte-1snjeym"),f(n,"class","hero-container svelte-1snjeym"),f(X,"class","svelte-1snjeym"),f(me,"type","text"),f(me,"placeholder","Search local authorities..."),f(me,"class","search-input svelte-1snjeym"),f(w,"class","svelte-1snjeym"),f(E,"class","data-table svelte-1snjeym"),f(A,"class","side-box svelte-1snjeym"),f(U,"class","svelte-1snjeym"),f(de,"class","svelte-1snjeym"),f(I,"class","data-table svelte-1snjeym"),f(B,"class","side-box svelte-1snjeym"),f(T,"class","side-by-side-section svelte-1snjeym"),f(ve,"class","svelte-1snjeym")},m(s,D){ht(t,s,D),ue(s,a,D),ue(s,n,D);for(let o=0;o<F.length;o+=1)F[o]&&F[o].m(n,null);e(n,L),e(n,H),e(H,M),e(H,y),e(H,b),e(b,g),e(g,W),e(g,x),e(g,ne),e(g,C),e(C,Z),e(g,j),e(g,m),e(g,G),e(g,oe),e(g,P),e(g,N),e(g,Q),e(g,k),e(k,K),l[22](g),e(b,O),e(b,v),l[23](v),e(b,te),e(b,le),l[24](le),l[25](n),ue(s,ae,D),ue(s,T,D),e(T,A),e(A,X),e(A,re),e(A,me),e(A,r),e(A,E),e(E,w),e(E,ie),e(E,ee);for(let o=0;o<q.length;o+=1)q[o]&&q[o].m(ee,null);e(T,V),e(T,B),e(B,U),e(B,u),e(B,I),e(I,de),e(I,Me),e(I,_e);for(let o=0;o<z.length;o+=1)z[o]&&z[o].m(_e,null);ue(s,De,D),ue(s,ve,D),Y&&Y.m(ve,null),ge=!0},p(s,D){if(D[0]&385){ye=we(s[0]);let o;for(o=0;o<ye.length;o+=1){const J=Xe(s,ye,o);F[o]?F[o].p(J,D):(F[o]=Ye(J),F[o].c(),F[o].m(n,L))}for(;o<F.length;o+=1)F[o].d(1);F.length=ye.length}if((!ge||D[0]&16)&&Ue(Z,s[4]),(!ge||D[0]&32)&&Ue(K,s[5]),D[0]&800768){be=we(s[11]);let o;for(o=0;o<be.length;o+=1){const J=Ke(s,be,o);q[o]?q[o].p(J,D):(q[o]=Je(J),q[o].c(),q[o].m(ee,null))}for(;o<q.length;o+=1)q[o].d(1);q.length=be.length}if(D[0]&1295360){Ge=we(s[10]);let o;for(o=0;o<Ge.length;o+=1){const J=Ze(s,Ge,o);z[o]?z[o].p(J,D):(z[o]=Qe(J),z[o].c(),z[o].m(_e,null))}for(;o<z.length;o+=1)z[o].d(1);z.length=Ge.length}s[9]?Y||(Y=$e(),Y.c(),Y.m(ve,null)):Y&&(Y.d(1),Y=null)},i(s){ge||(ct(t.$$.fragment,s),ge=!0)},o(s){it(t.$$.fragment,s),ge=!1},d(s){s&&(h(a),h(n),h(ae),h(T),h(De),h(ve)),rt(t,s),xe(F,s),l[22](null),l[23](null),l[24](null),l[25](null),xe(q,s),xe(z,s),Y&&Y.d()}}}function bt(l,t,a){let{data:n}=t,L=[...n.aggregationPerBenefit].sort((r,E)=>E.total-r.total),H=[...n.aggregationPerHouseholdPerBenefit].sort((r,E)=>E.total_value-r.total_value),M=n.topLADsData,S=n.topSelectedLADsPerHouseholdData;const y=Math.max(...S.map(r=>r.per)),b=Math.max(...M.map(r=>r.total)),g=Math.max(...L.map(r=>r.total)),W=Math.min(...L.map(r=>r.total)),x=Math.min(...H.map(r=>r.value_per_household)),ne=Math.max(...H.map(r=>r.value_per_household));let C,Z=[],j=[],m=null,G,oe,P,N,Q,k=0,K=0,O;function v(r){const E=C.filter(V=>V.type!=="empty").map(V=>V.type),w=Array.from(new Set(E)),R=L.reduce((V,B)=>V+B.total,0),ie=[{type:null,label:"total co-benefits",value:R.toFixed(1)},...w.map(V=>{const B=V,U=L.find(pe=>pe.co_benefit_type===V)?.total.toFixed(1)??"";return{type:V,label:B,value:U}})];setInterval(()=>{a(8,K=k),a(7,k=(k+1)%ie.length);const{type:V,label:B,value:U}=ie[k];a(4,P=B),a(5,N=U),te(r,V)},5e3);const ee=j[0];ee.type,a(4,P=ee.label),a(5,N=R.toFixed(1)),te(r,ee.type)}function te(r,E){if(!m)return;a(1,m.innerHTML="",m);const w=20,R=15,ie=Math.floor(r/w),ee=R*ie,V=L.reduce((u,I)=>u+I.total,0),B=[];for(const u of L){const I=Math.round(Math.abs(u.total)/V*ee),de=u.total<0;for(let Te=0;Te<I;Te++)B.push({type:u.co_benefit_type,negative:de})}for(;B.length<ee;)B.push({type:"empty"});B.sort((u,I)=>u.type==="empty"?1:I.type==="empty"?-1:u.negative&&!I.negative?1:!u.negative&&I.negative?-1:0),C=B.map((u,I)=>({x:I%R,y:Math.floor(I/R),...u})),Z=Array.from(new Set(C.map(u=>u.type).filter(u=>u!=="empty"))),a(0,j=vt(Z));const U=E??null,pe=Ne({width:w*R,height:w*ie,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:_t,range:pt,unknown:"#eee",legend:!1},marks:[We(C.filter(u=>!u.negative),{x:u=>u.x*w,y:u=>u.y*w,fill:"type",fillOpacity:u=>U&&u.type!==U?.15:1}),We(C.filter(u=>u.negative),{x:u=>u.x*w,y:u=>u.y*w,stroke:"type",strokeOpacity:u=>U&&u.type!==U?.15:1,strokeWidth:1,fill:"none"})]});G&&(a(2,G.style.width=`${w*R+20}px`,G),a(2,G.style.height=`${r}px`,G)),a(1,m.innerHTML="",m),m.append(pe)}function le(r,E){return Ne({width:80,height:20,margin:0,x:{domain:[0,E],axis:null},marks:[Pe([r],{x:R=>R,y:0,fill:"#ccc"})]}).outerHTML}function ae(r,E){return Ne({width:80,height:20,margin:0,x:{domain:[0,E],axis:null},marks:[Pe([r],{x:R=>R,y:0,fill:"#ccc"})]}).outerHTML}function T(r,E,w,R){const ie=mt(R);return Ne({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[E,w],axis:null},marks:[gt([0],{stroke:"#ccc"}),Pe([r],{x:V=>V,y:0,fill:ie})]}).outerHTML}let A=!0;st(()=>{const r=Q.getBoundingClientRect().height;te(r),v(r)}),at(()=>{clearInterval(O)});function X(r){Le[r?"unshift":"push"](()=>{oe=r,a(3,oe)})}function $(r){Le[r?"unshift":"push"](()=>{G=r,a(2,G)})}function re(r){Le[r?"unshift":"push"](()=>{m=r,a(1,m)})}function me(r){Le[r?"unshift":"push"](()=>{Q=r,a(6,Q)})}return l.$$set=r=>{"data"in r&&a(21,n=r.data)},l.$$.update=()=>{l.$$.dirty[0]&2097152&&a(9,A=!n)},[j,m,G,oe,P,N,Q,k,K,A,H,S,y,b,g,W,x,ne,le,ae,T,n,X,$,re,me]}class Ct extends nt{constructor(t){super(),ot(this,t,bt,yt,lt,{data:21},null,[-1,-1])}}export{Ct as component};
