import{s as wr,a as E,e as r,t as w,H as Nl,g as C,c as o,b,p as X,d as L,f as p,D as zl,q as s,A as ke,i as we,h as e,x as Ml,j as Z,v as Bs,y as Lr,r as Dr,F as kr,n as Sr,z as kt}from"../chunks/scheduler.BVm0POKv.js";import{S as xr,i as Tr,c as Hs,b as Rs,m as Fs,t as Os,a as Us,d as Gs}from"../chunks/index.C_bTuQvQ.js";import{N as jr,e as ls}from"../chunks/NavigationBar.BTNVLO8d.js";import"../chunks/transform.BNP73y-7.js";import{ao as vr,ap as pr,G as cs,q as Ir,r as Pr,M as mr,az as br,R as Mr,c as gr,b as _r,d as yr,aX as qr,e as Er,aY as Nr,aZ as zr,T as Cr,U as Ta,h as Vr,i as Br,a_ as Hr,a$ as Rr,b0 as Fr,b1 as Or,l as Ur,F as Gr,H as as,I as qe,J as Wr,K as La,L as ns,N as it,P as Re,O as Ws,V as Ys,Q as Yr}from"../chunks/index.DRj_ZHTF.js";import{b as us}from"../chunks/paths.IOUa54_1.js";import"../chunks/entry.ZIiv2oWq.js";import{f as Ks}from"../chunks/module.BDHLYmQ2.js";import{M as Kr,g as Xs}from"../chunks/mapUK.DbBWZzG1.js";import{V as xt,A as ye,e as Sa,C as xa,c as Zs,r as Xr,f as Zr,M as $e,l as Jr,S as Js,d as Da,a as Qs,v as Qr,w as $r,T as ss,h as eo}from"../chunks/globals._26LTywl.js";import{g as Fe,j as $s,k as to,d as er,l as lo,m as tr,y as ao,z as no,p as so}from"../chunks/duckdb.3xkmPUlf.js";import{F as ro}from"../chunks/Footer.9pQd_CEA.js";import{c as rs}from"../chunks/dsv.XhNTmijJ.js";import{b as os,a as Ut}from"../chunks/bar.2xGs5Shd.js";import{m as oo,c as lr,s as io,a as ql}from"../chunks/area.BciWZwRI.js";import{t as co,m as uo,b as ka}from"../chunks/bin.Bl2kikCE.js";import{n as fo}from"../chunks/nice.BkzgUbph.js";import{d as ar}from"../chunks/dot.LN3TJCxy.js";const ho=vo(po);function vo(t){return function(l,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!n&&!a)return l;const v=n&&t(n),A=a&&t(a),f=u.slice();return v&&A?(yl(v,f,u,i,c),yl(v,u,f,i,c),yl(v,f,u,i,c),El(A,u,f,i,c),El(A,f,u,i,c),El(A,u,f,i,c)):v?(yl(v,u,f,i,c),yl(v,f,u,i,c),yl(v,u,f,i,c)):A&&(El(A,u,f,i,c),El(A,f,u,i,c),El(A,u,f,i,c)),l}}function yl(t,l,n,a,u){for(let i=0,c=a*u;i<c;)t(l,n,i,i+=a,1)}function El(t,l,n,a,u){for(let i=0,c=a*u;i<a;++i)t(l,n,i,i+c,a)}function po(t){const l=Math.floor(t);if(l===t)return mo(t);const n=t-l,a=2*t+1;return(u,i,c,v,A)=>{if(!((v-=A)>=c))return;let f=l*i[c];const d=A*l,D=d+A;for(let y=c,x=c+d;y<x;y+=A)f+=i[Math.min(v,y)];for(let y=c,x=v;y<=x;y+=A)f+=i[Math.min(v,y+d)],u[y]=(f+n*(i[Math.max(c,y-D)]+i[Math.min(v,y+D)]))/a,f-=i[Math.max(c,y-d)]}}function mo(t){const l=2*t+1;return(n,a,u,i,c)=>{if(!((i-=c)>=u))return;let v=t*a[u];const A=c*t;for(let f=u,d=u+A;f<d;f+=c)v+=a[Math.min(i,f)];for(let f=u,d=i;f<=d;f+=c)v+=a[Math.min(i,f+A)],n[f]=v/l,v-=a[Math.max(u,f-A)]}}var bo=Array.prototype,Ar=bo.slice;function go(t,l){return t-l}function _o(t){for(var l=0,n=t.length,a=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++l<n;)a+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return a}const St=t=>()=>t;function yo(t,l){for(var n=-1,a=l.length,u;++n<a;)if(u=Eo(t,l[n]))return u;return 0}function Eo(t,l){for(var n=l[0],a=l[1],u=-1,i=0,c=t.length,v=c-1;i<c;v=i++){var A=t[i],f=A[0],d=A[1],D=t[v],y=D[0],x=D[1];if(Co(A,D,l))return 0;d>a!=x>a&&n<(y-f)*(a-d)/(x-d)+f&&(u=-u)}return u}function Co(t,l,n){var a;return Ao(t,l,n)&&wo(t[a=+(t[0]===l[0])],n[a],l[a])}function Ao(t,l,n){return(l[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(l[1]-t[1])}function wo(t,l,n){return t<=l&&l<=n||n<=l&&l<=t}function Lo(){}var ct=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function nr(){var t=1,l=1,n=co,a=A;function u(f){var d=n(f);if(Array.isArray(d))d=d.slice().sort(go);else{const D=vr(f,Do);for(d=pr(...fo(D[0],D[1],d),d);d[d.length-1]>=D[1];)d.pop();for(;d[1]<D[0];)d.shift()}return d.map(D=>i(f,D))}function i(f,d){const D=d==null?NaN:+d;if(isNaN(D))throw new Error(`invalid value: ${d}`);var y=[],x=[];return c(f,D,function(S){a(S,f,D),_o(S)>0?y.push([S]):x.push(S)}),x.forEach(function(S){for(var k=0,P=y.length,g;k<P;++k)if(yo((g=y[k])[0],S)!==-1){g.push(S);return}}),{type:"MultiPolygon",value:d,coordinates:y}}function c(f,d,D){var y=new Array,x=new Array,S,k,P,g,m,T;for(S=k=-1,g=Gt(f[0],d),ct[g<<1].forEach(j);++S<t-1;)P=g,g=Gt(f[S+1],d),ct[P|g<<1].forEach(j);for(ct[g<<0].forEach(j);++k<l-1;){for(S=-1,g=Gt(f[k*t+t],d),m=Gt(f[k*t],d),ct[g<<1|m<<2].forEach(j);++S<t-1;)P=g,g=Gt(f[k*t+t+S+1],d),T=m,m=Gt(f[k*t+S+1],d),ct[P|g<<1|m<<2|T<<3].forEach(j);ct[g|m<<3].forEach(j)}for(S=-1,m=f[k*t]>=d,ct[m<<2].forEach(j);++S<t-1;)T=m,m=Gt(f[k*t+S+1],d),ct[m<<2|T<<3].forEach(j);ct[m<<3].forEach(j);function j(q){var F=[q[0][0]+S,q[0][1]+k],V=[q[1][0]+S,q[1][1]+k],Y=v(F),O=v(V),M,N;(M=x[Y])?(N=y[O])?(delete x[M.end],delete y[N.start],M===N?(M.ring.push(V),D(M.ring)):y[M.start]=x[N.end]={start:M.start,end:N.end,ring:M.ring.concat(N.ring)}):(delete x[M.end],M.ring.push(V),x[M.end=O]=M):(M=y[O])?(N=x[Y])?(delete y[M.start],delete x[N.end],M===N?(M.ring.push(V),D(M.ring)):y[N.start]=x[M.end]={start:N.start,end:M.end,ring:N.ring.concat(M.ring)}):(delete y[M.start],M.ring.unshift(F),y[M.start=Y]=M):y[Y]=x[O]={start:Y,end:O,ring:[F,V]}}}function v(f){return f[0]*2+f[1]*(t+1)*4}function A(f,d,D){f.forEach(function(y){var x=y[0],S=y[1],k=x|0,P=S|0,g=is(d[P*t+k]);x>0&&x<t&&k===x&&(y[0]=sr(x,is(d[P*t+k-1]),g,D)),S>0&&S<l&&P===S&&(y[1]=sr(S,is(d[(P-1)*t+k]),g,D))})}return u.contour=i,u.size=function(f){if(!arguments.length)return[t,l];var d=Math.floor(f[0]),D=Math.floor(f[1]);if(!(d>=0&&D>=0))throw new Error("invalid size");return t=d,l=D,u},u.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?St(Ar.call(f)):St(f),u):n},u.smooth=function(f){return arguments.length?(a=f?A:Lo,u):a===A},u}function Do(t){return isFinite(t)?t:NaN}function Gt(t,l){return t==null?!1:+t>=l}function is(t){return t==null||isNaN(t=+t)?-1/0:t}function sr(t,l,n,a){const u=a-l,i=n-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function ko(t){return t[0]}function So(t){return t[1]}function xo(){return 1}function To(){var t=ko,l=So,n=xo,a=960,u=500,i=20,c=2,v=i*3,A=a+v*2>>c,f=u+v*2>>c,d=St(20);function D(m){var T=new Float32Array(A*f),j=Math.pow(2,-c),q=-1;for(const H of m){var F=(t(H,++q,m)+v)*j,V=(l(H,q,m)+v)*j,Y=+n(H,q,m);if(Y&&F>=0&&F<A&&V>=0&&V<f){var O=Math.floor(F),M=Math.floor(V),N=F-O-.5,re=V-M-.5;T[O+M*A]+=(1-N)*(1-re)*Y,T[O+1+M*A]+=N*(1-re)*Y,T[O+1+(M+1)*A]+=N*re*Y,T[O+(M+1)*A]+=(1-N)*re*Y}}return ho({data:T,width:A,height:f},i*j),T}function y(m){var T=D(m),j=d(T),q=Math.pow(2,2*c);return Array.isArray(j)||(j=pr(Number.MIN_VALUE,cs(T)/q,j)),nr().size([A,f]).thresholds(j.map(F=>F*q))(T).map((F,V)=>(F.value=+j[V],x(F)))}y.contours=function(m){var T=D(m),j=nr().size([A,f]),q=Math.pow(2,2*c),F=V=>{V=+V;var Y=x(j.contour(T,V*q));return Y.value=V,Y};return Object.defineProperty(F,"max",{get:()=>cs(T)/q}),F};function x(m){return m.coordinates.forEach(S),m}function S(m){m.forEach(k)}function k(m){m.forEach(P)}function P(m){m[0]=m[0]*Math.pow(2,c)-v,m[1]=m[1]*Math.pow(2,c)-v}function g(){return v=i*3,A=a+v*2>>c,f=u+v*2>>c,y}return y.x=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),y):t},y.y=function(m){return arguments.length?(l=typeof m=="function"?m:St(+m),y):l},y.weight=function(m){return arguments.length?(n=typeof m=="function"?m:St(+m),y):n},y.size=function(m){if(!arguments.length)return[a,u];var T=+m[0],j=+m[1];if(!(T>=0&&j>=0))throw new Error("invalid size");return a=T,u=j,g()},y.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),g()},y.thresholds=function(m){return arguments.length?(d=typeof m=="function"?m:Array.isArray(m)?St(Ar.call(m)):St(m),y):d},y.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,g()},y}const jo={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Io extends mr{constructor(l,n={}){const{x:a,y:u,z:i,curve:c,tension:v}=n;super(l,{x:{value:a,scale:"x"},y:{value:u,scale:"y"},z:{value:br(n),optional:!0}},n,jo),this.z=i,this.curve=oo(c,v),Mr(this,n)}filter(l){return l}project(l,n,a){this.curve!==lr&&super.project(l,n,a)}render(l,n,a,u,i){const{x:c,y:v}=a,{curve:A}=this;return gr("svg:g",i).call(_r,this,u,i).call(yr,this,n).call(f=>f.selectAll().data(qr(l,[c,v],this,a)).enter().append("path").call(Er,this).call(Nr,this,a).call(zr,this,a,i).attr("d",A===lr&&i.projection?Po(i.projection,c,v):io().curve(A).defined(d=>d>=0).x(d=>c[d]).y(d=>v[d]))).node()}}function Po(t,l,n){const a=Cr(t);return l=Ta(l),n=Ta(n),u=>{let i=[];const c=[i];for(const v of u)v===-1?(i=[],c.push(i)):i.push([l[v],n[v]]);return a({type:"MultiLineString",coordinates:c})}}function Mo(t,{x:l=Ir,y:n=Pr,...a}={}){return new Io(t,uo({...a,x:l,y:n}))}const qo={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class No extends mr{constructor(l,{x:n,y:a,z:u,weight:i,fill:c,stroke:v,...A}={}){const f=or(c)&&(c="currentColor",!0),d=or(v)&&(v="currentColor",!0);super(l,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:br({z:u,fill:c,stroke:v}),optional:!0},weight:{value:i,optional:!0}},Vo({...A,fill:c,stroke:v},f,d),qo),f&&(this.fill=void 0),d&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,n,a,u,i){const{contours:c}=a,v=Cr();return gr("svg:g",i).call(_r,this,u,i).call(yr,this,{}).call(A=>A.selectAll().data(l).enter().append("path").call(Er,this).call(Vr,this,a).attr("d",f=>v(c[f]))).node()}}function rr(t,{x:l,y:n,...a}={}){return[l,n]=Br(l,n),new No(t,{...a,x:l,y:n})}const zo=new Set(["x","y","z","weight"]);function Vo(t,l,n){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?Ta(i):+i,Hr(t,function(c,v,A,f,d,D){const y=A.weight?Ta(A.weight.value):null,x=A.z?.value,{z:S}=this,[k,P]=Ur(this,d),{width:g,height:m}=d,{x:T,y:j}=Rr(A,f,D),q=Object.fromEntries(Object.entries(A).filter(([H])=>!zo.has(H)).map(([H,$])=>[H,{...$,value:[]}])),F=l&&[],V=n&&[],Y=To().x(T?H=>T[H]:k).y(j?H=>j[H]:P).weight(y?H=>y[H]:1).size([g,m]).bandwidth(u),O=[];for(const H of v){const $=[];O.push($);for(const oe of x?Fr(H,x,S):[H]){const G=Y.contours(oe);$.push([oe,G])}}let M=i;if(!(M instanceof Or)){let H=0;for(const $ of O)for(const[,oe]of $){const G=oe.max;G>H&&(H=G)}M=Float64Array.from({length:i-1},($,oe)=>H*100*(oe+1)/i)}const N=[],re=[];for(const H of O){const $=[];N.push($);for(const[oe,G]of H)for(const J of M){$.push(re.length),re.push(G(J/100)),F&&F.push(J),V&&V.push(J);for(const me in q)q[me].value.push(A[me].value[oe[0]])}}return F&&F.push(0),V&&V.push(0),{data:c,facets:N,channels:{...q,...F&&{fill:{value:F,scale:"color"}},...V&&{stroke:{value:V,scale:"color"}},contours:{value:re}}}})}function or(t){return/^density$/i.test(t)}function ir(t,l,n){const a=t.slice();return a[56]=l[n],a[57]=l,a[58]=n,a}function Bo(t,l,n){const a=t.slice();return a[59]=l[n],a}function cr(t){let l,n,a,u=t[17][t[19]]+"",i,c,v,A=hr(t[16])+"",f,d=t[9]&&ur(t);return{c(){l=r("div"),n=r("div"),a=r("span"),i=w(u),c=E(),d&&d.c(),v=w(`\r
              >> `),f=w(A),this.h()},l(D){l=o(D,"DIV",{class:!0});var y=b(l);n=o(y,"DIV",{class:!0});var x=b(n);a=o(x,"SPAN",{class:!0});var S=b(a);i=L(S,u),c=C(S),d&&d.l(S),v=L(S,`\r
              >> `),f=L(S,A),S.forEach(p),x.forEach(p),y.forEach(p),this.h()},h(){s(a,"class","mini-header-text"),s(n,"class","mini-header-content"),s(l,"class","mini-header")},m(D,y){we(D,l,y),e(l,n),e(n,a),e(a,i),e(a,c),d&&d.m(a,null),e(a,v),e(a,f)},p(D,y){y[0]&131072&&u!==(u=D[17][D[19]]+"")&&Z(i,u),D[9]?d?d.p(D,y):(d=ur(D),d.c(),d.m(a,v)):d&&(d.d(1),d=null),y[0]&65536&&A!==(A=hr(D[16])+"")&&Z(f,A)},d(D){D&&p(l),d&&d.d()}}}function ur(t){let l,n,a=t[9].toLocaleString()+"",u,i;return{c(){l=r("span"),n=w("(Total: £"),u=w(a),i=w(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var v=b(l);n=L(v,"(Total: £"),u=L(v,a),i=L(v," billion)"),v.forEach(p),this.h()},h(){s(l,"class","mini-header-value")},m(c,v){we(c,l,v),e(l,n),e(l,u),e(l,i)},p(c,v){v[0]&512&&a!==(a=c[9].toLocaleString()+"")&&Z(u,a)},d(c){c&&p(l)}}}function fr(t){let l,n,a,u,i=t[20](t[9],t[11],xt)+"",c,v,A,f=t[9].toLocaleString()+"",d,D,y,x="billion",S,k,P,g=t[20](t[13],t[11],ye)+"",m,T,j,q,F,V=t[20](t[10],t[12],xt)+"",Y,O,M,N=t[10].toLocaleString()+"",re,H,$,oe,G,J,me=t[20](t[14],t[12],ye)+"",fe,Ne,Ee,ie,ee,de,he;function Te(U,se){return U[9]>0?Ro:Ho}let Ce=Te(t),ce=Ce(t);function Se(U,se){return U[9]>0?Oo:Fo}let ve=Se(t),Le=ve(t);return{c(){l=r("div"),n=r("div"),a=r("div"),u=new Nl(!1),c=E(),v=r("span"),A=w("£"),d=w(f),D=E(),y=r("span"),y.textContent=x,S=E(),k=r("div"),P=new Nl(!1),m=E(),ce.c(),T=E(),j=r("div"),q=r("div"),F=new Nl(!1),Y=E(),O=r("span"),M=w("£"),re=w(N),H=E(),$=r("span"),oe=E(),G=r("div"),J=new Nl(!1),fe=E(),Le.c(),Ne=E(),Ee=r("span"),ie=r("i"),ee=w("Grey bars indicate average value for "),de=r("span"),he=w(t[7]),this.h()},l(U){l=o(U,"DIV",{class:!0});var se=b(l);n=o(se,"DIV",{class:!0});var Ue=b(n);a=o(Ue,"DIV",{class:!0});var pe=b(a);u=zl(pe,!1),c=C(pe),v=o(pe,"SPAN",{class:!0});var h=b(v);A=L(h,"£"),d=L(h,f),h.forEach(p),D=C(pe),y=o(pe,"SPAN",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-tlhydp"&&(y.textContent=x),pe.forEach(p),S=C(Ue),k=o(Ue,"DIV",{class:!0});var R=b(k);P=zl(R,!1),m=C(R),ce.l(R),R.forEach(p),Ue.forEach(p),T=C(se),j=o(se,"DIV",{class:!0});var Q=b(j);q=o(Q,"DIV",{class:!0});var z=b(q);F=zl(z,!1),Y=C(z),O=o(z,"SPAN",{class:!0});var I=b(O);M=L(I,"£"),re=L(I,N),I.forEach(p),H=C(z),$=o(z,"SPAN",{class:!0}),b($).forEach(p),z.forEach(p),oe=C(Q),G=o(Q,"DIV",{class:!0});var te=b(G);J=zl(te,!1),fe=C(te),Le.l(te),te.forEach(p),Ne=C(Q),Ee=o(Q,"SPAN",{class:!0});var W=b(Ee);ie=o(W,"I",{});var ue=b(ie);ee=L(ue,"Grey bars indicate average value for "),de=o(ue,"SPAN",{class:!0});var je=b(de);he=L(je,t[7]),je.forEach(p),ue.forEach(p),W.forEach(p),Q.forEach(p),se.forEach(p),this.h()},h(){u.a=c,s(v,"class","waffle-big svelte-j2xbeq"),s(y,"class","small svelte-j2xbeq"),s(a,"class","waffle-value svelte-j2xbeq"),P.a=m,s(k,"class","waffle-value svelte-j2xbeq"),s(n,"class","waffle-stat svelte-j2xbeq"),F.a=Y,s(O,"class","waffle-big svelte-j2xbeq"),s($,"class","small svelte-j2xbeq"),s(q,"class","waffle-value svelte-j2xbeq"),J.a=fe,s(G,"class","waffle-value svelte-j2xbeq"),s(de,"class","nation-label svelte-j2xbeq"),s(Ee,"class","waffle-caption svelte-j2xbeq"),s(j,"class","waffle-stat svelte-j2xbeq"),s(l,"class","waffle-stats")},m(U,se){we(U,l,se),e(l,n),e(n,a),u.m(i,a),e(a,c),e(a,v),e(v,A),e(v,d),e(a,D),e(a,y),e(n,S),e(n,k),P.m(g,k),e(k,m),ce.m(k,null),e(l,T),e(l,j),e(j,q),F.m(V,q),e(q,Y),e(q,O),e(O,M),e(O,re),e(q,H),e(q,$),e(j,oe),e(j,G),J.m(me,G),e(G,fe),Le.m(G,null),e(j,Ne),e(j,Ee),e(Ee,ie),e(ie,ee),e(ie,de),e(de,he)},p(U,se){se[0]&2560&&i!==(i=U[20](U[9],U[11],xt)+"")&&u.p(i),se[0]&512&&f!==(f=U[9].toLocaleString()+"")&&Z(d,f),se[0]&10240&&g!==(g=U[20](U[13],U[11],ye)+"")&&P.p(g),Ce!==(Ce=Te(U))&&(ce.d(1),ce=Ce(U),ce&&(ce.c(),ce.m(k,null))),se[0]&5120&&V!==(V=U[20](U[10],U[12],xt)+"")&&F.p(V),se[0]&1024&&N!==(N=U[10].toLocaleString()+"")&&Z(re,N),se[0]&20480&&me!==(me=U[20](U[14],U[12],ye)+"")&&J.p(me),ve!==(ve=Se(U))&&(Le.d(1),Le=ve(U),Le&&(Le.c(),Le.m(G,null))),se[0]&128&&Z(he,U[7])},d(U){U&&p(l),ce.d(),Le.d()}}}function Ho(t){let l,n="Local area costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-pi7zpb"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){we(a,l,u)},d(a){a&&p(l)}}}function Ro(t){let l,n="Local area benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-cjpgg1"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){we(a,l,u)},d(a){a&&p(l)}}}function Fo(t){let l,n="Per capita costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-k47gg8"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){we(a,l,u)},d(a){a&&p(l)}}}function Oo(t){let l,n="Per capita benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1jc8yoe"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){we(a,l,u)},d(a){a&&p(l)}}}function Uo(t){let l,n,a,u,i=t[59].label+"",c,v;return{c(){l=r("li"),n=r("span"),a=E(),u=r("a"),c=w(i),v=E(),this.h()},l(A){l=o(A,"LI",{});var f=b(l);n=o(f,"SPAN",{class:!0,style:!0}),b(n).forEach(p),a=C(f),u=o(f,"A",{href:!0,target:!0,class:!0});var d=b(u);c=L(d,i),d.forEach(p),v=C(f),f.forEach(p),this.h()},h(){s(n,"class","legend-color svelte-j2xbeq"),ke(n,"background-color",Sa(t[59].id)),s(u,"href",us+"/cobenefit?cobenefit="+t[59].id),s(u,"target","_blank"),s(u,"class","link")},m(A,f){we(A,l,f),e(l,n),e(l,a),e(l,u),e(u,c),e(l,v)},p:Sr,d(A){A&&p(l)}}}function Go(t){let l,n,a,u=`Data zones
                                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,i,c,v,A,f,d,D=`The histogram shows the number of data zones\r
                                        distributed\r
                                        across\r
                                        different household social economic factors.`,y,x,S="",k=t[56],P,g,m,T,j,q=t[56].label+"",F,V,Y,O,M,N=t[17][t[19]]+"",re,H,$,oe,G,J="";const me=()=>t[33](x,k),fe=()=>t[33](null,k),Ne=()=>t[34](G,k),Ee=()=>t[34](null,k);return{c(){l=r("div"),n=r("h3"),a=r("span"),a.innerHTML=u,i=w(`\r
                                        distribution (vs. `),c=r("span"),v=w(t[7]),A=w(" average)"),f=E(),d=r("p"),d.textContent=D,y=E(),x=r("div"),x.innerHTML=S,P=E(),g=r("div"),m=r("div"),T=r("h3"),j=w(`Co-benefits received by data zones\r
                                            across `),F=w(q),V=w(`\r
                                            values`),Y=E(),O=r("p"),M=w(`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),re=w(N),H=w("."),$=E(),oe=r("div"),G=r("div"),G.innerHTML=J,this.h()},l(ie){l=o(ie,"DIV",{class:!0});var ee=b(l);n=o(ee,"H3",{class:!0});var de=b(n);a=o(de,"SPAN",{class:!0,"data-svelte-h":!0}),X(a)!=="svelte-zeycni"&&(a.innerHTML=u),i=L(de,`\r
                                        distribution (vs. `),c=o(de,"SPAN",{class:!0});var he=b(c);v=L(he,t[7]),he.forEach(p),A=L(de," average)"),de.forEach(p),f=C(ee),d=o(ee,"P",{class:!0,"data-svelte-h":!0}),X(d)!=="svelte-zr1gq8"&&(d.textContent=D),y=C(ee),x=o(ee,"DIV",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-6ldqab"&&(x.innerHTML=S),ee.forEach(p),P=C(ie),g=o(ie,"DIV",{class:!0});var Te=b(g);m=o(Te,"DIV",{});var Ce=b(m);T=o(Ce,"H3",{class:!0});var ce=b(T);j=L(ce,`Co-benefits received by data zones\r
                                            across `),F=L(ce,q),V=L(ce,`\r
                                            values`),ce.forEach(p),Y=C(Ce),O=o(Ce,"P",{class:!0});var Se=b(O);M=L(Se,`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),re=L(Se,N),H=L(Se,"."),Se.forEach(p),Ce.forEach(p),$=C(Te),oe=o(Te,"DIV",{});var ve=b(oe);G=o(ve,"DIV",{class:!0,"data-svelte-h":!0}),X(G)!=="svelte-12l832e"&&(G.innerHTML=J),ve.forEach(p),Te.forEach(p),this.h()},h(){s(a,"class","tooltip-term"),s(c,"class","nation-label svelte-j2xbeq"),s(n,"class","component-title"),s(d,"class","description short"),s(x,"class","plot"),s(l,"class","component column svelte-j2xbeq"),s(T,"class","component-title"),s(O,"class","description short"),s(G,"class","plot"),s(g,"class","component column svelte-j2xbeq")},m(ie,ee){we(ie,l,ee),e(l,n),e(n,a),e(n,i),e(n,c),e(c,v),e(n,A),e(l,f),e(l,d),e(l,y),e(l,x),me(),we(ie,P,ee),we(ie,g,ee),e(g,m),e(m,T),e(T,j),e(T,F),e(T,V),e(m,Y),e(m,O),e(O,M),e(O,re),e(O,H),e(g,$),e(g,oe),e(oe,G),Ne()},p(ie,ee){t=ie,ee[0]&128&&Z(v,t[7]),k!==t[56]&&(fe(),k=t[56],me()),ee[0]&131072&&N!==(N=t[17][t[19]]+"")&&Z(re,N),k!==t[56]&&(Ee(),k=t[56],Ne())},d(ie){ie&&(p(l),p(P),p(g)),fe(),Ee()}}}function dr(t){let l,n,a,u=t[56].label+"",i,c,v,A=t[56].def+"",f,d,D,y;function x(P,g){return Go}let k=x()(t);return{c(){l=r("div"),n=r("h2"),a=r("a"),i=w(u),c=E(),v=r("p"),f=w(A),d=E(),D=r("div"),k.c(),y=E(),this.h()},l(P){l=o(P,"DIV",{class:!0});var g=b(l);n=o(g,"H2",{class:!0});var m=b(n);a=o(m,"A",{class:!0,target:!0,href:!0});var T=b(a);i=L(T,u),T.forEach(p),m.forEach(p),c=C(g),v=o(g,"P",{class:!0});var j=b(v);f=L(j,A),j.forEach(p),d=C(g),D=o(g,"DIV",{class:!0});var q=b(D);k.l(q),q.forEach(p),y=C(g),g.forEach(p),this.h()},h(){s(a,"class","link"),s(a,"target","_blank"),s(a,"href",us+"/sef?sef="+t[56].id),s(n,"class","column-chart-title svelte-j2xbeq"),s(v,"class","column-chart-caption svelte-j2xbeq"),s(D,"class","row"),s(l,"class","household-column svelte-j2xbeq")},m(P,g){we(P,l,g),e(l,n),e(n,a),e(a,i),e(l,c),e(l,v),e(v,f),e(l,d),e(l,D),k.m(D,null),e(l,y)},p(P,g){k.p(P,g)},d(P){P&&p(l),k.d()}}}function Wo(t){let l,n,a,u,i,c,v,A="Local Authority Report",f,d,D=t[17][t[19]]+"",y,x,S,k=`Explore how this local authority will benefit from achieving Net Zero and learn about\r
                the characteristics of its households.`,P,g,m,T,j,q,F,V,Y="UK",O,M,N,re,H,$="England",oe,G,J,me,fe,Ne="Wales",Ee,ie,ee,de,he,Te="Scotland",Ce,ce,Se,ve,Le="Northern Ireland",U,se,Ue,pe,h,R=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,Q,z,I,te,W,ue,je=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,K,Ie,Vl,ja,Ia,Ge,Pa,Cl=t[17][t[19]]+"",Bl,Ma,Yt,Hl,qa,Na,za,Va,Al,Rl=t[21](t[5],t[8])+"",Fl,ut,Ba,Kt,Ol,Ha,Ra,We,Fa,wl=t[17][t[19]]+"",Ul,Oa,Xt,Gl,Ua,Ga,ft,fs="",Wa,Pe,dt,Ya,Ll=t[17][t[19]]+"",Wl,Ka,Xa,Tt,Dl=t[17][t[19]]+"",Yl,Za,Ja,jt,ds="*Scroll for zooming in and out",Qa,et,hs="",$a,tt,It,vs=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,en,lt,at,nt,ht,tn,Zt,Kl,ln,an,ze,nn,kl=t[17][t[19]]+"",Xl,sn,Jt,Zl,rn,on,Ye,Pt,ps="Legend:",cn,un,fn,vt,pt,Qt,dn,Sl=t[17][t[19]]+"",Jl,hn,mt,$t,vn,el,Ql,pn,tl,mn,Ve,st,bt,bn,xl=t[17][t[19]]+"",$l,gn,_n,gt,ms=`Total gains and losses are shown at five-year\r
                        intervals for each co-benefit. The curve between points is smoothed to show the general\r
                        trends.`,yn,Me,Mt,bs="Legend:",En,Cn,An,qt,wn,ll,Ln,_t,gs=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,Dn,rt,Ke,Nt,_s="Households",kn,zt,Tl=t[17][t[19]]+"",ea,Sn,xn,Vt,ys=`We describe the distribution of household economic factors aggregated on the data\r
                zone level and the different level of co-benefits received by those data zones.`,Tn,Xe,Ae,Ze,jn,jl=t[17][t[19]]+"",ta,In,la,Pn,Mn,qn,Nn,Be,Bt,Es="Legend:",zn,Vn,Bn,yt,Et,al,Hn,Il=t[17][t[19]]+"",aa,Rn,Ct,nl,Fn,na,On,xe,Ht,Cs="Interpreting the charts:",Un,Gn,Wn,sl,As=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,Yn,Je,rl,ws="Scatterplot:",Kn,Pl=t[17][t[19]]+"",sa,Xn,ra,Zn,Jn,At,Ls=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,Qn,wt,oa,Rt,le,$n,Ds;l=new jr({});let ge=t[15]&&cr(t),_e=t[9]&&fr(t),ks=ls(xa),ot=[];for(let _=0;_<ks.length;_+=1)ot[_]=Uo(Bo(t,ks,_));let ol=ls(Zs),be=[];for(let _=0;_<ol.length;_+=1)be[_]=dr(ir(t,ol,_));return Rt=new ro({}),{c(){Hs(l.$$.fragment),n=E(),a=r("div"),ge&&ge.c(),u=E(),i=r("div"),c=r("div"),v=r("p"),v.textContent=A,f=E(),d=r("h1"),y=w(D),x=E(),S=r("p"),S.textContent=k,P=E(),g=r("div"),m=w("Compare this Local Authority District (LAD) against:"),T=r("br"),j=E(),q=r("input"),F=E(),V=r("label"),V.textContent=Y,O=r("br"),M=E(),N=r("input"),re=E(),H=r("label"),H.textContent=$,oe=r("br"),G=E(),J=r("input"),me=E(),fe=r("label"),fe.textContent=Ne,Ee=r("br"),ie=E(),ee=r("input"),de=E(),he=r("label"),he.textContent=Te,Ce=E(),ce=r("input"),Se=E(),ve=r("label"),ve.textContent=Le,U=E(),se=r("div"),_e&&_e.c(),Ue=E(),pe=r("div"),h=r("div"),h.innerHTML=R,Q=E(),z=r("div"),I=r("div"),te=r("h3"),W=w(`Distribution of the cobenefit per\r
                    `),ue=r("span"),ue.innerHTML=je,K=w(`\r
                    compared to `),Ie=r("span"),Vl=w(t[7]),ja=w(" Average)"),Ia=E(),Ge=r("p"),Pa=w("Co-benefit values for "),Bl=w(Cl),Ma=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Yt=r("span"),Hl=w(t[7]),qa=w(" (grey)."),Na=E(),za=r("br"),Va=E(),Al=new Nl(!1),Fl=E(),ut=r("h3"),Ba=w("11 types of co-benefit values (vs. "),Kt=r("span"),Ol=w(t[7]),Ha=w(" Average)"),Ra=E(),We=r("p"),Fa=w("Co-benefit values for "),Ul=w(wl),Oa=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Xt=r("span"),Gl=w(t[7]),Ua=w(" (grey)."),Ga=E(),ft=r("div"),ft.innerHTML=fs,Wa=E(),Pe=r("div"),dt=r("h3"),Ya=w("Where is "),Wl=w(Ll),Ka=w("?"),Xa=E(),Tt=r("p"),Yl=w(Dl),Za=w(" has been highlighted in dark grey on this UK map."),Ja=E(),jt=r("p"),jt.textContent=ds,Qa=E(),et=r("div"),et.innerHTML=hs,$a=E(),tt=r("div"),It=r("div"),It.innerHTML=vs,en=E(),lt=r("div"),at=r("div"),nt=r("div"),ht=r("h3"),tn=w("Total co-benefit distribution from 2025-2049 (vs. "),Zt=r("span"),Kl=w(t[7]),ln=w(" Average)"),an=E(),ze=r("p"),nn=w(`Aggregated values from 2025-2049\r
                        in `),Xl=w(kl),sn=w(` compared to average value of benefits received across all local authorities\r
                        in `),Jt=r("span"),Zl=w(t[7]),rn=w("."),on=E(),Ye=r("div"),Pt=r("strong"),Pt.textContent=ps,cn=E(),un=r("br"),fn=E(),vt=r("ul"),pt=r("li"),Qt=r("span"),dn=E(),Jl=w(Sl),hn=E(),mt=r("li"),$t=r("span"),vn=E(),el=r("span"),Ql=w(t[7]),pn=E(),tl=r("div"),mn=E(),Ve=r("div"),st=r("div"),bt=r("h3"),bn=w("Co-benefit gain/loss for "),$l=w(xl),gn=w(" over 5 year intervals"),_n=E(),gt=r("p"),gt.textContent=ms,yn=E(),Me=r("div"),Mt=r("strong"),Mt.textContent=bs,En=E(),Cn=r("br"),An=E(),qt=r("ul");for(let _=0;_<ot.length;_+=1)ot[_].c();wn=E(),ll=r("div"),Ln=E(),_t=r("div"),_t.innerHTML=gs,Dn=E(),rt=r("div"),Ke=r("div"),Nt=r("p"),Nt.textContent=_s,kn=E(),zt=r("h2"),ea=w(Tl),Sn=w(" social-economic factors"),xn=E(),Vt=r("p"),Vt.textContent=ys,Tn=E(),Xe=r("div"),Ae=r("div"),Ze=r("h3"),jn=w("Comparing the Socio-Economic factors distributions of "),ta=w(jl),In=w(`\r
                    and `),la=w(t[7]),Pn=w(", and their correlation with co-benefits."),Mn=E(),qn=r("br"),Nn=E(),Be=r("div"),Bt=r("strong"),Bt.textContent=Es,zn=E(),Vn=r("br"),Bn=E(),yt=r("ul"),Et=r("li"),al=r("span"),Hn=E(),aa=w(Il),Rn=E(),Ct=r("li"),nl=r("span"),Fn=E(),na=w(t[7]),On=E(),xe=r("div"),Ht=r("strong"),Ht.textContent=Cs,Un=E(),Gn=r("br"),Wn=E(),sl=r("p"),sl.innerHTML=As,Yn=E(),Je=r("p"),rl=r("strong"),rl.textContent=ws,Kn=w(" Each dot represents a datazone inside "),sa=w(Pl),Xn=w(`. The cloud\r
                        shows the distribution for `),ra=w(t[7]),Zn=w("."),Jn=E(),At=r("div"),At.innerHTML=Ls,Qn=E(),wt=r("div");for(let _=0;_<be.length;_+=1)be[_].c();oa=E(),Hs(Rt.$$.fragment),this.h()},l(_){Rs(l.$$.fragment,_),n=C(_),a=o(_,"DIV",{class:!0});var B=b(a);ge&&ge.l(B),u=C(B),i=o(B,"DIV",{class:!0,id:!0});var ae=b(i);c=o(ae,"DIV",{});var He=b(c);v=o(He,"P",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-wtex57"&&(v.textContent=A),f=C(He),d=o(He,"H1",{class:!0});var Ss=b(d);y=L(Ss,D),Ss.forEach(p),x=C(He),S=o(He,"P",{class:!0,"data-svelte-h":!0}),X(S)!=="svelte-q4fx5o"&&(S.textContent=k),P=C(He),g=o(He,"DIV",{class:!0});var ne=b(g);m=L(ne,"Compare this Local Authority District (LAD) against:"),T=o(ne,"BR",{}),j=C(ne),q=o(ne,"INPUT",{type:!0,name:!0}),F=C(ne),V=o(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(V)!=="svelte-1yhxhao"&&(V.textContent=Y),O=o(ne,"BR",{}),M=C(ne),N=o(ne,"INPUT",{type:!0,name:!0}),re=C(ne),H=o(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(H)!=="svelte-11zyrfp"&&(H.textContent=$),oe=o(ne,"BR",{}),G=C(ne),J=o(ne,"INPUT",{type:!0,name:!0}),me=C(ne),fe=o(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(fe)!=="svelte-18hrmu4"&&(fe.textContent=Ne),Ee=o(ne,"BR",{}),ie=C(ne),ee=o(ne,"INPUT",{type:!0,name:!0}),de=C(ne),he=o(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(he)!=="svelte-mkxs8y"&&(he.textContent=Te),Ce=C(ne),ce=o(ne,"INPUT",{type:!0,name:!0}),Se=C(ne),ve=o(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),X(ve)!=="svelte-g19yfx"&&(ve.textContent=Le),ne.forEach(p),He.forEach(p),U=C(ae),se=o(ae,"DIV",{});var xs=b(se);_e&&_e.l(xs),xs.forEach(p),ae.forEach(p),Ue=C(B),pe=o(B,"DIV",{class:!0,id:!0});var ia=b(pe);h=o(ia,"DIV",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-lw225h"&&(h.innerHTML=R),Q=C(ia),z=o(ia,"DIV",{id:!0,class:!0});var ca=b(z);I=o(ca,"DIV",{class:!0});var De=b(I);te=o(De,"H3",{class:!0});var il=b(te);W=L(il,`Distribution of the cobenefit per\r
                    `),ue=o(il,"SPAN",{class:!0,"data-svelte-h":!0}),X(ue)!=="svelte-z1whcf"&&(ue.innerHTML=je),K=L(il,`\r
                    compared to `),Ie=o(il,"SPAN",{class:!0});var Ts=b(Ie);Vl=L(Ts,t[7]),Ts.forEach(p),ja=L(il," Average)"),il.forEach(p),Ia=C(De),Ge=o(De,"P",{class:!0});var cl=b(Ge);Pa=L(cl,"Co-benefit values for "),Bl=L(cl,Cl),Ma=L(cl,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Yt=o(cl,"SPAN",{class:!0});var js=b(Yt);Hl=L(js,t[7]),js.forEach(p),qa=L(cl," (grey)."),cl.forEach(p),Na=C(De),za=o(De,"BR",{}),Va=C(De),Al=zl(De,!1),Fl=C(De),ut=o(De,"H3",{class:!0});var ua=b(ut);Ba=L(ua,"11 types of co-benefit values (vs. "),Kt=o(ua,"SPAN",{class:!0});var Is=b(Kt);Ol=L(Is,t[7]),Is.forEach(p),Ha=L(ua," Average)"),ua.forEach(p),Ra=C(De),We=o(De,"P",{class:!0});var ul=b(We);Fa=L(ul,"Co-benefit values for "),Ul=L(ul,wl),Oa=L(ul,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Xt=o(ul,"SPAN",{class:!0});var Ps=b(Xt);Gl=L(Ps,t[7]),Ps.forEach(p),Ua=L(ul," (grey)."),ul.forEach(p),Ga=C(De),ft=o(De,"DIV",{class:!0,"data-svelte-h":!0}),X(ft)!=="svelte-11dzfub"&&(ft.innerHTML=fs),De.forEach(p),Wa=C(ca),Pe=o(ca,"DIV",{class:!0});var Lt=b(Pe);dt=o(Lt,"H3",{class:!0});var fa=b(dt);Ya=L(fa,"Where is "),Wl=L(fa,Ll),Ka=L(fa,"?"),fa.forEach(p),Xa=C(Lt),Tt=o(Lt,"P",{class:!0});var es=b(Tt);Yl=L(es,Dl),Za=L(es," has been highlighted in dark grey on this UK map."),es.forEach(p),Ja=C(Lt),jt=o(Lt,"P",{class:!0,"data-svelte-h":!0}),X(jt)!=="svelte-vsj698"&&(jt.textContent=ds),Qa=C(Lt),et=o(Lt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),X(et)!=="svelte-13ehpmu"&&(et.innerHTML=hs),Lt.forEach(p),ca.forEach(p),ia.forEach(p),$a=C(B),tt=o(B,"DIV",{class:!0,id:!0});var da=b(tt);It=o(da,"DIV",{class:!0,"data-svelte-h":!0}),X(It)!=="svelte-10cbt4"&&(It.innerHTML=vs),en=C(da),lt=o(da,"DIV",{id:!0,class:!0});var ha=b(lt);at=o(ha,"DIV",{id:!0,class:!0});var va=b(at);nt=o(va,"DIV",{});var fl=b(nt);ht=o(fl,"H3",{class:!0});var pa=b(ht);tn=L(pa,"Total co-benefit distribution from 2025-2049 (vs. "),Zt=o(pa,"SPAN",{class:!0});var Ms=b(Zt);Kl=L(Ms,t[7]),Ms.forEach(p),ln=L(pa," Average)"),pa.forEach(p),an=C(fl),ze=o(fl,"P",{class:!0,style:!0});var dl=b(ze);nn=L(dl,`Aggregated values from 2025-2049\r
                        in `),Xl=L(dl,kl),sn=L(dl,` compared to average value of benefits received across all local authorities\r
                        in `),Jt=o(dl,"SPAN",{class:!0});var qs=b(Jt);Zl=L(qs,t[7]),qs.forEach(p),rn=L(dl,"."),dl.forEach(p),on=C(fl),Ye=o(fl,"DIV",{class:!0});var hl=b(Ye);Pt=o(hl,"STRONG",{style:!0,"data-svelte-h":!0}),X(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=ps),cn=C(hl),un=o(hl,"BR",{}),fn=C(hl),vt=o(hl,"UL",{class:!0});var ma=b(vt);pt=o(ma,"LI",{class:!0});var ba=b(pt);Qt=o(ba,"SPAN",{class:!0,style:!0}),b(Qt).forEach(p),dn=C(ba),Jl=L(ba,Sl),ba.forEach(p),hn=C(ma),mt=o(ma,"LI",{class:!0});var ga=b(mt);$t=o(ga,"SPAN",{class:!0,style:!0}),b($t).forEach(p),vn=C(ga),el=o(ga,"SPAN",{class:!0});var Ns=b(el);Ql=L(Ns,t[7]),Ns.forEach(p),ga.forEach(p),ma.forEach(p),hl.forEach(p),fl.forEach(p),pn=C(va),tl=o(va,"DIV",{class:!0}),b(tl).forEach(p),va.forEach(p),mn=C(ha),Ve=o(ha,"DIV",{id:!0,class:!0});var vl=b(Ve);st=o(vl,"DIV",{});var pl=b(st);bt=o(pl,"H3",{class:!0});var _a=b(bt);bn=L(_a,"Co-benefit gain/loss for "),$l=L(_a,xl),gn=L(_a," over 5 year intervals"),_a.forEach(p),_n=C(pl),gt=o(pl,"P",{class:!0,style:!0,"data-svelte-h":!0}),X(gt)!=="svelte-1na17f1"&&(gt.textContent=ms),yn=C(pl),Me=o(pl,"DIV",{id:!0,class:!0,style:!0});var ml=b(Me);Mt=o(ml,"STRONG",{style:!0,"data-svelte-h":!0}),X(Mt)!=="svelte-1fi0dip"&&(Mt.textContent=bs),En=C(ml),Cn=o(ml,"BR",{}),An=C(ml),qt=o(ml,"UL",{class:!0,style:!0});var zs=b(qt);for(let Ot=0;Ot<ot.length;Ot+=1)ot[Ot].l(zs);zs.forEach(p),ml.forEach(p),pl.forEach(p),wn=C(vl),ll=o(vl,"DIV",{class:!0}),b(ll).forEach(p),Ln=C(vl),_t=o(vl,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),X(_t)!=="svelte-1xqy5mf"&&(_t.innerHTML=gs),vl.forEach(p),ha.forEach(p),da.forEach(p),Dn=C(B),rt=o(B,"DIV",{class:!0,id:!0});var ya=b(rt);Ke=o(ya,"DIV",{class:!0});var bl=b(Ke);Nt=o(bl,"P",{class:!0,"data-svelte-h":!0}),X(Nt)!=="svelte-ceroz1"&&(Nt.textContent=_s),kn=C(bl),zt=o(bl,"H2",{class:!0});var ts=b(zt);ea=L(ts,Tl),Sn=L(ts," social-economic factors"),ts.forEach(p),xn=C(bl),Vt=o(bl,"P",{class:!0,"data-svelte-h":!0}),X(Vt)!=="svelte-45d07w"&&(Vt.textContent=ys),bl.forEach(p),Tn=C(ya),Xe=o(ya,"DIV",{id:!0,class:!0,style:!0});var Ea=b(Xe);Ae=o(Ea,"DIV",{id:!0,class:!0});var Qe=b(Ae);Ze=o(Qe,"H3",{class:!0});var gl=b(Ze);jn=L(gl,"Comparing the Socio-Economic factors distributions of "),ta=L(gl,jl),In=L(gl,`\r
                    and `),la=L(gl,t[7]),Pn=L(gl,", and their correlation with co-benefits."),gl.forEach(p),Mn=C(Qe),qn=o(Qe,"BR",{}),Nn=C(Qe),Be=o(Qe,"DIV",{id:!0,class:!0});var _l=b(Be);Bt=o(_l,"STRONG",{style:!0,"data-svelte-h":!0}),X(Bt)!=="svelte-xb363n"&&(Bt.textContent=Es),zn=C(_l),Vn=o(_l,"BR",{}),Bn=C(_l),yt=o(_l,"UL",{class:!0});var Ca=b(yt);Et=o(Ca,"LI",{class:!0});var Aa=b(Et);al=o(Aa,"SPAN",{class:!0,style:!0}),b(al).forEach(p),Hn=C(Aa),aa=L(Aa,Il),Aa.forEach(p),Rn=C(Ca),Ct=o(Ca,"LI",{class:!0});var wa=b(Ct);nl=o(wa,"SPAN",{class:!0,style:!0}),b(nl).forEach(p),Fn=C(wa),na=L(wa,t[7]),wa.forEach(p),Ca.forEach(p),_l.forEach(p),On=C(Qe),xe=o(Qe,"DIV",{id:!0,class:!0});var Dt=b(xe);Ht=o(Dt,"STRONG",{style:!0,"data-svelte-h":!0}),X(Ht)!=="svelte-ucmfvz"&&(Ht.textContent=Cs),Un=C(Dt),Gn=o(Dt,"BR",{}),Wn=C(Dt),sl=o(Dt,"P",{"data-svelte-h":!0}),X(sl)!=="svelte-mm528r"&&(sl.innerHTML=As),Yn=C(Dt),Je=o(Dt,"P",{});var Ft=b(Je);rl=o(Ft,"STRONG",{"data-svelte-h":!0}),X(rl)!=="svelte-1ij32sd"&&(rl.textContent=ws),Kn=L(Ft," Each dot represents a datazone inside "),sa=L(Ft,Pl),Xn=L(Ft,`. The cloud\r
                        shows the distribution for `),ra=L(Ft,t[7]),Zn=L(Ft,"."),Ft.forEach(p),Dt.forEach(p),Jn=C(Qe),At=o(Qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),X(At)!=="svelte-gofjep"&&(At.innerHTML=Ls),Qe.forEach(p),Qn=C(Ea),wt=o(Ea,"DIV",{id:!0,class:!0});var Vs=b(wt);for(let Ot=0;Ot<be.length;Ot+=1)be[Ot].l(Vs);Vs.forEach(p),Ea.forEach(p),ya.forEach(p),B.forEach(p),oa=C(_),Rs(Rt.$$.fragment,_),this.h()},h(){s(v,"class","page-subtitle"),s(d,"class","page-title"),s(S,"class","description"),s(q,"type","radio"),s(q,"name","compare"),q.value="UK",q.checked=!0,s(V,"class","nation-label svelte-j2xbeq"),s(V,"for","html"),s(N,"type","radio"),s(N,"name","compare"),N.value="England",s(H,"class","nation-label svelte-j2xbeq"),s(H,"for","html"),s(J,"type","radio"),s(J,"name","compare"),J.value="Wales",s(fe,"class","nation-label svelte-j2xbeq"),s(fe,"for","html"),s(ee,"type","radio"),s(ee,"name","compare"),ee.value="Scotland",s(he,"class","nation-label svelte-j2xbeq"),s(he,"for","javascript"),s(ce,"type","radio"),s(ce,"name","compare"),ce.value="NI",s(ve,"class","nation-label svelte-j2xbeq"),s(ve,"for","javascript"),s(g,"class","radio-set"),s(i,"class","section header header-row svelte-j2xbeq"),s(i,"id","head"),s(h,"class","section-header"),s(ue,"class","tooltip-term"),s(Ie,"class","nation-label svelte-j2xbeq"),s(te,"class","component-title"),s(Yt,"class","nation-label svelte-j2xbeq"),s(Ge,"class","description"),Al.a=Fl,s(Kt,"class","nation-label svelte-j2xbeq"),s(ut,"class","component-title"),s(Xt,"class","nation-label svelte-j2xbeq"),s(We,"class","description"),s(ft,"class","plot"),s(I,"class","component column"),s(dt,"class","component-title"),s(Tt,"class","description"),s(jt,"class","description"),s(et,"id","map"),s(et,"class","svelte-j2xbeq"),s(Pe,"class","component column"),s(z,"id","vis-block"),s(z,"class","svelte-j2xbeq"),s(pe,"class","section"),s(pe,"id","overview"),s(It,"class","section-header"),s(Zt,"class","nation-label svelte-j2xbeq"),s(ht,"class","component-title"),s(Jt,"class","nation-label svelte-j2xbeq"),s(ze,"class","description"),ke(ze,"margin-bottom","5px"),ke(Pt,"margin-bottom","0.5rem"),s(Qt,"class","legend-color svelte-j2xbeq"),ke(Qt,"background-color",xt),s(pt,"class","svelte-j2xbeq"),s($t,"class","legend-color svelte-j2xbeq"),ke($t,"background-color",ye),s(el,"class","nation-label svelte-j2xbeq"),s(mt,"class","svelte-j2xbeq"),s(vt,"class","legend-list svelte-j2xbeq"),s(Ye,"class","legend-box svelte-j2xbeq"),s(tl,"class","plot side svelte-j2xbeq"),s(at,"id","main-block"),s(at,"class","component column svelte-j2xbeq"),s(bt,"class","component-title"),s(gt,"class","description"),ke(gt,"margin-bottom","5px"),ke(Mt,"margin-bottom","0.5rem"),s(qt,"class","horizontal-legend-list svelte-j2xbeq"),ke(qt,"margin-bottom","5px"),s(Me,"id","main-legend"),s(Me,"class","legend-box svelte-j2xbeq"),ke(Me,"margin-bottom","5px"),s(ll,"class","plot side svelte-j2xbeq"),s(_t,"id","main-disclaimer"),s(_t,"class","disclaimer-box svelte-j2xbeq"),s(Ve,"id","main-block"),s(Ve,"class","component column svelte-j2xbeq"),s(lt,"id","vis-block"),s(lt,"class","svelte-j2xbeq"),s(tt,"class","section"),s(tt,"id","temporal"),s(Nt,"class","section-subtitle"),s(zt,"class","section-title"),s(Vt,"class","description"),s(Ke,"class","section-header"),s(Ze,"class","component-title"),ke(Bt,"margin-bottom","1rem"),s(al,"class","legend-color svelte-j2xbeq"),ke(al,"background-color",xt),s(Et,"class","svelte-j2xbeq"),s(nl,"class","legend-color svelte-j2xbeq"),ke(nl,"background-color",ye),s(Ct,"class","svelte-j2xbeq"),s(yt,"class","legend-list svelte-j2xbeq"),s(Be,"id","se-legend"),s(Be,"class","legend-box svelte-j2xbeq"),ke(Ht,"margin-bottom","1rem"),s(xe,"id","se-legend"),s(xe,"class","legend-box svelte-j2xbeq"),s(At,"id","se-disclaimer"),s(At,"class","disclaimer-box svelte-j2xbeq"),s(Ae,"id","se-title"),s(Ae,"class","svelte-j2xbeq"),s(wt,"id","multiple-comp"),s(wt,"class","svelte-j2xbeq"),s(Xe,"id","se-block"),s(Xe,"class","component svelte-j2xbeq"),ke(Xe,"margin-left","1rem"),s(rt,"class","section"),s(rt,"id","households"),s(a,"class","page-container")},m(_,B){Fs(l,_,B),we(_,n,B),we(_,a,B),ge&&ge.m(a,null),e(a,u),e(a,i),e(i,c),e(c,v),e(c,f),e(c,d),e(d,y),e(c,x),e(c,S),e(c,P),e(c,g),e(g,m),e(g,T),e(g,j),e(g,q),e(g,F),e(g,V),e(g,O),e(g,M),e(g,N),e(g,re),e(g,H),e(g,oe),e(g,G),e(g,J),e(g,me),e(g,fe),e(g,Ee),e(g,ie),e(g,ee),e(g,de),e(g,he),e(g,Ce),e(g,ce),e(g,Se),e(g,ve),e(i,U),e(i,se),_e&&_e.m(se,null),e(a,Ue),e(a,pe),e(pe,h),e(pe,Q),e(pe,z),e(z,I),e(I,te),e(te,W),e(te,ue),e(te,K),e(te,Ie),e(Ie,Vl),e(te,ja),e(I,Ia),e(I,Ge),e(Ge,Pa),e(Ge,Bl),e(Ge,Ma),e(Ge,Yt),e(Yt,Hl),e(Ge,qa),e(I,Na),e(I,za),e(I,Va),Al.m(Rl,I),e(I,Fl),e(I,ut),e(ut,Ba),e(ut,Kt),e(Kt,Ol),e(ut,Ha),e(I,Ra),e(I,We),e(We,Fa),e(We,Ul),e(We,Oa),e(We,Xt),e(Xt,Gl),e(We,Ua),e(I,Ga),e(I,ft),t[28](ft),e(z,Wa),e(z,Pe),e(Pe,dt),e(dt,Ya),e(dt,Wl),e(dt,Ka),e(Pe,Xa),e(Pe,Tt),e(Tt,Yl),e(Tt,Za),e(Pe,Ja),e(Pe,jt),e(Pe,Qa),e(Pe,et),t[29](et),e(a,$a),e(a,tt),e(tt,It),e(tt,en),e(tt,lt),e(lt,at),e(at,nt),e(nt,ht),e(ht,tn),e(ht,Zt),e(Zt,Kl),e(ht,ln),e(nt,an),e(nt,ze),e(ze,nn),e(ze,Xl),e(ze,sn),e(ze,Jt),e(Jt,Zl),e(ze,rn),e(nt,on),e(nt,Ye),e(Ye,Pt),e(Ye,cn),e(Ye,un),e(Ye,fn),e(Ye,vt),e(vt,pt),e(pt,Qt),e(pt,dn),e(pt,Jl),e(vt,hn),e(vt,mt),e(mt,$t),e(mt,vn),e(mt,el),e(el,Ql),e(at,pn),e(at,tl),t[30](tl),e(lt,mn),e(lt,Ve),e(Ve,st),e(st,bt),e(bt,bn),e(bt,$l),e(bt,gn),e(st,_n),e(st,gt),e(st,yn),e(st,Me),e(Me,Mt),e(Me,En),e(Me,Cn),e(Me,An),e(Me,qt);for(let ae=0;ae<ot.length;ae+=1)ot[ae]&&ot[ae].m(qt,null);e(Ve,wn),e(Ve,ll),t[31](ll),e(Ve,Ln),e(Ve,_t),e(a,Dn),e(a,rt),e(rt,Ke),e(Ke,Nt),e(Ke,kn),e(Ke,zt),e(zt,ea),e(zt,Sn),e(Ke,xn),e(Ke,Vt),e(rt,Tn),e(rt,Xe),e(Xe,Ae),e(Ae,Ze),e(Ze,jn),e(Ze,ta),e(Ze,In),e(Ze,la),e(Ze,Pn),e(Ae,Mn),e(Ae,qn),e(Ae,Nn),e(Ae,Be),e(Be,Bt),e(Be,zn),e(Be,Vn),e(Be,Bn),e(Be,yt),e(yt,Et),e(Et,al),e(Et,Hn),e(Et,aa),e(yt,Rn),e(yt,Ct),e(Ct,nl),e(Ct,Fn),e(Ct,na),e(Ae,On),e(Ae,xe),e(xe,Ht),e(xe,Un),e(xe,Gn),e(xe,Wn),e(xe,sl),e(xe,Yn),e(xe,Je),e(Je,rl),e(Je,Kn),e(Je,sa),e(Je,Xn),e(Je,ra),e(Je,Zn),e(Ae,Jn),e(Ae,At),e(Xe,Qn),e(Xe,wt);for(let ae=0;ae<be.length;ae+=1)be[ae]&&be[ae].m(wt,null);t[35](a),we(_,oa,B),Fs(Rt,_,B),le=!0,$n||(Ds=[Ml(q,"change",t[22]),Ml(N,"change",t[22]),Ml(J,"change",t[22]),Ml(ee,"change",t[22]),Ml(ce,"change",t[22])],$n=!0)},p(_,B){if(_[15]?ge?ge.p(_,B):(ge=cr(_),ge.c(),ge.m(a,u)):ge&&(ge.d(1),ge=null),(!le||B[0]&131072)&&D!==(D=_[17][_[19]]+"")&&Z(y,D),_[9]?_e?_e.p(_,B):(_e=fr(_),_e.c(),_e.m(se,null)):_e&&(_e.d(1),_e=null),(!le||B[0]&128)&&Z(Vl,_[7]),(!le||B[0]&131072)&&Cl!==(Cl=_[17][_[19]]+"")&&Z(Bl,Cl),(!le||B[0]&128)&&Z(Hl,_[7]),(!le||B[0]&288)&&Rl!==(Rl=_[21](_[5],_[8])+"")&&Al.p(Rl),(!le||B[0]&128)&&Z(Ol,_[7]),(!le||B[0]&131072)&&wl!==(wl=_[17][_[19]]+"")&&Z(Ul,wl),(!le||B[0]&128)&&Z(Gl,_[7]),(!le||B[0]&131072)&&Ll!==(Ll=_[17][_[19]]+"")&&Z(Wl,Ll),(!le||B[0]&131072)&&Dl!==(Dl=_[17][_[19]]+"")&&Z(Yl,Dl),(!le||B[0]&128)&&Z(Kl,_[7]),(!le||B[0]&131072)&&kl!==(kl=_[17][_[19]]+"")&&Z(Xl,kl),(!le||B[0]&128)&&Z(Zl,_[7]),(!le||B[0]&131072)&&Sl!==(Sl=_[17][_[19]]+"")&&Z(Jl,Sl),(!le||B[0]&128)&&Z(Ql,_[7]),(!le||B[0]&131072)&&xl!==(xl=_[17][_[19]]+"")&&Z($l,xl),(!le||B[0]&131072)&&Tl!==(Tl=_[17][_[19]]+"")&&Z(ea,Tl),(!le||B[0]&131072)&&jl!==(jl=_[17][_[19]]+"")&&Z(ta,jl),(!le||B[0]&128)&&Z(la,_[7]),(!le||B[0]&131072)&&Il!==(Il=_[17][_[19]]+"")&&Z(aa,Il),(!le||B[0]&128)&&Z(na,_[7]),(!le||B[0]&131072)&&Pl!==(Pl=_[17][_[19]]+"")&&Z(sa,Pl),(!le||B[0]&128)&&Z(ra,_[7]),B[0]&655512){ol=ls(Zs);let ae;for(ae=0;ae<ol.length;ae+=1){const He=ir(_,ol,ae);be[ae]?be[ae].p(He,B):(be[ae]=dr(He),be[ae].c(),be[ae].m(wt,null))}for(;ae<be.length;ae+=1)be[ae].d(1);be.length=ol.length}},i(_){le||(Os(l.$$.fragment,_),Os(Rt.$$.fragment,_),le=!0)},o(_){Us(l.$$.fragment,_),Us(Rt.$$.fragment,_),le=!1},d(_){_&&(p(n),p(a),p(oa)),Gs(l,_),ge&&ge.d(),_e&&_e.d(),t[28](null),t[29](null),t[30](null),Bs(ot,_),t[31](null),Bs(be,_),t[35](null),Gs(Rt,_),$n=!1,Lr(Ds)}}}let Oe=400;function hr(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Wt(t){const l=t.querySelector("figure");l&&l.remove();const n=t.querySelector("svg");n&&n.remove()}function Yo(t,l,n){let a,u,i,c,v={},A={},f={},d={},D="barchart",{data:y}=l;const x=y.LAD;let S="UK",k,P,g,m,T,j,q,F,V,Y,O,M,N=!1;async function re(){n(5,k=await Fe($s())),await Fe(to()),k.forEach(z=>{z.isPageLAD=z.LAD==x}),n(25,P=await Fe(er([]))),g=await Fe(lo(xa.map(z=>z.id))),n(26,m=await Fe(tr())),n(8,T=await Fe(ao(x))),j=await Fe(no(x)),n(9,q=(Gr(T,z=>z.total)/1e3).toFixed(3)),n(11,V=cs(P,z=>z.val)/1e3),n(10,F=(as(T,z=>z.totalPerCapita)*1e6).toFixed(1)),n(12,Y=await Fe(so({limit:1,sortBy:"per_capita"}))),n(12,Y=Y[0].value_per_capita);const h="/LAD/Eng_Wales_LSOA_LADs.csv",R="/LAD/NI_DZ_LAD.csv",Q="/LAD/Scotland_DZ_LA.csv";await rs(h).then(z=>{for(let I of z)n(17,J[I.LAD22CD]=I.LAD22NM,J)}),await rs(R).then(z=>{for(let I of z)n(17,J[I.LGD2014_code]=I.LGD2014_name,J)}),await rs(Q).then(z=>{for(let I of z)n(17,J[I.LA_Code]=I.LA_Name,J)}),n(27,N=!0),Xr(a)}re();let H=!1,$="";const oe=["overview","temporal","households"];function G(){const h=window.scrollY;n(15,H=h>100);for(const R of oe){const Q=document.getElementById(R);if(!Q)continue;const z=Q.getBoundingClientRect();if(z.top<=150&&z.bottom>=150){$!==R&&Ks.capture("section entered (lad)",{section_name:R}),n(16,$=R);break}}}let J={},me,fe;Dr(()=>(Zr(a),me=new Kr(x,"LAD",fe,"val",!0,"Lookup_value",!1,null,8),me.initMap(!1),window.addEventListener("scroll",G),G(),()=>window.removeEventListener("scroll",G))),kr(()=>{window.removeEventListener("scroll",G)});function Ne(h,R,Q="black"){return qe({width:80,height:20,margin:0,x:{domain:[0,R],axis:null},marks:[os([h],{x:I=>I,y:0,fill:Q})]}).outerHTML}function Ee(h,R){if(!h||!R)return;let Q=h.filter(I=>I.total<20);return qe({height:Oe/1.6,...$e,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[ql(Q,ka({y:(I,te)=>I.length/Q.length/(te.x2-te.x1)},{x:"total",fill:ye,stroke:ye,fillOpacity:.3,strokeWidth:2})),ql(R,ka({y:(I,te)=>I.length/R.length/(te.x2-te.x1)},{x:"total",tip:!0,fill:xt,stroke:"black",fillOpacity:.3,strokeWidth:2})),Wr([0],{stroke:"#1E1E1E",strokeWidth:1}),La({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),ns({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function ie(){{let h=qe({height:Oe/1.4,...$e,x:{type:"band"},style:{fontSize:"18px"},marks:[Ut(P,it({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ut(T,it({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const R=Re(h).selectAll("g[aria-label='bar']");Re(R.nodes()[0]);const Q=Re(R.nodes()[1]);Q.selectAll("rect").each(function(){}),Q.remove()},1e3)}}function ee(){if(u){let h=qe({height:Oe/1,width:811,...$e,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Sa.range(),domain:Sa.domain()},marks:[Ut(m,it({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:ye,sort:{x:"y",reverse:!0},tip:!0})),Ut(j,it({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:R=>Sa(R.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),La({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),ns({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Ws([0],{stroke:"#333",strokeWidth:.75})]});Re(h).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(R,Q,z)=>{let I=R.target.textContent,te=xa.find(W=>W.id==I);window.open(`${us}/cobenefit?cobenefit=${te.id}`,"_blank").focus()}),u.append(h)}}function de(){Jr.forEach(h=>{let R;Js.includes(h)?R=qe({height:Oe/1.2,...$e,marginLeft:100,marginTop:40,marginBottom:h==="Typology"?100:60,x:{grid:!0,padding:.6,label:Da(h),tickFormat:K=>Qs[h]?.[K]??K,tickRotate:h==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ut(k,it({y:"proportion"},{x:h,dx:12,fill:ye})),Ut(T,it({y:"proportion"},{x:h,dx:-12}))]}):R=qe({height:Oe/1.2,...$e,x:{label:Da(h)},style:{fontSize:"18px"},marks:[ql(T,ka({y:(K,Ie)=>K.length/T.length/(Ie.x2-Ie.x1)},{x:K=>["Under_35","Over_65","Unemployment"].includes(h)?K[h]*100:K[h],tip:!0,fill:ye,stroke:ye,fillOpacity:.2,strokeWidth:3})),ql(k,ka({y:(K,Ie)=>K.length/k.length/(Ie.x2-Ie.x1)},{x:K=>["Under_35","Over_65","Unemployment"].includes(h)?K[h]*100:K[h],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),A[h]?.append(void 0),v[h]?.append(R);let z=k.map(K=>K.total),I=vr(z);z.sort();var te=z.length,W=Math.floor(te*1)-1;let ue=z[W];I[1]=ue+2,I[0]=-5;let je;Js.includes(h)?je=qe({height:Oe/1.2,...$e,marginBottom:h==="Typology"?100:60,marginLeft:100,x:{label:Da(h),type:"point",tickFormat:K=>Qs[h]?.[K]??K,tickRotate:h==="Typology"?-20:0},y:{domain:I,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",ye]},marks:[rr(Xs(k,15e3),{x:K=>`${K[h]}`,y:"total",fill:"density",bandwidth:3}),ar(T,{x:K=>`${K[h]}`,y:"total",fill:"black",r:2}),La({label:"Datazone Co-Benefit (millions £)"})]}):je=qe({height:Oe/1.2,...$e,x:{label:Da(h)},y:{domain:I},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",ye]},marks:[rr(Xs(k,2e4),{x:K=>["Under_35","Over_65","Unemployment"].includes(h)?K[h]*100:K[h],y:"total",fill:"density",thresholds:10}),ar(T,{x:K=>["Under_35","Over_65","Unemployment"].includes(h)?K[h]*100:K[h],y:"total",fill:"black",r:2}),La({label:"Datazone Co-Benefit (£)"}),ns({anchor:"bottom"})]}),f[h]&&n(4,f[h].innerHTML="",f),f[h]?.append(je)})}function he(){for(let h of Qr){let R=qe({height:Oe,width:410,...$e,marginRight:0,marginLeft:100,marks:[os(g,Ys({x:"mean"},{x:"val",y:"co_benefit_type",dy:-$r/2,fill:ye,tip:!0})),os(j,Ys({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});d[h]?.append(R)}}function Te(){let h=T.flatMap(W=>ss.map(ue=>({time:ue,value:W[ue],scenario:W.scenario,zone:"local"}))),R=k.flatMap(W=>ss.map(ue=>({time:ue,value:W[ue],scenario:W.scenario,zone:"UK"}))),Q=h.concat(R),z=qe({height:Oe,width:800,...$e,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[ye,xt],legend:!1},marks:[Ut(Q,it({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Yr({anchor:"bottom",tickFormat:W=>W.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(z),Re(i).select("g[aria-label='bar']").selectAll("g").each(function(W,ue){const je=Re(this).selectAll("rect").nodes()[0],K=Re(je).attr("transform")||"";Re(je).attr("transform",`${K} translate(-20, 0)`),Re(this).selectAll("rect").nodes()[0].getAttribute("height"),Re(this).selectAll("rect").nodes()[1].getAttribute("height"),Re(this).selectAll("rect")}),qe({height:Oe,width:800,...$e,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Mo(Q,it({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let I=j.flatMap(W=>ss.map(ue=>({time:ue,value:W[ue],cobenefit:W.co_benefit_type})));console.log("dataCBs",I);let te=qe({height:Oe,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([W])=>`Cobenefit ${W.cobenefit}`},x:{label:"Years",tickFormat:W=>W.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:eo,domain:xa.map(W=>W.id)},marks:[ql(I,it({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:W=>`${(+W).toFixed(3)}`,x:W=>`${W.replace(/^Y/,"").replace("_","-")}`,fill:W=>`${W}`}}})),Ws([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(te)}async function Ce(h){n(7,S=h.currentTarget.value),n(26,m=await Fe(tr("total",S))),n(25,P=await Fe(er([],S))),n(5,k=await Fe($s(S))),Ks.capture("clicked nation filter",{nation:h.currentTarget.value})}function ce(h){kt[h?"unshift":"push"](()=>{u=h,n(0,u)})}function Se(h){kt[h?"unshift":"push"](()=>{fe=h,n(18,fe)})}function ve(h){kt[h?"unshift":"push"](()=>{i=h,n(1,i)})}function Le(h){kt[h?"unshift":"push"](()=>{c=h,n(2,c)})}function U(h,R){kt[h?"unshift":"push"](()=>{v[R.id]=h,n(3,v)})}function se(h,R){kt[h?"unshift":"push"](()=>{v[R.id]=h,n(3,v)})}function Ue(h,R){kt[h?"unshift":"push"](()=>{f[R.id]=h,n(4,f)})}function pe(h){kt[h?"unshift":"push"](()=>{a=h,n(6,a)})}return t.$$set=h=>{"data"in h&&n(23,y=h.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&P&&(n(13,O=as(P.map(h=>h.val))/1e3),n(14,M=as(P.map(h=>h.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(u&&Wt(u),i&&Wt(i),c&&Wt(c),N&&m&&P&&k&&(ie(),ee(),Te())),t.$$.dirty[0]&134217752&&(Object.values(v).forEach(h=>{h&&Wt(h)}),Object.values(A).forEach(h=>{h&&Wt(h)}),Object.values(f).forEach(h=>{h&&Wt(h)}),N&&de()),t.$$.dirty[0]&134217728&&(Object.values(d).forEach(h=>{h&&Wt(h)}),N&&he())},[u,i,c,v,f,k,a,S,T,q,F,V,Y,O,M,H,$,J,fe,x,Ne,Ee,Ce,y,D,P,m,N,ce,Se,ve,Le,U,se,Ue,pe]}class di extends xr{constructor(l){super(),Tr(this,l,Yo,Wo,wr,{data:23},null,[-1,-1])}}export{di as component};
