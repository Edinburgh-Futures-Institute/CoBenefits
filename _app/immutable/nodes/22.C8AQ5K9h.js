import{S as ta,i as la,s as aa,d as n,v as Il,C as ql,o as Nl,p as Tl,w as Ml,b as w,c as o,F as ul,x as u,H as fl,I as Me,y as Ol,h as V,e as f,f as m,z as oe,g as A,A as Fl,k as C,j as d,t as D,B as sa,N as ia,K as oa,L as ra,a as be,G as ze,n as Ge}from"../chunks/vqp9XDtz.js";import{N as na,e as zt}from"../chunks/81iL96uD.js";import"../chunks/IHki7fMi.js";import"../chunks/C4dxaJ6L.js";import{ap as ca,o as Pl,aq as ua,ar as fa,as as da,q as it,y as Dt,u as ot,x as ha,at as pa,v as Et,z as Hl,w as wt,G as _a}from"../chunks/YUiIis-E.js";import{p as il}from"../chunks/BOd594CG.js";import{b as Wt}from"../chunks/5PUMWepz.js";import{M as va}from"../chunks/CAn6ybig.js";import{m as ma,n as ba,o as ga,p as ya,q as ka,s as La,e as Aa,c as Bl,b as Xe,t as Ut,f as jt,g as Da,u as ol,r as Ea,d as wa}from"../chunks/DQM_3w2p.js";import{g as St,i as Sa,h as Va,w as Ca,x as Ia,r as qa}from"../chunks/1cJRTIz9.js";import{p as Kt}from"../chunks/COcMrZFY.js";import{F as Na}from"../chunks/CE76q_-h.js";import{e as rl,a as Ta,t as Rl,b as Ma,m as Oa}from"../chunks/BpfN2sLL.js";import{n as Fa}from"../chunks/CiVH6c-5.js";import{t as Pa,b as Ha}from"../chunks/DKRPidJS.js";import{c as nl}from"../chunks/XhNTmijJ.js";import{d as Gt}from"../chunks/CHXPkKWX.js";var Ba=Array.prototype,Ra=Ba.slice;function cl(a){return()=>a}function za(){var a=ca,t=rl,e=Pa;function l(s){Array.isArray(s)||(s=Array.from(s));var r,c=s.length,_,I,L=new Array(c);for(r=0;r<c;++r)L[r]=a(s[r],r,s);var h=t(L),v=h[0],y=h[1],k=e(L,v,y);if(!Array.isArray(k)){const S=y,T=+k;if(t===rl&&([v,y]=Fa(v,y,T)),k=Ta(v,y,T),k[0]<=v&&(I=Rl(v,y,T)),k[k.length-1]>=y)if(S>=y&&t===rl){const F=Rl(v,y,T);isFinite(F)&&(F>0?y=(Math.floor(y/F)+1)*F:F<0&&(y=(Math.ceil(y*-F)+1)/-F))}else k.pop()}for(var b=k.length,g=0,E=b;k[g]<=v;)++g;for(;k[E-1]>y;)--E;(g||E<b)&&(k=k.slice(g,E),b=E-g);var N=new Array(b+1),H;for(r=0;r<=b;++r)H=N[r]=[],H.x0=r>0?k[r-1]:v,H.x1=r<b?k[r]:y;if(isFinite(I)){if(I>0)for(r=0;r<c;++r)(_=L[r])!=null&&v<=_&&_<=y&&N[Math.min(b,Math.floor((_-v)/I))].push(s[r]);else if(I<0){for(r=0;r<c;++r)if((_=L[r])!=null&&v<=_&&_<=y){const S=Math.floor((v-_)*I);N[Math.min(b,S+(k[S]<=_))].push(s[r])}}}else for(r=0;r<c;++r)(_=L[r])!=null&&v<=_&&_<=y&&N[Ma(k,_,0,b)].push(s[r]);return N}return l.value=function(s){return arguments.length?(a=typeof s=="function"?s:cl(s),l):a},l.domain=function(s){return arguments.length?(t=typeof s=="function"?s:cl([s[0],s[1]]),l):t},l.thresholds=function(s){return arguments.length?(e=typeof s=="function"?s:cl(Array.isArray(s)?Ra.call(s):s),l):e},l}const Xl=""+new URL("../assets/negative.BhphYhmj.png",import.meta.url).href;function zl(a,t,e){const l=a.slice();return l[73]=t[e],l[74]=t,l[75]=e,l}function Ul(a,t,e){const l=a.slice();return l[73]=t[e],l}function Ua(a){let t;return{c(){t=d("div"),this.h()},l(e){t=f(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){w(e,t,l),a[44](t)},p:Ge,d(e){e&&n(t),a[44](null)}}}function Ga(a){let t;return{c(){t=d("div"),this.h()},l(e){t=f(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){w(e,t,l),a[43](t)},p:Ge,d(e){e&&n(t),a[43](null)}}}function Wa(a){let t,e,l=a[25].toLowerCase()+"",s,r,c,_,I=Ue(a[15],a[28])+"",L,h,v;function y(g,E){return g[7]==g[2]?Ya:Ka}let k=y(a),b=k(a);return{c(){t=d("h3"),e=D("Distribution of "),s=D(l),r=D(" across the UK"),c=D(`
                    Max value: `),_=d("strong"),L=D(I),h=D(` 
                    (`),b.c(),v=D(")"),this.h()},l(g){t=f(g,"H3",{class:!0});var E=m(t);e=A(E,"Distribution of "),s=A(E,l),r=A(E," across the UK"),E.forEach(n),c=A(g,`
                    Max value: `),_=f(g,"STRONG",{});var N=m(_);L=A(N,I),N.forEach(n),h=A(g,` 
                    (`),b.l(g),v=A(g,")"),this.h()},h(){u(t,"class","component-title")},m(g,E){w(g,t,E),o(t,e),o(t,s),o(t,r),w(g,c,E),w(g,_,E),o(_,L),w(g,h,E),b.m(g,E),w(g,v,E)},p(g,E){E[0]&32768&&I!==(I=Ue(g[15],g[28])+"")&&be(L,I),k===(k=y(g))&&b?b.p(g,E):(b.d(1),b=k(g),b&&(b.c(),b.m(v.parentNode,v)))},d(g){g&&(n(t),n(c),n(_),n(h),n(v)),b.d(g)}}}function ja(a){let t,e,l=a[25].toLowerCase()+"",s,r,c=a[29].toLowerCase()+"",_,I;return{c(){t=d("h3"),e=D("Distribution of "),s=D(l),r=D(" by "),_=D(c),I=D(" across the UK"),this.h()},l(L){t=f(L,"H3",{class:!0});var h=m(t);e=A(h,"Distribution of "),s=A(h,l),r=A(h," by "),_=A(h,c),I=A(h," across the UK"),h.forEach(n),this.h()},h(){u(t,"class","component-title")},m(L,h){w(L,t,h),o(t,e),o(t,s),o(t,r),o(t,_),o(t,I)},p:Ge,d(L){L&&n(t)}}}function Ka(a){let t;return{c(){t=D(a[23])},l(e){t=A(e,a[23])},m(e,l){w(e,t,l)},p(e,l){l[0]&8388608&&be(t,e[23])},d(e){e&&n(t)}}}function Ya(a){let t=a[5][a[3]]+"",e;return{c(){e=D(t)},l(l){e=A(l,t)},m(l,s){w(l,e,s)},p(l,s){s[0]&40&&t!==(t=l[5][l[3]]+"")&&be(e,t)},d(l){l&&n(e)}}}function Ja(a){let t,e,l=Ue(a[13],a[28])+"",s;return{c(){t=D("Average value: "),e=d("strong"),s=D(l),this.h()},l(r){t=A(r,"Average value: "),e=f(r,"STRONG",{style:!0});var c=m(e);s=A(c,l),c.forEach(n),this.h()},h(){Me(e,"color","#BD210E")},m(r,c){w(r,t,c),w(r,e,c),o(e,s)},p(r,c){c[0]&8192&&l!==(l=Ue(r[13],r[28])+"")&&be(s,l)},d(r){r&&(n(t),n(e))}}}function Xa(a){let t;return{c(){t=D(" ")},l(e){t=A(e," ")},m(e,l){w(e,t,l)},p:Ge,d(e){e&&n(t)}}}function Za(a){let t,e,l=Ue(a[16],a[28])+"",s,r,c;function _(h,v){return h[7]==h[2]?$a:xa}let I=_(a),L=I(a);return{c(){t=D("Min value: "),e=d("strong"),s=D(l),r=D(` 
                    (`),L.c(),c=D(")")},l(h){t=A(h,"Min value: "),e=f(h,"STRONG",{});var v=m(e);s=A(v,l),v.forEach(n),r=A(h,` 
                    (`),L.l(h),c=A(h,")")},m(h,v){w(h,t,v),w(h,e,v),o(e,s),w(h,r,v),L.m(h,v),w(h,c,v)},p(h,v){v[0]&65536&&l!==(l=Ue(h[16],h[28])+"")&&be(s,l),I===(I=_(h))&&L?L.p(h,v):(L.d(1),L=I(h),L&&(L.c(),L.m(c.parentNode,c)))},d(h){h&&(n(t),n(e),n(r),n(c)),L.d(h)}}}function Qa(a){let t,e,l=Ue(a[14],a[28])+"",s;return{c(){t=D("Most common category: "),e=d("strong"),s=D(l),this.h()},l(r){t=A(r,"Most common category: "),e=f(r,"STRONG",{style:!0});var c=m(e);s=A(c,l),c.forEach(n),this.h()},h(){Me(e,"color","#BD210E")},m(r,c){w(r,t,c),w(r,e,c),o(e,s)},p(r,c){c[0]&16384&&l!==(l=Ue(r[14],r[28])+"")&&be(s,l)},d(r){r&&(n(t),n(e))}}}function xa(a){let t;return{c(){t=D(a[22])},l(e){t=A(e,a[22])},m(e,l){w(e,t,l)},p(e,l){l[0]&4194304&&be(t,e[22])},d(e){e&&n(t)}}}function $a(a){let t=a[5][a[4]]+"",e;return{c(){e=D(t)},l(l){e=A(l,t)},m(l,s){w(l,e,s)},p(l,s){s[0]&48&&t!==(t=l[5][l[4]]+"")&&be(e,t)},d(l){l&&n(e)}}}function es(a){let t=a[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).",e;return{c(){e=D(t)},l(l){e=A(l,t)},m(l,s){w(l,e,s)},p(l,s){s[0]&64&&t!==(t=l[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).")&&be(e,t)},d(l){l&&n(e)}}}function ts(a){let t,e;return{c(){t=d("span"),e=D(`
                        Loading...`),this.h()},l(l){t=f(l,"SPAN",{class:!0}),m(t).forEach(n),e=A(l,`
                        Loading...`),this.h()},h(){u(t,"class","spinner svelte-1qi276a")},m(l,s){w(l,t,s),w(l,e,s)},p:Ge,d(l){l&&(n(t),n(e))}}}function Gl(a){let t,e,l,s,r,c,_,I,L;function h(k,b){return k[21]?as:ls}let v=h(a),y=v(a);return{c(){t=d("div"),e=d("div"),l=d("span"),s=D(a[25]),r=D(" >>"),c=C(),_=d("button"),y.c(),this.h()},l(k){t=f(k,"DIV",{class:!0});var b=m(t);e=f(b,"DIV",{class:!0});var g=m(e);l=f(g,"SPAN",{class:!0});var E=m(l);s=A(E,a[25]),r=A(E," >>"),E.forEach(n),c=V(g),_=f(g,"BUTTON",{class:!0});var N=m(_);y.l(N),N.forEach(n),g.forEach(n),b.forEach(n),this.h()},h(){u(l,"class","mini-header-text"),u(_,"class","switch-button-sticky svelte-1qi276a"),_.disabled=a[21],u(e,"class","mini-header-content"),u(t,"class","mini-header")},m(k,b){w(k,t,b),o(t,e),o(e,l),o(l,s),o(l,r),o(e,c),o(e,_),y.m(_,null),I||(L=ul(_,"click",a[31]),I=!0)},p(k,b){v===(v=h(k))&&y?y.p(k,b):(y.d(1),y=v(k),y&&(y.c(),y.m(_,null))),b[0]&2097152&&(_.disabled=k[21])},d(k){k&&n(t),y.d(),I=!1,L()}}}function ls(a){let t=a[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).",e;return{c(){e=D(t)},l(l){e=A(l,t)},m(l,s){w(l,e,s)},p(l,s){s[0]&64&&t!==(t=l[6]?"Currently the data for this page is grouped by local authorities (LADs), click here to switch to data zones (LSOAs).":"Currently the data for this page is grouped by data zones (LSOAs), click here to switch to local authorities (LADs).")&&be(e,t)},d(l){l&&n(e)}}}function as(a){let t,e;return{c(){t=d("span"),e=D(`
                Loading...`),this.h()},l(l){t=f(l,"SPAN",{class:!0}),m(t).forEach(n),e=A(l,`
                Loading...`),this.h()},h(){u(t,"class","spinner svelte-1qi276a")},m(l,s){w(l,t,s),w(l,e,s)},p:Ge,d(l){l&&(n(t),n(e))}}}function ss(a){let t;return{c(){t=D("data zone (LSOA).")},l(e){t=A(e,"data zone (LSOA).")},m(e,l){w(e,t,l)},d(e){e&&n(t)}}}function is(a){let t;return{c(){t=D("local authority (LAD).")},l(e){t=A(e,"local authority (LAD).")},m(e,l){w(e,t,l)},d(e){e&&n(t)}}}function Wl(a){let t,e,l,s,r="This chart includes negative values.";return{c(){t=d("img"),l=C(),s=d("span"),s.textContent=r,this.h()},l(c){t=f(c,"IMG",{class:!0,src:!0,alt:!0}),l=V(c),s=f(c,"SPAN",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-56pton"&&(s.textContent=r),this.h()},h(){u(t,"class","aggregation-icon"),fl(t.src,e=Xl)||u(t,"src",e),u(t,"alt","icon"),u(s,"class","tooltip-text-neg svelte-1qi276a")},m(c,_){w(c,t,_),w(c,l,_),w(c,s,_)},d(c){c&&(n(t),n(l),n(s))}}}function os(a){let t;return{c(){t=d("div"),this.h()},l(e){t=f(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){w(e,t,l),a[46](t)},p:Ge,d(e){e&&n(t),a[46](null)}}}function rs(a){let t;return{c(){t=d("div"),this.h()},l(e){t=f(e,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(e,l){w(e,t,l),a[45](t)},p:Ge,d(e){e&&n(t),a[45](null)}}}function jl(a){let t,e,l=a[17].legend(a[29]).outerHTML+"";return{c(){t=d("div"),e=new ra(!1),this.h()},l(s){t=f(s,"DIV",{id:!0});var r=m(t);e=oa(r,!1),r.forEach(n),this.h()},h(){e.a=null,u(t,"id","legend")},m(s,r){w(s,t,r),e.m(l,t)},p(s,r){r[0]&131072&&l!==(l=s[17].legend(s[29]).outerHTML+"")&&e.p(l)},d(s){s&&n(t)}}}function Kl(a){let t,e,l,s,r=a[73].def+"",c,_,I,L,h,v=a[73].id+"",y,k;return{c(){t=d("div"),e=d("div"),l=d("div"),s=C(),c=D(r),_=C(),I=d("br"),L=C(),h=d("a"),y=D(v),k=D(" report page"),this.h()},l(b){t=f(b,"DIV",{class:!0});var g=m(t);e=f(g,"DIV",{class:!0});var E=m(e);l=f(E,"DIV",{style:!0}),m(l).forEach(n),s=V(E),c=A(E,r),_=V(E),I=f(E,"BR",{}),L=V(E),h=f(E,"A",{class:!0,href:!0,target:!0,rel:!0,style:!0});var N=m(h);y=A(N,v),k=A(N," report page"),N.forEach(n),E.forEach(n),g.forEach(n),this.h()},h(){Me(l,"height","0.8em"),u(h,"class","link"),u(h,"href",Wt+"/cobenefit?cobenefit="+a[73].id),u(h,"target","_blank"),u(h,"rel","noopener noreferrer"),Me(h,"color",jt(a[73].id)),Me(h,"text-decoration","underline"),u(e,"class","legend-description svelte-1qi276a"),u(t,"class","legend-description-box svelte-1qi276a")},m(b,g){w(b,t,g),o(t,e),o(e,l),o(e,s),o(e,c),o(e,_),o(e,I),o(e,L),o(e,h),o(h,y),o(h,k)},d(b){b&&n(t)}}}function Yl(a){let t,e,l,s,r,c=a[73].label+"",_,I,L,h,v=a[20].has(a[73].id)?"▲":"▼",y,k,b=a[20].has(a[73].id),g,E,N;function H(){return a[48](a[73])}let S=b&&Kl(a);return{c(){t=d("div"),e=d("div"),l=d("span"),s=C(),r=d("span"),_=D(c),L=C(),h=d("span"),y=D(v),k=C(),S&&S.c(),g=C(),this.h()},l(T){t=f(T,"DIV",{class:!0});var F=m(t);e=f(F,"DIV",{class:!0,style:!0});var j=m(e);l=f(j,"SPAN",{class:!0,style:!0}),m(l).forEach(n),s=V(j),r=f(j,"SPAN",{class:!0});var Ae=m(r);_=A(Ae,c),Ae.forEach(n),L=V(j),h=f(j,"SPAN",{class:!0});var re=m(h);y=A(re,v),re.forEach(n),j.forEach(n),k=V(F),S&&S.l(F),g=V(F),F.forEach(n),this.h()},h(){u(l,"class","legend-color svelte-1qi276a"),Me(l,"background-color",jt(a[73].id)),u(r,"class",I="legend-text "+(a[20].has(a[73].id)?"expanded":"")+" svelte-1qi276a"),u(h,"class","toggle-icon svelte-1qi276a"),u(e,"class","legend-header svelte-1qi276a"),Me(e,"cursor","pointer"),u(t,"class","legend-item svelte-1qi276a")},m(T,F){w(T,t,F),o(t,e),o(e,l),o(e,s),o(e,r),o(r,_),o(e,L),o(e,h),o(h,y),o(t,k),S&&S.m(t,null),o(t,g),E||(N=ul(e,"click",H),E=!0)},p(T,F){a=T,F[0]&1048576&&I!==(I="legend-text "+(a[20].has(a[73].id)?"expanded":"")+" svelte-1qi276a")&&u(r,"class",I),F[0]&1048576&&v!==(v=a[20].has(a[73].id)?"▲":"▼")&&be(y,v),F[0]&1048576&&(b=a[20].has(a[73].id)),b?S||(S=Kl(a),S.c(),S.m(t,g)):S&&(S.d(1),S=null)},d(T){T&&n(t),S&&S.d(),E=!1,N()}}}function ns(a){let t,e=`<img class="sm-icon svelte-1qi276a" src="${Kt}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each area.</span>`;return{c(){t=d("div"),t.innerHTML=e,this.h()},l(l){t=f(l,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1lqh0bd"&&(t.innerHTML=e),this.h()},h(){u(t,"class","tooltip-wrapper")},m(l,s){w(l,t,s)},d(l){l&&n(t)}}}function cs(a){let t,e=`<img class="sm-icon svelte-1qi276a" src="${Kt}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each area.</span>`,l,s,r=`<img class="sm-icon svelte-1qi276a" src="${Xl}" alt="icon"/> <span class="tooltip-text-neg svelte-1qi276a">This chart includes negative values.</span>`;return{c(){t=d("div"),t.innerHTML=e,l=C(),s=d("div"),s.innerHTML=r,this.h()},l(c){t=f(c,"DIV",{class:!0,"data-svelte-h":!0}),oe(t)!=="svelte-1tqucbd"&&(t.innerHTML=e),l=V(c),s=f(c,"DIV",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-10ijo5a"&&(s.innerHTML=r),this.h()},h(){u(t,"class","tooltip-wrapper"),u(s,"class","tooltip-wrapper")},m(c,_){w(c,t,_),w(c,l,_),w(c,s,_)},d(c){c&&(n(t),n(l),n(s))}}}function us(a){let t,e=a[73];const l=()=>a[50](t,e),s=()=>a[50](null,e);return{c(){t=d("div"),this.h()},l(r){t=f(r,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(r,c){w(r,t,c),l()},p(r,c){a=r,e!==a[73]&&(s(),e=a[73],l())},d(r){r&&n(t),s()}}}function fs(a){let t,e=a[73];const l=()=>a[49](t,e),s=()=>a[49](null,e);return{c(){t=d("div"),this.h()},l(r){t=f(r,"DIV",{class:!0}),m(t).forEach(n),this.h()},h(){u(t,"class","plot svelte-1qi276a")},m(r,c){w(r,t,c),l()},p(r,c){a=r,e!==a[73]&&(s(),e=a[73],l())},d(r){r&&n(t),s()}}}function Jl(a){let t,e,l,s,r,c,_=a[73].label+"",I,L,h,v;function y(H,S){return H[73].id=="Longer travel times"||H[73].id=="Road repairs"||H[73].id=="Road safety"||H[73].id=="Congestion"||H[73].id=="Excess heat"?cs:ns}let b=y(a)(a);function g(H,S){return Xe.includes(H[24])?fs:us}let N=g(a)(a);return{c(){t=d("div"),e=d("div"),l=d("img"),r=C(),c=d("h3"),I=D(_),L=C(),b.c(),h=C(),N.c(),v=C(),this.h()},l(H){t=f(H,"DIV",{class:!0});var S=m(t);e=f(S,"DIV",{class:!0});var T=m(e);l=f(T,"IMG",{class:!0,src:!0,alt:!0}),r=V(T),c=f(T,"H3",{class:!0});var F=m(c);I=A(F,_),F.forEach(n),L=V(T),b.l(T),T.forEach(n),h=V(S),N.l(S),v=V(S),S.forEach(n),this.h()},h(){u(l,"class","sm-cb-icon svelte-1qi276a"),fl(l.src,s=Da(a[73].id))||u(l,"src",s),u(l,"alt",a[73].label+" icon"),u(c,"class","chart-component-title"),u(e,"class","component-chart-title-container svelte-1qi276a"),u(t,"class","plot-container svelte-1qi276a")},m(H,S){w(H,t,S),o(t,e),o(e,l),o(e,r),o(e,c),o(c,I),o(e,L),b.m(e,null),o(t,h),N.m(t,null),o(t,v)},p(H,S){N.p(H,S)},d(H){H&&n(t),b.d(),N.d()}}}function ds(a){let t,e,l,s,r,c,_,I="Socio-Economic Factor Report",L,h,v,y,k,b,g,E,N,H,S,T,F,j,Ae,re,Ze,De,z,ge,ne,le,ee,ce,Qe='<p class="section-subtitle svelte-1qi276a">Overview</p>',U,G,te,Ee,rt,nt,ae,ue,Oe,xe,we,se,B,x,Fe,Se,ct="This chart uses per capita values. i.e. shows the cost/benefit per person in each area.",Pe,ut,_e,W,ve,ft,Ve,dt,Ce,Vt="Scroll for zooming in and out.",ht,Ie,Ct=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Kt}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each area.</span></div>`,pt,$e,qe,_t,ye,Ne,It='<p class="section-subtitle svelte-1qi276a">By Co-benefits</p>',vt,fe,i,q,P,We=a[25].toLowerCase()+"",J,R,de,X,dl="Each plot shows the distribution of benefits or costs for each of the 11 co-benefits.",Yt,Jt,Xt,ie,et,hl="Co-benefits:",Zt,Qt,mt,xt,$t,He,pl='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Varying y-axis scales:</strong> The scatter plots have different scales on the y-axis due to the nature of each co-benefit.</p>',el,je,Be,qt,Ke,bt,tl,_l;t=new na({});function Zl(p,O){return Xe.includes(p[24])?Ga:Ua}let gt=Zl(a)(a);function Ql(p,O){return Xe.includes(p[24])?ja:Wa}let yt=Ql(a)(a);function xl(p,O){return Xe.includes(p[24])?Xa:Ja}let kt=xl(a)(a);function $l(p,O){return Xe.includes(p[24])?Qa:Za}let Lt=$l(a)(a);function vl(p,O){return p[21]?ts:es}let Nt=vl(a),me=Nt(a),Z=a[19]&&Gl(a);function ml(p,O){return p[7]==p[2]?is:ss}let Tt=ml(a),Te=Tt(a),$=a[6]&&Wl();function ea(p,O){return Xe.includes(p[24])?rs:os}let At=ea(a)(a),Q=a[17]&&jl(a),tt=zt(Ut),K=[];for(let p=0;p<tt.length;p+=1)K[p]=Yl(Ul(a,tt,p));let lt=zt(Ut),Y=[];for(let p=0;p<lt.length;p+=1)Y[p]=Jl(zl(a,lt,p));return Ke=new Na({}),{c(){Fl(t.$$.fragment),e=C(),l=d("div"),s=d("div"),r=d("div"),c=d("div"),_=d("p"),_.textContent=I,L=C(),h=d("div"),v=d("h1"),y=D(a[27]),k=C(),b=d("p"),g=D(a[26]),E=C(),N=d("div"),gt.c(),H=C(),S=d("div"),T=d("p"),yt.c(),F=C(),j=d("p"),kt.c(),Ae=C(),re=d("p"),Lt.c(),Ze=C(),De=d("div"),z=d("button"),me.c(),ge=C(),Z&&Z.c(),ne=C(),le=d("div"),ee=d("div"),ce=d("div"),ce.innerHTML=Qe,U=C(),G=d("div"),te=d("div"),Ee=d("h3"),rt=D(a[25]),nt=D(" against per capita co-benefit values (£, thousand)"),ae=C(),ue=d("p"),Oe=D(`Each point in the chart below represents a UK 
                        `),Te.c(),xe=C(),we=d("div"),se=d("div"),B=d("img"),Fe=C(),Se=d("span"),Se.textContent=ct,Pe=C(),$&&$.c(),ut=C(),At.c(),_e=C(),W=d("div"),ve=d("h3"),ft=D(a[25]),Ve=D(" at data zone (LSOA) level"),dt=C(),Ce=d("p"),Ce.textContent=Vt,ht=C(),Ie=d("div"),Ie.innerHTML=Ct,pt=C(),Q&&Q.c(),$e=C(),qe=d("div"),_t=C(),ye=d("div"),Ne=d("div"),Ne.innerHTML=It,vt=C(),fe=d("div"),i=d("div"),q=d("h3"),P=D(`Plotting 
                    
                    `),J=D(We),R=D(`
                
                against the gain/loss (£, thousand) per capita for each co-benefit`),de=C(),X=d("p"),X.textContent=dl,Yt=C(),Jt=d("br"),Xt=C(),ie=d("div"),et=d("strong"),et.textContent=hl,Zt=d("br"),Qt=D(`Expand for detailed explanation
                    `),mt=d("div"),xt=C();for(let p=0;p<K.length;p+=1)K[p].c();$t=C(),He=d("div"),He.innerHTML=pl,el=C(),je=d("div"),Be=d("div");for(let p=0;p<Y.length;p+=1)Y[p].c();qt=C(),Fl(Ke.$$.fragment),this.h()},l(p){Ol(t.$$.fragment,p),e=V(p),l=f(p,"DIV",{class:!0});var O=m(l);s=f(O,"DIV",{class:!0});var M=m(s);r=f(M,"DIV",{class:!0});var he=m(r);c=f(he,"DIV",{class:!0});var Mt=m(c);_=f(Mt,"P",{class:!0,"data-svelte-h":!0}),oe(_)!=="svelte-16ymxs7"&&(_.textContent=I),L=V(Mt),h=f(Mt,"DIV",{class:!0});var Ot=m(h);v=f(Ot,"H1",{class:!0});var bl=m(v);y=A(bl,a[27]),bl.forEach(n),k=V(Ot),b=f(Ot,"P",{class:!0});var gl=m(b);g=A(gl,a[26]),gl.forEach(n),Ot.forEach(n),Mt.forEach(n),E=V(he),N=f(he,"DIV",{class:!0});var yl=m(N);gt.l(yl),yl.forEach(n),H=V(he),S=f(he,"DIV",{class:!0});var at=m(S);T=f(at,"P",{class:!0});var kl=m(T);yt.l(kl),kl.forEach(n),F=V(at),j=f(at,"P",{class:!0});var Ll=m(j);kt.l(Ll),Ll.forEach(n),Ae=V(at),re=f(at,"P",{class:!0});var Al=m(re);Lt.l(Al),Al.forEach(n),at.forEach(n),he.forEach(n),M.forEach(n),Ze=V(O),De=f(O,"DIV",{class:!0});var Dl=m(De);z=f(Dl,"BUTTON",{class:!0});var El=m(z);me.l(El),El.forEach(n),Dl.forEach(n),ge=V(O),Z&&Z.l(O),ne=V(O),le=f(O,"DIV",{class:!0});var wl=m(le);ee=f(wl,"DIV",{id:!0});var Ft=m(ee);ce=f(Ft,"DIV",{class:!0,"data-svelte-h":!0}),oe(ce)!=="svelte-ll1i43"&&(ce.innerHTML=Qe),U=V(Ft),G=f(Ft,"DIV",{id:!0,class:!0});var Pt=m(G);te=f(Pt,"DIV",{class:!0});var Re=m(te);Ee=f(Re,"H3",{class:!0});var ll=m(Ee);rt=A(ll,a[25]),nt=A(ll," against per capita co-benefit values (£, thousand)"),ll.forEach(n),ae=V(Re),ue=f(Re,"P",{class:!0});var al=m(ue);Oe=A(al,`Each point in the chart below represents a UK 
                        `),Te.l(al),al.forEach(n),xe=V(Re),we=f(Re,"DIV",{class:!0});var Sl=m(we);se=f(Sl,"DIV",{class:!0});var st=m(se);B=f(st,"IMG",{class:!0,src:!0,alt:!0}),Fe=V(st),Se=f(st,"SPAN",{class:!0,"data-svelte-h":!0}),oe(Se)!=="svelte-1iyw7e6"&&(Se.textContent=ct),Pe=V(st),$&&$.l(st),st.forEach(n),Sl.forEach(n),ut=V(Re),At.l(Re),Re.forEach(n),_e=V(Pt),W=f(Pt,"DIV",{class:!0});var ke=m(W);ve=f(ke,"H3",{class:!0});var sl=m(ve);ft=A(sl,a[25]),Ve=A(sl," at data zone (LSOA) level"),sl.forEach(n),dt=V(ke),Ce=f(ke,"P",{class:!0,"data-svelte-h":!0}),oe(Ce)!=="svelte-1ask2se"&&(Ce.textContent=Vt),ht=V(ke),Ie=f(ke,"DIV",{class:!0,"data-svelte-h":!0}),oe(Ie)!=="svelte-7b2hds"&&(Ie.innerHTML=Ct),pt=V(ke),Q&&Q.l(ke),$e=V(ke),qe=f(ke,"DIV",{id:!0,class:!0}),m(qe).forEach(n),ke.forEach(n),Pt.forEach(n),Ft.forEach(n),wl.forEach(n),_t=V(O),ye=f(O,"DIV",{id:!0});var Ht=m(ye);Ne=f(Ht,"DIV",{class:!0,"data-svelte-h":!0}),oe(Ne)!=="svelte-1av3fse"&&(Ne.innerHTML=It),vt=V(Ht),fe=f(Ht,"DIV",{id:!0,class:!0,style:!0});var Bt=m(fe);i=f(Bt,"DIV",{id:!0,class:!0});var Le=m(i);q=f(Le,"H3",{class:!0});var Rt=m(q);P=A(Rt,`Plotting 
                    
                    `),J=A(Rt,We),R=A(Rt,`
                
                against the gain/loss (£, thousand) per capita for each co-benefit`),Rt.forEach(n),de=V(Le),X=f(Le,"P",{class:!0,"data-svelte-h":!0}),oe(X)!=="svelte-1h97e3k"&&(X.textContent=dl),Yt=V(Le),Jt=f(Le,"BR",{}),Xt=V(Le),ie=f(Le,"DIV",{id:!0,class:!0});var Ye=m(ie);et=f(Ye,"STRONG",{"data-svelte-h":!0}),oe(et)!=="svelte-1qu96kx"&&(et.textContent=hl),Zt=f(Ye,"BR",{}),Qt=A(Ye,`Expand for detailed explanation
                    `),mt=f(Ye,"DIV",{style:!0}),m(mt).forEach(n),xt=V(Ye);for(let Je=0;Je<K.length;Je+=1)K[Je].l(Ye);Ye.forEach(n),$t=V(Le),He=f(Le,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),oe(He)!=="svelte-11g4vkg"&&(He.innerHTML=pl),Le.forEach(n),el=V(Bt),je=f(Bt,"DIV",{id:!0,class:!0});var Vl=m(je);Be=f(Vl,"DIV",{id:!0,class:!0});var Cl=m(Be);for(let Je=0;Je<Y.length;Je+=1)Y[Je].l(Cl);Cl.forEach(n),Vl.forEach(n),Bt.forEach(n),Ht.forEach(n),O.forEach(n),qt=V(p),Ol(Ke.$$.fragment,p),this.h()},h(){u(_,"class","page-subtitle svelte-1qi276a"),u(v,"class","page-title svelte-1qi276a"),u(b,"class","definition"),u(h,"class","title-container"),u(c,"class","header-text svelte-1qi276a"),u(N,"class","header-vis svelte-1qi276a"),u(T,"class","definition-stat svelte-1qi276a"),u(j,"class","definition-stat svelte-1qi276a"),u(re,"class","definition-stat svelte-1qi276a"),u(S,"class","header-stats svelte-1qi276a"),u(r,"class","header-content svelte-1qi276a"),u(s,"class","section header svelte-1qi276a"),u(z,"class","switch-button svelte-1qi276a"),z.disabled=a[21],u(De,"class","button-wrapper svelte-1qi276a"),u(ce,"class","section-header"),u(Ee,"class","component-title"),u(ue,"class","description"),u(B,"class","aggregation-icon"),fl(B.src,x=Kt)||u(B,"src",x),u(B,"alt","icon"),u(Se,"class","tooltip-text"),u(se,"class","tooltip-wrapper"),u(we,"class","aggregation-icon-container2 svelte-1qi276a"),u(te,"class","component column"),u(ve,"class","component-title"),u(Ce,"class","description"),u(Ie,"class","aggregation-icon-container2 svelte-1qi276a"),u(qe,"id","map"),u(qe,"class","svelte-1qi276a"),u(W,"class","component column"),u(G,"id","vis-block"),u(G,"class","svelte-1qi276a"),u(ee,"id","overview"),u(le,"class","section"),u(Ne,"class","section-header"),u(q,"class","component-title"),u(X,"class","explanation"),Me(mt,"height","0.8em"),u(ie,"id","main-legend"),u(ie,"class","legend-box svelte-1qi276a"),u(He,"id","se-disclaimer"),u(He,"class","disclaimer-box svelte-1qi276a"),u(i,"id","se-title"),u(i,"class","svelte-1qi276a"),u(Be,"id","multiple-plots"),u(Be,"class","svelte-1qi276a"),u(je,"id","multiple-comp"),u(je,"class","svelte-1qi276a"),u(fe,"id","se-block"),u(fe,"class","component svelte-1qi276a"),Me(fe,"margin-left","1rem"),u(ye,"id","compare"),u(l,"class","page-container")},m(p,O){Ml(t,p,O),w(p,e,O),w(p,l,O),o(l,s),o(s,r),o(r,c),o(c,_),o(c,L),o(c,h),o(h,v),o(v,y),o(h,k),o(h,b),o(b,g),o(r,E),o(r,N),gt.m(N,null),o(r,H),o(r,S),o(S,T),yt.m(T,null),o(S,F),o(S,j),kt.m(j,null),o(S,Ae),o(S,re),Lt.m(re,null),o(l,Ze),o(l,De),o(De,z),me.m(z,null),o(l,ge),Z&&Z.m(l,null),o(l,ne),o(l,le),o(le,ee),o(ee,ce),o(ee,U),o(ee,G),o(G,te),o(te,Ee),o(Ee,rt),o(Ee,nt),o(te,ae),o(te,ue),o(ue,Oe),Te.m(ue,null),o(te,xe),o(te,we),o(we,se),o(se,B),o(se,Fe),o(se,Se),o(se,Pe),$&&$.m(se,null),o(te,ut),At.m(te,null),o(G,_e),o(G,W),o(W,ve),o(ve,ft),o(ve,Ve),o(W,dt),o(W,Ce),o(W,ht),o(W,Ie),o(W,pt),Q&&Q.m(W,null),o(W,$e),o(W,qe),a[47](qe),o(l,_t),o(l,ye),o(ye,Ne),o(ye,vt),o(ye,fe),o(fe,i),o(i,q),o(q,P),o(q,J),o(q,R),o(i,de),o(i,X),o(i,Yt),o(i,Jt),o(i,Xt),o(i,ie),o(ie,et),o(ie,Zt),o(ie,Qt),o(ie,mt),o(ie,xt);for(let M=0;M<K.length;M+=1)K[M]&&K[M].m(ie,null);o(i,$t),o(i,He),o(fe,el),o(fe,je),o(je,Be);for(let M=0;M<Y.length;M+=1)Y[M]&&Y[M].m(Be,null);a[51](l),w(p,qt,O),Ml(Ke,p,O),bt=!0,tl||(_l=ul(z,"click",a[31]),tl=!0)},p(p,O){if(gt.p(p,O),yt.p(p,O),kt.p(p,O),Lt.p(p,O),Nt===(Nt=vl(p))&&me?me.p(p,O):(me.d(1),me=Nt(p),me&&(me.c(),me.m(z,null))),(!bt||O[0]&2097152)&&(z.disabled=p[21]),p[19]?Z?Z.p(p,O):(Z=Gl(p),Z.c(),Z.m(l,ne)):Z&&(Z.d(1),Z=null),Tt!==(Tt=ml(p))&&(Te.d(1),Te=Tt(p),Te&&(Te.c(),Te.m(ue,null))),p[6]?$||($=Wl(),$.c(),$.m(se,null)):$&&($.d(1),$=null),At.p(p,O),p[17]?Q?Q.p(p,O):(Q=jl(p),Q.c(),Q.m(W,$e)):Q&&(Q.d(1),Q=null),O[0]&1074790400){tt=zt(Ut);let M;for(M=0;M<tt.length;M+=1){const he=Ul(p,tt,M);K[M]?K[M].p(he,O):(K[M]=Yl(he),K[M].c(),K[M].m(ie,null))}for(;M<K.length;M+=1)K[M].d(1);K.length=tt.length}if(O[0]&16777219){lt=zt(Ut);let M;for(M=0;M<lt.length;M+=1){const he=zl(p,lt,M);Y[M]?Y[M].p(he,O):(Y[M]=Jl(he),Y[M].c(),Y[M].m(Be,null))}for(;M<Y.length;M+=1)Y[M].d(1);Y.length=lt.length}},i(p){bt||(Tl(t.$$.fragment,p),Tl(Ke.$$.fragment,p),bt=!0)},o(p){Nl(t.$$.fragment,p),Nl(Ke.$$.fragment,p),bt=!1},d(p){p&&(n(e),n(l),n(qt)),Il(t,p),gt.d(),yt.d(),kt.d(),Lt.d(),me.d(),Z&&Z.d(),Te.d(),$&&$.d(),At.d(),Q&&Q.d(),a[47](null),ql(K,p),ql(Y,p),a[51](null),Il(Ke,p),tl=!1,_l()}}}let pe=400;function Ue(a,t){return t==="£"?`${t}${a}`:`${a} ${t}`}function hs(a,t,e){let l,s,r,c;const _=`${Wt}/LAD/Eng_Wales_LSOA_LADs.csv`,I=`${Wt}/LAD/NI_DZ_LAD.csv`,L=`${Wt}/LAD/Scotland_DZ_LA.csv`;let h,v,y,k,b,g={},E={},N,H,S,T,F,j=!1,Ae,re,Ze,De,z,ge,ne,le,ee,ce,{data:Qe}=t;const U=Qe.SEF,G=ma.find(i=>i.id===U)?.id??U,te=ba.find(i=>i.id===U)?.label??U,Ee=ga.find(i=>i.id===U)?.def??U,rt=ya.find(i=>i.id===U)?.description??U,nt=ka.find(i=>i.id===U)?.short_units??U,ae=La.find(i=>i.id===U)?.units??U;let ue,Oe,xe=!1,we="";const se=["overview","compare"],B={},x={};let Fe=!1;async function Se(){try{const i=new Set,q=await nl(_);for(let J of q){const R=J.LAD22CD?.trim(),de=J.LAD22NM?.trim(),X=J.LSOA11CD?.trim();X&&R&&e(41,x[X]=R,x),!i.has(R)&&R&&de&&(e(5,B[R]=de,B),i.add(R))}const P=await nl(I);for(let J of P){const R=J.LGD2014_code?.trim(),de=J.LGD2014_name?.trim(),X=J.DZ2021_code?.trim();X&&R&&e(41,x[X]=R,x),!i.has(R)&&R&&de&&(e(5,B[R]=de,B),i.add(R))}const We=await nl(L);for(let J of We){const R=J.LA_Code?.trim(),de=J.LA_Name?.trim(),X=J.DZ2011_Code?.trim();X&&R&&e(41,x[X]=R,x),!i.has(R)&&R&&de&&(e(5,B[R]=de,B),i.add(R))}e(42,Fe=!0),console.log("Loaded LAD names:",Object.keys(B).length,B),console.log("SmallArea → LAD mapping:",Object.keys(x).length,x)}catch(i){console.error("Error loading LAD names:",i)}}function ct(i){if(!i)return"Unknown";const q=x[i];return q?B[q]||"Unknown Name":"Unknown LAD"}Se();function Pe(){const i=window.scrollY;e(19,xe=i>250);for(const q of se){const P=document.getElementById(q);if(!P)continue;const We=P.getBoundingClientRect();if(We.top<=150&&We.bottom>=150){we!==q&&il.capture("section entered (sef)",{section_name:q}),we=q;break}}}sa(()=>(Aa(h),window.addEventListener("scroll",Pe),Pe(),()=>window.removeEventListener("scroll",Pe))),ia(()=>{window.removeEventListener("scroll",Pe)});async function ut(){e(33,N=await St(Sa(U))),console.log("totals",N),e(2,T=await St(Va(U))),console.log("LAD data 1 ",T),e(34,H=await St(Ca(U))),console.log("by cobens",H),e(35,F=await St(Ia(U))),console.log("LADsef",F),S=await St(qa()),console.log("per_capita_data",S),ol.forEach(i=>{e(34,H[i]=+H[i],H)}),e(36,j=!0),Ea(h)}ut().then(()=>{e(17,ue=new va(N,"LSOA",Oe,"val",!1,"Lookup_Value",!1)),ue.initMap()});let _e=new Set;function W(i){_e.has(i)?_e.delete(i):_e.add(i),e(20,_e=new Set(_e))}let ve=!1;function ft(){e(21,ve=!0),setTimeout(()=>{e(6,Ve=!Ve),e(21,ve=!1)},1e3)}let Ve=!0;function dt(){const i=Pl(N,q=>q.val)??0;Oa(za().thresholds(20).value(q=>q.val)(N),q=>q.length),e(9,v.innerHTML="",v),v?.append(it({height:pe/1.9,width:pe*1.7,marginLeft:60,marginTop:30,marginRight:20,marginBottom:50,x:{label:`${ae}`},y:{label:l===T?"No. of LADs":"No. of LSOAs",labelArrow:!1},style:{fontSize:"16px"},marks:[_a(l,Ha({y:"count"},{x:{value:"val",thresholds:20},fill:"black",fillOpacity:.5,stroke:"black",srokeWidth:5})),ot([i],{stroke:"#BD210E",strokeWidth:4,channels:{average:{value:i,label:"Average"}},tip:{format:{average:q=>`${q.toFixed(2)}`,x:!1}}}),wt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}))}function Ce(){const i=Bl[G],q=i?Object.keys(i).map(Number):l.filter(P=>P.SEFMAME==G).map(P=>P.SE);e(11,k.innerHTML="",k),k?.append(it({height:pe/1.9,width:pe*1.7,marginLeft:60,marginTop:30,marginRight:20,marginBottom:G==="Typology"?80:50,x:{domain:q,label:wa(G),tickFormat:P=>i?.[P]??P,tickRotate:G==="Typology"?-10:0,padding:.5},style:{fontSize:"16px"},marks:[Dt([0],{stroke:"#333",strokeWidth:.75}),ot([0],{stroke:"#333",strokeWidth:.75}),ha(l,Hl({y:"count"},{x:"val",fill:"black",opacity:.5,tooltip:!0,title:P=>`Count: ${P.count}`})),pa(l,Hl({y:"count",text:"count"},{x:"val",text:P=>P.count,dy:-15,fill:"#333",fontWeight:500})),Et({label:l===T?"No. of LADs":"No. of LSOAs",labelArrow:!1})]}))}function Vt(){e(10,y.innerHTML="",y),y?.append(it({height:pe*1.5,width:pe*2,marginLeft:60,marginTop:60,marginRight:10,marginBottom:60,x:{grid:!1},y:{grid:!0},style:{fontSize:"16px"},marks:[Dt([0],{stroke:"#333",strokeWidth:.75}),ot([0],{stroke:"#333",strokeWidth:.75}),Gt(l,{x:G=="Rurality"?i=>i.val+(Math.random()-.5)*.02:i=>i.val,y:i=>i.total_per_capita*1e3,fill:i=>i.total_per_capita<0?"#BD210E":"#242424",r:l===T?4:.9,fillOpacity:.75,channels:{location:{value:i=>l===T?B[i.Lookup_Value]||"Unknown":ct(i.Lookup_Value),label:"Location"},sef:{value:"val",label:`${ae}`},value:{value:i=>i.total_per_capita*1e3,label:"Co-Benefit Value (£, thousand)"}},tip:{format:{location:!0,sef:!0,value:!0,x:!1,y:!1}}}),Et({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"center"}),wt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}))}function ht(){e(12,b.innerHTML="",b),b?.append(it({height:pe*1.5,width:pe*2,marginLeft:60,marginTop:60,marginRight:10,marginBottom:60,x:{grid:!1},y:{grid:!0},style:{fontSize:"16px"},marks:[Dt([0],{stroke:"#333",strokeWidth:1.25}),ot([0],{stroke:"#333",strokeWidth:.75}),Gt(l,{x:s===F?i=>i.val+(Math.random()-.5)*.05:i=>i.val+(Math.random()-.5)*.1,y:i=>i.total_per_capita*1e3,fill:i=>i.total_per_capita<0?"#BD210E":"#242424",r:l===T?4:.9,fillOpacity:.75,channels:{location:{value:"Lookup_Value",label:"Location"},sef:{value:"val",label:`${ae}`},value:{value:i=>i.total_per_capita*1e3,label:"Co-Benefit Value (£, thousand)"}},tip:{format:{location:!0,sef:!0,value:!0,x:!1,y:!1}}}),Et({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"center"}),wt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}))}function Ie(){ol.forEach(i=>{let q;q=it({height:pe,width:pe,marginLeft:i==="Excess heat"?80:60,marginTop:40,marginRight:10,marginBottom:50,x:{label:null},y:{label:null},style:{fontSize:"14px"},marks:[Dt([0],{stroke:"#333",strokeWidth:1.25}),ot([0],{stroke:"#333",strokeWidth:.75}),Gt(s.filter(P=>P.co_benefit_type==i),{x:G=="Rurality"?P=>P.val+(Math.random()-.5)*.02:P=>P.val,y:"total",fill:jt(i),fillOpacity:.5,r:s===F?3.5:.5,channels:{location:{value:P=>l===T?B[P.Lookup_Value]||"Unknown":ct(P.Lookup_Value),label:"Location"}},tip:{format:{location:!0,x:!1,y:!1}}}),Et({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"top"}),wt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}),g[i]?.append(q)})}function Ct(){ol.forEach(i=>{let q;q=it({height:pe,width:pe,marginLeft:60,marginTop:40,marginRight:10,marginBottom:50,x:{label:null},y:{label:null},style:{fontSize:"14px"},marks:[Dt([0],{stroke:"#333",strokeWidth:1.25}),ot([0],{stroke:"#333",strokeWidth:.75}),Gt(s.filter(P=>P.co_benefit_type==i),{x:s===F?P=>P.val+(Math.random()-.5)*.1:P=>P.val+(Math.random()-.5)*.2,y:"total",fill:jt(i),fillOpacity:.5,r:s===F?3.5:.5,channels:{location:{value:"Lookup_Value",label:"Location"}},tip:{format:{location:!0,x:!1,y:!1}}}),Et({label:"Per capita co-benefit value (£, thousand)",labelArrow:!1,labelAnchor:"top"}),wt({label:`${ae}`,labelArrow:!1,labelAnchor:"center"})]}),E[i]?.append(q)})}function pt(i){ze[i?"unshift":"push"](()=>{k=i,e(11,k)})}function $e(i){ze[i?"unshift":"push"](()=>{v=i,e(9,v)})}function qe(i){ze[i?"unshift":"push"](()=>{b=i,e(12,b)})}function _t(i){ze[i?"unshift":"push"](()=>{y=i,e(10,y)})}function ye(i){ze[i?"unshift":"push"](()=>{Oe=i,e(18,Oe)})}const Ne=i=>{const q=_e.has(i.id);W(i.id),q?il.capture("cobenefit closed",{cobenefit:i.label}):il.capture("cobenefit opened",{cobenefit:i.label})};function It(i,q){ze[i?"unshift":"push"](()=>{E[q.id]=i,e(1,E)})}function vt(i,q){ze[i?"unshift":"push"](()=>{g[q.id]=i,e(0,g)})}function fe(i){ze[i?"unshift":"push"](()=>{h=i,e(8,h)})}return a.$$set=i=>{"data"in i&&e(32,Qe=i.data)},a.$$.update=()=>{a.$$.dirty[0]&68|a.$$.dirty[1]&4&&e(7,l=Ve?T:N),a.$$.dirty[0]&64|a.$$.dirty[1]&24&&(s=Ve?F:H),a.$$.dirty[0]&128&&e(13,Ae=l?(Pl(l,i=>i.val)??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&128&&e(39,ee=l?ua(l,i=>i.val):null),a.$$.dirty[1]&768&&e(14,re=ee!=null&&ce?ce[ee]??ee:"N/A"),a.$$.dirty[0]&128&&e(37,ge=l?fa(l,i=>i.val):-1),a.$$.dirty[0]&128|a.$$.dirty[1]&64&&e(3,z=ge!==-1&&l?l[ge].Lookup_Value?.trim()??"N/A":"N/A"),a.$$.dirty[0]&128|a.$$.dirty[1]&64&&e(15,Ze=ge!==-1&&l?(l[ge].val??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&128&&e(38,le=l?da(l,i=>i.val):-1),a.$$.dirty[0]&128|a.$$.dirty[1]&128&&e(4,ne=le!==-1&&l?l[le].Lookup_Value?.trim()??"N/A":"N/A"),a.$$.dirty[0]&128|a.$$.dirty[1]&128&&e(16,De=le!==-1&&l?(l[le].val??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"N/A"),a.$$.dirty[0]&172|a.$$.dirty[1]&3072&&e(23,r=Fe&&z!=="N/A"?l===T?B[z]??z:B[x[z]]??z:"Loading..."),a.$$.dirty[0]&180|a.$$.dirty[1]&3072&&e(22,c=Fe&&ne!=="N/A"?l===T?B[ne]??ne:B[x[ne]]??ne:"Loading..."),a.$$.dirty[0]&8&&console.log("maxLookupValue:",z),a.$$.dirty[0]&40&&console.log("LAD name for maxLookupValue:",B[z]),a.$$.dirty[0]&131|a.$$.dirty[1]&32&&(Object.values(g).forEach(i=>{i.firstChild?.remove()}),Object.values(E).forEach(i=>{i.firstChild?.remove()}),j&&l&&(Xe.includes(G)?(Ce(),Ct(),ht()):(Vt(),Ie(),dt())))},e(40,ce=Bl[G]),[g,E,T,z,ne,B,Ve,l,h,v,y,k,b,Ae,re,Ze,De,ue,Oe,xe,_e,ve,c,r,G,te,Ee,rt,nt,ae,W,ft,Qe,N,H,F,j,ge,le,ee,ce,x,Fe,pt,$e,qe,_t,ye,Ne,It,vt,fe]}class Fs extends ta{constructor(t){super(),la(this,t,hs,ds,aa,{data:32},null,[-1,-1,-1])}}export{Fs as component};
