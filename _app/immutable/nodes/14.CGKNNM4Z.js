import{s as Ie,d as g,x as Te,y as ue,i as te,b as t,z as Z,q as e,g as E,c as r,e as x,p as V,j as y,h as c,v as Be,A as fe,w as De,n as Ne,B as Me,f as Se,t as xe}from"../chunks/B9XzmCUZ.js";import{S as Pe,i as Ve,d as Fe,t as Ue,a as we,m as He,c as Oe,b as je}from"../chunks/D6lOsQeQ.js";import{N as qe,e as de}from"../chunks/BRcnb727.js";import"../chunks/DRyxMU8n.js";import"../chunks/BZW538Bk.js";import{M as ze}from"../chunks/DT3N6WES.js";import{g as ce,d as be,e as Ce,f as Ye,h as Ge}from"../chunks/BzXIH_FN.js";import{C as ge,S as ke,g as Re}from"../chunks/RqbpEnOX.js";function Ee(i,a,l){const h=i.slice();return h[30]=a[l],h}function ye(i,a,l){const h=i.slice();return h[27]=a[l],h}function Ze(i){let a,l,h="Social Economic Factor",_,m,b=de(ke),n=[];for(let f=0;f<b.length;f+=1)n[f]=Le(Ee(i,b,f));return{c(){a=c("div"),l=c("h2"),l.textContent=h,_=y(),m=c("div");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){a=r(f,"DIV",{class:!0});var s=x(a);l=r(s,"H2",{"data-svelte-h":!0}),V(l)!=="svelte-1ld89ev"&&(l.textContent=h),_=E(s),m=r(s,"DIV",{id:!0,class:!0});var u=x(m);for(let v=0;v<n.length;v+=1)n[v].l(u);u.forEach(g),s.forEach(g),this.h()},h(){e(m,"id","time"),e(m,"class","svelte-1fccofk"),e(a,"class","tabcontent svelte-1fccofk")},m(f,s){te(f,a,s),t(a,l),t(a,_),t(a,m);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(m,null)},p(f,s){if(s[0]&514){b=de(ke);let u;for(u=0;u<b.length;u+=1){const v=Ee(f,b,u);n[u]?n[u].p(v,s):(n[u]=Le(v),n[u].c(),n[u].m(m,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=b.length}},d(f){f&&g(a),De(n,f)}}}function Je(i){let a,l,h,_="Co-Benefits",m,b,n,f,s="Time",u,v,C,D,L,A="Total",T,F,M,q,P="2025-2029",O,I,z,Y,U="2030-2034",le,G,o,B,ne="2035-2039",W,$,J,H,se="2040-2044",X,ee,K,j,oe="2045-2049",re,ie,R=de(ge),p=[];for(let d=0;d<R.length;d+=1)p[d]=Ae(ye(i,R,d));return{c(){a=c("div"),l=c("div"),h=c("h2"),h.textContent=_,m=y();for(let d=0;d<p.length;d+=1)p[d].c();b=y(),n=c("div"),f=c("h2"),f.textContent=s,u=y(),v=c("div"),C=c("label"),D=c("input"),L=c("span"),L.textContent=A,T=y(),F=c("label"),M=c("input"),q=c("span"),q.textContent=P,O=y(),I=c("label"),z=c("input"),Y=c("span"),Y.textContent=U,le=y(),G=c("label"),o=c("input"),B=c("span"),B.textContent=ne,W=y(),$=c("label"),J=c("input"),H=c("span"),H.textContent=se,X=y(),ee=c("label"),K=c("input"),j=c("span"),j.textContent=oe,this.h()},l(d){a=r(d,"DIV",{class:!0});var S=x(a);l=r(S,"DIV",{class:!0});var k=x(l);h=r(k,"H2",{"data-svelte-h":!0}),V(h)!=="svelte-uglilz"&&(h.textContent=_),m=E(k);for(let _e=0;_e<p.length;_e+=1)p[_e].l(k);k.forEach(g),b=E(S),n=r(S,"DIV",{class:!0});var w=x(n);f=r(w,"H2",{"data-svelte-h":!0}),V(f)!=="svelte-hletp"&&(f.textContent=s),u=E(w),v=r(w,"DIV",{id:!0,class:!0});var N=x(v);C=r(N,"LABEL",{class:!0});var ae=x(C);D=r(ae,"INPUT",{type:!0,name:!0,class:!0}),L=r(ae,"SPAN",{class:!0,"data-svelte-h":!0}),V(L)!=="svelte-2fqrek"&&(L.textContent=A),ae.forEach(g),T=E(N),F=r(N,"LABEL",{class:!0});var Q=x(F);M=r(Q,"INPUT",{type:!0,name:!0,class:!0}),q=r(Q,"SPAN",{class:!0,"data-svelte-h":!0}),V(q)!=="svelte-177152l"&&(q.textContent=P),Q.forEach(g),O=E(N),I=r(N,"LABEL",{class:!0});var ve=x(I);z=r(ve,"INPUT",{type:!0,name:!0,class:!0}),Y=r(ve,"SPAN",{class:!0,"data-svelte-h":!0}),V(Y)!=="svelte-sne3j9"&&(Y.textContent=U),ve.forEach(g),le=E(N),G=r(N,"LABEL",{class:!0});var he=x(G);o=r(he,"INPUT",{type:!0,name:!0,class:!0}),B=r(he,"SPAN",{class:!0,"data-svelte-h":!0}),V(B)!=="svelte-13ifhof"&&(B.textContent=ne),he.forEach(g),W=E(N),$=r(N,"LABEL",{class:!0});var pe=x($);J=r(pe,"INPUT",{type:!0,name:!0,class:!0}),H=r(pe,"SPAN",{class:!0,"data-svelte-h":!0}),V(H)!=="svelte-1pug1mv"&&(H.textContent=se),pe.forEach(g),X=E(N),ee=r(N,"LABEL",{class:!0});var me=x(ee);K=r(me,"INPUT",{type:!0,name:!0,class:!0}),j=r(me,"SPAN",{class:!0,"data-svelte-h":!0}),V(j)!=="svelte-3f05xd"&&(j.textContent=oe),me.forEach(g),N.forEach(g),w.forEach(g),S.forEach(g),this.h()},h(){e(l,"class","component"),e(D,"type","radio"),e(D,"name","toggle"),D.value="total",D.checked=!0,e(D,"class","svelte-1fccofk"),e(L,"class","svelte-1fccofk"),e(C,"class","time-radio svelte-1fccofk"),e(M,"type","radio"),e(M,"name","toggle"),M.value="Y2025_2029",e(M,"class","svelte-1fccofk"),e(q,"class","svelte-1fccofk"),e(F,"class","time-radio svelte-1fccofk"),e(z,"type","radio"),e(z,"name","toggle"),z.value="Y2030_2034",e(z,"class","svelte-1fccofk"),e(Y,"class","svelte-1fccofk"),e(I,"class","time-radio svelte-1fccofk"),e(o,"type","radio"),e(o,"name","toggle"),o.value="Y2035_2039",e(o,"class","svelte-1fccofk"),e(B,"class","svelte-1fccofk"),e(G,"class","time-radio svelte-1fccofk"),e(J,"type","radio"),e(J,"name","toggle"),J.value="Y2040_2044",e(J,"class","svelte-1fccofk"),e(H,"class","svelte-1fccofk"),e($,"class","time-radio svelte-1fccofk"),e(K,"type","radio"),e(K,"name","toggle"),K.value="Y2045_2049",e(K,"class","svelte-1fccofk"),e(j,"class","svelte-1fccofk"),e(ee,"class","time-radio svelte-1fccofk"),e(v,"id","time"),e(v,"class","svelte-1fccofk"),e(n,"class","component"),e(a,"class","tabcontent svelte-1fccofk")},m(d,S){te(d,a,S),t(a,l),t(l,h),t(l,m);for(let k=0;k<p.length;k+=1)p[k]&&p[k].m(l,null);t(a,b),t(a,n),t(n,f),t(n,u),t(n,v),t(v,C),t(C,D),t(C,L),t(v,T),t(v,F),t(F,M),t(F,q),t(v,O),t(v,I),t(I,z),t(I,Y),t(v,le),t(v,G),t(G,o),t(G,B),t(v,W),t(v,$),t($,J),t($,H),t(v,X),t(v,ee),t(ee,K),t(ee,j),re||(ie=[Z(D,"change",i[7]),Z(M,"change",i[7]),Z(z,"change",i[7]),Z(o,"change",i[7]),Z(J,"change",i[7]),Z(K,"change",i[7])],re=!0)},p(d,S){if(S[0]&64){R=de(ge);let k;for(k=0;k<R.length;k+=1){const w=ye(d,R,k);p[k]?p[k].p(w,S):(p[k]=Ae(w),p[k].c(),p[k].m(l,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=R.length}},d(d){d&&g(a),De(p,d),re=!1,Te(ie)}}}function Le(i){let a,l,h,_,m,b,n,f;return{c(){a=c("input"),h=y(),_=c("label"),m=xe(i[30]),b=c("br"),this.h()},l(s){a=r(s,"INPUT",{type:!0,id:!0,name:!0,class:!0}),h=E(s),_=r(s,"LABEL",{for:!0});var u=x(_);m=Se(u,i[30]),u.forEach(g),b=r(s,"BR",{}),this.h()},h(){e(a,"type","radio"),e(a,"id","html"),e(a,"name","fav_language"),a.value=i[30],a.checked=l=i[30]==i[1],e(a,"class","svelte-1fccofk"),e(_,"for","html")},m(s,u){te(s,a,u),te(s,h,u),te(s,_,u),t(_,m),te(s,b,u),n||(f=Z(a,"change",i[9]),n=!0)},p(s,u){u[0]&2&&l!==(l=s[30]==s[1])&&(a.checked=l)},d(s){s&&(g(a),g(h),g(_),g(b)),n=!1,f()}}}function Ae(i){let a,l,h,_,m,b,n,f=i[27].label+"",s,u,v,C,D,L;return{c(){a=c("div"),l=c("img"),_=y(),m=c("input"),b=y(),n=c("label"),s=xe(f),u=y(),v=c("br"),C=y(),this.h()},l(A){a=r(A,"DIV",{class:!0});var T=x(a);l=r(T,"IMG",{alt:!0,class:!0,src:!0}),_=E(T),m=r(T,"INPUT",{type:!0,name:!0}),b=E(T),n=r(T,"LABEL",{for:!0});var F=x(n);s=Se(F,f),F.forEach(g),u=E(T),v=r(T,"BR",{}),C=E(T),T.forEach(g),this.h()},h(){e(l,"alt","cobenefit icon"),e(l,"class","icon svelte-1fccofk"),Me(l.src,h=Re(i[27].id))||e(l,"src",h),e(m,"type","radio"),e(m,"name","cobenef"),m.value=i[27].id,m.checked=!0,e(n,"for","css"),e(a,"class","checkbox-div svelte-1fccofk")},m(A,T){te(A,a,T),t(a,l),t(a,_),t(a,m),t(a,b),t(a,n),t(n,s),t(a,u),t(a,v),t(a,C),D||(L=Z(m,"change",i[6]),D=!0)},p:Ne,d(A){A&&g(a),D=!1,L()}}}function Ke(i){let a,l,h,_,m="<h2>Map</h2> <p>This interactive map allows to explore both the co-benefit values and the socio-economic factor at the local authorities and datazones levels.</p>",b,n,f,s,u="",v,C,D="",L,A,T="Export",F,M,q,P,O,I,z="CoBenefits",Y,U,le="Socio-Economic Factors",G,o,B,ne,W,$="Local Authorities",J,H,se,X,ee="Data Zones",K,j,oe,re;a=new qe({});function ie(d,S){if(d[0]=="Cobenefit")return Je;if(d[0]=="SEF")return Ze}let R=ie(i),p=R&&R(i);return{c(){je(a.$$.fragment),l=y(),h=c("div"),_=c("div"),_.innerHTML=m,b=y(),n=c("div"),f=c("div"),s=c("div"),s.innerHTML=u,v=y(),C=c("div"),C.innerHTML=D,L=y(),A=c("button"),A.textContent=T,F=y(),M=c("div"),q=y(),P=c("div"),O=c("div"),I=c("button"),I.textContent=z,Y=y(),U=c("button"),U.textContent=le,G=y(),o=c("div"),B=c("input"),ne=y(),W=c("label"),W.textContent=$,J=y(),H=c("input"),se=y(),X=c("label"),X.textContent=ee,K=y(),p&&p.c(),this.h()},l(d){Oe(a.$$.fragment,d),l=E(d),h=r(d,"DIV",{class:!0});var S=x(h);_=r(S,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),V(_)!=="svelte-183liw2"&&(_.innerHTML=m),b=E(S),n=r(S,"DIV",{id:!0,class:!0});var k=x(n);f=r(k,"DIV",{class:!0,id:!0});var w=x(f);s=r(w,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1ej9vmv"&&(s.innerHTML=u),v=E(w),C=r(w,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),V(C)!=="svelte-1j653gg"&&(C.innerHTML=D),L=E(w),A=r(w,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),V(A)!=="svelte-zgluur"&&(A.textContent=T),F=E(w),M=r(w,"DIV",{id:!0,class:!0}),x(M).forEach(g),w.forEach(g),q=E(k),P=r(k,"DIV",{class:!0,id:!0});var N=x(P);O=r(N,"DIV",{class:!0});var ae=x(O);I=r(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),V(I)!=="svelte-1dc450"&&(I.textContent=z),Y=E(ae),U=r(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),V(U)!=="svelte-1bnouoj"&&(U.textContent=le),ae.forEach(g),G=E(N),o=r(N,"DIV",{class:!0});var Q=x(o);B=r(Q,"INPUT",{type:!0,name:!0}),ne=E(Q),W=r(Q,"LABEL",{for:!0,"data-svelte-h":!0}),V(W)!=="svelte-p8irzv"&&(W.textContent=$),J=E(Q),H=r(Q,"INPUT",{type:!0,name:!0}),se=E(Q),X=r(Q,"LABEL",{for:!0,"data-svelte-h":!0}),V(X)!=="svelte-1ytveqc"&&(X.textContent=ee),Q.forEach(g),K=E(N),p&&p.l(N),N.forEach(g),k.forEach(g),S.forEach(g),this.h()},h(){e(_,"class","component"),e(_,"id","heaser"),e(s,"id","map"),e(s,"class","svelte-1fccofk"),e(C,"id","map-legend"),e(C,"class","svelte-1fccofk"),e(A,"id","export-button"),e(A,"class","svelte-1fccofk"),e(M,"id","tooltip"),e(M,"class","tooltip svelte-1fccofk"),e(f,"class","component column svelte-1fccofk"),e(f,"id","mapComp"),e(I,"class","tablinks svelte-1fccofk"),I.value="Cobenefit",ue(I,"active",i[0]=="Cobenefit"),e(U,"class","tablinks svelte-1fccofk"),U.value="SEF",ue(U,"active",i[0]=="SEF"),e(O,"class","tab svelte-1fccofk"),e(B,"type","radio"),e(B,"name","granularity"),B.value="LAD",B.checked=!0,e(W,"for","LAD"),e(H,"type","radio"),e(H,"name","granularity"),H.value="LSOA",e(X,"for","LSOA"),e(o,"class","component"),e(P,"class","component column svelte-1fccofk"),e(P,"id","control-panel"),e(n,"id","map-row"),e(n,"class","row svelte-1fccofk"),e(h,"class","page-container svelte-1fccofk")},m(d,S){He(a,d,S),te(d,l,S),te(d,h,S),t(h,_),t(h,b),t(h,n),t(n,f),t(f,s),i[18](s),t(f,v),t(f,C),i[19](C),t(f,L),t(f,A),i[20](A),t(f,F),t(f,M),t(n,q),t(n,P),t(P,O),t(O,I),t(O,Y),t(O,U),t(P,G),t(P,o),t(o,B),t(o,ne),t(o,W),t(o,J),t(o,H),t(o,se),t(o,X),t(P,K),p&&p.m(P,null),i[21](h),j=!0,oe||(re=[Z(A,"click",Qe),Z(I,"click",i[8]),Z(U,"click",i[8]),Z(B,"change",i[10]),Z(H,"change",i[10])],oe=!0)},p(d,S){(!j||S[0]&1)&&ue(I,"active",d[0]=="Cobenefit"),(!j||S[0]&1)&&ue(U,"active",d[0]=="SEF"),R===(R=ie(d))&&p?p.p(d,S):(p&&p.d(1),p=R&&R(d),p&&(p.c(),p.m(P,null)))},i(d){j||(we(a.$$.fragment,d),j=!0)},o(d){Ue(a.$$.fragment,d),j=!1},d(d){d&&(g(l),g(h)),Fe(a,d),i[18](null),i[19](null),i[20](null),p&&p.d(),i[21](null),oe=!1,Te(re)}}}function Qe(){const i=document.getElementsByClassName("maplibregl-canvas");console.log(i);const a=i[0].toDataURL("image/png");var l=document.createElement("a");l.download="map.png",l.href=a,l.dataset.downloadurl=["image/png",l.download,l.href].join(":"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function We(i,a,l){let{data:h}=a,_,m,b,n,f,s,u="Cobenefit",v="BNZ",C=new Set(ge.map(o=>o.id)),D="total",L="LAD",A="EPC",T;function F(){b=s.legend(M()),l(4,n.innerHTML="",n),n.append(b)}function M(){if(u=="SEF")return`${A} (Millions of £)`;if(u=="Cobenefit")return"Cobenefits (Millions of £)"}Be(async()=>{let o;L=="LAD"?o=await ce(be(Array.from(C),v,D)):L=="LSOA"&&(o=await ce(Ce(Array.from(C),v,D))),l(12,s=new ze(o,L,m,"val",!1,"Lookup_Value",!0)),s.initMap(),b=s.legend(),n.append(b)});const q=o=>{const B=o.currentTarget.value;l(14,C=[B])},P=o=>{const B=o.currentTarget.value;l(15,D=B)};function O(o,B){l(0,u=o.currentTarget.value)}const I=o=>{l(1,A=o.currentTarget.value)},z=o=>{s.removeLayers(),s.removeSources(),l(16,L=o.currentTarget.value),l(12,s.granularity=L,s)};function Y(o){fe[o?"unshift":"push"](()=>{m=o,l(3,m)})}function U(o){fe[o?"unshift":"push"](()=>{n=o,l(4,n)})}function le(o){fe[o?"unshift":"push"](()=>{f=o,l(5,f)})}function G(o){fe[o?"unshift":"push"](()=>{_=o,l(2,_)})}return i.$$set=o=>{"data"in o&&l(11,h=o.data)},i.$$.update=()=>{i.$$.dirty[0]&258051&&s?.loaded&&(u=="Cobenefit"?L=="LAD"?l(17,T=ce(be(Array.from(C),v,D))):L=="LSOA"&&l(17,T=ce(Ce(Array.from(C),v,D))):l(0,u="SEF")&&(L=="LAD"?l(17,T=ce(Ye(A))):L=="LSOA"&&l(17,T=ce(Ge(A)))),T.then(o=>{s.map.getStyle().layers.length==0&&s.loadLayers(),s.update(o,u),F()}))},[u,A,_,m,n,f,q,P,O,I,z,h,s,v,C,D,L,T,Y,U,le,G]}class ot extends Pe{constructor(a){super(),Ve(this,a,We,Ke,Ie,{data:11},null,[-1,-1])}}export{ot as component};
