import{s as Ie,a as j,e as r,g as A,c as i,b as x,p as w,f as y,q as e,r as ue,i as te,h as t,v as Z,w as Se,x as Be,y as de,z as Te,t as De,d as xe,A as ke,n as Ne}from"../chunks/scheduler.NCp-wYW6.js";import{S as we,i as Me,c as Pe,b as Ve,m as Fe,t as Ue,a as He,d as Oe}from"../chunks/index.C55kfEDL.js";import{N as Ye,e as he}from"../chunks/NavigationBar.umLcDZa4.js";import"../chunks/transform.Cz5Y6iUM.js";import"../chunks/index.Bed_awgu.js";import{M as ze}from"../chunks/map.Zo2QzpJN.js";import{g as ie,c as be,d as ye,e as Ge,f as qe}from"../chunks/duckdb.CLqChu-O.js";import{C as pe,S as Ce,g as Re}from"../chunks/globals.CGdpDOex.js";function Ee(c,a,l){const f=c.slice();return f[30]=a[l],f}function Le(c,a,l){const f=c.slice();return f[27]=a[l],f}function Ze(c){let a,l,f="Social Economic Factor",_,v,C=he(Ce),n=[];for(let u=0;u<C.length;u+=1)n[u]=je(Ee(c,C,u));return{c(){a=r("div"),l=r("h2"),l.textContent=f,_=j(),v=r("div");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){a=i(u,"DIV",{class:!0});var s=x(a);l=i(s,"H2",{"data-svelte-h":!0}),w(l)!=="svelte-1ld89ev"&&(l.textContent=f),_=A(s),v=i(s,"DIV",{id:!0,class:!0});var d=x(v);for(let p=0;p<n.length;p+=1)n[p].l(d);d.forEach(y),s.forEach(y),this.h()},h(){e(v,"id","time"),e(v,"class","svelte-19myphj"),e(a,"class","tabcontent svelte-19myphj")},m(u,s){te(u,a,s),t(a,l),t(a,_),t(a,v);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(v,null)},p(u,s){if(s[0]&514){C=he(Ce);let d;for(d=0;d<C.length;d+=1){const p=Ee(u,C,d);n[d]?n[d].p(p,s):(n[d]=je(p),n[d].c(),n[d].m(v,null))}for(;d<n.length;d+=1)n[d].d(1);n.length=C.length}},d(u){u&&y(a),Te(n,u)}}}function Je(c){let a,l,f,_="Co Benefits",v,C,n,u,s="Time",d,p,g,D,E,b="total",M,O,k,Y,N="2025-2029",U,I,z,G,P="2030-2034",le,q,o,S,ne="2035-2039",W,$,J,F,se="2040-2044",X,ee,K,H,oe="2045-2049",re,ce,R=he(pe),m=[];for(let h=0;h<R.length;h+=1)m[h]=Ae(Le(c,R,h));return{c(){a=r("div"),l=r("div"),f=r("h2"),f.textContent=_,v=j();for(let h=0;h<m.length;h+=1)m[h].c();C=j(),n=r("div"),u=r("h2"),u.textContent=s,d=j(),p=r("div"),g=r("label"),D=r("input"),E=r("span"),E.textContent=b,M=j(),O=r("label"),k=r("input"),Y=r("span"),Y.textContent=N,U=j(),I=r("label"),z=r("input"),G=r("span"),G.textContent=P,le=j(),q=r("label"),o=r("input"),S=r("span"),S.textContent=ne,W=j(),$=r("label"),J=r("input"),F=r("span"),F.textContent=se,X=j(),ee=r("label"),K=r("input"),H=r("span"),H.textContent=oe,this.h()},l(h){a=i(h,"DIV",{class:!0});var T=x(a);l=i(T,"DIV",{class:!0});var L=x(l);f=i(L,"H2",{"data-svelte-h":!0}),w(f)!=="svelte-8wtja0"&&(f.textContent=_),v=A(L);for(let _e=0;_e<m.length;_e+=1)m[_e].l(L);L.forEach(y),C=A(T),n=i(T,"DIV",{class:!0});var V=x(n);u=i(V,"H2",{"data-svelte-h":!0}),w(u)!=="svelte-hletp"&&(u.textContent=s),d=A(V),p=i(V,"DIV",{id:!0,class:!0});var B=x(p);g=i(B,"LABEL",{class:!0});var ae=x(g);D=i(ae,"INPUT",{type:!0,name:!0,class:!0}),E=i(ae,"SPAN",{class:!0,"data-svelte-h":!0}),w(E)!=="svelte-67wc0s"&&(E.textContent=b),ae.forEach(y),M=A(B),O=i(B,"LABEL",{class:!0});var Q=x(O);k=i(Q,"INPUT",{type:!0,name:!0,class:!0}),Y=i(Q,"SPAN",{class:!0,"data-svelte-h":!0}),w(Y)!=="svelte-177152l"&&(Y.textContent=N),Q.forEach(y),U=A(B),I=i(B,"LABEL",{class:!0});var fe=x(I);z=i(fe,"INPUT",{type:!0,name:!0,class:!0}),G=i(fe,"SPAN",{class:!0,"data-svelte-h":!0}),w(G)!=="svelte-sne3j9"&&(G.textContent=P),fe.forEach(y),le=A(B),q=i(B,"LABEL",{class:!0});var me=x(q);o=i(me,"INPUT",{type:!0,name:!0,class:!0}),S=i(me,"SPAN",{class:!0,"data-svelte-h":!0}),w(S)!=="svelte-13ifhof"&&(S.textContent=ne),me.forEach(y),W=A(B),$=i(B,"LABEL",{class:!0});var ve=x($);J=i(ve,"INPUT",{type:!0,name:!0,class:!0}),F=i(ve,"SPAN",{class:!0,"data-svelte-h":!0}),w(F)!=="svelte-1pug1mv"&&(F.textContent=se),ve.forEach(y),X=A(B),ee=i(B,"LABEL",{class:!0});var ge=x(ee);K=i(ge,"INPUT",{type:!0,name:!0,class:!0}),H=i(ge,"SPAN",{class:!0,"data-svelte-h":!0}),w(H)!=="svelte-3f05xd"&&(H.textContent=oe),ge.forEach(y),B.forEach(y),V.forEach(y),T.forEach(y),this.h()},h(){e(l,"class","component"),e(D,"type","radio"),e(D,"name","toggle"),D.value="total",D.checked=!0,e(D,"class","svelte-19myphj"),e(E,"class","svelte-19myphj"),e(g,"class","time-radio svelte-19myphj"),e(k,"type","radio"),e(k,"name","toggle"),k.value="Y2025_2029",e(k,"class","svelte-19myphj"),e(Y,"class","svelte-19myphj"),e(O,"class","time-radio svelte-19myphj"),e(z,"type","radio"),e(z,"name","toggle"),z.value="Y2030_2034",e(z,"class","svelte-19myphj"),e(G,"class","svelte-19myphj"),e(I,"class","time-radio svelte-19myphj"),e(o,"type","radio"),e(o,"name","toggle"),o.value="Y2035_2039",e(o,"class","svelte-19myphj"),e(S,"class","svelte-19myphj"),e(q,"class","time-radio svelte-19myphj"),e(J,"type","radio"),e(J,"name","toggle"),J.value="Y2040_2044",e(J,"class","svelte-19myphj"),e(F,"class","svelte-19myphj"),e($,"class","time-radio svelte-19myphj"),e(K,"type","radio"),e(K,"name","toggle"),K.value="Y2045_2049",e(K,"class","svelte-19myphj"),e(H,"class","svelte-19myphj"),e(ee,"class","time-radio svelte-19myphj"),e(p,"id","time"),e(p,"class","svelte-19myphj"),e(n,"class","component"),e(a,"class","tabcontent svelte-19myphj")},m(h,T){te(h,a,T),t(a,l),t(l,f),t(l,v);for(let L=0;L<m.length;L+=1)m[L]&&m[L].m(l,null);t(a,C),t(a,n),t(n,u),t(n,d),t(n,p),t(p,g),t(g,D),t(g,E),t(p,M),t(p,O),t(O,k),t(O,Y),t(p,U),t(p,I),t(I,z),t(I,G),t(p,le),t(p,q),t(q,o),t(q,S),t(p,W),t(p,$),t($,J),t($,F),t(p,X),t(p,ee),t(ee,K),t(ee,H),re||(ce=[Z(D,"change",c[7]),Z(k,"change",c[7]),Z(z,"change",c[7]),Z(o,"change",c[7]),Z(J,"change",c[7]),Z(K,"change",c[7])],re=!0)},p(h,T){if(T[0]&64){R=he(pe);let L;for(L=0;L<R.length;L+=1){const V=Le(h,R,L);m[L]?m[L].p(V,T):(m[L]=Ae(V),m[L].c(),m[L].m(l,null))}for(;L<m.length;L+=1)m[L].d(1);m.length=R.length}},d(h){h&&y(a),Te(m,h),re=!1,Se(ce)}}}function je(c){let a,l,f,_,v,C,n,u;return{c(){a=r("input"),f=j(),_=r("label"),v=De(c[30]),C=r("br"),this.h()},l(s){a=i(s,"INPUT",{type:!0,id:!0,name:!0,class:!0}),f=A(s),_=i(s,"LABEL",{for:!0});var d=x(_);v=xe(d,c[30]),d.forEach(y),C=i(s,"BR",{}),this.h()},h(){e(a,"type","radio"),e(a,"id","html"),e(a,"name","fav_language"),a.value=c[30],a.checked=l=c[30]==c[1],e(a,"class","svelte-19myphj"),e(_,"for","html")},m(s,d){te(s,a,d),te(s,f,d),te(s,_,d),t(_,v),te(s,C,d),n||(u=Z(a,"change",c[9]),n=!0)},p(s,d){d[0]&2&&l!==(l=s[30]==s[1])&&(a.checked=l)},d(s){s&&(y(a),y(f),y(_),y(C)),n=!1,u()}}}function Ae(c){let a,l,f,_,v,C,n,u,s,d,p,g,D;return{c(){a=r("div"),l=r("img"),_=j(),v=r("input"),C=j(),n=r("label"),u=De(c[27]),s=j(),d=r("br"),p=j(),this.h()},l(E){a=i(E,"DIV",{class:!0});var b=x(a);l=i(b,"IMG",{alt:!0,class:!0,src:!0}),_=A(b),v=i(b,"INPUT",{type:!0,name:!0}),C=A(b),n=i(b,"LABEL",{for:!0});var M=x(n);u=xe(M,c[27]),M.forEach(y),s=A(b),d=i(b,"BR",{}),p=A(b),b.forEach(y),this.h()},h(){e(l,"alt","cobenefit icon"),e(l,"class","icon svelte-19myphj"),ke(l.src,f=Re(c[27]))||e(l,"src",f),e(v,"type","checkbox"),e(v,"name","cobenef"),v.value=c[27],v.checked=!0,e(n,"for","css"),e(a,"class","checkbox-div svelte-19myphj")},m(E,b){te(E,a,b),t(a,l),t(a,_),t(a,v),t(a,C),t(a,n),t(n,u),t(a,s),t(a,d),t(a,p),g||(D=Z(v,"change",c[6]),g=!0)},p:Ne,d(E){E&&y(a),g=!1,D()}}}function Ke(c){let a,l,f,_,v=`<h2>Map</h2> <p>This interactive map shows the co-benefit of each datazone. The pathway and time window can be selected,
            along a given set of co-benefits.</p>`,C,n,u,s,d="",p,g,D="",E,b,M="Export",O,k,Y,N,U,I,z="CoBenefits",G,P,le="Socio-Economic Factors",q,o,S,ne,W,$="LAD",J,F,se,X,ee="LSOA",K,H,oe,re;a=new Ye({});function ce(h,T){if(h[0]=="Cobenefit")return Je;if(h[0]=="SEF")return Ze}let R=ce(c),m=R&&R(c);return{c(){Pe(a.$$.fragment),l=j(),f=r("div"),_=r("div"),_.innerHTML=v,C=j(),n=r("div"),u=r("div"),s=r("div"),s.innerHTML=d,p=j(),g=r("div"),g.innerHTML=D,E=j(),b=r("button"),b.textContent=M,O=j(),k=r("div"),Y=j(),N=r("div"),U=r("div"),I=r("button"),I.textContent=z,G=j(),P=r("button"),P.textContent=le,q=j(),o=r("div"),S=r("input"),ne=j(),W=r("label"),W.textContent=$,J=j(),F=r("input"),se=j(),X=r("label"),X.textContent=ee,K=j(),m&&m.c(),this.h()},l(h){Ve(a.$$.fragment,h),l=A(h),f=i(h,"DIV",{class:!0});var T=x(f);_=i(T,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),w(_)!=="svelte-mj8vf3"&&(_.innerHTML=v),C=A(T),n=i(T,"DIV",{id:!0,class:!0});var L=x(n);u=i(L,"DIV",{class:!0,id:!0});var V=x(u);s=i(V,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),w(s)!=="svelte-1ej9vmv"&&(s.innerHTML=d),p=A(V),g=i(V,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),w(g)!=="svelte-1j653gg"&&(g.innerHTML=D),E=A(V),b=i(V,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),w(b)!=="svelte-zgluur"&&(b.textContent=M),O=A(V),k=i(V,"DIV",{id:!0,class:!0}),x(k).forEach(y),V.forEach(y),Y=A(L),N=i(L,"DIV",{class:!0,id:!0});var B=x(N);U=i(B,"DIV",{class:!0});var ae=x(U);I=i(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),w(I)!=="svelte-1dc450"&&(I.textContent=z),G=A(ae),P=i(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),w(P)!=="svelte-1bnouoj"&&(P.textContent=le),ae.forEach(y),q=A(B),o=i(B,"DIV",{class:!0});var Q=x(o);S=i(Q,"INPUT",{type:!0,name:!0}),ne=A(Q),W=i(Q,"LABEL",{for:!0,"data-svelte-h":!0}),w(W)!=="svelte-1yt3ls4"&&(W.textContent=$),J=A(Q),F=i(Q,"INPUT",{type:!0,name:!0}),se=A(Q),X=i(Q,"LABEL",{for:!0,"data-svelte-h":!0}),w(X)!=="svelte-1oa0u5m"&&(X.textContent=ee),Q.forEach(y),K=A(B),m&&m.l(B),B.forEach(y),L.forEach(y),T.forEach(y),this.h()},h(){e(_,"class","component"),e(_,"id","heaser"),e(s,"id","map"),e(s,"class","svelte-19myphj"),e(g,"id","map-legend"),e(g,"class","svelte-19myphj"),e(b,"id","export-button"),e(b,"class","svelte-19myphj"),e(k,"id","tooltip"),e(k,"class","tooltip svelte-19myphj"),e(u,"class","component column svelte-19myphj"),e(u,"id","mapComp"),e(I,"class","tablinks svelte-19myphj"),I.value="Cobenefit",ue(I,"active",c[0]=="Cobenefit"),e(P,"class","tablinks svelte-19myphj"),P.value="SEF",ue(P,"active",c[0]=="SEF"),e(U,"class","tab svelte-19myphj"),e(S,"type","radio"),e(S,"name","granularity"),S.value="LAD",S.checked=!0,e(W,"for","LAD"),e(F,"type","radio"),e(F,"name","granularity"),F.value="LSOA",e(X,"for","LSOA"),e(o,"class","component"),e(N,"class","component column svelte-19myphj"),e(N,"id","control-panel"),e(n,"id","map-row"),e(n,"class","row svelte-19myphj"),e(f,"class","page-container svelte-19myphj")},m(h,T){Fe(a,h,T),te(h,l,T),te(h,f,T),t(f,_),t(f,C),t(f,n),t(n,u),t(u,s),c[18](s),t(u,p),t(u,g),c[19](g),t(u,E),t(u,b),c[20](b),t(u,O),t(u,k),t(n,Y),t(n,N),t(N,U),t(U,I),t(U,G),t(U,P),t(N,q),t(N,o),t(o,S),t(o,ne),t(o,W),t(o,J),t(o,F),t(o,se),t(o,X),t(N,K),m&&m.m(N,null),c[21](f),H=!0,oe||(re=[Z(b,"click",Qe),Z(I,"click",c[8]),Z(P,"click",c[8]),Z(S,"change",c[10]),Z(F,"change",c[10])],oe=!0)},p(h,T){(!H||T[0]&1)&&ue(I,"active",h[0]=="Cobenefit"),(!H||T[0]&1)&&ue(P,"active",h[0]=="SEF"),R===(R=ce(h))&&m?m.p(h,T):(m&&m.d(1),m=R&&R(h),m&&(m.c(),m.m(N,null)))},i(h){H||(Ue(a.$$.fragment,h),H=!0)},o(h){He(a.$$.fragment,h),H=!1},d(h){h&&(y(l),y(f)),Oe(a,h),c[18](null),c[19](null),c[20](null),m&&m.d(),c[21](null),oe=!1,Se(re)}}}function Qe(){const c=document.getElementsByClassName("maplibregl-canvas");console.log(c);const a=c[0].toDataURL("image/png");var l=document.createElement("a");l.download="map.png",l.href=a,l.dataset.downloadurl=["image/png",l.download,l.href].join(":"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function We(c,a,l){let{data:f}=a,_,v,C,n,u,s,d="Cobenefit",p="BNZ",g=new Set(pe),D="total",E="LAD",b="EPC",M;function O(){C=s.legend(k()),l(4,n.innerHTML="",n),n.append(C)}function k(){if(d=="SEF")return`${b} (Millions of £)`;if(d=="Cobenefit")return"Cobenefits (Millions of £)"}Be(async()=>{let o;E=="LAD"?o=await ie(be(Array.from(g),p,D)):E=="LSOA"&&(o=await ie(ye(Array.from(g),p,D))),console.log(1,o),l(12,s=new ze(o,E,v)),s.initMap(),console.log("map initiated"),C=s.legend(),n.append(C)});const Y=o=>{const S=o.currentTarget.value;g.size==0&&l(14,g=new Set(pe)),g.has(S)?g.delete(S):g.add(S),l(14,g)},N=o=>{const S=o.currentTarget.value;l(15,D=S)};function U(o,S){l(0,d=o.currentTarget.value)}const I=o=>{l(1,b=o.currentTarget.value)},z=o=>{s.removeLayers(),s.removeSources(),l(16,E=o.currentTarget.value),l(12,s.granularity=E,s)};function G(o){de[o?"unshift":"push"](()=>{v=o,l(3,v)})}function P(o){de[o?"unshift":"push"](()=>{n=o,l(4,n)})}function le(o){de[o?"unshift":"push"](()=>{u=o,l(5,u)})}function q(o){de[o?"unshift":"push"](()=>{_=o,l(2,_)})}return c.$$set=o=>{"data"in o&&l(11,f=o.data)},c.$$.update=()=>{c.$$.dirty[0]&258051&&s?.loaded&&(d=="Cobenefit"?E=="LAD"?l(17,M=ie(be(Array.from(g),p,D))):E=="LSOA"&&l(17,M=ie(ye(Array.from(g),p,D))):l(0,d="SEF")&&(E=="LAD"?l(17,M=ie(Ge(b))):E=="LSOA"&&l(17,M=ie(qe(b)))),M.then(o=>{s.map.getStyle().layers.length==0&&s.loadLayers(),s.update(o,d),O()}))},[d,b,_,v,n,u,Y,N,U,I,z,f,s,p,g,D,E,M,G,P,le,q]}class ot extends we{constructor(a){super(),Me(this,a,We,Ke,Ie,{data:11},null,[-1,-1])}}export{ot as component};
