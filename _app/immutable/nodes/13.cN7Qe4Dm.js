import{s as ua,a as g,e as i,t as k,g as _,c as r,b as p,p as I,f,d as L,q as n,C as $s,B as qt,i as W,h as e,y as fa,w as da,r as xs,Y as ha,j as Le,H as va,E as pa,A as ne}from"../chunks/scheduler.C9ZL8GxQ.js";import{S as ma,i as ga,c as _a,b as ba,m as ya,t as Ea,a as wa,d as Ca}from"../chunks/index.vifww4_P.js";import{N as Da,e as Ts}from"../chunks/NavigationBar.zJC8Emop.js";import"../chunks/transform.BNP73y-7.js";import{ax as Yl,ay as Sa,az as ka,aA as La,aB as Aa,aC as za,a5 as Ia,aj as Ns,aD as xa,aE as Ta,aF as Na,r as ta,aG as Vs,d as Va,aH as Ma,M as Pa,F as Ba,c as Oa,b as Ha,e as Fa,h as Ua,G as Ra,aI as qa,Y as ea,aJ as Wa,X as Ka,a0 as la,_ as sa,aK as Ya,aL as ja,J as ke,N as Je,aM as Ms,Z as Ga,aN as Xa,aO as Ps,aw as Bs,L as Za,$ as Os}from"../chunks/index.xKAkP9XD.js";import{b as Ja}from"../chunks/paths.RV0yv4sC.js";import{M as Qa}from"../chunks/mapUK.CdFeQu9i.js";import{s as ye,C as Hs,D as $a,b as oe,t as Fs,c as Us,g as tn,T as en,S as ln,d as jl,q as sn,M as an,a as nn}from"../chunks/globals.DBm39SdH.js";import{g as _e,p as on,q as rn,m as cn,l as un,r as fn,n as dn}from"../chunks/duckdb.xPhqaJuY.js";import{p as Rs}from"../chunks/per_capita.COcMrZFY.js";import{c as hn,b as vn}from"../chunks/bin.CfZRpQ3l.js";import{a as aa}from"../chunks/bar.D6_jcMRG.js";import{d as Xl}from"../chunks/dot.CIeIS7dg.js";function na(a,t=Yl){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let l=Array.from(a);const s=new Float64Array(l.length);t.length!==2&&(l=l.map(t),t=Yl);const o=(b,E)=>t(l[b],l[E]);let u,c;return a=Uint32Array.from(l,(b,E)=>E),a.sort(t===Yl?(b,E)=>Sa(l[b],l[E]):ka(o)),a.forEach((b,E)=>{const w=o(b,u===void 0?b:u);w>=0?((u===void 0||w>0)&&(u=b,c=E),s[b]=c):s[b]=NaN}),s}function pn(a={},t={}){const l=La(t),s=Object.entries(a).map(([o,u])=>{const c=Aa(o,t);if(c==null)throw new Error(`missing channel: ${o}`);const[b,E]=za(c);return{key:o,input:c,output:b,setOutput:E,map:mn(u)}});return{...Ia(t,(o,u)=>{const c=Ns(o,l),b=s.map(({input:w})=>Ns(o,w)),E=s.map(({setOutput:w})=>w(new Array(o.length)));for(const w of u)for(const m of c?xa(w,A=>c[A]).values():[w])s.forEach(({map:A},C)=>A.mapIndex(m,b[C],E[C]));return{data:o,facets:u}}),...Object.fromEntries(s.map(({key:o,output:u})=>[o,u]))}}function mn(a){if(a==null)throw new Error("missing map");if(typeof a.mapIndex=="function")return a;if(typeof a.map=="function"&&Ta(a))return gn(a);if(typeof a=="function")return Gl(Na(a));switch(`${a}`.toLowerCase()){case"cumsum":return bn;case"rank":return Gl((t,l)=>na(t,s=>l[s]));case"quantile":return Gl((t,l)=>_n(t,s=>l[s]))}throw new Error(`invalid map: ${a}`)}function gn(a){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:a.map.bind(a)}}function _n(a,t){const l=hn(a,t)-1;return na(a,t).map(s=>s/l)}function Gl(a){return{mapIndex(t,l,s){const o=a(t,l);if(o.length!==t.length)throw new Error("map function returned a mismatched length");for(let u=0,c=t.length;u<c;++u)s[t[u]]=o[u]}}}const bn={mapIndex(a,t,l){let s=0;for(const o of a)l[o]=s+=t[o]}},yn={ariaLabel:"tick",fill:null,stroke:"currentColor"};class En extends Pa{constructor(t,l,s){super(t,l,s,yn),Ba(this,s)}render(t,l,s,o,u){return Oa("svg:g",u).call(Ha,this,o,u).call(this._transform,this,l).call(c=>c.selectAll().data(t).enter().append("line").call(Fa,this).attr("x1",this._x1(l,s,o)).attr("x2",this._x2(l,s,o)).attr("y1",this._y1(l,s,o)).attr("y2",this._y2(l,s,o)).call(Ua,this,s).call(Ra,this,s,u)).node()}}class wn extends En{constructor(t,l={}){const{x:s,y:o,inset:u=0,insetRight:c=u,insetLeft:b=u}=l;super(t,{y:{value:o,scale:"y"},x:{value:s,scale:"x",type:"band",optional:!0}},l),this.insetRight=Vs(c),this.insetLeft=Vs(b)}_transform(t,l,{y:s}){t.call(Va,l,{y:s},0,Ma)}_x1({x:t},{x:l},{marginLeft:s}){const{insetLeft:o}=this;return l&&t?u=>l[u]+o:s+o}_x2({x:t},{x:l},{width:s,marginRight:o}){const{insetRight:u}=this;return l&&t?c=>l[c]+t.bandwidth()-u:s-o-u}_y1(t,{y:l}){return s=>l[s]}_y2(t,{y:l}){return s=>l[s]}}function Cn(a,{y:t=ta,...l}={}){return new wn(a,{...l,y:t})}function Dn(a,{y:t=ta,x:l=null,r:s,fill:o="#ccc",fillOpacity:u,stroke:c="currentColor",strokeOpacity:b,strokeWidth:E=2,sort:w,...m}={}){const A=l!=null?sa:Ya;return qa(ea(a,A({y1:oa,y2:ia},{x:l,y:t,stroke:c,strokeOpacity:b,...m})),aa(a,A({y1:"p25",y2:"p75"},{x:l,y:t,fill:o,fillOpacity:u,...m})),Cn(a,A({y:"p50"},{x:l,y:t,stroke:c,strokeOpacity:b,strokeWidth:E,sort:w,...m})),Xl(a,pn({y:Sn},{x:l,y:t,z:l,r:s,stroke:c,strokeOpacity:b,...m})))}function Sn(a){const t=oa(a),l=ia(a);return a.map(s=>s<t||s>l?s:NaN)}function oa(a){const t=ra(a)*2.5-ca(a)*1.5;return Wa(a,l=>l>=t?l:NaN)}function ia(a){const t=ca(a)*2.5-ra(a)*1.5;return Ka(a,l=>l<=t?l:NaN)}function ra(a){return la(a,.25)}function ca(a){return la(a,.75)}const qs=""+new URL("../assets/total.DNiyzZzC.png",import.meta.url).href;function Ws(a,t,l){const s=a.slice();return s[47]=t[l],s[48]=t,s[49]=l,s}function Ks(a){let t,l,s=a[4].toLocaleString()+"",o;return{c(){t=i("span"),l=k("£"),o=k(s),this.h()},l(u){t=r(u,"SPAN",{class:!0});var c=p(t);l=L(c,"£"),o=L(c,s),c.forEach(f),this.h()},h(){n(t,"class","waffle-big svelte-1os9uzm")},m(u,c){W(u,t,c),e(t,l),e(t,o)},p(u,c){c[0]&16&&s!==(s=u[4].toLocaleString()+"")&&Le(o,s)},d(u){u&&f(t)}}}function kn(a){let t,l="National costs";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-o12owz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function Ln(a){let t,l="National benefits";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-10ytukz"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function Ys(a){let t,l,s=a[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",o;return{c(){t=i("span"),l=k("£"),o=k(s),this.h()},l(u){t=r(u,"SPAN",{class:!0});var c=p(t);l=L(c,"£"),o=L(c,s),c.forEach(f),this.h()},h(){n(t,"class","waffle-big svelte-1os9uzm")},m(u,c){W(u,t,c),e(t,l),e(t,o)},p(u,c){c[0]&64&&s!==(s=u[6].toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Le(o,s)},d(u){u&&f(t)}}}function An(a){let t,l="Per capita costs";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-6pmcl0"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function zn(a){let t,l="Per capita benefits";return{c(){t=i("div"),t.textContent=l,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-g1rvwk"&&(t.textContent=l),this.h()},h(){n(t,"class","waffle-caption svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function js(a){let t,l,s=(a[4]/a[5]*100).toFixed(2)+"",o,u,c,b="%";return{c(){t=i("div"),l=i("span"),o=k(s),u=g(),c=i("span"),c.textContent=b,this.h()},l(E){t=r(E,"DIV",{class:!0});var w=p(t);l=r(w,"SPAN",{class:!0});var m=p(l);o=L(m,s),m.forEach(f),u=_(w),c=r(w,"SPAN",{class:!0,"data-svelte-h":!0}),I(c)!=="svelte-jxggz7"&&(c.textContent=b),w.forEach(f),this.h()},h(){n(l,"class","waffle-big svelte-1os9uzm"),n(c,"class","small svelte-1os9uzm"),n(t,"class","waffle-value svelte-1os9uzm")},m(E,w){W(E,t,w),e(t,l),e(l,o),e(t,u),e(t,c)},p(E,w){w[0]&48&&s!==(s=(E[4]/E[5]*100).toFixed(2)+"")&&Le(o,s)},d(E){E&&f(t)}}}function Gs(a){let t,l,s,o,u,c,b,E,w,m=Qs(a[10])+"",A,C=a[4]&&Xs(a);return{c(){t=i("div"),l=i("div"),s=i("img"),u=g(),c=i("span"),b=k(a[15]),E=g(),C&&C.c(),w=k(`
                    >> `),A=k(m),this.h()},l(O){t=r(O,"DIV",{class:!0});var M=p(t);l=r(M,"DIV",{class:!0});var P=p(l);s=r(P,"IMG",{src:!0,alt:!0,class:!0}),u=_(P),c=r(P,"SPAN",{class:!0});var T=p(c);b=L(T,a[15]),E=_(T),C&&C.l(T),w=L(T,`
                    >> `),A=L(T,m),T.forEach(f),P.forEach(f),M.forEach(f),this.h()},h(){$s(s.src,o=a[17])||n(s,"src",o),n(s,"alt","Icon"),n(s,"class","mini-heading-icon"),n(c,"class","mini-header-text"),n(l,"class","mini-header-content"),n(t,"class","mini-header")},m(O,M){W(O,t,M),e(t,l),e(l,s),e(l,u),e(l,c),e(c,b),e(c,E),C&&C.m(c,null),e(c,w),e(c,A)},p(O,M){O[4]?C?C.p(O,M):(C=Xs(O),C.c(),C.m(c,w)):C&&(C.d(1),C=null),M[0]&1024&&m!==(m=Qs(O[10])+"")&&Le(A,m)},d(O){O&&f(t),C&&C.d()}}}function Xs(a){let t,l,s,o;return{c(){t=i("span"),l=k("(UK total: £"),s=k(a[4]),o=k(" billion)"),this.h()},l(u){t=r(u,"SPAN",{class:!0});var c=p(t);l=L(c,"(UK total: £"),s=L(c,a[4]),o=L(c," billion)"),c.forEach(f),this.h()},h(){n(t,"class","mini-header-value")},m(u,c){W(u,t,c),e(t,l),e(t,s),e(t,o)},p(u,c){c[0]&16&&Le(s,u[4])},d(u){u&&f(t)}}}function In(a){let t,l=`Each bar shows the predicted total costs in billion pounds for each
                            five-year periods for all of UK.`;return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1v08yjw"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function xn(a){let t,l=`Each bar shows the predicted total benefits in billion pounds for each
                            five-year periods for all of UK.`;return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-3v1xr6"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function Tn(a){let t,l=`The x-axis represents the value of costs, while the y-axis shows the
                            number of data zones falling within each benefit range.`;return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-92e6ig"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function Nn(a){let t,l=`The x-axis represents the predicted value of benefits, measured in
                            billion pounds, while the y-axis shows the number of data zones falling within each benefit
                            range.`;return{c(){t=i("p"),t.textContent=l,this.h()},l(s){t=r(s,"P",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-flkfm5"&&(t.textContent=l),this.h()},h(){n(t,"class","description svelte-1os9uzm")},m(s,o){W(s,t,o)},d(s){s&&f(t)}}}function Zs(a){let t,l,s=a[7].legend().outerHTML+"";return{c(){t=i("div"),l=new va(!1),this.h()},l(o){t=r(o,"DIV",{id:!0});var u=p(t);l=pa(u,!1),u.forEach(f),this.h()},h(){l.a=null,n(t,"id","legend")},m(o,u){W(o,t,u),l.m(s,t)},p(o,u){u[0]&128&&s!==(s=o[7].legend().outerHTML+"")&&l.p(s)},d(o){o&&f(t)}}}function Js(a){let t,l,s=a[47].label+"",o,u,c,b=a[47].def+"",E,w,m,A=a[47],C;const O=()=>a[28](m,A),M=()=>a[28](null,A);return{c(){t=i("div"),l=i("h3"),o=k(s),u=g(),c=i("p"),E=k(b),w=g(),m=i("div"),C=g(),this.h()},l(P){t=r(P,"DIV",{class:!0});var T=p(t);l=r(T,"H3",{class:!0});var st=p(l);o=L(st,s),st.forEach(f),u=_(T),c=r(T,"P",{class:!0});var rt=p(c);E=L(rt,b),rt.forEach(f),w=_(T),m=r(T,"DIV",{class:!0}),p(m).forEach(f),C=_(T),T.forEach(f),this.h()},h(){n(l,"class","component-chart-title svelte-1os9uzm"),n(c,"class","component-chart-caption svelte-1os9uzm"),n(m,"class","plot"),n(t,"class","plot-container svelte-1os9uzm")},m(P,T){W(P,t,T),e(t,l),e(l,o),e(t,u),e(t,c),e(c,E),e(t,w),e(t,m),O(),e(t,C)},p(P,T){a=P,A!==a[47]&&(M(),A=a[47],O())},d(P){P&&f(t),M()}}}function Vn(a){let t,l,s,o,u,c,b,E="Co-Benefit Report",w,m,A,C,O,M,P,T,st,rt,kt,ie,ct,re,Wt,Z,Lt,tt,at,ut,et,nt,Ae="billion",ft,ot,dt,_t,Ee,we,ht,ce,bt,ze="Contribution to national benefits",Ce,At,De,zt,h,v,S,V,B,vt='<p class="section-subtitle">Overview</p>',y,N,z,it,D,U,Ie=a[15].toLowerCase()+"",ue,Qe,$e,xe,Kt,Zl=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${qs}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,tl,fe,el,ll,sl,yt,al,Yt,Jl=a[15].toLowerCase()+"",nl,ol,jt,Ql=`data zones
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,il,Te,Gt,$l=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${qs}" alt="icon"/> <span class="tooltip-text">This chart uses total values. i.e. shows the total benefit/cost for all of the UK.</span></div>`,rl,It,ts="",cl,ul,fl,J,xt,dl,Xt,es=a[15].toLowerCase()+"",hl,vl,pl,Zt,ls=`Each local authority is coloured by the predicted per capita benefits/cost,
                        showing regional variation in how benefits/cost are distributed. Scroll for zooming in and
                        out.`,ml,Jt,ss=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Rs}" alt="icon"/> <span class="tooltip-text">This chart uses per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,gl,Ne,Et,as="",_l,Tt,Qt,ns='<p class="section-subtitle">Socio-economic factors</p>',bl,pt,lt,Nt,yl,$t,os=a[15]?.toLowerCase()+"",El,wl,Cl,te,is=`Each chart shows how benefits or costs are distributed across UK local
                        authorities in correlation with a specific household social-economic factor.`,Dl,Q,ee,rs=`<div class="tooltip-wrapper"><img class="aggregation-icon" src="${Rs}" alt="icon"/> <span class="tooltip-text">These charts use per capita values. i.e. show the cost/benefit per person in each LAD.</span></div>`,Sl,le,cs="Legend:",kl,Ll,Al,de,us="The scatter points are coloured by nation. Click the buttons below to filter.",zl,R,Il,xl,Vt,Tl,Nl,Mt,Vl,Ml,Pt,Pl,Bl,Bt,Ol,Hl,Fl,Ul,Ot,fs="Reset",Rl,Ht,ds=`<p style="margin: 0 0 0.5rem 0;"><strong>Discrete scales:</strong> The first set of
                            socio-economic factors are using categorical values where the x-axis is non-linear.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots
                            represent modelled associations and should not be interpreted as direct causal
                            relationships.</p> <p style="margin: 0 0 0.5rem 0;"><strong>Aggregated data:</strong> Each socio-economic factor
                            for a given local authority is aggregated from the data zones within its boundary.</p>`,ql,se,Ft,Ut,Wl,hs;t=new Da({});let K=a[4]&&Ks(a);function vs(d,x){return d[4]>0?Ln:kn}let Ve=vs(a),wt=Ve(a),Y=a[4]&&Ys(a);function ps(d,x){return d[4]>0?zn:An}let Me=ps(a),Ct=Me(a),j=a[4]&&js(a),G=a[9]&&Gs(a);function ms(d,x){return d[4]>0?xn:In}let Pe=ms(a),Dt=Pe(a);function gs(d,x){return d[4]>0?Nn:Tn}let Be=gs(a),St=Be(a),X=a[7]&&Zs(a),he=Ts(Us),q=[];for(let d=0;d<he.length;d+=1)q[d]=Js(Ws(a,he,d));return{c(){_a(t.$$.fragment),l=g(),s=i("div"),o=i("div"),u=i("div"),c=i("div"),b=i("p"),b.textContent=E,w=g(),m=i("div"),A=i("h1"),C=i("img"),M=g(),P=i("div"),T=g(),st=k(a[15]),rt=g(),kt=i("div"),ie=g(),ct=i("p"),re=k(a[16]),Wt=g(),Z=i("div"),Lt=i("div"),tt=i("div"),at=i("div"),ut=i("div"),K&&K.c(),et=g(),nt=i("span"),nt.textContent=Ae,ft=g(),wt.c(),ot=g(),dt=i("div"),_t=i("div"),Y&&Y.c(),Ee=g(),Ct.c(),we=g(),ht=i("div"),j&&j.c(),ce=g(),bt=i("div"),bt.textContent=ze,Ce=g(),At=i("div"),De=g(),zt=i("div"),h=g(),G&&G.c(),v=g(),S=i("div"),V=i("div"),B=i("div"),B.innerHTML=vt,y=g(),N=i("div"),z=i("div"),it=i("h3"),D=k("Total "),U=i("span"),ue=k(Ie),Qe=k(" over time 2025-2050"),$e=g(),Dt.c(),xe=g(),Kt=i("div"),Kt.innerHTML=Zl,tl=g(),fe=i("div"),el=g(),ll=i("br"),sl=g(),yt=i("h3"),al=k("Distribution of "),Yt=i("span"),nl=k(Jl),ol=k(` across UK
                        

                        `),jt=i("span"),jt.innerHTML=Ql,il=g(),St.c(),Te=g(),Gt=i("div"),Gt.innerHTML=$l,rl=g(),It=i("div"),It.innerHTML=ts,cl=g(),ul=i("br"),fl=g(),J=i("div"),xt=i("h3"),dl=k("Per Capita "),Xt=i("span"),hl=k(es),vl=k(" by UK local authorities"),pl=g(),Zt=i("p"),Zt.textContent=ls,ml=g(),Jt=i("div"),Jt.innerHTML=ss,gl=g(),X&&X.c(),Ne=g(),Et=i("div"),Et.innerHTML=as,_l=g(),Tt=i("div"),Qt=i("div"),Qt.innerHTML=ns,bl=g(),pt=i("div"),lt=i("div"),Nt=i("h3"),yl=k("How "),$t=i("span"),El=k(os),wl=k(` vary by household social-economic
                        factors`),Cl=g(),te=i("p"),te.textContent=is,Dl=g(),Q=i("div"),ee=i("div"),ee.innerHTML=rs,Sl=g(),le=i("strong"),le.textContent=cs,kl=g(),Ll=i("br"),Al=g(),de=i("span"),de.textContent=us,zl=g(),R=i("div"),Il=i("br"),xl=g(),Vt=i("button"),Tl=k("Scotland"),Nl=g(),Mt=i("button"),Vl=k("Northern Ireland"),Ml=g(),Pt=i("button"),Pl=k("England"),Bl=g(),Bt=i("button"),Ol=k("Wales"),Hl=g(),Fl=i("br"),Ul=g(),Ot=i("button"),Ot.textContent=fs,Rl=g(),Ht=i("div"),Ht.innerHTML=ds,ql=g(),se=i("div"),Ft=i("div");for(let d=0;d<q.length;d+=1)q[d].c();this.h()},l(d){ba(t.$$.fragment,d),l=_(d),s=r(d,"DIV",{class:!0});var x=p(s);o=r(x,"DIV",{class:!0});var H=p(o);u=r(H,"DIV",{class:!0});var ae=p(u);c=r(ae,"DIV",{class:!0});var Oe=p(c);b=r(Oe,"P",{class:!0,"data-svelte-h":!0}),I(b)!=="svelte-1flv0v9"&&(b.textContent=E),w=_(Oe),m=r(Oe,"DIV",{class:!0});var ve=p(m);A=r(ve,"H1",{class:!0});var pe=p(A);C=r(pe,"IMG",{src:!0,alt:!0,class:!0}),M=_(pe),P=r(pe,"DIV",{style:!0}),p(P).forEach(f),T=_(pe),st=L(pe,a[15]),pe.forEach(f),rt=_(ve),kt=r(ve,"DIV",{style:!0}),p(kt).forEach(f),ie=_(ve),ct=r(ve,"P",{class:!0});var _s=p(ct);re=L(_s,a[16]),_s.forEach(f),ve.forEach(f),Oe.forEach(f),Wt=_(ae),Z=r(ae,"DIV",{class:!0});var me=p(Z);Lt=r(me,"DIV",{class:!0});var bs=p(Lt);tt=r(bs,"DIV",{class:!0});var ge=p(tt);at=r(ge,"DIV",{class:!0});var He=p(at);ut=r(He,"DIV",{class:!0});var Fe=p(ut);K&&K.l(Fe),et=_(Fe),nt=r(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),I(nt)!=="svelte-tlhydp"&&(nt.textContent=Ae),Fe.forEach(f),ft=_(He),wt.l(He),He.forEach(f),ot=_(ge),dt=r(ge,"DIV",{class:!0});var Ue=p(dt);_t=r(Ue,"DIV",{class:!0});var ys=p(_t);Y&&Y.l(ys),ys.forEach(f),Ee=_(Ue),Ct.l(Ue),Ue.forEach(f),we=_(ge),ht=r(ge,"DIV",{class:!0});var Re=p(ht);j&&j.l(Re),ce=_(Re),bt=r(Re,"DIV",{class:!0,"data-svelte-h":!0}),I(bt)!=="svelte-1v3rfza"&&(bt.textContent=ze),Re.forEach(f),ge.forEach(f),bs.forEach(f),Ce=_(me),At=r(me,"DIV",{class:!0}),p(At).forEach(f),De=_(me),zt=r(me,"DIV",{class:!0}),p(zt).forEach(f),me.forEach(f),ae.forEach(f),H.forEach(f),h=_(x),G&&G.l(x),v=_(x),S=r(x,"DIV",{class:!0});var qe=p(S);V=r(qe,"DIV",{id:!0});var We=p(V);B=r(We,"DIV",{class:!0,"data-svelte-h":!0}),I(B)!=="svelte-ll1i43"&&(B.innerHTML=vt),y=_(We),N=r(We,"DIV",{id:!0,class:!0});var Ke=p(N);z=r(Ke,"DIV",{class:!0});var F=p(z);it=r(F,"H3",{class:!0});var Ye=p(it);D=L(Ye,"Total "),U=r(Ye,"SPAN",{style:!0});var Es=p(U);ue=L(Es,Ie),Es.forEach(f),Qe=L(Ye," over time 2025-2050"),Ye.forEach(f),$e=_(F),Dt.l(F),xe=_(F),Kt=r(F,"DIV",{class:!0,"data-svelte-h":!0}),I(Kt)!=="svelte-1yzemw8"&&(Kt.innerHTML=Zl),tl=_(F),fe=r(F,"DIV",{class:!0}),p(fe).forEach(f),el=_(F),ll=r(F,"BR",{}),sl=_(F),yt=r(F,"H3",{class:!0});var Se=p(yt);al=L(Se,"Distribution of "),Yt=r(Se,"SPAN",{style:!0});var ws=p(Yt);nl=L(ws,Jl),ws.forEach(f),ol=L(Se,` across UK
                        

                        `),jt=r(Se,"SPAN",{class:!0,"data-svelte-h":!0}),I(jt)!=="svelte-7glovi"&&(jt.innerHTML=Ql),Se.forEach(f),il=_(F),St.l(F),Te=_(F),Gt=r(F,"DIV",{class:!0,"data-svelte-h":!0}),I(Gt)!=="svelte-1yzemw8"&&(Gt.innerHTML=$l),rl=_(F),It=r(F,"DIV",{class:!0,"data-svelte-h":!0}),I(It)!=="svelte-17463th"&&(It.innerHTML=ts),cl=_(F),ul=r(F,"BR",{}),F.forEach(f),fl=_(Ke),J=r(Ke,"DIV",{class:!0});var mt=p(J);xt=r(mt,"H3",{class:!0});var je=p(xt);dl=L(je,"Per Capita "),Xt=r(je,"SPAN",{style:!0});var Cs=p(Xt);hl=L(Cs,es),Cs.forEach(f),vl=L(je," by UK local authorities"),je.forEach(f),pl=_(mt),Zt=r(mt,"P",{class:!0,"data-svelte-h":!0}),I(Zt)!=="svelte-32j67s"&&(Zt.textContent=ls),ml=_(mt),Jt=r(mt,"DIV",{class:!0,"data-svelte-h":!0}),I(Jt)!=="svelte-1pbiq4x"&&(Jt.innerHTML=ss),gl=_(mt),X&&X.l(mt),Ne=_(mt),Et=r(mt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),I(Et)!=="svelte-1bex1ev"&&(Et.innerHTML=as),mt.forEach(f),Ke.forEach(f),We.forEach(f),_l=_(qe),Tt=r(qe,"DIV",{id:!0});var Ge=p(Tt);Qt=r(Ge,"DIV",{class:!0,"data-svelte-h":!0}),I(Qt)!=="svelte-1l51yw7"&&(Qt.innerHTML=ns),bl=_(Ge),pt=r(Ge,"DIV",{id:!0,class:!0,style:!0});var Xe=p(pt);lt=r(Xe,"DIV",{id:!0,class:!0});var Rt=p(lt);Nt=r(Rt,"H3",{class:!0});var Ze=p(Nt);yl=L(Ze,"How "),$t=r(Ze,"SPAN",{style:!0});var Ds=p($t);El=L(Ds,os),Ds.forEach(f),wl=L(Ze,` vary by household social-economic
                        factors`),Ze.forEach(f),Cl=_(Rt),te=r(Rt,"P",{class:!0,"data-svelte-h":!0}),I(te)!=="svelte-r5sqj1"&&(te.textContent=is),Dl=_(Rt),Q=r(Rt,"DIV",{id:!0,class:!0});var gt=p(Q);ee=r(gt,"DIV",{class:!0,"data-svelte-h":!0}),I(ee)!=="svelte-131efpe"&&(ee.innerHTML=rs),Sl=_(gt),le=r(gt,"STRONG",{style:!0,"data-svelte-h":!0}),I(le)!=="svelte-1s0qlts"&&(le.textContent=cs),kl=_(gt),Ll=r(gt,"BR",{}),Al=_(gt),de=r(gt,"SPAN",{"data-svelte-h":!0}),I(de)!=="svelte-av8zq9"&&(de.textContent=us),zl=_(gt),R=r(gt,"DIV",{class:!0});var $=p(R);Il=r($,"BR",{}),xl=_($),Vt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ss=p(Vt);Tl=L(Ss,"Scotland"),Ss.forEach(f),Nl=_($),Mt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var ks=p(Mt);Vl=L(ks,"Northern Ireland"),ks.forEach(f),Ml=_($),Pt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var Ls=p(Pt);Pl=L(Ls,"England"),Ls.forEach(f),Bl=_($),Bt=r($,"BUTTON",{class:!0,"data-nation":!0,style:!0});var As=p(Bt);Ol=L(As,"Wales"),As.forEach(f),Hl=_($),Fl=r($,"BR",{}),Ul=_($),Ot=r($,"BUTTON",{class:!0,"data-svelte-h":!0}),I(Ot)!=="svelte-2t5u5r"&&(Ot.textContent=fs),$.forEach(f),gt.forEach(f),Rl=_(Rt),Ht=r(Rt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),I(Ht)!=="svelte-p1d3q2"&&(Ht.innerHTML=ds),Rt.forEach(f),ql=_(Xe),se=r(Xe,"DIV",{id:!0,class:!0});var zs=p(se);Ft=r(zs,"DIV",{id:!0,class:!0});var Is=p(Ft);for(let Kl=0;Kl<q.length;Kl+=1)q[Kl].l(Is);Is.forEach(f),zs.forEach(f),Xe.forEach(f),Ge.forEach(f),qe.forEach(f),x.forEach(f),this.h()},h(){n(b,"class","page-subtitle svelte-1os9uzm"),$s(C.src,O=a[17])||n(C,"src",O),n(C,"alt","Icon"),n(C,"class","heading-icon svelte-1os9uzm"),qt(P,"margin-top","10px"),n(A,"class","page-title svelte-1os9uzm"),qt(kt,"margin-top","14px"),n(ct,"class","definition svelte-1os9uzm"),n(m,"class","title-container"),n(c,"class","header-text svelte-1os9uzm"),n(nt,"class","small svelte-1os9uzm"),n(ut,"class","waffle-value svelte-1os9uzm"),n(at,"class","waffle-stat svelte-1os9uzm"),n(_t,"class","waffle-value svelte-1os9uzm"),n(dt,"class","waffle-stat svelte-1os9uzm"),n(bt,"class","waffle-caption svelte-1os9uzm"),n(ht,"class","waffle-stat svelte-1os9uzm"),n(tt,"class","waffle-stats svelte-1os9uzm"),n(Lt,"class","waffle-label svelte-1os9uzm"),n(At,"class","waffle-el"),n(zt,"class","waffle-bg svelte-1os9uzm"),n(Z,"class","header-waffle-wrapper svelte-1os9uzm"),n(u,"class","header-content svelte-1os9uzm"),n(o,"class","section header svelte-1os9uzm"),n(B,"class","section-header"),n(U,"style",a[13]),n(it,"class","component-title"),n(Kt,"class","aggregation-icon-container"),n(fe,"class","plot-bar svelte-1os9uzm"),n(Yt,"style",a[13]),n(jt,"class","tooltip-term"),n(yt,"class","component-title"),n(Gt,"class","aggregation-icon-container"),n(It,"class","plot-bar svelte-1os9uzm"),n(z,"class","component singlevis"),n(Xt,"style",a[13]),n(xt,"class","component-title"),n(Zt,"class","description svelte-1os9uzm"),n(Jt,"class","aggregation-icon-container2 svelte-1os9uzm"),n(Et,"id","map"),n(Et,"class","svelte-1os9uzm"),n(J,"class","component column"),n(N,"id","vis-block"),n(N,"class","svelte-1os9uzm"),n(V,"id","overview"),n(Qt,"class","section-header"),n($t,"style",a[13]),n(Nt,"class","component-title"),n(te,"class","explanation"),n(ee,"class","aggregation-icon-container2 svelte-1os9uzm"),qt(le,"margin-bottom","0.8rem"),n(Vt,"class","nation-button svelte-1os9uzm"),n(Vt,"data-nation","S"),qt(Vt,"background-color",ye(a[14])[0]),n(Mt,"class","nation-button svelte-1os9uzm"),n(Mt,"data-nation","N"),qt(Mt,"background-color",ye(a[14])[1]),n(Pt,"class","nation-button svelte-1os9uzm"),n(Pt,"data-nation","E"),qt(Pt,"background-color",ye(a[14])[2]),n(Bt,"class","nation-button svelte-1os9uzm"),n(Bt,"data-nation","W"),qt(Bt,"background-color",ye(a[14])[3]),n(Ot,"class","reset-button svelte-1os9uzm"),n(R,"class","legend-buttons svelte-1os9uzm"),n(Q,"id","se-legend"),n(Q,"class","legend-box svelte-1os9uzm"),n(Ht,"id","se-disclaimer"),n(Ht,"class","disclaimer-box svelte-1os9uzm"),n(lt,"id","se-title"),n(lt,"class","svelte-1os9uzm"),n(Ft,"id","multiple-plots"),n(Ft,"class","svelte-1os9uzm"),n(se,"id","multiple-comp"),n(se,"class","svelte-1os9uzm"),n(pt,"id","se-block"),n(pt,"class","component svelte-1os9uzm"),qt(pt,"margin-left","1rem"),n(Tt,"id","compare"),n(S,"class","section"),n(s,"class","page-container")},m(d,x){ya(t,d,x),W(d,l,x),W(d,s,x),e(s,o),e(o,u),e(u,c),e(c,b),e(c,w),e(c,m),e(m,A),e(A,C),e(A,M),e(A,P),e(A,T),e(A,st),e(m,rt),e(m,kt),e(m,ie),e(m,ct),e(ct,re),e(u,Wt),e(u,Z),e(Z,Lt),e(Lt,tt),e(tt,at),e(at,ut),K&&K.m(ut,null),e(ut,et),e(ut,nt),e(at,ft),wt.m(at,null),e(tt,ot),e(tt,dt),e(dt,_t),Y&&Y.m(_t,null),e(dt,Ee),Ct.m(dt,null),e(tt,we),e(tt,ht),j&&j.m(ht,null),e(ht,ce),e(ht,bt),e(Z,Ce),e(Z,At),a[23](At),e(Z,De),e(Z,zt),a[24](zt),e(s,h),G&&G.m(s,null),e(s,v),e(s,S),e(S,V),e(V,B),e(V,y),e(V,N),e(N,z),e(z,it),e(it,D),e(it,U),e(U,ue),e(it,Qe),e(z,$e),Dt.m(z,null),e(z,xe),e(z,Kt),e(z,tl),e(z,fe),a[25](fe),e(z,el),e(z,ll),e(z,sl),e(z,yt),e(yt,al),e(yt,Yt),e(Yt,nl),e(yt,ol),e(yt,jt),e(z,il),St.m(z,null),e(z,Te),e(z,Gt),e(z,rl),e(z,It),a[26](It),e(z,cl),e(z,ul),e(N,fl),e(N,J),e(J,xt),e(xt,dl),e(xt,Xt),e(Xt,hl),e(xt,vl),e(J,pl),e(J,Zt),e(J,ml),e(J,Jt),e(J,gl),X&&X.m(J,null),e(J,Ne),e(J,Et),a[27](Et),e(S,_l),e(S,Tt),e(Tt,Qt),e(Tt,bl),e(Tt,pt),e(pt,lt),e(lt,Nt),e(Nt,yl),e(Nt,$t),e($t,El),e(Nt,wl),e(lt,Cl),e(lt,te),e(lt,Dl),e(lt,Q),e(Q,ee),e(Q,Sl),e(Q,le),e(Q,kl),e(Q,Ll),e(Q,Al),e(Q,de),e(Q,zl),e(Q,R),e(R,Il),e(R,xl),e(R,Vt),e(Vt,Tl),e(R,Nl),e(R,Mt),e(Mt,Vl),e(R,Ml),e(R,Pt),e(Pt,Pl),e(R,Bl),e(R,Bt),e(Bt,Ol),e(R,Hl),e(R,Fl),e(R,Ul),e(R,Ot),e(lt,Rl),e(lt,Ht),e(pt,ql),e(pt,se),e(se,Ft);for(let H=0;H<q.length;H+=1)q[H]&&q[H].m(Ft,null);a[29](s),Ut=!0,Wl||(hs=fa(Ot,"click",a[18]),Wl=!0)},p(d,x){if(d[4]?K?K.p(d,x):(K=Ks(d),K.c(),K.m(ut,et)):K&&(K.d(1),K=null),Ve!==(Ve=vs(d))&&(wt.d(1),wt=Ve(d),wt&&(wt.c(),wt.m(at,null))),d[4]?Y?Y.p(d,x):(Y=Ys(d),Y.c(),Y.m(_t,null)):Y&&(Y.d(1),Y=null),Me!==(Me=ps(d))&&(Ct.d(1),Ct=Me(d),Ct&&(Ct.c(),Ct.m(dt,null))),d[4]?j?j.p(d,x):(j=js(d),j.c(),j.m(ht,ce)):j&&(j.d(1),j=null),d[9]?G?G.p(d,x):(G=Gs(d),G.c(),G.m(s,v)):G&&(G.d(1),G=null),(!Ut||x[0]&8192)&&n(U,"style",d[13]),Pe!==(Pe=ms(d))&&(Dt.d(1),Dt=Pe(d),Dt&&(Dt.c(),Dt.m(z,xe))),(!Ut||x[0]&8192)&&n(Yt,"style",d[13]),Be!==(Be=gs(d))&&(St.d(1),St=Be(d),St&&(St.c(),St.m(z,Te))),(!Ut||x[0]&8192)&&n(Xt,"style",d[13]),d[7]?X?X.p(d,x):(X=Zs(d),X.c(),X.m(J,Ne)):X&&(X.d(1),X=null),(!Ut||x[0]&8192)&&n($t,"style",d[13]),x[0]&2){he=Ts(Us);let H;for(H=0;H<he.length;H+=1){const ae=Ws(d,he,H);q[H]?q[H].p(ae,x):(q[H]=Js(ae),q[H].c(),q[H].m(Ft,null))}for(;H<q.length;H+=1)q[H].d(1);q.length=he.length}},i(d){Ut||(Ea(t.$$.fragment,d),Ut=!0)},o(d){wa(t.$$.fragment,d),Ut=!1},d(d){d&&(f(l),f(s)),Ca(t,d),K&&K.d(),wt.d(),Y&&Y.d(),Ct.d(),j&&j.d(),a[23](null),a[24](null),G&&G.d(),Dt.d(),a[25](null),St.d(),a[26](null),X&&X.d(),a[27](null),da(q,d),a[29](null),Wl=!1,hs()}}}let be=400;function Qs(a){return{overview:"Overview",compare:"Compare by socio-economic factor"}[a]||""}function Mn(a,t,l){let s,o,u,c,b,E={},{data:w}=t;const m=w.coBenefit,A=Hs.find(h=>h.id===m)?.label??m,C=$a.find(h=>h.id===m)?.def??m;let O,M,P,T,st,rt,kt,ie,ct=!1,re,Wt,Z;Ae().then(()=>{let h=JSON.parse(JSON.stringify(oe(m)));h.shift(),h=h.reverse(),l(7,Wt=new Qa(M,"LAD",Z,"total",!0,"LAD",!1,h)),Wt.initMap()});let Lt=tn(m),tt=!1,at="";const ut=["overview","compare"];let et=null;function nt(){const h=window.scrollY;l(9,tt=h>250);for(const v of ut){const S=document.getElementById(v);if(!S)continue;const V=S.getBoundingClientRect();if(V.top<=150&&V.bottom>=150){l(10,at=v);break}}}xs(()=>(window.addEventListener("scroll",nt),nt(),()=>window.removeEventListener("scroll",nt))),ha(()=>{window.removeEventListener("scroll",nt)});async function Ae(){O=await _e(on(m)),P=await _e(rn(m)),st=await _e(cn()),st=st.sort((v,S)=>S.total-v.total),rt=await _e(un()),rt=rt.sort((v,S)=>S.total_value-v.total_value);const h=rt.find(v=>v.co_benefit_type===m);l(6,re=h?h.value_per_capita:null),M=await _e(fn(m)),console.log("data",M),kt=await _e(dn()),l(5,ie=kt[0].total_value),Fs.forEach(v=>{P[v]=+P[v]}),l(4,T=ja(O,v=>v.total/1e3).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),l(20,ct=!0)}let ft,ot;function dt(h,v){if(!ft)return;const S=20,V=15,B=Math.floor(200/S),vt=V*B,y=st.reduce((D,U)=>D+U.total,0),N=[];for(const D of st){const U=Math.round(Math.abs(D.total)/y*vt),Ie=D.total<0;for(let ue=0;ue<U;ue++)N.push({type:D.co_benefit_type,negative:Ie})}for(;N.length<vt;)N.push({type:"empty"});N.sort((D,U)=>D.type==="empty"?1:U.type==="empty"?-1:D.negative&&!U.negative?1:!D.negative&&U.negative?-1:0);const z=N.map((D,U)=>({x:U%V,y:Math.floor(U/V),...D})),it=ke({width:S*V,height:S*B,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Hs.map(D=>D.id),range:sn,unknown:"#eee",legend:!1},marks:[Bs(z.filter(D=>!D.negative),{x:D=>D.x*S,y:D=>D.y*S,fill:"type",fillOpacity:D=>v&&D.type!==v?.15:1}),Bs(z.filter(D=>D.negative),{x:D=>D.x*S,y:D=>D.y*S,stroke:"type",strokeOpacity:D=>v&&D.type!==v?.15:1,strokeWidth:1,fill:"none"})]});ot&&(l(12,ot.style.width=`${S*V}px`,ot),l(12,ot.style.height=`${h-100}px`,ot)),l(11,ft.innerHTML="",ft),ft.append(it)}function _t(){c?.append(ke({height:be/1.5,...an,marginLeft:90,marginTop:40,marginRight:40,y:{label:"Number of Datazones",grid:!0},x:{label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"15px"},marks:[Za(M,vn({y:"count"},{x:h=>h.total*1e3,fill:oe(m)[0],tip:!0,fillOpacity:.5,stroke:oe(m)[0],strokeWidth:2})),Os({anchor:"left",label:"Number of datazones",labelArrow:"none",labelAnchor:"center"}),Je([0],{stroke:"#333",strokeWidth:.75})]}))}function Ee(){let h=O.flatMap(v=>en.map(S=>({time:S,value:v[S],total:v.total,scenario:v.scenario})));b?.append(ke({height:be/1.5,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"15px"},x:{type:"band",tickFormat:v=>v.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{grid:!0,label:"Total (£, billion)"},marks:[aa(h,sa({y:"sum"},{x:"time",y:v=>v.value/1e3,fill:oe(m)[0],tip:{format:{y:v=>`${v.toFixed(2)}`,x:!1}},fillOpacity:.8,insetLeft:15,insetRight:15})),Os({anchor:"left",grid:!0,label:"Total co-benefit value (£, billion)",labelArrow:"none",labelAnchor:"center"}),Je([0],{stroke:"#333",strokeWidth:.75})]}))}function we(){const h=v=>v.LAD.startsWith("S")?"S":v.LAD.startsWith("N")?"N":v.LAD.startsWith("E")?"E":"W";Fs.forEach((v,S)=>{let V;if(ln.includes(v)){const B=nn[v],vt=B?Object.keys(B).map(Number):M.filter(y=>y.SEFMAME==v).map(y=>y.SE);V=ke({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:be/1.4,width:be*1.2,marginLeft:70,marginBottom:v==="Typology"?80:60,marginRight:20,marginTop:30,x:{domain:vt,label:jl(v),tickFormat:y=>B?.[y]??y,tickRotate:v==="Typology"?-20:0},y:{label:"£, thousand",labelArrow:"none"},color:{legend:!0},marks:[Dn(M.filter(y=>y.SEFMAME==v),{x:"SE",y:y=>y.total*1e3,stroke:oe(m)[0],fill:oe(m)[0],r:2,fillOpacity:.3}),Je([0],{stroke:"#333",strokeWidth:.75})]})}else{let B=M.filter(y=>y.SEFMAME===v&&(et===null||h(y)==et)),vt=B.reduce(function(y,N){return y.SE<N.SE?y:N});V=ke({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:be/1.4,width:be*1.2,marginLeft:70,marginBottom:60,marginRight:20,marginTop:30,x:{label:jl(v),labelArrow:!1,labelAnchor:"center"},y:{label:"£, thousand",labelArrow:!1},color:{legend:!0},marks:[S==6?Ms(["Each dot represents a Local Authority District (LAD)."],{x:["Under_35","Over_65","Unemployment"].includes(v)?vt.SE*100:vt.SE,y:vt.total*1e3,textPadding:6,opacity:.5,lineWidth:12}):[],Xl(B,{x:y=>["Under_35","Over_65","Unemployment"].includes(v)?y.SE*100:y.SE,y:y=>y.total*1e3,fill:y=>{const N=["S","N","E","W"].indexOf(h(y));return ye(m)[N]},r:2,fillOpacity:.1,channels:{LAD:"LAD"}}),Xl(B,{x:y=>["Under_35","Over_65","Unemployment"].includes(v)?y.SE*100:y.SE,y:y=>y.total*1e3,fill:y=>{const N=["S","N","E","W"].indexOf(h(y));return ye(m)[N]},r:3.5,fillOpacity:1}),Ga({label:jl(v),labelArrow:!1,labelAnchor:"center"}),Je([0],{stroke:"#333",strokeWidth:.75}),ea([0],{stroke:"#333",strokeWidth:.75}),Ms(B,Xa({x:y=>["Under_35","Over_65","Unemployment"].includes(v)?y.SE*100:y.SE,y:y=>y.total*1e3,title:y=>[`LAD: ${y.LAD}`,"Click to navigate to page."].join(`
`)}))]}),console.log(Ps(V).select('g[aria-label="dot"]').selectAll("circle")),Ps(V).selectAll('g[aria-label="dot"]').selectAll("circle").style("cursor","pointer").on("click",(y,N,z)=>{let it=B[N].LAD;window.open(`${Ja}/location?location=${it}`,"_blank").focus()})}E[v]?.append(V)})}function ht(){l(21,et=null)}xs(()=>{document.querySelectorAll(".nation-button").forEach(h=>{h.addEventListener("click",()=>{const v=h.getAttribute("data-nation");et===v?(l(21,et=null),h.classList.remove("active")):(l(21,et=v),document.querySelectorAll(".nation-button").forEach(S=>S.classList.remove("active")),h.classList.add("active"))})})});function ce(h){ne[h?"unshift":"push"](()=>{ft=h,l(11,ft)})}function bt(h){ne[h?"unshift":"push"](()=>{ot=h,l(12,ot)})}function ze(h){ne[h?"unshift":"push"](()=>{b=h,l(0,b)})}function Ce(h){ne[h?"unshift":"push"](()=>{c=h,l(3,c)})}function At(h){ne[h?"unshift":"push"](()=>{Z=h,l(8,Z)})}function De(h,v){ne[h?"unshift":"push"](()=>{E[v.id]=h,l(1,E)})}function zt(h){ne[h?"unshift":"push"](()=>{u=h,l(2,u)})}return a.$$set=h=>{"data"in h&&l(19,w=h.data)},a.$$.update=()=>{a.$$.dirty[0]&1048577&&ct&&(b?.firstChild?.remove(),_t(),Ee(),dt(300,m)),a.$$.dirty[0]&3145730&&ct&&et!==void 0&&(Object.values(E).forEach(h=>{h.firstChild?.remove()}),we()),a.$$.dirty[0]&4194304&&l(13,o=`color: ${s}; font-weight: bold; font-size: 22px;`)},l(22,s=oe(m)[0]),[b,E,u,c,T,ie,re,Wt,Z,tt,at,ft,ot,o,m,A,C,Lt,ht,w,ct,et,s,ce,bt,ze,Ce,At,De,zt]}class Xn extends ma{constructor(t){super(),ga(this,t,Mn,Vn,ua,{data:19},null,[-1,-1])}}export{Xn as component};
