import{s as Z,a as $,C as M,g as S,i as p,f as d,y as z,e as v,c as b,b as C,p as x,q as y,h as g,x as O,n as R,t as L,d as k,j as q}from"../chunks/scheduler.Uo5vrMzy.js";import{S as H,i as U,c as V,b as Y,m as F,t as J,a as K,d as Q}from"../chunks/index.CfagcI6h.js";import{N as X,e as w}from"../chunks/NavigationBar.C9JJ_Rev.js";import{b as E}from"../chunks/paths.CdjCCJb3.js";import{g as tt,j as et}from"../chunks/duckdb.heXuEn8G.js";import"../chunks/transform.BNP73y-7.js";import{c as I}from"../chunks/dsv.XhNTmijJ.js";function P(_,t,l){const n=_.slice();return n[10]=t[l],n}function T(_,t,l){const n=_.slice();return n[13]=t[l],n}function lt(_){let t,l,n="Browse local authorities",a,f,u="Open the tabs and then click on a local authority for detailed reports.",c,e=w(_[2]),s=[];for(let o=0;o<e.length;o+=1)s[o]=j(P(_,e,o));return{c(){t=v("main"),l=v("h1"),l.textContent=n,a=$(),f=v("p"),f.textContent=u,c=$();for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=b(o,"MAIN",{class:!0});var r=C(t);l=b(r,"H1",{"data-svelte-h":!0}),x(l)!=="svelte-1ieghi8"&&(l.textContent=n),a=S(r),f=b(r,"P",{"data-svelte-h":!0}),x(f)!=="svelte-xzip8x"&&(f.textContent=u),c=S(r);for(let i=0;i<s.length;i+=1)s[i].l(r);r.forEach(d),this.h()},h(){y(t,"class","svelte-gdt2b9")},m(o,r){p(o,t,r),g(t,l),g(t,a),g(t,f),g(t,c);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(t,null)},p(o,r){if(r&6){e=w(o[2]);let i;for(i=0;i<e.length;i+=1){const h=P(o,e,i);s[i]?s[i].p(h,r):(s[i]=j(h),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=e.length}},d(o){o&&d(t),O(s,o)}}}function nt(_){let t,l="Loading local authoritiesâ€¦";return{c(){t=v("p"),t.textContent=l},l(n){t=b(n,"P",{"data-svelte-h":!0}),x(t)!=="svelte-12l6vp8"&&(t.textContent=l)},m(n,a){p(n,t,a)},p:R,d(n){n&&d(t)}}}function at(_){let t=_[10]+"",l,n,a=_[1][_[10]].length+"",f,u;return{c(){l=L(t),n=L(" ("),f=L(a),u=L(")")},l(c){l=k(c,t),n=k(c," ("),f=k(c,a),u=k(c,")")},m(c,e){p(c,l,e),p(c,n,e),p(c,f,e),p(c,u,e)},p(c,e){e&2&&a!==(a=c[1][c[10]].length+"")&&q(f,a)},d(c){c&&(d(l),d(n),d(f),d(u))}}}function ot(_){let t=_[10]+"",l,n;return{c(){l=L(t),n=L(" (317)")},l(a){l=k(a,t),n=k(a," (317)")},m(a,f){p(a,l,f),p(a,n,f)},p:R,d(a){a&&(d(l),d(n))}}}function W(_){let t,l=_[13].name+"",n,a;return{c(){t=v("a"),n=L(l),this.h()},l(f){t=b(f,"A",{class:!0,href:!0});var u=C(t);n=k(u,l),u.forEach(d),this.h()},h(){y(t,"class","lad-link svelte-gdt2b9"),y(t,"href",a=E+"/location?location="+_[13].code)},m(f,u){p(f,t,u),g(t,n)},p(f,u){u&2&&l!==(l=f[13].name+"")&&q(n,l),u&2&&a!==(a=E+"/location?location="+f[13].code)&&y(t,"href",a)},d(f){f&&d(t)}}}function j(_){let t,l,n,a,f;function u(r,i){return r[10]=="England"?ot:at}let e=u(_)(_),s=w(_[1][_[10]]),o=[];for(let r=0;r<s.length;r+=1)o[r]=W(T(_,s,r));return{c(){t=v("details"),l=v("summary"),e.c(),n=$(),a=v("div");for(let r=0;r<o.length;r+=1)o[r].c();f=$(),this.h()},l(r){t=b(r,"DETAILS",{class:!0});var i=C(t);l=b(i,"SUMMARY",{class:!0});var h=C(l);e.l(h),h.forEach(d),n=S(i),a=b(i,"DIV",{class:!0});var D=C(a);for(let N=0;N<o.length;N+=1)o[N].l(D);D.forEach(d),f=S(i),i.forEach(d),this.h()},h(){y(l,"class","svelte-gdt2b9"),y(a,"class","lad-grid svelte-gdt2b9"),y(t,"class","svelte-gdt2b9")},m(r,i){p(r,t,i),g(t,l),e.m(l,null),g(t,n),g(t,a);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(a,null);g(t,f)},p(r,i){if(e.p(r,i),i&6){s=w(r[1][r[10]]);let h;for(h=0;h<s.length;h+=1){const D=T(r,s,h);o[h]?o[h].p(D,i):(o[h]=W(D),o[h].c(),o[h].m(a,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=s.length}},d(r){r&&d(t),e.d(),O(o,r)}}}function st(_){let t,l,n,a;t=new X({});function f(e,s){return e[0].length===0?nt:lt}let u=f(_),c=u(_);return{c(){V(t.$$.fragment),l=$(),c.c(),n=M()},l(e){Y(t.$$.fragment,e),l=S(e),c.l(e),n=M()},m(e,s){F(t,e,s),p(e,l,s),c.m(e,s),p(e,n,s),a=!0},p(e,[s]){u===(u=f(e))&&c?c.p(e,s):(c.d(1),c=u(e),c&&(c.c(),c.m(n.parentNode,n)))},i(e){a||(J(t.$$.fragment,e),a=!0)},o(e){K(t.$$.fragment,e),a=!1},d(e){e&&(d(l),d(n)),Q(t,e),c.d(e)}}}function rt(_,t,l){const n=`${E}/LAD/Eng_Wales_LSOA_LADs.csv`,a=`${E}/LAD/NI_DZ_LAD.csv`,f=`${E}/LAD/Scotland_DZ_LA.csv`;let u={},c={},e=[],s={},o=["England","Wales","Northern Ireland","Scotland"];const r={NI:"Northern Ireland",England:"England",Wales:"Wales",Scotland:"Scotland"};async function i(){const h=await I(n);for(let m of h)u[m.LAD22CD]=m.LAD22NM;const D=await I(a);for(let m of D)u[m.LGD2014_code]=m.LGD2014_name;const N=await I(f);for(let m of N)u[m.LA_Code]=m.LA_Name;const B=await tt(et());for(let m of B){const A=r[m.Nation]||m.Nation;c[m.LAD]=A}l(0,e=Object.entries(u).map(([m,A])=>({code:m,name:A,nation:c[m]}))),l(1,s={});for(let m of o)l(1,s[m]=e.filter(A=>A.nation===m).sort((A,G)=>A.name.localeCompare(G.name)),s)}return z(async()=>{await i()}),[e,s,o]}class dt extends H{constructor(t){super(),U(this,t,rt,st,Z,{})}}export{dt as component};
