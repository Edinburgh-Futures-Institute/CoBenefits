import{s as er,a as _,e as r,t as w,H as yl,g as E,c as o,b as g,p as q,d as A,f as p,E as bl,q as n,B as xe,i as Te,h as e,y as ml,j as be,w as tr,z as lr,r as ar,Y as sr,A as Dt}from"../chunks/scheduler.C9ZL8GxQ.js";import{S as nr,i as rr,c as or,b as ir,m as cr,t as ur,a as hr,d as dr}from"../chunks/index.vifww4_P.js";import{N as fr,e as En}from"../chunks/NavigationBar.BGMdr-zL.js";import"../chunks/transform.BNP73y-7.js";import{R as Wn,S as Gn,W as zs,i as vr,a as pr,M as Yn,ay as qn,F as mr,l as Kn,n as Xn,d as Zn,aS as gr,o as Jn,aT as yr,aU as br,H as Qn,I as Ql,q as _r,z as Er,aV as Cr,aW as wr,aX as Ar,aY as kr,D as Dr,aK as Lr,O as Is,J as Pe,X as Sr,Z as Xl,Y as Ms,aI as rt,aL as Xe,N as Cn,K as wn,aZ as Tr}from"../chunks/index.DsTuvus7.js";import{M as Ir,g as An}from"../chunks/mapUK.Bfe54qF3.js";import{V as St,A as _e,c as kn,C as Dn,r as Mr,n as Pr,M as Ze,e as Ps,s as Vr,S as Ln,d as Zl,a as Sn,t as Nr,u as Br,T as Vs,p as zr}from"../chunks/globals.Bwfxw-lO.js";import{g as Re,r as Tn,s as xr,d as In,t as Rr,u as Mn,v as Fr,w as Hr,n as Or}from"../chunks/duckdb.JsBt_f7_.js";import{b as Ns,a as Ft}from"../chunks/bar.DvBVuNpv.js";import{m as Ur,c as Pn,s as jr,a as gl}from"../chunks/area.CZAlZ1fO.js";import{t as Wr,m as Gr,b as Jl}from"../chunks/bin.B6e-y8I2.js";import{n as Yr}from"../chunks/nice.CBLIHRhv.js";import{d as Vn}from"../chunks/dot.D5OFD_Dj.js";const qr=Kr(Xr);function Kr(t){return function(l,a,s=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((s=+s)>=0))throw new RangeError("invalid ry");let{data:h,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:h.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!a&&!s)return l;const v=a&&t(a),b=s&&t(s),d=h.slice();return v&&b?(fl(v,d,h,i,c),fl(v,h,d,i,c),fl(v,d,h,i,c),vl(b,h,d,i,c),vl(b,d,h,i,c),vl(b,h,d,i,c)):v?(fl(v,h,d,i,c),fl(v,d,h,i,c),fl(v,h,d,i,c)):b&&(vl(b,h,d,i,c),vl(b,d,h,i,c),vl(b,h,d,i,c)),l}}function fl(t,l,a,s,h){for(let i=0,c=s*h;i<c;)t(l,a,i,i+=s,1)}function vl(t,l,a,s,h){for(let i=0,c=s*h;i<s;++i)t(l,a,i,i+c,s)}function Xr(t){const l=Math.floor(t);if(l===t)return Zr(t);const a=t-l,s=2*t+1;return(h,i,c,v,b)=>{if(!((v-=b)>=c))return;let d=l*i[c];const f=b*l,L=f+b;for(let y=c,S=c+f;y<S;y+=b)d+=i[Math.min(v,y)];for(let y=c,S=v;y<=S;y+=b)d+=i[Math.min(v,y+f)],h[y]=(d+a*(i[Math.max(c,y-L)]+i[Math.min(v,y+L)]))/s,d-=i[Math.max(c,y-f)]}}function Zr(t){const l=2*t+1;return(a,s,h,i,c)=>{if(!((i-=c)>=h))return;let v=t*s[h];const b=c*t;for(let d=h,f=h+b;d<f;d+=c)v+=s[Math.min(i,d)];for(let d=h,f=i;d<=f;d+=c)v+=s[Math.min(i,d+b)],a[d]=v/l,v-=s[Math.max(h,d-b)]}}var Jr=Array.prototype,$n=Jr.slice;function Qr(t,l){return t-l}function $r(t){for(var l=0,a=t.length,s=t[a-1][1]*t[0][0]-t[a-1][0]*t[0][1];++l<a;)s+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return s}const Lt=t=>()=>t;function eo(t,l){for(var a=-1,s=l.length,h;++a<s;)if(h=to(t,l[a]))return h;return 0}function to(t,l){for(var a=l[0],s=l[1],h=-1,i=0,c=t.length,v=c-1;i<c;v=i++){var b=t[i],d=b[0],f=b[1],L=t[v],y=L[0],S=L[1];if(lo(b,L,l))return 0;f>s!=S>s&&a<(y-d)*(s-f)/(S-f)+d&&(h=-h)}return h}function lo(t,l,a){var s;return ao(t,l,a)&&so(t[s=+(t[0]===l[0])],a[s],l[s])}function ao(t,l,a){return(l[0]-t[0])*(a[1]-t[1])===(a[0]-t[0])*(l[1]-t[1])}function so(t,l,a){return t<=l&&l<=a||a<=l&&l<=t}function no(){}var ot=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Nn(){var t=1,l=1,a=Wr,s=b;function h(d){var f=a(d);if(Array.isArray(f))f=f.slice().sort(Qr);else{const L=Wn(d,ro);for(f=Gn(...Yr(L[0],L[1],f),f);f[f.length-1]>=L[1];)f.pop();for(;f[1]<L[0];)f.shift()}return f.map(L=>i(d,L))}function i(d,f){const L=f==null?NaN:+f;if(isNaN(L))throw new Error(`invalid value: ${f}`);var y=[],S=[];return c(d,L,function(D){s(D,d,L),$r(D)>0?y.push([D]):S.push(D)}),S.forEach(function(D){for(var k=0,T=y.length,C;k<T;++k)if(eo((C=y[k])[0],D)!==-1){C.push(D);return}}),{type:"MultiPolygon",value:f,coordinates:y}}function c(d,f,L){var y=new Array,S=new Array,D,k,T,C,m,M;for(D=k=-1,C=Ht(d[0],f),ot[C<<1].forEach(I);++D<t-1;)T=C,C=Ht(d[D+1],f),ot[T|C<<1].forEach(I);for(ot[C<<0].forEach(I);++k<l-1;){for(D=-1,C=Ht(d[k*t+t],f),m=Ht(d[k*t],f),ot[C<<1|m<<2].forEach(I);++D<t-1;)T=C,C=Ht(d[k*t+t+D+1],f),M=m,m=Ht(d[k*t+D+1],f),ot[T|C<<1|m<<2|M<<3].forEach(I);ot[C|m<<3].forEach(I)}for(D=-1,m=d[k*t]>=f,ot[m<<2].forEach(I);++D<t-1;)M=m,m=Ht(d[k*t+D+1],f),ot[m<<2|M<<3].forEach(I);ot[m<<3].forEach(I);function I(N){var R=[N[0][0]+D,N[0][1]+k],P=[N[1][0]+D,N[1][1]+k],O=v(R),U=v(P),V,z;(V=S[O])?(z=y[U])?(delete S[V.end],delete y[z.start],V===z?(V.ring.push(P),L(V.ring)):y[V.start]=S[z.end]={start:V.start,end:z.end,ring:V.ring.concat(z.ring)}):(delete S[V.end],V.ring.push(P),S[V.end=U]=V):(V=y[U])?(z=S[O])?(delete y[V.start],delete S[z.end],V===z?(V.ring.push(P),L(V.ring)):y[z.start]=S[V.end]={start:z.start,end:V.end,ring:z.ring.concat(V.ring)}):(delete y[V.start],V.ring.unshift(R),y[V.start=O]=V):y[O]=S[U]={start:O,end:U,ring:[R,P]}}}function v(d){return d[0]*2+d[1]*(t+1)*4}function b(d,f,L){d.forEach(function(y){var S=y[0],D=y[1],k=S|0,T=D|0,C=Bs(f[T*t+k]);S>0&&S<t&&k===S&&(y[0]=Bn(S,Bs(f[T*t+k-1]),C,L)),D>0&&D<l&&T===D&&(y[1]=Bn(D,Bs(f[(T-1)*t+k]),C,L))})}return h.contour=i,h.size=function(d){if(!arguments.length)return[t,l];var f=Math.floor(d[0]),L=Math.floor(d[1]);if(!(f>=0&&L>=0))throw new Error("invalid size");return t=f,l=L,h},h.thresholds=function(d){return arguments.length?(a=typeof d=="function"?d:Array.isArray(d)?Lt($n.call(d)):Lt(d),h):a},h.smooth=function(d){return arguments.length?(s=d?b:no,h):s===b},h}function ro(t){return isFinite(t)?t:NaN}function Ht(t,l){return t==null?!1:+t>=l}function Bs(t){return t==null||isNaN(t=+t)?-1/0:t}function Bn(t,l,a,s){const h=s-l,i=a-l,c=isFinite(h)||isFinite(i)?h/i:Math.sign(h)/Math.sign(i);return isNaN(c)?t:t+c-.5}function oo(t){return t[0]}function io(t){return t[1]}function co(){return 1}function uo(){var t=oo,l=io,a=co,s=960,h=500,i=20,c=2,v=i*3,b=s+v*2>>c,d=h+v*2>>c,f=Lt(20);function L(m){var M=new Float32Array(b*d),I=Math.pow(2,-c),N=-1;for(const x of m){var R=(t(x,++N,m)+v)*I,P=(l(x,N,m)+v)*I,O=+a(x,N,m);if(O&&R>=0&&R<b&&P>=0&&P<d){var U=Math.floor(R),V=Math.floor(P),z=R-U-.5,te=P-V-.5;M[U+V*b]+=(1-z)*(1-te)*O,M[U+1+V*b]+=z*(1-te)*O,M[U+1+(V+1)*b]+=z*te*O,M[U+(V+1)*b]+=(1-z)*te*O}}return qr({data:M,width:b,height:d},i*I),M}function y(m){var M=L(m),I=f(M),N=Math.pow(2,2*c);return Array.isArray(I)||(I=Gn(Number.MIN_VALUE,zs(M)/N,I)),Nn().size([b,d]).thresholds(I.map(R=>R*N))(M).map((R,P)=>(R.value=+I[P],S(R)))}y.contours=function(m){var M=L(m),I=Nn().size([b,d]),N=Math.pow(2,2*c),R=P=>{P=+P;var O=S(I.contour(M,P*N));return O.value=P,O};return Object.defineProperty(R,"max",{get:()=>zs(M)/N}),R};function S(m){return m.coordinates.forEach(D),m}function D(m){m.forEach(k)}function k(m){m.forEach(T)}function T(m){m[0]=m[0]*Math.pow(2,c)-v,m[1]=m[1]*Math.pow(2,c)-v}function C(){return v=i*3,b=s+v*2>>c,d=h+v*2>>c,y}return y.x=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),y):t},y.y=function(m){return arguments.length?(l=typeof m=="function"?m:Lt(+m),y):l},y.weight=function(m){return arguments.length?(a=typeof m=="function"?m:Lt(+m),y):a},y.size=function(m){if(!arguments.length)return[s,h];var M=+m[0],I=+m[1];if(!(M>=0&&I>=0))throw new Error("invalid size");return s=M,h=I,C()},y.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),C()},y.thresholds=function(m){return arguments.length?(f=typeof m=="function"?m:Array.isArray(m)?Lt($n.call(m)):Lt(m),y):f},y.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,C()},y}const ho={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class fo extends Yn{constructor(l,a={}){const{x:s,y:h,z:i,curve:c,tension:v}=a;super(l,{x:{value:s,scale:"x"},y:{value:h,scale:"y"},z:{value:qn(a),optional:!0}},a,ho),this.z=i,this.curve=Ur(c,v),mr(this,a)}filter(l){return l}project(l,a,s){this.curve!==Pn&&super.project(l,a,s)}render(l,a,s,h,i){const{x:c,y:v}=s,{curve:b}=this;return Kn("svg:g",i).call(Xn,this,h,i).call(Zn,this,a).call(d=>d.selectAll().data(gr(l,[c,v],this,s)).enter().append("path").call(Jn,this).call(yr,this,s).call(br,this,s,i).attr("d",b===Pn&&i.projection?vo(i.projection,c,v):jr().curve(b).defined(f=>f>=0).x(f=>c[f]).y(f=>v[f]))).node()}}function vo(t,l,a){const s=Qn(t);return l=Ql(l),a=Ql(a),h=>{let i=[];const c=[i];for(const v of h)v===-1?(i=[],c.push(i)):i.push([l[v],a[v]]);return s({type:"MultiLineString",coordinates:c})}}function po(t,{x:l=vr,y:a=pr,...s}={}){return new fo(t,Gr({...s,x:l,y:a}))}const mo={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class go extends Yn{constructor(l,{x:a,y:s,z:h,weight:i,fill:c,stroke:v,...b}={}){const d=xn(c)&&(c="currentColor",!0),f=xn(v)&&(v="currentColor",!0);super(l,{x:{value:a,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},z:{value:qn({z:h,fill:c,stroke:v}),optional:!0},weight:{value:i,optional:!0}},bo({...b,fill:c,stroke:v},d,f),mo),d&&(this.fill=void 0),f&&(this.stroke=void 0),this.z=h}filter(l){return l}render(l,a,s,h,i){const{contours:c}=s,v=Qn();return Kn("svg:g",i).call(Xn,this,h,i).call(Zn,this,{}).call(b=>b.selectAll().data(l).enter().append("path").call(Jn,this).call(_r,this,s).attr("d",d=>v(c[d]))).node()}}function zn(t,{x:l,y:a,...s}={}){return[l,a]=Er(l,a),new go(t,{...s,x:l,y:a})}const yo=new Set(["x","y","z","weight"]);function bo(t,l,a){let{bandwidth:h,thresholds:i}=t;return h=h===void 0?20:+h,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?Ql(i):+i,Cr(t,function(c,v,b,d,f,L){const y=b.weight?Ql(b.weight.value):null,S=b.z?.value,{z:D}=this,[k,T]=Dr(this,f),{width:C,height:m}=f,{x:M,y:I}=wr(b,d,L),N=Object.fromEntries(Object.entries(b).filter(([x])=>!yo.has(x)).map(([x,Y])=>[x,{...Y,value:[]}])),R=l&&[],P=a&&[],O=uo().x(M?x=>M[x]:k).y(I?x=>I[x]:T).weight(y?x=>y[x]:1).size([C,m]).bandwidth(h),U=[];for(const x of v){const Y=[];U.push(Y);for(const oe of S?Ar(x,S,D):[x]){const X=O.contours(oe);Y.push([oe,X])}}let V=i;if(!(V instanceof kr)){let x=0;for(const Y of U)for(const[,oe]of Y){const X=oe.max;X>x&&(x=X)}V=Float64Array.from({length:i-1},(Y,oe)=>x*100*(oe+1)/i)}const z=[],te=[];for(const x of U){const Y=[];z.push(Y);for(const[oe,X]of x)for(const ae of V){Y.push(te.length),te.push(X(ae/100)),R&&R.push(ae),P&&P.push(ae);for(const de in N)N[de].value.push(b[de].value[oe[0]])}}return R&&R.push(0),P&&P.push(0),{data:c,facets:z,channels:{...N,...R&&{fill:{value:R,scale:"color"}},...P&&{stroke:{value:P,scale:"color"}},contours:{value:te}}}})}function xn(t){return/^density$/i.test(t)}function Rn(t,l,a){const s=t.slice();return s[56]=l[a],s[57]=l,s[58]=a,s}function Fn(t){let l,a,s,h=t[19][t[18]]+"",i,c,v,b=jn(t[16])+"",d,f=t[9]&&Hn(t);return{c(){l=r("div"),a=r("div"),s=r("span"),i=w(h),c=_(),f&&f.c(),v=w(`\r
              >> `),d=w(b),this.h()},l(L){l=o(L,"DIV",{class:!0});var y=g(l);a=o(y,"DIV",{class:!0});var S=g(a);s=o(S,"SPAN",{class:!0});var D=g(s);i=A(D,h),c=E(D),f&&f.l(D),v=A(D,`\r
              >> `),d=A(D,b),D.forEach(p),S.forEach(p),y.forEach(p),this.h()},h(){n(s,"class","mini-header-text"),n(a,"class","mini-header-content"),n(l,"class","mini-header")},m(L,y){Te(L,l,y),e(l,a),e(a,s),e(s,i),e(s,c),f&&f.m(s,null),e(s,v),e(s,d)},p(L,y){L[9]?f?f.p(L,y):(f=Hn(L),f.c(),f.m(s,v)):f&&(f.d(1),f=null),y[0]&65536&&b!==(b=jn(L[16])+"")&&be(d,b)},d(L){L&&p(l),f&&f.d()}}}function Hn(t){let l,a,s=t[9].toLocaleString()+"",h,i;return{c(){l=r("span"),a=w("(Total: £"),h=w(s),i=w(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var v=g(l);a=A(v,"(Total: £"),h=A(v,s),i=A(v," billion)"),v.forEach(p),this.h()},h(){n(l,"class","mini-header-value")},m(c,v){Te(c,l,v),e(l,a),e(l,h),e(l,i)},p(c,v){v[0]&512&&s!==(s=c[9].toLocaleString()+"")&&be(h,s)},d(c){c&&p(l)}}}function On(t){let l,a,s,h,i=t[20](t[9],t[11],St)+"",c,v,b,d=t[9].toLocaleString()+"",f,L,y,S="billion",D,k,T,C=t[20](t[13],t[11],_e)+"",m,M,I,N,R,P=t[20](t[10],t[12],St)+"",O,U,V,z=t[10].toLocaleString()+"",te,x,Y,oe,X,ae,de=t[20](t[14],t[12],_e)+"",ie,ce,Q,fe,me,ve,ue;function Ie(H,$){return H[9]>0?Eo:_o}let Ee=Ie(t),se=Ee(t);function it(H,$){return H[9]>0?wo:Co}let Ce=it(t),ke=Ce(t);return{c(){l=r("div"),a=r("div"),s=r("div"),h=new yl(!1),c=_(),v=r("span"),b=w("£"),f=w(d),L=_(),y=r("span"),y.textContent=S,D=_(),k=r("div"),T=new yl(!1),m=_(),se.c(),M=_(),I=r("div"),N=r("div"),R=new yl(!1),O=_(),U=r("span"),V=w("£"),te=w(z),x=_(),Y=r("span"),oe=_(),X=r("div"),ae=new yl(!1),ie=_(),ke.c(),ce=_(),Q=r("span"),fe=r("i"),me=w("Grey bars indicate average value for "),ve=r("span"),ue=w(t[7]),this.h()},l(H){l=o(H,"DIV",{class:!0});var $=g(l);a=o($,"DIV",{class:!0});var He=g(a);s=o(He,"DIV",{class:!0});var he=g(s);h=bl(he,!1),c=E(he),v=o(he,"SPAN",{class:!0});var u=g(v);b=A(u,"£"),f=A(u,d),u.forEach(p),L=E(he),y=o(he,"SPAN",{class:!0,"data-svelte-h":!0}),q(y)!=="svelte-tlhydp"&&(y.textContent=S),he.forEach(p),D=E(He),k=o(He,"DIV",{class:!0});var j=g(k);T=bl(j,!1),m=E(j),se.l(j),j.forEach(p),He.forEach(p),M=E($),I=o($,"DIV",{class:!0});var ee=g(I);N=o(ee,"DIV",{class:!0});var Z=g(N);R=bl(Z,!1),O=E(Z),U=o(Z,"SPAN",{class:!0});var F=g(U);V=A(F,"£"),te=A(F,z),F.forEach(p),x=E(Z),Y=o(Z,"SPAN",{class:!0}),g(Y).forEach(p),Z.forEach(p),oe=E(ee),X=o(ee,"DIV",{class:!0});var le=g(X);ae=bl(le,!1),ie=E(le),ke.l(le),le.forEach(p),ce=E(ee),Q=o(ee,"SPAN",{class:!0});var G=g(Q);fe=o(G,"I",{});var ne=g(fe);me=A(ne,"Grey bars indicate average value for "),ve=o(ne,"SPAN",{class:!0});var De=g(ve);ue=A(De,t[7]),De.forEach(p),ne.forEach(p),G.forEach(p),ee.forEach(p),$.forEach(p),this.h()},h(){h.a=c,n(v,"class","waffle-big svelte-6hymh4"),n(y,"class","small svelte-6hymh4"),n(s,"class","waffle-value svelte-6hymh4"),T.a=m,n(k,"class","waffle-value svelte-6hymh4"),n(a,"class","waffle-stat svelte-6hymh4"),R.a=O,n(U,"class","waffle-big svelte-6hymh4"),n(Y,"class","small svelte-6hymh4"),n(N,"class","waffle-value svelte-6hymh4"),ae.a=ie,n(X,"class","waffle-value svelte-6hymh4"),n(ve,"class","nation-label svelte-6hymh4"),n(Q,"class","waffle-caption svelte-6hymh4"),n(I,"class","waffle-stat svelte-6hymh4"),n(l,"class","waffle-stats")},m(H,$){Te(H,l,$),e(l,a),e(a,s),h.m(i,s),e(s,c),e(s,v),e(v,b),e(v,f),e(s,L),e(s,y),e(a,D),e(a,k),T.m(C,k),e(k,m),se.m(k,null),e(l,M),e(l,I),e(I,N),R.m(P,N),e(N,O),e(N,U),e(U,V),e(U,te),e(N,x),e(N,Y),e(I,oe),e(I,X),ae.m(de,X),e(X,ie),ke.m(X,null),e(I,ce),e(I,Q),e(Q,fe),e(fe,me),e(fe,ve),e(ve,ue)},p(H,$){$[0]&2560&&i!==(i=H[20](H[9],H[11],St)+"")&&h.p(i),$[0]&512&&d!==(d=H[9].toLocaleString()+"")&&be(f,d),$[0]&10240&&C!==(C=H[20](H[13],H[11],_e)+"")&&T.p(C),Ee!==(Ee=Ie(H))&&(se.d(1),se=Ee(H),se&&(se.c(),se.m(k,null))),$[0]&5120&&P!==(P=H[20](H[10],H[12],St)+"")&&R.p(P),$[0]&1024&&z!==(z=H[10].toLocaleString()+"")&&be(te,z),$[0]&20480&&de!==(de=H[20](H[14],H[12],_e)+"")&&ae.p(de),Ce!==(Ce=it(H))&&(ke.d(1),ke=Ce(H),ke&&(ke.c(),ke.m(X,null))),$[0]&128&&be(ue,H[7])},d(H){H&&p(l),se.d(),ke.d()}}}function _o(t){let l,a="Local area costs";return{c(){l=r("span"),l.textContent=a,this.h()},l(s){l=o(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-pi7zpb"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,h){Te(s,l,h)},d(s){s&&p(l)}}}function Eo(t){let l,a="Local area benefits";return{c(){l=r("span"),l.textContent=a,this.h()},l(s){l=o(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-cjpgg1"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,h){Te(s,l,h)},d(s){s&&p(l)}}}function Co(t){let l,a="Per capita costs";return{c(){l=r("span"),l.textContent=a,this.h()},l(s){l=o(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-k47gg8"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,h){Te(s,l,h)},d(s){s&&p(l)}}}function wo(t){let l,a="Per capita benefits";return{c(){l=r("span"),l.textContent=a,this.h()},l(s){l=o(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-1jc8yoe"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,h){Te(s,l,h)},d(s){s&&p(l)}}}function Ao(t){let l,a,s,h,i,c,v,b,d=`The histogram shows the number of data zones\r
                                        distributed\r
                                        across\r
                                        different household social economic factors.`,f,L,y="",S=t[56],D,k,T,C,m,M=t[56].label+"",I,N,R,P,O,U=t[19][t[18]]+"",V,z,te,x,Y,oe="";const X=()=>t[33](L,S),ae=()=>t[33](null,S),de=()=>t[34](Y,S),ie=()=>t[34](null,S);return{c(){l=r("div"),a=r("h3"),s=w("Data Zones Distribution (vs. "),h=r("span"),i=w(t[7]),c=w(" average)"),v=_(),b=r("p"),b.textContent=d,f=_(),L=r("div"),L.innerHTML=y,D=_(),k=r("div"),T=r("div"),C=r("h3"),m=w(`Co-benefits Received by Data Zones\r
                                            across `),I=w(M),N=w(`\r
                                            Values`),R=_(),P=r("p"),O=w(`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),V=w(U),z=w("."),te=_(),x=r("div"),Y=r("div"),Y.innerHTML=oe,this.h()},l(ce){l=o(ce,"DIV",{class:!0});var Q=g(l);a=o(Q,"H3",{class:!0});var fe=g(a);s=A(fe,"Data Zones Distribution (vs. "),h=o(fe,"SPAN",{class:!0});var me=g(h);i=A(me,t[7]),me.forEach(p),c=A(fe," average)"),fe.forEach(p),v=E(Q),b=o(Q,"P",{class:!0,"data-svelte-h":!0}),q(b)!=="svelte-zr1gq8"&&(b.textContent=d),f=E(Q),L=o(Q,"DIV",{class:!0,"data-svelte-h":!0}),q(L)!=="svelte-6ldqab"&&(L.innerHTML=y),Q.forEach(p),D=E(ce),k=o(ce,"DIV",{class:!0});var ve=g(k);T=o(ve,"DIV",{});var ue=g(T);C=o(ue,"H3",{class:!0});var Ie=g(C);m=A(Ie,`Co-benefits Received by Data Zones\r
                                            across `),I=A(Ie,M),N=A(Ie,`\r
                                            Values`),Ie.forEach(p),R=E(ue),P=o(ue,"P",{class:!0});var Ee=g(P);O=A(Ee,`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),V=A(Ee,U),z=A(Ee,"."),Ee.forEach(p),ue.forEach(p),te=E(ve),x=o(ve,"DIV",{});var se=g(x);Y=o(se,"DIV",{class:!0,"data-svelte-h":!0}),q(Y)!=="svelte-12l832e"&&(Y.innerHTML=oe),se.forEach(p),ve.forEach(p),this.h()},h(){n(h,"class","nation-label svelte-6hymh4"),n(a,"class","component-title"),n(b,"class","description short"),n(L,"class","plot"),n(l,"class","component column svelte-6hymh4"),n(C,"class","component-title"),n(P,"class","description short"),n(Y,"class","plot"),n(k,"class","component column svelte-6hymh4")},m(ce,Q){Te(ce,l,Q),e(l,a),e(a,s),e(a,h),e(h,i),e(a,c),e(l,v),e(l,b),e(l,f),e(l,L),X(),Te(ce,D,Q),Te(ce,k,Q),e(k,T),e(T,C),e(C,m),e(C,I),e(C,N),e(T,R),e(T,P),e(P,O),e(P,V),e(P,z),e(k,te),e(k,x),e(x,Y),de()},p(ce,Q){t=ce,Q[0]&128&&be(i,t[7]),S!==t[56]&&(ae(),S=t[56],X()),S!==t[56]&&(ie(),S=t[56],de())},d(ce){ce&&(p(l),p(D),p(k)),ae(),ie()}}}function Un(t){let l,a,s=t[56].label+"",h,i,c,v=t[56].def+"",b,d,f,L;function y(k,T){return Ao}let D=y()(t);return{c(){l=r("div"),a=r("h2"),h=w(s),i=_(),c=r("p"),b=w(v),d=_(),f=r("div"),D.c(),L=_(),this.h()},l(k){l=o(k,"DIV",{class:!0});var T=g(l);a=o(T,"H2",{class:!0});var C=g(a);h=A(C,s),C.forEach(p),i=E(T),c=o(T,"P",{class:!0});var m=g(c);b=A(m,v),m.forEach(p),d=E(T),f=o(T,"DIV",{class:!0});var M=g(f);D.l(M),M.forEach(p),L=E(T),T.forEach(p),this.h()},h(){n(a,"class","column-chart-title svelte-6hymh4"),n(c,"class","column-chart-caption svelte-6hymh4"),n(f,"class","row"),n(l,"class","household-column svelte-6hymh4")},m(k,T){Te(k,l,T),e(l,a),e(a,h),e(l,i),e(l,c),e(c,b),e(l,d),e(l,f),D.m(f,null),e(l,L)},p(k,T){D.p(k,T)},d(k){k&&p(l),D.d()}}}function ko(t){let l,a,s,h,i,c,v,b="Local Authority Report",d,f,L=t[19][t[18]]+"",y,S,D,k=`Explore how this local authority will benefit from achieving Net Zero and learn about\r
                the characteristics of its households.`,T,C,m,M,I,N,R,P,O="UK",U,V,z,te,x,Y="England",oe,X,ae,de,ie,ce="Wales",Q,fe,me,ve,ue,Ie="Scotland",Ee,se,it,Ce,ke="Northern Ireland",H,$,He,he,u,j=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ee,Z,F,le,G,ne,De,W,Je,Oe,$l,xs=t[19][t[18]]+"",ea,ta,Ut,_l,la,aa,sa,na,pl,El=t[21](t[5],t[8])+"",Cl,ct,ra,jt,wl,oa,ia,Ue,ca,Rs=t[19][t[18]]+"",ua,ha,Wt,Al,da,fa,ut,Fs="",va,Me,ht,pa,Hs=t[19][t[18]]+"",ma,ga,ya,Tt,Os=t[19][t[18]]+"",ba,_a,Ea,It,Us="*Scroll for zooming in and out",Ca,Qe,js="",wa,$e,Mt,Ws=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Aa,et,tt,lt,dt,ka,Gt,kl,Da,La,Ve,Sa,Gs=t[19][t[18]]+"",Ta,Ia,Yt,Dl,Ma,Pa,je,Pt,Ys="Legend:",Va,Na,Ba,ft,vt,qt,za,qs=t[19][t[18]]+"",xa,Ra,pt,Kt,Fa,Xt,Ll,Ha,Zt,Oa,Ne,at,mt,Ua,Ks=t[19][t[18]]+"",ja,Wa,Ga,gt,Xs=`Total gains and losses are shown at five-year\r
                        intervals for each co-benefit. The curve between points is smoothed to show the general trends.`,Ya,st,Zs=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <ul class="horizontal-legend-list svelte-6hymh4" style="margin-bottom:5px"><li><span class="legend-color svelte-6hymh4" style="background-color: #D3A029"></span>
                                Diet change</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #48773E"></span>
                                Physical activity</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #183668"></span>
                                Dampness</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #00AED9"></span>
                                Excess cold</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #E11484"></span>
                                Noise</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #71C35D"></span>
                                Air quality</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #8F1838"></span>
                                Congestion</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #EF402B"></span>
                                Excess heat</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #F36D25"></span>
                                Road safety</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #F99D26"></span>
                                Road repairs</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #C31F33"></span>
                                Hassle costs</li></ul>`,qa,Jt,Ka,yt,Js=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,Xa,nt,We,Vt,Qs="Households",Za,Nt,$s=t[19][t[18]]+"",Ja,Qa,$a,Bt,en=`We describe the distribution of household economic factors aggregated on the data\r
                zone level and the different level of co-benefits received by those data zones.`,es,Ge,we,Ye,ts,tn=t[19][t[18]]+"",ls,as,Sl,ss,ns,rs,os,Be,zt,ln="Legend:",is,cs,us,bt,_t,Qt,hs,an=t[19][t[18]]+"",ds,fs,Et,$t,vs,Tl,ps,Se,xt,sn="Interpreting the charts:",ms,gs,ys,el,nn=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,bs,qe,tl,rn="Scatterplot:",_s,on=t[19][t[18]]+"",Es,Cs,Il,ws,As,Ct,cn=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,ks,wt,Ae,Ds,un;l=new fr({});let ge=t[15]&&Fn(t),ye=t[9]&&On(t),ll=En(kn),pe=[];for(let B=0;B<ll.length;B+=1)pe[B]=Un(Rn(t,ll,B));return{c(){or(l.$$.fragment),a=_(),s=r("div"),ge&&ge.c(),h=_(),i=r("div"),c=r("div"),v=r("p"),v.textContent=b,d=_(),f=r("h1"),y=w(L),S=_(),D=r("p"),D.textContent=k,T=_(),C=r("div"),m=w("Compare this Local Authority District (LAD) against:"),M=r("br"),I=_(),N=r("input"),R=_(),P=r("label"),P.textContent=O,U=r("br"),V=_(),z=r("input"),te=_(),x=r("label"),x.textContent=Y,oe=r("br"),X=_(),ae=r("input"),de=_(),ie=r("label"),ie.textContent=ce,Q=r("br"),fe=_(),me=r("input"),ve=_(),ue=r("label"),ue.textContent=Ie,Ee=_(),se=r("input"),it=_(),Ce=r("label"),Ce.textContent=ke,H=_(),$=r("div"),ye&&ye.c(),He=_(),he=r("div"),u=r("div"),u.innerHTML=j,ee=_(),Z=r("div"),F=r("div"),le=r("h3"),G=w("Distribution of the cobenefit per datazones compared to "),ne=r("span"),De=w(t[7]),W=w(" Average)"),Je=_(),Oe=r("p"),$l=w("Co-benefit values for "),ea=w(xs),ta=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Ut=r("span"),_l=w(t[7]),la=w(" (grey)."),aa=_(),sa=r("br"),na=_(),pl=new yl(!1),Cl=_(),ct=r("h3"),ra=w("11 types of co-benefit values (vs. "),jt=r("span"),wl=w(t[7]),oa=w(" Average)"),ia=_(),Ue=r("p"),ca=w("Co-benefit values for "),ua=w(Rs),ha=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Wt=r("span"),Al=w(t[7]),da=w(" (grey)."),fa=_(),ut=r("div"),ut.innerHTML=Fs,va=_(),Me=r("div"),ht=r("h3"),pa=w("Where is "),ma=w(Hs),ga=w("?"),ya=_(),Tt=r("p"),ba=w(Os),_a=w(" has been highlighted in red on this UK map."),Ea=_(),It=r("p"),It.textContent=Us,Ca=_(),Qe=r("div"),Qe.innerHTML=js,wa=_(),$e=r("div"),Mt=r("div"),Mt.innerHTML=Ws,Aa=_(),et=r("div"),tt=r("div"),lt=r("div"),dt=r("h3"),ka=w("Total co-benefit distribution from 2025-2049 (vs. "),Gt=r("span"),kl=w(t[7]),Da=w(" Average)"),La=_(),Ve=r("p"),Sa=w(`Aggregated values from 2025-2049\r
                        in `),Ta=w(Gs),Ia=w(` compared to average value of benefits received across all local authorities\r
                        in `),Yt=r("span"),Dl=w(t[7]),Ma=w("."),Pa=_(),je=r("div"),Pt=r("strong"),Pt.textContent=Ys,Va=_(),Na=r("br"),Ba=_(),ft=r("ul"),vt=r("li"),qt=r("span"),za=_(),xa=w(qs),Ra=_(),pt=r("li"),Kt=r("span"),Fa=_(),Xt=r("span"),Ll=w(t[7]),Ha=_(),Zt=r("div"),Oa=_(),Ne=r("div"),at=r("div"),mt=r("h3"),Ua=w("Co-benefit gain/loss for "),ja=w(Ks),Wa=w(" over 5 year intervals"),Ga=_(),gt=r("p"),gt.textContent=Xs,Ya=_(),st=r("div"),st.innerHTML=Zs,qa=_(),Jt=r("div"),Ka=_(),yt=r("div"),yt.innerHTML=Js,Xa=_(),nt=r("div"),We=r("div"),Vt=r("p"),Vt.textContent=Qs,Za=_(),Nt=r("h2"),Ja=w($s),Qa=w(" social-economic factors"),$a=_(),Bt=r("p"),Bt.textContent=en,es=_(),Ge=r("div"),we=r("div"),Ye=r("h3"),ts=w("Comparing the Socio-Economic factors distributions of "),ls=w(tn),as=w(`\r
                    and `),Sl=w(t[7]),ss=w(", and their correlation with co-benefits."),ns=_(),rs=r("br"),os=_(),Be=r("div"),zt=r("strong"),zt.textContent=ln,is=_(),cs=r("br"),us=_(),bt=r("ul"),_t=r("li"),Qt=r("span"),hs=_(),ds=w(an),fs=_(),Et=r("li"),$t=r("span"),vs=_(),Tl=w(t[7]),ps=_(),Se=r("div"),xt=r("strong"),xt.textContent=sn,ms=_(),gs=r("br"),ys=_(),el=r("p"),el.innerHTML=nn,bs=_(),qe=r("p"),tl=r("strong"),tl.textContent=rn,_s=w(" Each dot represents a datazone inside "),Es=w(on),Cs=w(`. The cloud\r
                        shows the distribution for `),Il=w(t[7]),ws=w("."),As=_(),Ct=r("div"),Ct.innerHTML=cn,ks=_(),wt=r("div");for(let B=0;B<pe.length;B+=1)pe[B].c();this.h()},l(B){ir(l.$$.fragment,B),a=E(B),s=o(B,"DIV",{class:!0});var K=g(s);ge&&ge.l(K),h=E(K),i=o(K,"DIV",{class:!0,id:!0});var re=g(i);c=o(re,"DIV",{});var ze=g(c);v=o(ze,"P",{class:!0,"data-svelte-h":!0}),q(v)!=="svelte-wtex57"&&(v.textContent=b),d=E(ze),f=o(ze,"H1",{class:!0});var hn=g(f);y=A(hn,L),hn.forEach(p),S=E(ze),D=o(ze,"P",{class:!0,"data-svelte-h":!0}),q(D)!=="svelte-q4fx5o"&&(D.textContent=k),T=E(ze),C=o(ze,"DIV",{class:!0});var J=g(C);m=A(J,"Compare this Local Authority District (LAD) against:"),M=o(J,"BR",{}),I=E(J),N=o(J,"INPUT",{type:!0,name:!0}),R=E(J),P=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(P)!=="svelte-1yhxhao"&&(P.textContent=O),U=o(J,"BR",{}),V=E(J),z=o(J,"INPUT",{type:!0,name:!0}),te=E(J),x=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(x)!=="svelte-11zyrfp"&&(x.textContent=Y),oe=o(J,"BR",{}),X=E(J),ae=o(J,"INPUT",{type:!0,name:!0}),de=E(J),ie=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(ie)!=="svelte-18hrmu4"&&(ie.textContent=ce),Q=o(J,"BR",{}),fe=E(J),me=o(J,"INPUT",{type:!0,name:!0}),ve=E(J),ue=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(ue)!=="svelte-mkxs8y"&&(ue.textContent=Ie),Ee=E(J),se=o(J,"INPUT",{type:!0,name:!0}),it=E(J),Ce=o(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(Ce)!=="svelte-g19yfx"&&(Ce.textContent=ke),J.forEach(p),ze.forEach(p),H=E(re),$=o(re,"DIV",{});var dn=g($);ye&&ye.l(dn),dn.forEach(p),re.forEach(p),He=E(K),he=o(K,"DIV",{class:!0,id:!0});var Ml=g(he);u=o(Ml,"DIV",{class:!0,"data-svelte-h":!0}),q(u)!=="svelte-lw225h"&&(u.innerHTML=j),ee=E(Ml),Z=o(Ml,"DIV",{id:!0,class:!0});var Pl=g(Z);F=o(Pl,"DIV",{class:!0});var Le=g(F);le=o(Le,"H3",{class:!0});var Vl=g(le);G=A(Vl,"Distribution of the cobenefit per datazones compared to "),ne=o(Vl,"SPAN",{class:!0});var fn=g(ne);De=A(fn,t[7]),fn.forEach(p),W=A(Vl," Average)"),Vl.forEach(p),Je=E(Le),Oe=o(Le,"P",{class:!0});var al=g(Oe);$l=A(al,"Co-benefit values for "),ea=A(al,xs),ta=A(al,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Ut=o(al,"SPAN",{class:!0});var vn=g(Ut);_l=A(vn,t[7]),vn.forEach(p),la=A(al," (grey)."),al.forEach(p),aa=E(Le),sa=o(Le,"BR",{}),na=E(Le),pl=bl(Le,!1),Cl=E(Le),ct=o(Le,"H3",{class:!0});var Nl=g(ct);ra=A(Nl,"11 types of co-benefit values (vs. "),jt=o(Nl,"SPAN",{class:!0});var pn=g(jt);wl=A(pn,t[7]),pn.forEach(p),oa=A(Nl," Average)"),Nl.forEach(p),ia=E(Le),Ue=o(Le,"P",{class:!0});var sl=g(Ue);ca=A(sl,"Co-benefit values for "),ua=A(sl,Rs),ha=A(sl,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Wt=o(sl,"SPAN",{class:!0});var mn=g(Wt);Al=A(mn,t[7]),mn.forEach(p),da=A(sl," (grey)."),sl.forEach(p),fa=E(Le),ut=o(Le,"DIV",{class:!0,"data-svelte-h":!0}),q(ut)!=="svelte-11dzfub"&&(ut.innerHTML=Fs),Le.forEach(p),va=E(Pl),Me=o(Pl,"DIV",{class:!0});var At=g(Me);ht=o(At,"H3",{class:!0});var Bl=g(ht);pa=A(Bl,"Where is "),ma=A(Bl,Hs),ga=A(Bl,"?"),Bl.forEach(p),ya=E(At),Tt=o(At,"P",{class:!0});var Ls=g(Tt);ba=A(Ls,Os),_a=A(Ls," has been highlighted in red on this UK map."),Ls.forEach(p),Ea=E(At),It=o(At,"P",{class:!0,"data-svelte-h":!0}),q(It)!=="svelte-vsj698"&&(It.textContent=Us),Ca=E(At),Qe=o(At,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),q(Qe)!=="svelte-13ehpmu"&&(Qe.innerHTML=js),At.forEach(p),Pl.forEach(p),Ml.forEach(p),wa=E(K),$e=o(K,"DIV",{class:!0,id:!0});var zl=g($e);Mt=o(zl,"DIV",{class:!0,"data-svelte-h":!0}),q(Mt)!=="svelte-10cbt4"&&(Mt.innerHTML=Ws),Aa=E(zl),et=o(zl,"DIV",{id:!0,class:!0});var xl=g(et);tt=o(xl,"DIV",{id:!0,class:!0});var Rl=g(tt);lt=o(Rl,"DIV",{});var nl=g(lt);dt=o(nl,"H3",{class:!0});var Fl=g(dt);ka=A(Fl,"Total co-benefit distribution from 2025-2049 (vs. "),Gt=o(Fl,"SPAN",{class:!0});var gn=g(Gt);kl=A(gn,t[7]),gn.forEach(p),Da=A(Fl," Average)"),Fl.forEach(p),La=E(nl),Ve=o(nl,"P",{class:!0,style:!0});var rl=g(Ve);Sa=A(rl,`Aggregated values from 2025-2049\r
                        in `),Ta=A(rl,Gs),Ia=A(rl,` compared to average value of benefits received across all local authorities\r
                        in `),Yt=o(rl,"SPAN",{class:!0});var yn=g(Yt);Dl=A(yn,t[7]),yn.forEach(p),Ma=A(rl,"."),rl.forEach(p),Pa=E(nl),je=o(nl,"DIV",{class:!0});var ol=g(je);Pt=o(ol,"STRONG",{style:!0,"data-svelte-h":!0}),q(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=Ys),Va=E(ol),Na=o(ol,"BR",{}),Ba=E(ol),ft=o(ol,"UL",{class:!0});var Hl=g(ft);vt=o(Hl,"LI",{class:!0});var Ol=g(vt);qt=o(Ol,"SPAN",{class:!0,style:!0}),g(qt).forEach(p),za=E(Ol),xa=A(Ol,qs),Ol.forEach(p),Ra=E(Hl),pt=o(Hl,"LI",{class:!0});var Ul=g(pt);Kt=o(Ul,"SPAN",{class:!0,style:!0}),g(Kt).forEach(p),Fa=E(Ul),Xt=o(Ul,"SPAN",{class:!0});var bn=g(Xt);Ll=A(bn,t[7]),bn.forEach(p),Ul.forEach(p),Hl.forEach(p),ol.forEach(p),nl.forEach(p),Ha=E(Rl),Zt=o(Rl,"DIV",{class:!0}),g(Zt).forEach(p),Rl.forEach(p),Oa=E(xl),Ne=o(xl,"DIV",{id:!0,class:!0});var il=g(Ne);at=o(il,"DIV",{});var cl=g(at);mt=o(cl,"H3",{class:!0});var jl=g(mt);Ua=A(jl,"Co-benefit gain/loss for "),ja=A(jl,Ks),Wa=A(jl," over 5 year intervals"),jl.forEach(p),Ga=E(cl),gt=o(cl,"P",{class:!0,style:!0,"data-svelte-h":!0}),q(gt)!=="svelte-1r31owf"&&(gt.textContent=Xs),Ya=E(cl),st=o(cl,"DIV",{id:!0,class:!0,style:!0,"data-svelte-h":!0}),q(st)!=="svelte-1kwbxxa"&&(st.innerHTML=Zs),cl.forEach(p),qa=E(il),Jt=o(il,"DIV",{class:!0}),g(Jt).forEach(p),Ka=E(il),yt=o(il,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),q(yt)!=="svelte-1xqy5mf"&&(yt.innerHTML=Js),il.forEach(p),xl.forEach(p),zl.forEach(p),Xa=E(K),nt=o(K,"DIV",{class:!0,id:!0});var Wl=g(nt);We=o(Wl,"DIV",{class:!0});var ul=g(We);Vt=o(ul,"P",{class:!0,"data-svelte-h":!0}),q(Vt)!=="svelte-ceroz1"&&(Vt.textContent=Qs),Za=E(ul),Nt=o(ul,"H2",{class:!0});var Ss=g(Nt);Ja=A(Ss,$s),Qa=A(Ss," social-economic factors"),Ss.forEach(p),$a=E(ul),Bt=o(ul,"P",{class:!0,"data-svelte-h":!0}),q(Bt)!=="svelte-45d07w"&&(Bt.textContent=en),ul.forEach(p),es=E(Wl),Ge=o(Wl,"DIV",{id:!0,class:!0,style:!0});var Gl=g(Ge);we=o(Gl,"DIV",{id:!0,class:!0});var Ke=g(we);Ye=o(Ke,"H3",{class:!0});var hl=g(Ye);ts=A(hl,"Comparing the Socio-Economic factors distributions of "),ls=A(hl,tn),as=A(hl,`\r
                    and `),Sl=A(hl,t[7]),ss=A(hl,", and their correlation with co-benefits."),hl.forEach(p),ns=E(Ke),rs=o(Ke,"BR",{}),os=E(Ke),Be=o(Ke,"DIV",{id:!0,class:!0});var dl=g(Be);zt=o(dl,"STRONG",{style:!0,"data-svelte-h":!0}),q(zt)!=="svelte-xb363n"&&(zt.textContent=ln),is=E(dl),cs=o(dl,"BR",{}),us=E(dl),bt=o(dl,"UL",{class:!0});var Yl=g(bt);_t=o(Yl,"LI",{class:!0});var ql=g(_t);Qt=o(ql,"SPAN",{class:!0,style:!0}),g(Qt).forEach(p),hs=E(ql),ds=A(ql,an),ql.forEach(p),fs=E(Yl),Et=o(Yl,"LI",{class:!0});var Kl=g(Et);$t=o(Kl,"SPAN",{class:!0,style:!0}),g($t).forEach(p),vs=E(Kl),Tl=A(Kl,t[7]),Kl.forEach(p),Yl.forEach(p),dl.forEach(p),ps=E(Ke),Se=o(Ke,"DIV",{id:!0,class:!0});var kt=g(Se);xt=o(kt,"STRONG",{style:!0,"data-svelte-h":!0}),q(xt)!=="svelte-ucmfvz"&&(xt.textContent=sn),ms=E(kt),gs=o(kt,"BR",{}),ys=E(kt),el=o(kt,"P",{"data-svelte-h":!0}),q(el)!=="svelte-mm528r"&&(el.innerHTML=nn),bs=E(kt),qe=o(kt,"P",{});var Rt=g(qe);tl=o(Rt,"STRONG",{"data-svelte-h":!0}),q(tl)!=="svelte-1ij32sd"&&(tl.textContent=rn),_s=A(Rt," Each dot represents a datazone inside "),Es=A(Rt,on),Cs=A(Rt,`. The cloud\r
                        shows the distribution for `),Il=A(Rt,t[7]),ws=A(Rt,"."),Rt.forEach(p),kt.forEach(p),As=E(Ke),Ct=o(Ke,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),q(Ct)!=="svelte-gofjep"&&(Ct.innerHTML=cn),Ke.forEach(p),ks=E(Gl),wt=o(Gl,"DIV",{id:!0,class:!0});var _n=g(wt);for(let Ts=0;Ts<pe.length;Ts+=1)pe[Ts].l(_n);_n.forEach(p),Gl.forEach(p),Wl.forEach(p),K.forEach(p),this.h()},h(){n(v,"class","page-subtitle"),n(f,"class","page-title"),n(D,"class","description"),n(N,"type","radio"),n(N,"name","compare"),N.value="UK",N.checked=!0,n(P,"class","nation-label svelte-6hymh4"),n(P,"for","html"),n(z,"type","radio"),n(z,"name","compare"),z.value="England",n(x,"class","nation-label svelte-6hymh4"),n(x,"for","html"),n(ae,"type","radio"),n(ae,"name","compare"),ae.value="Wales",n(ie,"class","nation-label svelte-6hymh4"),n(ie,"for","html"),n(me,"type","radio"),n(me,"name","compare"),me.value="Scotland",n(ue,"class","nation-label svelte-6hymh4"),n(ue,"for","javascript"),n(se,"type","radio"),n(se,"name","compare"),se.value="NI",n(Ce,"class","nation-label svelte-6hymh4"),n(Ce,"for","javascript"),n(C,"class","radio-set"),n(i,"class","section header header-row svelte-6hymh4"),n(i,"id","head"),n(u,"class","section-header"),n(ne,"class","nation-label svelte-6hymh4"),n(le,"class","component-title"),n(Ut,"class","nation-label svelte-6hymh4"),n(Oe,"class","description"),pl.a=Cl,n(jt,"class","nation-label svelte-6hymh4"),n(ct,"class","component-title"),n(Wt,"class","nation-label svelte-6hymh4"),n(Ue,"class","description"),n(ut,"class","plot"),n(F,"class","component column"),n(ht,"class","component-title"),n(Tt,"class","description"),n(It,"class","description"),n(Qe,"id","map"),n(Qe,"class","svelte-6hymh4"),n(Me,"class","component column"),n(Z,"id","vis-block"),n(Z,"class","svelte-6hymh4"),n(he,"class","section"),n(he,"id","overview"),n(Mt,"class","section-header"),n(Gt,"class","nation-label svelte-6hymh4"),n(dt,"class","component-title"),n(Yt,"class","nation-label svelte-6hymh4"),n(Ve,"class","description"),xe(Ve,"margin-bottom","5px"),xe(Pt,"margin-bottom","0.5rem"),n(qt,"class","legend-color svelte-6hymh4"),xe(qt,"background-color",St),n(vt,"class","svelte-6hymh4"),n(Kt,"class","legend-color svelte-6hymh4"),xe(Kt,"background-color",_e),n(Xt,"class","nation-label svelte-6hymh4"),n(pt,"class","svelte-6hymh4"),n(ft,"class","legend-list svelte-6hymh4"),n(je,"class","legend-box svelte-6hymh4"),n(Zt,"class","plot side svelte-6hymh4"),n(tt,"id","main-block"),n(tt,"class","component column svelte-6hymh4"),n(mt,"class","component-title"),n(gt,"class","description"),xe(gt,"margin-bottom","5px"),n(st,"id","main-legend"),n(st,"class","legend-box svelte-6hymh4"),xe(st,"margin-bottom","5px"),n(Jt,"class","plot side svelte-6hymh4"),n(yt,"id","main-disclaimer"),n(yt,"class","disclaimer-box svelte-6hymh4"),n(Ne,"id","main-block"),n(Ne,"class","component column svelte-6hymh4"),n(et,"id","vis-block"),n(et,"class","svelte-6hymh4"),n($e,"class","section"),n($e,"id","temporal"),n(Vt,"class","section-subtitle"),n(Nt,"class","section-title"),n(Bt,"class","description"),n(We,"class","section-header"),n(Ye,"class","component-title"),xe(zt,"margin-bottom","1rem"),n(Qt,"class","legend-color svelte-6hymh4"),xe(Qt,"background-color",St),n(_t,"class","svelte-6hymh4"),n($t,"class","legend-color svelte-6hymh4"),xe($t,"background-color",_e),n(Et,"class","svelte-6hymh4"),n(bt,"class","legend-list svelte-6hymh4"),n(Be,"id","se-legend"),n(Be,"class","legend-box svelte-6hymh4"),xe(xt,"margin-bottom","1rem"),n(Se,"id","se-legend"),n(Se,"class","legend-box svelte-6hymh4"),n(Ct,"id","se-disclaimer"),n(Ct,"class","disclaimer-box svelte-6hymh4"),n(we,"id","se-title"),n(we,"class","svelte-6hymh4"),n(wt,"id","multiple-comp"),n(wt,"class","svelte-6hymh4"),n(Ge,"id","se-block"),n(Ge,"class","component svelte-6hymh4"),xe(Ge,"margin-left","1rem"),n(nt,"class","section"),n(nt,"id","households"),n(s,"class","page-container")},m(B,K){cr(l,B,K),Te(B,a,K),Te(B,s,K),ge&&ge.m(s,null),e(s,h),e(s,i),e(i,c),e(c,v),e(c,d),e(c,f),e(f,y),e(c,S),e(c,D),e(c,T),e(c,C),e(C,m),e(C,M),e(C,I),e(C,N),e(C,R),e(C,P),e(C,U),e(C,V),e(C,z),e(C,te),e(C,x),e(C,oe),e(C,X),e(C,ae),e(C,de),e(C,ie),e(C,Q),e(C,fe),e(C,me),e(C,ve),e(C,ue),e(C,Ee),e(C,se),e(C,it),e(C,Ce),e(i,H),e(i,$),ye&&ye.m($,null),e(s,He),e(s,he),e(he,u),e(he,ee),e(he,Z),e(Z,F),e(F,le),e(le,G),e(le,ne),e(ne,De),e(le,W),e(F,Je),e(F,Oe),e(Oe,$l),e(Oe,ea),e(Oe,ta),e(Oe,Ut),e(Ut,_l),e(Oe,la),e(F,aa),e(F,sa),e(F,na),pl.m(El,F),e(F,Cl),e(F,ct),e(ct,ra),e(ct,jt),e(jt,wl),e(ct,oa),e(F,ia),e(F,Ue),e(Ue,ca),e(Ue,ua),e(Ue,ha),e(Ue,Wt),e(Wt,Al),e(Ue,da),e(F,fa),e(F,ut),t[28](ut),e(Z,va),e(Z,Me),e(Me,ht),e(ht,pa),e(ht,ma),e(ht,ga),e(Me,ya),e(Me,Tt),e(Tt,ba),e(Tt,_a),e(Me,Ea),e(Me,It),e(Me,Ca),e(Me,Qe),t[29](Qe),e(s,wa),e(s,$e),e($e,Mt),e($e,Aa),e($e,et),e(et,tt),e(tt,lt),e(lt,dt),e(dt,ka),e(dt,Gt),e(Gt,kl),e(dt,Da),e(lt,La),e(lt,Ve),e(Ve,Sa),e(Ve,Ta),e(Ve,Ia),e(Ve,Yt),e(Yt,Dl),e(Ve,Ma),e(lt,Pa),e(lt,je),e(je,Pt),e(je,Va),e(je,Na),e(je,Ba),e(je,ft),e(ft,vt),e(vt,qt),e(vt,za),e(vt,xa),e(ft,Ra),e(ft,pt),e(pt,Kt),e(pt,Fa),e(pt,Xt),e(Xt,Ll),e(tt,Ha),e(tt,Zt),t[30](Zt),e(et,Oa),e(et,Ne),e(Ne,at),e(at,mt),e(mt,Ua),e(mt,ja),e(mt,Wa),e(at,Ga),e(at,gt),e(at,Ya),e(at,st),e(Ne,qa),e(Ne,Jt),t[31](Jt),e(Ne,Ka),e(Ne,yt),e(s,Xa),e(s,nt),e(nt,We),e(We,Vt),e(We,Za),e(We,Nt),e(Nt,Ja),e(Nt,Qa),e(We,$a),e(We,Bt),e(nt,es),e(nt,Ge),e(Ge,we),e(we,Ye),e(Ye,ts),e(Ye,ls),e(Ye,as),e(Ye,Sl),e(Ye,ss),e(we,ns),e(we,rs),e(we,os),e(we,Be),e(Be,zt),e(Be,is),e(Be,cs),e(Be,us),e(Be,bt),e(bt,_t),e(_t,Qt),e(_t,hs),e(_t,ds),e(bt,fs),e(bt,Et),e(Et,$t),e(Et,vs),e(Et,Tl),e(we,ps),e(we,Se),e(Se,xt),e(Se,ms),e(Se,gs),e(Se,ys),e(Se,el),e(Se,bs),e(Se,qe),e(qe,tl),e(qe,_s),e(qe,Es),e(qe,Cs),e(qe,Il),e(qe,ws),e(we,As),e(we,Ct),e(Ge,ks),e(Ge,wt);for(let re=0;re<pe.length;re+=1)pe[re]&&pe[re].m(wt,null);t[35](s),Ae=!0,Ds||(un=[ml(N,"change",t[22]),ml(z,"change",t[22]),ml(ae,"change",t[22]),ml(me,"change",t[22]),ml(se,"change",t[22])],Ds=!0)},p(B,K){if(B[15]?ge?ge.p(B,K):(ge=Fn(B),ge.c(),ge.m(s,h)):ge&&(ge.d(1),ge=null),B[9]?ye?ye.p(B,K):(ye=On(B),ye.c(),ye.m($,null)):ye&&(ye.d(1),ye=null),(!Ae||K[0]&128)&&be(De,B[7]),(!Ae||K[0]&128)&&be(_l,B[7]),(!Ae||K[0]&288)&&El!==(El=B[21](B[5],B[8])+"")&&pl.p(El),(!Ae||K[0]&128)&&be(wl,B[7]),(!Ae||K[0]&128)&&be(Al,B[7]),(!Ae||K[0]&128)&&be(kl,B[7]),(!Ae||K[0]&128)&&be(Dl,B[7]),(!Ae||K[0]&128)&&be(Ll,B[7]),(!Ae||K[0]&128)&&be(Sl,B[7]),(!Ae||K[0]&128)&&be(Tl,B[7]),(!Ae||K[0]&128)&&be(Il,B[7]),K[0]&786584){ll=En(kn);let re;for(re=0;re<ll.length;re+=1){const ze=Rn(B,ll,re);pe[re]?pe[re].p(ze,K):(pe[re]=Un(ze),pe[re].c(),pe[re].m(wt,null))}for(;re<pe.length;re+=1)pe[re].d(1);pe.length=ll.length}},i(B){Ae||(ur(l.$$.fragment,B),Ae=!0)},o(B){hr(l.$$.fragment,B),Ae=!1},d(B){B&&(p(a),p(s)),dr(l,B),ge&&ge.d(),ye&&ye.d(),t[28](null),t[29](null),t[30](null),t[31](null),tr(pe,B),t[35](null),Ds=!1,lr(un)}}}let Fe=400;function jn(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Ot(t){const l=t.querySelector("figure");l&&l.remove();const a=t.querySelector("svg");a&&a.remove()}function Do(t,l,a){let s,h,i,c,v={},b={},d={},f={},L="barchart",{data:y}=l;const S=y.LAD;let D="UK",k,T,C,m,M,I,N,R,P,O,U,V,z=!1;async function te(){a(5,k=await Re(Tn())),await Re(xr()),k.forEach(u=>{u.isPageLAD=u.LAD==S}),a(25,T=await Re(In([]))),C=await Re(Rr(Dn.map(u=>u.id))),a(26,m=await Re(Mn())),a(8,M=await Re(Fr(S))),I=await Re(Hr(S)),a(9,N=(Lr(M,u=>u.total)/1e3).toFixed(3)),a(11,P=zs(T,u=>u.val)/1e3),a(10,R=(Is(M,u=>u.totalPerCapita)*1e6).toFixed(1)),a(12,O=await Re(Or({limit:1,sortBy:"per_capita"}))),a(12,O=O[0].value_per_capita),a(27,z=!0),Mr(s)}te();let x=!1,Y="";const oe=["overview","temporal","households"];function X(){const u=window.scrollY;a(15,x=u>100);for(const j of oe){const ee=document.getElementById(j);if(!ee)continue;const Z=ee.getBoundingClientRect();if(Z.top<=150&&Z.bottom>=150){a(16,Y=j);break}}}const ae=y.LADToName;let de,ie;ar(()=>(Pr(s),de=new Ir(S,"LAD",ie,"val",!0,"Lookup_value",!1,null,8),de.initMap(!1),window.addEventListener("scroll",X),X(),()=>window.removeEventListener("scroll",X))),sr(()=>{window.removeEventListener("scroll",X)});function ce(u,j,ee="black"){return Pe({width:80,height:20,margin:0,x:{domain:[0,j],axis:null},marks:[Ns([u],{x:F=>F,y:0,fill:ee})]}).outerHTML}function Q(u,j){if(!u||!j)return;let ee=u.filter(F=>F.total<20);return Pe({height:Fe/1.6,...Ze,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[gl(ee,Jl({y:(F,le)=>F.length/ee.length/(le.x2-le.x1)},{x:"total",fill:_e,stroke:_e,fillOpacity:.3,strokeWidth:2})),gl(j,Jl({y:(F,le)=>F.length/j.length/(le.x2-le.x1)},{x:"total",tip:!0,fill:St,stroke:"black",fillOpacity:.3,strokeWidth:2})),Sr([0],{stroke:"#1E1E1E",strokeWidth:1}),Xl({label:"Frequency of Datazones (Normalized)",labelAnchor:"top",labelArrow:!1}),Ms({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function fe(){{let u=Pe({height:Fe/1.4,...Ze,x:{type:"band"},style:{fontSize:"18px"},marks:[Ft(T,rt({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ft(M,rt({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const j=Xe(u).selectAll("g[aria-label='bar']");Xe(j.nodes()[0]);const ee=Xe(j.nodes()[1]);ee.selectAll("rect").each(function(){}),ee.remove()},1e3)}}function me(){h?.append(Pe({height:Fe/1,width:811,...Ze,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Ps.range(),domain:Ps.domain()},marks:[Ft(m,rt({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:_e,sort:{x:"y",reverse:!0},tip:!0})),Ft(I,rt({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:u=>Ps(u.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),Xl({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),Ms({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Cn([0],{stroke:"#333",strokeWidth:.75})]}))}function ve(){Vr.forEach(u=>{let j;Ln.includes(u)?j=Pe({height:Fe/1.2,...Ze,marginLeft:100,marginTop:40,marginBottom:u==="Typology"?100:60,x:{grid:!0,padding:.6,label:Zl(u),tickFormat:W=>Sn[u]?.[W]??W,tickRotate:u==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ft(k,rt({y:"proportion"},{x:u,dx:12,fill:_e})),Ft(M,rt({y:"proportion"},{x:u,dx:-12}))]}):j=Pe({height:Fe/1.2,...Ze,x:{label:Zl(u)},style:{fontSize:"18px"},marks:[gl(M,Jl({y:(W,Je)=>W.length/M.length/(Je.x2-Je.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(u)?W[u]*100:W[u],tip:!0,fill:_e,stroke:_e,fillOpacity:.2,strokeWidth:3})),gl(k,Jl({y:(W,Je)=>W.length/k.length/(Je.x2-Je.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(u)?W[u]*100:W[u],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),b[u]?.append(void 0),v[u]?.append(j);let Z=k.map(W=>W.total),F=Wn(Z);Z.sort();var le=Z.length,G=Math.floor(le*1)-1;let ne=Z[G];F[1]=ne+2,F[0]=-5;let De;Ln.includes(u)?De=Pe({height:Fe/1.2,...Ze,marginBottom:u==="Typology"?100:60,marginLeft:100,x:{label:Zl(u),type:"point",tickFormat:W=>Sn[u]?.[W]??W,tickRotate:u==="Typology"?-20:0},y:{domain:F,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[zn(An(k,15e3),{x:W=>`${W[u]}`,y:"total",fill:"density",bandwidth:3}),Vn(M,{x:W=>`${W[u]}`,y:"total",fill:"black",r:2}),Xl({label:"Datazone Co-Benefit (millions £)"})]}):De=Pe({height:Fe/1.2,...Ze,x:{label:Zl(u)},y:{domain:F},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[zn(An(k,2e4),{x:W=>["Under_35","Over_65","Unemployment"].includes(u)?W[u]*100:W[u],y:"total",fill:"density",thresholds:10}),Vn(M,{x:W=>["Under_35","Over_65","Unemployment"].includes(u)?W[u]*100:W[u],y:"total",fill:"black",r:2}),Xl({label:"Datazone Co-Benefit (£)"}),Ms({anchor:"bottom"})]}),d[u]&&a(4,d[u].innerHTML="",d),d[u]?.append(De)})}function ue(){for(let u of Nr){let j=Pe({height:Fe,width:410,...Ze,marginRight:0,marginLeft:100,marks:[Ns(C,wn({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Br/2,fill:_e,tip:!0})),Ns(I,wn({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});f[u]?.append(j)}}function Ie(){let u=M.flatMap(G=>Vs.map(ne=>({time:ne,value:G[ne],scenario:G.scenario,zone:"local"}))),j=k.flatMap(G=>Vs.map(ne=>({time:ne,value:G[ne],scenario:G.scenario,zone:"UK"}))),ee=u.concat(j),Z=Pe({height:Fe,width:800,...Ze,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[_e,St],legend:!1},marks:[Ft(ee,rt({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Tr({anchor:"bottom",tickFormat:G=>G.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(Z),Xe(i).select("g[aria-label='bar']").selectAll("g").each(function(G,ne){const De=Xe(this).selectAll("rect").nodes()[0],W=Xe(De).attr("transform")||"";Xe(De).attr("transform",`${W} translate(-20, 0)`),Xe(this).selectAll("rect").nodes()[0].getAttribute("height"),Xe(this).selectAll("rect").nodes()[1].getAttribute("height"),Xe(this).selectAll("rect")}),Pe({height:Fe,width:800,...Ze,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[po(ee,rt({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let F=I.flatMap(G=>Vs.map(ne=>({time:ne,value:G[ne],cobenefit:G.co_benefit_type})));console.log("dataCBs",F);let le=Pe({height:Fe,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([G])=>`Cobenefit ${G.cobenefit}`},x:{label:"Years",tickFormat:G=>G.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:zr,domain:Dn.map(G=>G.id)},marks:[gl(F,rt({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:G=>`${(+G).toFixed(3)}`,x:G=>`${G.replace(/^Y/,"").replace("_","-")}`,fill:G=>`${G}`}}})),Cn([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(le)}async function Ee(u){a(7,D=u.currentTarget.value),a(26,m=await Re(Mn("total",D))),a(25,T=await Re(In([],D))),a(5,k=await Re(Tn(D)))}function se(u){Dt[u?"unshift":"push"](()=>{h=u,a(0,h)})}function it(u){Dt[u?"unshift":"push"](()=>{ie=u,a(17,ie)})}function Ce(u){Dt[u?"unshift":"push"](()=>{i=u,a(1,i)})}function ke(u){Dt[u?"unshift":"push"](()=>{c=u,a(2,c)})}function H(u,j){Dt[u?"unshift":"push"](()=>{v[j.id]=u,a(3,v)})}function $(u,j){Dt[u?"unshift":"push"](()=>{v[j.id]=u,a(3,v)})}function He(u,j){Dt[u?"unshift":"push"](()=>{d[j.id]=u,a(4,d)})}function he(u){Dt[u?"unshift":"push"](()=>{s=u,a(6,s)})}return t.$$set=u=>{"data"in u&&a(23,y=u.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&T&&(a(13,U=Is(T.map(u=>u.val))/1e3),a(14,V=Is(T.map(u=>u.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(h&&Ot(h),i&&Ot(i),c&&Ot(c),z&&m&&T&&k&&(fe(),me(),Ie())),t.$$.dirty[0]&134217752&&(Object.values(v).forEach(u=>{u&&Ot(u)}),Object.values(b).forEach(u=>{u&&Ot(u)}),Object.values(d).forEach(u=>{u&&Ot(u)}),z&&ve()),t.$$.dirty[0]&134217728&&(Object.values(f).forEach(u=>{u&&Ot(u)}),z&&ue())},[h,i,c,v,d,k,s,D,M,N,R,P,O,U,V,x,Y,ie,S,ae,ce,Q,Ee,y,L,T,m,z,se,it,Ce,ke,H,$,He,he]}class Ho extends nr{constructor(l){super(),rr(this,l,Do,ko,er,{data:23},null,[-1,-1])}}export{Ho as component};
