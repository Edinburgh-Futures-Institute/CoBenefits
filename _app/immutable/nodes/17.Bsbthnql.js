import{s as Mr,a as _,e as r,t as L,H as Ul,g as y,c as o,b as m,p as Y,f as v,d as D,D as Gl,q as s,A as Te,i as Le,h as e,x as el,j as $,v as Ys,y as Vr,r as qs,F as Nr,n as zr,z as Mt}from"../chunks/scheduler.BVm0POKv.js";import{S as Br,i as Or,c as Ks,b as Xs,m as Zs,t as Js,a as Qs,d as $s}from"../chunks/index.C_bTuQvQ.js";import{N as Hr,e as is}from"../chunks/NavigationBar.Bkz2vWZu.js";import"../chunks/transform.Db-NgJu-.js";import{av as Fr,Z as Rr,M as wr,ae as Ar,B as xr,c as Lr,b as Dr,d as kr,aw as Ur,e as Sr,ax as Gr,ay as Wr,D as Tr,E as Ba,g as Yr,h as qr,az as Kr,aA as Xr,aB as Zr,aC as Jr,k as Qr,l as $r,o as cs,q as He,r as us,u as eo,v as Pa,w as fs,x as Jt,y as ht,z as er,F as tr,A as to}from"../chunks/index.DrA8R0kw.js";import{b as ms}from"../chunks/paths.cXIroZZX.js";import"../chunks/entry.71bQPymq.js";import{f as lr}from"../chunks/module.BDHLYmQ2.js";import{M as ar,g as nr}from"../chunks/mapUK.Lfdt33g4.js";import{V as Nt,A as be,e as Na,C as za,c as sr,r as lo,f as ao,M as at,v as no,w as so,x as ro,l as oo,S as rr,d as Ma,a as or,y as io,z as co,T as ds,h as uo}from"../chunks/globals.B18zH91B.js";import{g as Ge,j as ir,k as fo,d as cr,l as ho,m as ur,y as vo,z as po,p as mo}from"../chunks/duckdb.DwjL38lg.js";import{F as go}from"../chunks/Footer.4QomPlPn.js";import{e as jr,a as Ir,m as ps,s as We}from"../chunks/linear.DZfyr4Dt.js";import{c as hs}from"../chunks/dsv.XhNTmijJ.js";import{m as bo,c as fr,s as _o,a as xl}from"../chunks/area.Dnzrh8nr.js";import{t as yo,m as Co,b as Va}from"../chunks/bin.CLltLqji.js";import{n as Eo}from"../chunks/nice.J2OPSXwp.js";import{d as dr}from"../chunks/dot.BXu9dTF1.js";const wo=Ao(Lo);function Ao(t){return function(l,a,n=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((n=+n)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!a&&!n)return l;const h=a&&t(a),C=n&&t(n),d=u.slice();return h&&C?(Sl(h,d,u,i,c),Sl(h,u,d,i,c),Sl(h,d,u,i,c),Tl(C,u,d,i,c),Tl(C,d,u,i,c),Tl(C,u,d,i,c)):h?(Sl(h,u,d,i,c),Sl(h,d,u,i,c),Sl(h,u,d,i,c)):C&&(Tl(C,u,d,i,c),Tl(C,d,u,i,c),Tl(C,u,d,i,c)),l}}function Sl(t,l,a,n,u){for(let i=0,c=n*u;i<c;)t(l,a,i,i+=n,1)}function Tl(t,l,a,n,u){for(let i=0,c=n*u;i<n;++i)t(l,a,i,i+c,n)}function Lo(t){const l=Math.floor(t);if(l===t)return Do(t);const a=t-l,n=2*t+1;return(u,i,c,h,C)=>{if(!((h-=C)>=c))return;let d=l*i[c];const p=C*l,k=p+C;for(let A=c,I=c+p;A<I;A+=C)d+=i[Math.min(h,A)];for(let A=c,I=h;A<=I;A+=C)d+=i[Math.min(h,A+p)],u[A]=(d+a*(i[Math.max(c,A-k)]+i[Math.min(h,A+k)]))/n,d-=i[Math.max(c,A-p)]}}function Do(t){const l=2*t+1;return(a,n,u,i,c)=>{if(!((i-=c)>=u))return;let h=t*n[u];const C=c*t;for(let d=u,p=u+C;d<p;d+=c)h+=n[Math.min(i,d)];for(let d=u,p=i;d<=p;d+=c)h+=n[Math.min(i,d+C)],a[d]=h/l,h-=n[Math.max(u,d-C)]}}var ko=Array.prototype,Pr=ko.slice;function So(t,l){return t-l}function To(t){for(var l=0,a=t.length,n=t[a-1][1]*t[0][0]-t[a-1][0]*t[0][1];++l<a;)n+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return n}const Vt=t=>()=>t;function jo(t,l){for(var a=-1,n=l.length,u;++a<n;)if(u=Io(t,l[a]))return u;return 0}function Io(t,l){for(var a=l[0],n=l[1],u=-1,i=0,c=t.length,h=c-1;i<c;h=i++){var C=t[i],d=C[0],p=C[1],k=t[h],A=k[0],I=k[1];if(Po(C,k,l))return 0;p>n!=I>n&&a<(A-d)*(n-p)/(I-p)+d&&(u=-u)}return u}function Po(t,l,a){var n;return Mo(t,l,a)&&Vo(t[n=+(t[0]===l[0])],a[n],l[n])}function Mo(t,l,a){return(l[0]-t[0])*(a[1]-t[1])===(a[0]-t[0])*(l[1]-t[1])}function Vo(t,l,a){return t<=l&&l<=a||a<=l&&l<=t}function No(){}var vt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function hr(){var t=1,l=1,a=yo,n=C;function u(d){var p=a(d);if(Array.isArray(p))p=p.slice().sort(So);else{const k=jr(d,zo);for(p=Ir(...Eo(k[0],k[1],p),p);p[p.length-1]>=k[1];)p.pop();for(;p[1]<k[0];)p.shift()}return p.map(k=>i(d,k))}function i(d,p){const k=p==null?NaN:+p;if(isNaN(k))throw new Error(`invalid value: ${p}`);var A=[],I=[];return c(d,k,function(V){n(V,d,k),To(V)>0?A.push([V]):I.push(V)}),I.forEach(function(V){for(var E=0,P=A.length,w;E<P;++E)if(jo((w=A[E])[0],V)!==-1){w.push(V);return}}),{type:"MultiPolygon",value:p,coordinates:A}}function c(d,p,k){var A=new Array,I=new Array,V,E,P,w,g,j;for(V=E=-1,w=Qt(d[0],p),vt[w<<1].forEach(T);++V<t-1;)P=w,w=Qt(d[V+1],p),vt[P|w<<1].forEach(T);for(vt[w<<0].forEach(T);++E<l-1;){for(V=-1,w=Qt(d[E*t+t],p),g=Qt(d[E*t],p),vt[w<<1|g<<2].forEach(T);++V<t-1;)P=w,w=Qt(d[E*t+t+V+1],p),j=g,g=Qt(d[E*t+V+1],p),vt[P|w<<1|g<<2|j<<3].forEach(T);vt[w|g<<3].forEach(T)}for(V=-1,g=d[E*t]>=p,vt[g<<2].forEach(T);++V<t-1;)j=g,g=Qt(d[E*t+V+1],p),vt[g<<2|j<<3].forEach(T);vt[g<<3].forEach(T);function T(M){var S=[M[0][0]+V,M[0][1]+E],R=[M[1][0]+V,M[1][1]+E],X=h(S),F=h(R),N,x;(N=I[X])?(x=A[F])?(delete I[N.end],delete A[x.start],N===x?(N.ring.push(R),k(N.ring)):A[N.start]=I[x.end]={start:N.start,end:x.end,ring:N.ring.concat(x.ring)}):(delete I[N.end],N.ring.push(R),I[N.end=F]=N):(N=A[F])?(x=I[X])?(delete A[N.start],delete I[x.end],N===x?(N.ring.push(R),k(N.ring)):A[x.start]=I[N.end]={start:x.start,end:N.end,ring:x.ring.concat(N.ring)}):(delete A[N.start],N.ring.unshift(S),A[N.start=X]=N):A[X]=I[F]={start:X,end:F,ring:[S,R]}}}function h(d){return d[0]*2+d[1]*(t+1)*4}function C(d,p,k){d.forEach(function(A){var I=A[0],V=A[1],E=I|0,P=V|0,w=vs(p[P*t+E]);I>0&&I<t&&E===I&&(A[0]=vr(I,vs(p[P*t+E-1]),w,k)),V>0&&V<l&&P===V&&(A[1]=vr(V,vs(p[(P-1)*t+E]),w,k))})}return u.contour=i,u.size=function(d){if(!arguments.length)return[t,l];var p=Math.floor(d[0]),k=Math.floor(d[1]);if(!(p>=0&&k>=0))throw new Error("invalid size");return t=p,l=k,u},u.thresholds=function(d){return arguments.length?(a=typeof d=="function"?d:Array.isArray(d)?Vt(Pr.call(d)):Vt(d),u):a},u.smooth=function(d){return arguments.length?(n=d?C:No,u):n===C},u}function zo(t){return isFinite(t)?t:NaN}function Qt(t,l){return t==null?!1:+t>=l}function vs(t){return t==null||isNaN(t=+t)?-1/0:t}function vr(t,l,a,n){const u=n-l,i=a-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function Bo(t){return t[0]}function Oo(t){return t[1]}function Ho(){return 1}function Fo(){var t=Bo,l=Oo,a=Ho,n=960,u=500,i=20,c=2,h=i*3,C=n+h*2>>c,d=u+h*2>>c,p=Vt(20);function k(g){var j=new Float32Array(C*d),T=Math.pow(2,-c),M=-1;for(const U of g){var S=(t(U,++M,g)+h)*T,R=(l(U,M,g)+h)*T,X=+a(U,M,g);if(X&&S>=0&&S<C&&R>=0&&R<d){var F=Math.floor(S),N=Math.floor(R),x=S-F-.5,K=R-N-.5;j[F+N*C]+=(1-x)*(1-K)*X,j[F+1+N*C]+=x*(1-K)*X,j[F+1+(N+1)*C]+=x*K*X,j[F+(N+1)*C]+=(1-x)*K*X}}return wo({data:j,width:C,height:d},i*T),j}function A(g){var j=k(g),T=p(j),M=Math.pow(2,2*c);return Array.isArray(T)||(T=Ir(Number.MIN_VALUE,ps(j)/M,T)),hr().size([C,d]).thresholds(T.map(S=>S*M))(j).map((S,R)=>(S.value=+T[R],I(S)))}A.contours=function(g){var j=k(g),T=hr().size([C,d]),M=Math.pow(2,2*c),S=R=>{R=+R;var X=I(T.contour(j,R*M));return X.value=R,X};return Object.defineProperty(S,"max",{get:()=>ps(j)/M}),S};function I(g){return g.coordinates.forEach(V),g}function V(g){g.forEach(E)}function E(g){g.forEach(P)}function P(g){g[0]=g[0]*Math.pow(2,c)-h,g[1]=g[1]*Math.pow(2,c)-h}function w(){return h=i*3,C=n+h*2>>c,d=u+h*2>>c,A}return A.x=function(g){return arguments.length?(t=typeof g=="function"?g:Vt(+g),A):t},A.y=function(g){return arguments.length?(l=typeof g=="function"?g:Vt(+g),A):l},A.weight=function(g){return arguments.length?(a=typeof g=="function"?g:Vt(+g),A):a},A.size=function(g){if(!arguments.length)return[n,u];var j=+g[0],T=+g[1];if(!(j>=0&&T>=0))throw new Error("invalid size");return n=j,u=T,w()},A.cellSize=function(g){if(!arguments.length)return 1<<c;if(!((g=+g)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(g)/Math.LN2),w()},A.thresholds=function(g){return arguments.length?(p=typeof g=="function"?g:Array.isArray(g)?Vt(Pr.call(g)):Vt(g),A):p},A.bandwidth=function(g){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((g=+g)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*g*g+1)-1)/2,w()},A}const Ro={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class xo extends wr{constructor(l,a={}){const{x:n,y:u,z:i,curve:c,tension:h}=a;super(l,{x:{value:n,scale:"x"},y:{value:u,scale:"y"},z:{value:Ar(a),optional:!0}},a,Ro),this.z=i,this.curve=bo(c,h),xr(this,a)}filter(l){return l}project(l,a,n){this.curve!==fr&&super.project(l,a,n)}render(l,a,n,u,i){const{x:c,y:h}=n,{curve:C}=this;return Lr("svg:g",i).call(Dr,this,u,i).call(kr,this,a).call(d=>d.selectAll().data(Ur(l,[c,h],this,n)).enter().append("path").call(Sr,this).call(Gr,this,n).call(Wr,this,n,i).attr("d",C===fr&&i.projection?Uo(i.projection,c,h):_o().curve(C).defined(p=>p>=0).x(p=>c[p]).y(p=>h[p]))).node()}}function Uo(t,l,a){const n=Tr(t);return l=Ba(l),a=Ba(a),u=>{let i=[];const c=[i];for(const h of u)h===-1?(i=[],c.push(i)):i.push([l[h],a[h]]);return n({type:"MultiLineString",coordinates:c})}}function Go(t,{x:l=Fr,y:a=Rr,...n}={}){return new xo(t,Co({...n,x:l,y:a}))}const Wo={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Yo extends wr{constructor(l,{x:a,y:n,z:u,weight:i,fill:c,stroke:h,...C}={}){const d=mr(c)&&(c="currentColor",!0),p=mr(h)&&(h="currentColor",!0);super(l,{x:{value:a,scale:"x",optional:!0},y:{value:n,scale:"y",optional:!0},z:{value:Ar({z:u,fill:c,stroke:h}),optional:!0},weight:{value:i,optional:!0}},Ko({...C,fill:c,stroke:h},d,p),Wo),d&&(this.fill=void 0),p&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,a,n,u,i){const{contours:c}=n,h=Tr();return Lr("svg:g",i).call(Dr,this,u,i).call(kr,this,{}).call(C=>C.selectAll().data(l).enter().append("path").call(Sr,this).call(Yr,this,n).attr("d",d=>h(c[d]))).node()}}function pr(t,{x:l,y:a,...n}={}){return[l,a]=qr(l,a),new Yo(t,{...n,x:l,y:a})}const qo=new Set(["x","y","z","weight"]);function Ko(t,l,a){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?Ba(i):+i,Kr(t,function(c,h,C,d,p,k){const A=C.weight?Ba(C.weight.value):null,I=C.z?.value,{z:V}=this,[E,P]=Qr(this,p),{width:w,height:g}=p,{x:j,y:T}=Xr(C,d,k),M=Object.fromEntries(Object.entries(C).filter(([U])=>!qo.has(U)).map(([U,Z])=>[U,{...Z,value:[]}])),S=l&&[],R=a&&[],X=Fo().x(j?U=>j[U]:E).y(T?U=>T[U]:P).weight(A?U=>A[U]:1).size([w,g]).bandwidth(u),F=[];for(const U of h){const Z=[];F.push(Z);for(const te of I?Zr(U,I,V):[U]){const G=X.contours(te);Z.push([te,G])}}let N=i;if(!(N instanceof Jr)){let U=0;for(const Z of F)for(const[,te]of Z){const G=te.max;G>U&&(U=G)}N=Float64Array.from({length:i-1},(Z,te)=>U*100*(te+1)/i)}const x=[],K=[];for(const U of F){const Z=[];x.push(Z);for(const[te,G]of U)for(const fe of N){Z.push(K.length),K.push(G(fe/100)),S&&S.push(fe),R&&R.push(fe);for(const ce in M)M[ce].value.push(C[ce].value[te[0]])}}return S&&S.push(0),R&&R.push(0),{data:c,facets:x,channels:{...M,...S&&{fill:{value:S,scale:"color"}},...R&&{stroke:{value:R,scale:"color"}},contours:{value:K}}}})}function mr(t){return/^density$/i.test(t)}function gr(t,l,a){const n=t.slice();return n[67]=l[a],n[68]=l,n[69]=a,n}function Xo(t,l,a){const n=t.slice();return n[70]=l[a],n}function br(t){let l,a,n,u=t[17][t[19]]+"",i,c,h,C=Er(t[16])+"",d,p,k,A="Download Page Data",I,V,E=t[9]&&_r(t);return{c(){l=r("div"),a=r("div"),n=r("span"),i=L(u),c=_(),E&&E.c(),h=L(`\r
              >> `),d=L(C),p=_(),k=r("button"),k.textContent=A,this.h()},l(P){l=o(P,"DIV",{class:!0});var w=m(l);a=o(w,"DIV",{class:!0});var g=m(a);n=o(g,"SPAN",{class:!0});var j=m(n);i=D(j,u),c=y(j),E&&E.l(j),h=D(j,`\r
              >> `),d=D(j,C),j.forEach(v),g.forEach(v),p=y(w),k=o(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(k)!=="svelte-vn9rs8"&&(k.textContent=A),w.forEach(v),this.h()},h(){s(n,"class","mini-header-text"),s(a,"class","mini-header-content"),s(k,"type","button"),s(k,"class","data-btn-sticky svelte-1e11lej"),s(l,"class","mini-header")},m(P,w){Le(P,l,w),e(l,a),e(a,n),e(n,i),e(n,c),E&&E.m(n,null),e(n,h),e(n,d),e(l,p),e(l,k),I||(V=el(k,"click",t[23]),I=!0)},p(P,w){w[0]&131072&&u!==(u=P[17][P[19]]+"")&&$(i,u),P[9]?E?E.p(P,w):(E=_r(P),E.c(),E.m(n,h)):E&&(E.d(1),E=null),w[0]&65536&&C!==(C=Er(P[16])+"")&&$(d,C)},d(P){P&&v(l),E&&E.d(),I=!1,V()}}}function _r(t){let l,a,n=t[9].toLocaleString()+"",u,i;return{c(){l=r("span"),a=L("(Total: £"),u=L(n),i=L(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var h=m(l);a=D(h,"(Total: £"),u=D(h,n),i=D(h," billion)"),h.forEach(v),this.h()},h(){s(l,"class","mini-header-value")},m(c,h){Le(c,l,h),e(l,a),e(l,u),e(l,i)},p(c,h){h[0]&512&&n!==(n=c[9].toLocaleString()+"")&&$(u,n)},d(c){c&&v(l)}}}function yr(t){let l,a,n,u,i=t[20](t[9],t[11],Nt)+"",c,h,C,d=t[9].toLocaleString()+"",p,k,A,I="billion",V,E,P,w=t[20](t[13],t[11],be)+"",g,j,T,M,S,R=t[20](t[10],t[12],Nt)+"",X,F,N,x=t[10].toLocaleString()+"",K,U,Z,te,G,fe,ce=t[20](t[14],t[12],be)+"",Ve,_e,ue,ee,ne,oe,Ne;function je(W,se){return W[9]>0?Jo:Zo}let ye=je(t),ie=ye(t);function Ie(W,se){return W[9]>0?$o:Qo}let he=Ie(t),De=he(t);return{c(){l=r("div"),a=r("div"),n=r("div"),u=new Ul(!1),c=_(),h=r("span"),C=L("£"),p=L(d),k=_(),A=r("span"),A.textContent=I,V=_(),E=r("div"),P=new Ul(!1),g=_(),ie.c(),j=_(),T=r("div"),M=r("div"),S=new Ul(!1),X=_(),F=r("span"),N=L("£"),K=L(x),U=_(),Z=r("span"),te=_(),G=r("div"),fe=new Ul(!1),Ve=_(),De.c(),_e=_(),ue=r("span"),ee=r("i"),ne=L("Grey bars indicate average value for "),oe=r("span"),Ne=L(t[7]),this.h()},l(W){l=o(W,"DIV",{class:!0});var se=m(l);a=o(se,"DIV",{class:!0});var qe=m(a);n=o(qe,"DIV",{class:!0});var ve=m(n);u=Gl(ve,!1),c=y(ve),h=o(ve,"SPAN",{class:!0});var pt=m(h);C=D(pt,"£"),p=D(pt,d),pt.forEach(v),k=y(ve),A=o(ve,"SPAN",{class:!0,"data-svelte-h":!0}),Y(A)!=="svelte-tlhydp"&&(A.textContent=I),ve.forEach(v),V=y(qe),E=o(qe,"DIV",{class:!0});var Ke=m(E);P=Gl(Ke,!1),g=y(Ke),ie.l(Ke),Ke.forEach(v),qe.forEach(v),j=y(se),T=o(se,"DIV",{class:!0});var Ce=m(T);M=o(Ce,"DIV",{class:!0});var ze=m(M);S=Gl(ze,!1),X=y(ze),F=o(ze,"SPAN",{class:!0});var Ee=m(F);N=D(Ee,"£"),K=D(Ee,x),Ee.forEach(v),U=y(ze),Z=o(ze,"SPAN",{class:!0}),m(Z).forEach(v),ze.forEach(v),te=y(Ce),G=o(Ce,"DIV",{class:!0});var ke=m(G);fe=Gl(ke,!1),Ve=y(ke),De.l(ke),ke.forEach(v),_e=y(Ce),ue=o(Ce,"SPAN",{class:!0});var zt=m(ue);ee=o(zt,"I",{});var f=m(ee);ne=D(f,"Grey bars indicate average value for "),oe=o(f,"SPAN",{class:!0});var z=m(oe);Ne=D(z,t[7]),z.forEach(v),f.forEach(v),zt.forEach(v),Ce.forEach(v),se.forEach(v),this.h()},h(){u.a=c,s(h,"class","waffle-big svelte-1e11lej"),s(A,"class","small svelte-1e11lej"),s(n,"class","waffle-value svelte-1e11lej"),P.a=g,s(E,"class","waffle-value svelte-1e11lej"),s(a,"class","waffle-stat svelte-1e11lej"),S.a=X,s(F,"class","waffle-big svelte-1e11lej"),s(Z,"class","small svelte-1e11lej"),s(M,"class","waffle-value svelte-1e11lej"),fe.a=Ve,s(G,"class","waffle-value svelte-1e11lej"),s(oe,"class","nation-label svelte-1e11lej"),s(ue,"class","waffle-caption svelte-1e11lej"),s(T,"class","waffle-stat svelte-1e11lej"),s(l,"class","waffle-stats")},m(W,se){Le(W,l,se),e(l,a),e(a,n),u.m(i,n),e(n,c),e(n,h),e(h,C),e(h,p),e(n,k),e(n,A),e(a,V),e(a,E),P.m(w,E),e(E,g),ie.m(E,null),e(l,j),e(l,T),e(T,M),S.m(R,M),e(M,X),e(M,F),e(F,N),e(F,K),e(M,U),e(M,Z),e(T,te),e(T,G),fe.m(ce,G),e(G,Ve),De.m(G,null),e(T,_e),e(T,ue),e(ue,ee),e(ee,ne),e(ee,oe),e(oe,Ne)},p(W,se){se[0]&2560&&i!==(i=W[20](W[9],W[11],Nt)+"")&&u.p(i),se[0]&512&&d!==(d=W[9].toLocaleString()+"")&&$(p,d),se[0]&10240&&w!==(w=W[20](W[13],W[11],be)+"")&&P.p(w),ye!==(ye=je(W))&&(ie.d(1),ie=ye(W),ie&&(ie.c(),ie.m(E,null))),se[0]&5120&&R!==(R=W[20](W[10],W[12],Nt)+"")&&S.p(R),se[0]&1024&&x!==(x=W[10].toLocaleString()+"")&&$(K,x),se[0]&20480&&ce!==(ce=W[20](W[14],W[12],be)+"")&&fe.p(ce),he!==(he=Ie(W))&&(De.d(1),De=he(W),De&&(De.c(),De.m(G,null))),se[0]&128&&$(Ne,W[7])},d(W){W&&v(l),ie.d(),De.d()}}}function Zo(t){let l,a="Local area costs";return{c(){l=r("span"),l.textContent=a,this.h()},l(n){l=o(n,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-pi7zpb"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-1e11lej")},m(n,u){Le(n,l,u)},d(n){n&&v(l)}}}function Jo(t){let l,a="Local area benefits";return{c(){l=r("span"),l.textContent=a,this.h()},l(n){l=o(n,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-cjpgg1"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-1e11lej")},m(n,u){Le(n,l,u)},d(n){n&&v(l)}}}function Qo(t){let l,a="Per capita costs";return{c(){l=r("span"),l.textContent=a,this.h()},l(n){l=o(n,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-k47gg8"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-1e11lej")},m(n,u){Le(n,l,u)},d(n){n&&v(l)}}}function $o(t){let l,a="Per capita benefits";return{c(){l=r("span"),l.textContent=a,this.h()},l(n){l=o(n,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1jc8yoe"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-1e11lej")},m(n,u){Le(n,l,u)},d(n){n&&v(l)}}}function ei(t){let l,a,n,u,i=t[70].label+"",c,h;return{c(){l=r("li"),a=r("span"),n=_(),u=r("a"),c=L(i),h=_(),this.h()},l(C){l=o(C,"LI",{});var d=m(l);a=o(d,"SPAN",{class:!0,style:!0}),m(a).forEach(v),n=y(d),u=o(d,"A",{href:!0,target:!0,class:!0});var p=m(u);c=D(p,i),p.forEach(v),h=y(d),d.forEach(v),this.h()},h(){s(a,"class","legend-color svelte-1e11lej"),Te(a,"background-color",Na(t[70].id)),s(u,"href",ms+"/cobenefit?cobenefit="+t[70].id),s(u,"target","_blank"),s(u,"class","link")},m(C,d){Le(C,l,d),e(l,a),e(l,n),e(l,u),e(u,c),e(l,h)},p:zr,d(C){C&&v(l)}}}function ti(t){let l,a,n,u=`Data zones
                                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,i,c,h,C,d,p,k=`The histogram shows the number of data zones\r
                                        distributed\r
                                        across\r
                                        different household social economic factors.`,A,I,V="",E=t[67],P,w,g,j,T,M=t[67].label+"",S,R,X,F,N,x=t[17][t[19]]+"",K,U,Z,te,G,fe="";const ce=()=>t[38](I,E),Ve=()=>t[38](null,E),_e=()=>t[39](G,E),ue=()=>t[39](null,E);return{c(){l=r("div"),a=r("h3"),n=r("span"),n.innerHTML=u,i=L(`\r
                                        distribution (vs. `),c=r("span"),h=L(t[7]),C=L(" average)"),d=_(),p=r("p"),p.textContent=k,A=_(),I=r("div"),I.innerHTML=V,P=_(),w=r("div"),g=r("div"),j=r("h3"),T=L(`Co-benefits received by data zones\r
                                            across `),S=L(M),R=L(`\r
                                            values`),X=_(),F=r("p"),N=L(`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),K=L(x),U=L("."),Z=_(),te=r("div"),G=r("div"),G.innerHTML=fe,this.h()},l(ee){l=o(ee,"DIV",{class:!0});var ne=m(l);a=o(ne,"H3",{class:!0});var oe=m(a);n=o(oe,"SPAN",{class:!0,"data-svelte-h":!0}),Y(n)!=="svelte-zeycni"&&(n.innerHTML=u),i=D(oe,`\r
                                        distribution (vs. `),c=o(oe,"SPAN",{class:!0});var Ne=m(c);h=D(Ne,t[7]),Ne.forEach(v),C=D(oe," average)"),oe.forEach(v),d=y(ne),p=o(ne,"P",{class:!0,"data-svelte-h":!0}),Y(p)!=="svelte-zr1gq8"&&(p.textContent=k),A=y(ne),I=o(ne,"DIV",{class:!0,"data-svelte-h":!0}),Y(I)!=="svelte-6ldqab"&&(I.innerHTML=V),ne.forEach(v),P=y(ee),w=o(ee,"DIV",{class:!0});var je=m(w);g=o(je,"DIV",{});var ye=m(g);j=o(ye,"H3",{class:!0});var ie=m(j);T=D(ie,`Co-benefits received by data zones\r
                                            across `),S=D(ie,M),R=D(ie,`\r
                                            values`),ie.forEach(v),X=y(ye),F=o(ye,"P",{class:!0});var Ie=m(F);N=D(Ie,`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),K=D(Ie,x),U=D(Ie,"."),Ie.forEach(v),ye.forEach(v),Z=y(je),te=o(je,"DIV",{});var he=m(te);G=o(he,"DIV",{class:!0,"data-svelte-h":!0}),Y(G)!=="svelte-12l832e"&&(G.innerHTML=fe),he.forEach(v),je.forEach(v),this.h()},h(){s(n,"class","tooltip-term"),s(c,"class","nation-label svelte-1e11lej"),s(a,"class","component-title"),s(p,"class","description short"),s(I,"class","plot"),s(l,"class","component column svelte-1e11lej"),s(j,"class","component-title"),s(F,"class","description short"),s(G,"class","plot"),s(w,"class","component column svelte-1e11lej")},m(ee,ne){Le(ee,l,ne),e(l,a),e(a,n),e(a,i),e(a,c),e(c,h),e(a,C),e(l,d),e(l,p),e(l,A),e(l,I),ce(),Le(ee,P,ne),Le(ee,w,ne),e(w,g),e(g,j),e(j,T),e(j,S),e(j,R),e(g,X),e(g,F),e(F,N),e(F,K),e(F,U),e(w,Z),e(w,te),e(te,G),_e()},p(ee,ne){t=ee,ne[0]&128&&$(h,t[7]),E!==t[67]&&(Ve(),E=t[67],ce()),ne[0]&131072&&x!==(x=t[17][t[19]]+"")&&$(K,x),E!==t[67]&&(ue(),E=t[67],_e())},d(ee){ee&&(v(l),v(P),v(w)),Ve(),ue()}}}function Cr(t){let l,a,n,u=t[67].label+"",i,c,h,C=t[67].def+"",d,p,k,A;function I(P,w){return ti}let E=I()(t);return{c(){l=r("div"),a=r("h2"),n=r("a"),i=L(u),c=_(),h=r("p"),d=L(C),p=_(),k=r("div"),E.c(),A=_(),this.h()},l(P){l=o(P,"DIV",{class:!0});var w=m(l);a=o(w,"H2",{class:!0});var g=m(a);n=o(g,"A",{class:!0,target:!0,href:!0});var j=m(n);i=D(j,u),j.forEach(v),g.forEach(v),c=y(w),h=o(w,"P",{class:!0});var T=m(h);d=D(T,C),T.forEach(v),p=y(w),k=o(w,"DIV",{class:!0});var M=m(k);E.l(M),M.forEach(v),A=y(w),w.forEach(v),this.h()},h(){s(n,"class","link"),s(n,"target","_blank"),s(n,"href",ms+"/sef?sef="+t[67].id),s(a,"class","column-chart-title svelte-1e11lej"),s(h,"class","column-chart-caption svelte-1e11lej"),s(k,"class","row"),s(l,"class","household-column svelte-1e11lej")},m(P,w){Le(P,l,w),e(l,a),e(a,n),e(n,i),e(l,c),e(l,h),e(h,d),e(l,p),e(l,k),E.m(k,null),e(l,A)},p(P,w){E.p(P,w)},d(P){P&&v(l),E.d()}}}function li(t){let l,a,n,u,i,c,h,C,d="Local Authority Report",p,k,A="Download Page Data",I,V,E,P=t[17][t[19]]+"",w,g,j,T=`Explore how this local authority will benefit from achieving Net Zero and learn about\r
                the characteristics of its households.`,M,S,R,X,F,N,x,K,U="UK",Z,te,G,fe,ce,Ve="England",_e,ue,ee,ne,oe,Ne="Wales",je,ye,ie,Ie,he,De="Scotland",W,se,qe,ve,pt="Northern Ireland",Ke,Ce,ze,Ee,ke,zt=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,f,z,B,H,J,de,Q=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,we,Pe,q,nt,Oa,Xe,Ha,jl=t[17][t[19]]+"",Wl,Fa,tl,Yl,Ra,xa,Ua,Ga,Il,ql=t[21](t[5],t[8])+"",Kl,mt,Wa,ll,Xl,Ya,qa,Ze,Ka,Pl=t[17][t[19]]+"",Zl,Xa,al,Jl,Za,Ja,gt,gs="",Qa,Be,bt,$a,Ml=t[17][t[19]]+"",Ql,en,tn,Bt,Vl=t[17][t[19]]+"",$l,ln,an,Ot,bs="*Scroll for zooming in and out",nn,st,_s="",sn,rt,Ht,ys=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,rn,ot,it,ct,_t,on,nl,ea,cn,un,Fe,fn,Nl=t[17][t[19]]+"",ta,dn,sl,la,hn,vn,Je,Ft,Cs="Legend:",pn,mn,gn,yt,Ct,rl,bn,zl=t[17][t[19]]+"",aa,_n,Et,ol,yn,il,na,Cn,cl,En,Re,ut,wt,wn,Bl=t[17][t[19]]+"",sa,An,Ln,At,Es=`Total gains and losses are shown at five-year\r
                        intervals for each co-benefit. The curve between points is smoothed to show the general\r
                        trends.`,Dn,Oe,Rt,ws="Legend:",kn,Sn,Tn,xt,jn,ul,In,Lt,As=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,Pn,ft,Qe,Ut,Ls="Households",Mn,Gt,Ol=t[17][t[19]]+"",ra,Vn,Nn,Wt,Ds=`We describe the distribution of household economic factors aggregated on the data\r
                zone level and the different level of co-benefits received by those data zones.`,zn,$e,Ae,et,Bn,Hl=t[17][t[19]]+"",oa,On,ia,Hn,Fn,Rn,xn,xe,Yt,ks="Legend:",Un,Gn,Wn,Dt,kt,fl,Yn,Fl=t[17][t[19]]+"",ca,qn,St,dl,Kn,ua,Xn,Me,qt,Ss="Interpreting the charts:",Zn,Jn,Qn,hl,Ts=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,$n,tt,vl,js="Scatterplot:",es,Rl=t[17][t[19]]+"",fa,ts,da,ls,as,Tt,Is=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,ns,jt,ha,Kt,le,ss,Ps;l=new Hr({});let me=t[15]&&br(t),ge=t[9]&&yr(t),Ms=is(za),dt=[];for(let b=0;b<Ms.length;b+=1)dt[b]=ei(Xo(t,Ms,b));let pl=is(sr),pe=[];for(let b=0;b<pl.length;b+=1)pe[b]=Cr(gr(t,pl,b));return Kt=new go({}),{c(){Ks(l.$$.fragment),a=_(),n=r("div"),me&&me.c(),u=_(),i=r("div"),c=r("div"),h=r("div"),C=r("p"),C.textContent=d,p=_(),k=r("button"),k.textContent=A,I=_(),V=r("div"),E=r("h1"),w=L(P),g=_(),j=r("p"),j.textContent=T,M=_(),S=r("div"),R=L("Compare this Local Authority District (LAD) against:"),X=r("br"),F=_(),N=r("input"),x=_(),K=r("label"),K.textContent=U,Z=r("br"),te=_(),G=r("input"),fe=_(),ce=r("label"),ce.textContent=Ve,_e=r("br"),ue=_(),ee=r("input"),ne=_(),oe=r("label"),oe.textContent=Ne,je=r("br"),ye=_(),ie=r("input"),Ie=_(),he=r("label"),he.textContent=De,W=_(),se=r("input"),qe=_(),ve=r("label"),ve.textContent=pt,Ke=_(),Ce=r("div"),ge&&ge.c(),ze=_(),Ee=r("div"),ke=r("div"),ke.innerHTML=zt,f=_(),z=r("div"),B=r("div"),H=r("h3"),J=L(`Distribution of the cobenefit per\r
                    `),de=r("span"),de.innerHTML=Q,we=L(`\r
                    compared to `),Pe=r("span"),q=L(t[7]),nt=L(" Average)"),Oa=_(),Xe=r("p"),Ha=L("Co-benefit values for "),Wl=L(jl),Fa=L(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),tl=r("span"),Yl=L(t[7]),Ra=L(" (grey)."),xa=_(),Ua=r("br"),Ga=_(),Il=new Ul(!1),Kl=_(),mt=r("h3"),Wa=L("11 types of co-benefit values (vs. "),ll=r("span"),Xl=L(t[7]),Ya=L(" Average)"),qa=_(),Ze=r("p"),Ka=L("Co-benefit values for "),Zl=L(Pl),Xa=L(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),al=r("span"),Jl=L(t[7]),Za=L(" (grey)."),Ja=_(),gt=r("div"),gt.innerHTML=gs,Qa=_(),Be=r("div"),bt=r("h3"),$a=L("Where is "),Ql=L(Ml),en=L("?"),tn=_(),Bt=r("p"),$l=L(Vl),ln=L(" has been highlighted in dark grey on this UK map."),an=_(),Ot=r("p"),Ot.textContent=bs,nn=_(),st=r("div"),st.innerHTML=_s,sn=_(),rt=r("div"),Ht=r("div"),Ht.innerHTML=ys,rn=_(),ot=r("div"),it=r("div"),ct=r("div"),_t=r("h3"),on=L("Total co-benefit distribution from 2025-2049 (vs. "),nl=r("span"),ea=L(t[7]),cn=L(" Average)"),un=_(),Fe=r("p"),fn=L(`Aggregated values from 2025-2049\r
                        in `),ta=L(Nl),dn=L(` compared to average value of benefits received across all local authorities\r
                        in `),sl=r("span"),la=L(t[7]),hn=L("."),vn=_(),Je=r("div"),Ft=r("strong"),Ft.textContent=Cs,pn=_(),mn=r("br"),gn=_(),yt=r("ul"),Ct=r("li"),rl=r("span"),bn=_(),aa=L(zl),_n=_(),Et=r("li"),ol=r("span"),yn=_(),il=r("span"),na=L(t[7]),Cn=_(),cl=r("div"),En=_(),Re=r("div"),ut=r("div"),wt=r("h3"),wn=L("Co-benefit gain/loss for "),sa=L(Bl),An=L(" over 5 year intervals"),Ln=_(),At=r("p"),At.textContent=Es,Dn=_(),Oe=r("div"),Rt=r("strong"),Rt.textContent=ws,kn=_(),Sn=r("br"),Tn=_(),xt=r("ul");for(let b=0;b<dt.length;b+=1)dt[b].c();jn=_(),ul=r("div"),In=_(),Lt=r("div"),Lt.innerHTML=As,Pn=_(),ft=r("div"),Qe=r("div"),Ut=r("p"),Ut.textContent=Ls,Mn=_(),Gt=r("h2"),ra=L(Ol),Vn=L(" social-economic factors"),Nn=_(),Wt=r("p"),Wt.textContent=Ds,zn=_(),$e=r("div"),Ae=r("div"),et=r("h3"),Bn=L("Comparing the Socio-Economic factors distributions of "),oa=L(Hl),On=L(`\r
                    and `),ia=L(t[7]),Hn=L(", and their correlation with co-benefits."),Fn=_(),Rn=r("br"),xn=_(),xe=r("div"),Yt=r("strong"),Yt.textContent=ks,Un=_(),Gn=r("br"),Wn=_(),Dt=r("ul"),kt=r("li"),fl=r("span"),Yn=_(),ca=L(Fl),qn=_(),St=r("li"),dl=r("span"),Kn=_(),ua=L(t[7]),Xn=_(),Me=r("div"),qt=r("strong"),qt.textContent=Ss,Zn=_(),Jn=r("br"),Qn=_(),hl=r("p"),hl.innerHTML=Ts,$n=_(),tt=r("p"),vl=r("strong"),vl.textContent=js,es=L(" Each dot represents a datazone inside "),fa=L(Rl),ts=L(`. The cloud\r
                        shows the distribution for `),da=L(t[7]),ls=L("."),as=_(),Tt=r("div"),Tt.innerHTML=Is,ns=_(),jt=r("div");for(let b=0;b<pe.length;b+=1)pe[b].c();ha=_(),Ks(Kt.$$.fragment),this.h()},l(b){Xs(l.$$.fragment,b),a=y(b),n=o(b,"DIV",{class:!0});var O=m(n);me&&me.l(O),u=y(O),i=o(O,"DIV",{class:!0,id:!0});var ae=m(i);c=o(ae,"DIV",{});var Ue=m(c);h=o(Ue,"DIV",{class:!0});var va=m(h);C=o(va,"P",{class:!0,"data-svelte-h":!0}),Y(C)!=="svelte-wtex57"&&(C.textContent=d),p=y(va),k=o(va,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(k)!=="svelte-1d58oxe"&&(k.textContent=A),va.forEach(v),I=y(Ue),V=o(Ue,"DIV",{id:!0,class:!0});var Vs=m(V);E=o(Vs,"H1",{class:!0});var Ns=m(E);w=D(Ns,P),Ns.forEach(v),Vs.forEach(v),g=y(Ue),j=o(Ue,"P",{class:!0,"data-svelte-h":!0}),Y(j)!=="svelte-q4fx5o"&&(j.textContent=T),M=y(Ue),S=o(Ue,"DIV",{class:!0});var re=m(S);R=D(re,"Compare this Local Authority District (LAD) against:"),X=o(re,"BR",{}),F=y(re),N=o(re,"INPUT",{type:!0,name:!0}),x=y(re),K=o(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(K)!=="svelte-1yhxhao"&&(K.textContent=U),Z=o(re,"BR",{}),te=y(re),G=o(re,"INPUT",{type:!0,name:!0}),fe=y(re),ce=o(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(ce)!=="svelte-11zyrfp"&&(ce.textContent=Ve),_e=o(re,"BR",{}),ue=y(re),ee=o(re,"INPUT",{type:!0,name:!0}),ne=y(re),oe=o(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(oe)!=="svelte-18hrmu4"&&(oe.textContent=Ne),je=o(re,"BR",{}),ye=y(re),ie=o(re,"INPUT",{type:!0,name:!0}),Ie=y(re),he=o(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(he)!=="svelte-mkxs8y"&&(he.textContent=De),W=y(re),se=o(re,"INPUT",{type:!0,name:!0}),qe=y(re),ve=o(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(ve)!=="svelte-g19yfx"&&(ve.textContent=pt),re.forEach(v),Ue.forEach(v),Ke=y(ae),Ce=o(ae,"DIV",{});var zs=m(Ce);ge&&ge.l(zs),zs.forEach(v),ae.forEach(v),ze=y(O),Ee=o(O,"DIV",{class:!0,id:!0});var pa=m(Ee);ke=o(pa,"DIV",{class:!0,"data-svelte-h":!0}),Y(ke)!=="svelte-lw225h"&&(ke.innerHTML=zt),f=y(pa),z=o(pa,"DIV",{id:!0,class:!0});var ma=m(z);B=o(ma,"DIV",{class:!0});var Se=m(B);H=o(Se,"H3",{class:!0});var ml=m(H);J=D(ml,`Distribution of the cobenefit per\r
                    `),de=o(ml,"SPAN",{class:!0,"data-svelte-h":!0}),Y(de)!=="svelte-z1whcf"&&(de.innerHTML=Q),we=D(ml,`\r
                    compared to `),Pe=o(ml,"SPAN",{class:!0});var Bs=m(Pe);q=D(Bs,t[7]),Bs.forEach(v),nt=D(ml," Average)"),ml.forEach(v),Oa=y(Se),Xe=o(Se,"P",{class:!0});var gl=m(Xe);Ha=D(gl,"Co-benefit values for "),Wl=D(gl,jl),Fa=D(gl,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),tl=o(gl,"SPAN",{class:!0});var Os=m(tl);Yl=D(Os,t[7]),Os.forEach(v),Ra=D(gl," (grey)."),gl.forEach(v),xa=y(Se),Ua=o(Se,"BR",{}),Ga=y(Se),Il=Gl(Se,!1),Kl=y(Se),mt=o(Se,"H3",{class:!0});var ga=m(mt);Wa=D(ga,"11 types of co-benefit values (vs. "),ll=o(ga,"SPAN",{class:!0});var Hs=m(ll);Xl=D(Hs,t[7]),Hs.forEach(v),Ya=D(ga," Average)"),ga.forEach(v),qa=y(Se),Ze=o(Se,"P",{class:!0});var bl=m(Ze);Ka=D(bl,"Co-benefit values for "),Zl=D(bl,Pl),Xa=D(bl,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),al=o(bl,"SPAN",{class:!0});var Fs=m(al);Jl=D(Fs,t[7]),Fs.forEach(v),Za=D(bl," (grey)."),bl.forEach(v),Ja=y(Se),gt=o(Se,"DIV",{class:!0,"data-svelte-h":!0}),Y(gt)!=="svelte-11dzfub"&&(gt.innerHTML=gs),Se.forEach(v),Qa=y(ma),Be=o(ma,"DIV",{class:!0});var It=m(Be);bt=o(It,"H3",{class:!0});var ba=m(bt);$a=D(ba,"Where is "),Ql=D(ba,Ml),en=D(ba,"?"),ba.forEach(v),tn=y(It),Bt=o(It,"P",{class:!0});var rs=m(Bt);$l=D(rs,Vl),ln=D(rs," has been highlighted in dark grey on this UK map."),rs.forEach(v),an=y(It),Ot=o(It,"P",{class:!0,"data-svelte-h":!0}),Y(Ot)!=="svelte-vsj698"&&(Ot.textContent=bs),nn=y(It),st=o(It,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(st)!=="svelte-13ehpmu"&&(st.innerHTML=_s),It.forEach(v),ma.forEach(v),pa.forEach(v),sn=y(O),rt=o(O,"DIV",{class:!0,id:!0});var _a=m(rt);Ht=o(_a,"DIV",{class:!0,"data-svelte-h":!0}),Y(Ht)!=="svelte-10cbt4"&&(Ht.innerHTML=ys),rn=y(_a),ot=o(_a,"DIV",{id:!0,class:!0});var ya=m(ot);it=o(ya,"DIV",{id:!0,class:!0});var Ca=m(it);ct=o(Ca,"DIV",{});var _l=m(ct);_t=o(_l,"H3",{class:!0});var Ea=m(_t);on=D(Ea,"Total co-benefit distribution from 2025-2049 (vs. "),nl=o(Ea,"SPAN",{class:!0});var Rs=m(nl);ea=D(Rs,t[7]),Rs.forEach(v),cn=D(Ea," Average)"),Ea.forEach(v),un=y(_l),Fe=o(_l,"P",{class:!0,style:!0});var yl=m(Fe);fn=D(yl,`Aggregated values from 2025-2049\r
                        in `),ta=D(yl,Nl),dn=D(yl,` compared to average value of benefits received across all local authorities\r
                        in `),sl=o(yl,"SPAN",{class:!0});var xs=m(sl);la=D(xs,t[7]),xs.forEach(v),hn=D(yl,"."),yl.forEach(v),vn=y(_l),Je=o(_l,"DIV",{class:!0});var Cl=m(Je);Ft=o(Cl,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Ft)!=="svelte-1fi0dip"&&(Ft.textContent=Cs),pn=y(Cl),mn=o(Cl,"BR",{}),gn=y(Cl),yt=o(Cl,"UL",{class:!0});var wa=m(yt);Ct=o(wa,"LI",{class:!0});var Aa=m(Ct);rl=o(Aa,"SPAN",{class:!0,style:!0}),m(rl).forEach(v),bn=y(Aa),aa=D(Aa,zl),Aa.forEach(v),_n=y(wa),Et=o(wa,"LI",{class:!0});var La=m(Et);ol=o(La,"SPAN",{class:!0,style:!0}),m(ol).forEach(v),yn=y(La),il=o(La,"SPAN",{class:!0});var Us=m(il);na=D(Us,t[7]),Us.forEach(v),La.forEach(v),wa.forEach(v),Cl.forEach(v),_l.forEach(v),Cn=y(Ca),cl=o(Ca,"DIV",{class:!0}),m(cl).forEach(v),Ca.forEach(v),En=y(ya),Re=o(ya,"DIV",{id:!0,class:!0});var El=m(Re);ut=o(El,"DIV",{});var wl=m(ut);wt=o(wl,"H3",{class:!0});var Da=m(wt);wn=D(Da,"Co-benefit gain/loss for "),sa=D(Da,Bl),An=D(Da," over 5 year intervals"),Da.forEach(v),Ln=y(wl),At=o(wl,"P",{class:!0,style:!0,"data-svelte-h":!0}),Y(At)!=="svelte-1na17f1"&&(At.textContent=Es),Dn=y(wl),Oe=o(wl,"DIV",{id:!0,class:!0,style:!0});var Al=m(Oe);Rt=o(Al,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Rt)!=="svelte-1fi0dip"&&(Rt.textContent=ws),kn=y(Al),Sn=o(Al,"BR",{}),Tn=y(Al),xt=o(Al,"UL",{class:!0,style:!0});var Gs=m(xt);for(let Zt=0;Zt<dt.length;Zt+=1)dt[Zt].l(Gs);Gs.forEach(v),Al.forEach(v),wl.forEach(v),jn=y(El),ul=o(El,"DIV",{class:!0}),m(ul).forEach(v),In=y(El),Lt=o(El,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(Lt)!=="svelte-1xqy5mf"&&(Lt.innerHTML=As),El.forEach(v),ya.forEach(v),_a.forEach(v),Pn=y(O),ft=o(O,"DIV",{class:!0,id:!0});var ka=m(ft);Qe=o(ka,"DIV",{class:!0});var Ll=m(Qe);Ut=o(Ll,"P",{class:!0,"data-svelte-h":!0}),Y(Ut)!=="svelte-ceroz1"&&(Ut.textContent=Ls),Mn=y(Ll),Gt=o(Ll,"H2",{class:!0});var os=m(Gt);ra=D(os,Ol),Vn=D(os," social-economic factors"),os.forEach(v),Nn=y(Ll),Wt=o(Ll,"P",{class:!0,"data-svelte-h":!0}),Y(Wt)!=="svelte-45d07w"&&(Wt.textContent=Ds),Ll.forEach(v),zn=y(ka),$e=o(ka,"DIV",{id:!0,class:!0,style:!0});var Sa=m($e);Ae=o(Sa,"DIV",{id:!0,class:!0});var lt=m(Ae);et=o(lt,"H3",{class:!0});var Dl=m(et);Bn=D(Dl,"Comparing the Socio-Economic factors distributions of "),oa=D(Dl,Hl),On=D(Dl,`\r
                    and `),ia=D(Dl,t[7]),Hn=D(Dl,", and their correlation with co-benefits."),Dl.forEach(v),Fn=y(lt),Rn=o(lt,"BR",{}),xn=y(lt),xe=o(lt,"DIV",{id:!0,class:!0});var kl=m(xe);Yt=o(kl,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Yt)!=="svelte-xb363n"&&(Yt.textContent=ks),Un=y(kl),Gn=o(kl,"BR",{}),Wn=y(kl),Dt=o(kl,"UL",{class:!0});var Ta=m(Dt);kt=o(Ta,"LI",{class:!0});var ja=m(kt);fl=o(ja,"SPAN",{class:!0,style:!0}),m(fl).forEach(v),Yn=y(ja),ca=D(ja,Fl),ja.forEach(v),qn=y(Ta),St=o(Ta,"LI",{class:!0});var Ia=m(St);dl=o(Ia,"SPAN",{class:!0,style:!0}),m(dl).forEach(v),Kn=y(Ia),ua=D(Ia,t[7]),Ia.forEach(v),Ta.forEach(v),kl.forEach(v),Xn=y(lt),Me=o(lt,"DIV",{id:!0,class:!0});var Pt=m(Me);qt=o(Pt,"STRONG",{style:!0,"data-svelte-h":!0}),Y(qt)!=="svelte-ucmfvz"&&(qt.textContent=Ss),Zn=y(Pt),Jn=o(Pt,"BR",{}),Qn=y(Pt),hl=o(Pt,"P",{"data-svelte-h":!0}),Y(hl)!=="svelte-mm528r"&&(hl.innerHTML=Ts),$n=y(Pt),tt=o(Pt,"P",{});var Xt=m(tt);vl=o(Xt,"STRONG",{"data-svelte-h":!0}),Y(vl)!=="svelte-1ij32sd"&&(vl.textContent=js),es=D(Xt," Each dot represents a datazone inside "),fa=D(Xt,Rl),ts=D(Xt,`. The cloud\r
                        shows the distribution for `),da=D(Xt,t[7]),ls=D(Xt,"."),Xt.forEach(v),Pt.forEach(v),as=y(lt),Tt=o(lt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(Tt)!=="svelte-gofjep"&&(Tt.innerHTML=Is),lt.forEach(v),ns=y(Sa),jt=o(Sa,"DIV",{id:!0,class:!0});var Ws=m(jt);for(let Zt=0;Zt<pe.length;Zt+=1)pe[Zt].l(Ws);Ws.forEach(v),Sa.forEach(v),ka.forEach(v),O.forEach(v),ha=y(b),Xs(Kt.$$.fragment,b),this.h()},h(){s(C,"class","page-subtitle"),s(k,"type","button"),s(k,"class","data-btn svelte-1e11lej"),s(h,"class","header-bar svelte-1e11lej"),s(E,"class","page-title"),s(V,"id","title-row"),s(V,"class","svelte-1e11lej"),s(j,"class","description"),s(N,"type","radio"),s(N,"name","compare"),N.value="UK",N.checked=!0,s(K,"class","nation-label svelte-1e11lej"),s(K,"for","html"),s(G,"type","radio"),s(G,"name","compare"),G.value="England",s(ce,"class","nation-label svelte-1e11lej"),s(ce,"for","html"),s(ee,"type","radio"),s(ee,"name","compare"),ee.value="Wales",s(oe,"class","nation-label svelte-1e11lej"),s(oe,"for","html"),s(ie,"type","radio"),s(ie,"name","compare"),ie.value="Scotland",s(he,"class","nation-label svelte-1e11lej"),s(he,"for","javascript"),s(se,"type","radio"),s(se,"name","compare"),se.value="NI",s(ve,"class","nation-label svelte-1e11lej"),s(ve,"for","javascript"),s(S,"class","radio-set"),s(i,"class","section header header-row svelte-1e11lej"),s(i,"id","head"),s(ke,"class","section-header"),s(de,"class","tooltip-term"),s(Pe,"class","nation-label svelte-1e11lej"),s(H,"class","component-title"),s(tl,"class","nation-label svelte-1e11lej"),s(Xe,"class","description"),Il.a=Kl,s(ll,"class","nation-label svelte-1e11lej"),s(mt,"class","component-title"),s(al,"class","nation-label svelte-1e11lej"),s(Ze,"class","description"),s(gt,"class","plot"),s(B,"class","component column"),s(bt,"class","component-title"),s(Bt,"class","description"),s(Ot,"class","description"),s(st,"id","map"),s(st,"class","svelte-1e11lej"),s(Be,"class","component column"),s(z,"id","vis-block"),s(z,"class","svelte-1e11lej"),s(Ee,"class","section"),s(Ee,"id","overview"),s(Ht,"class","section-header"),s(nl,"class","nation-label svelte-1e11lej"),s(_t,"class","component-title"),s(sl,"class","nation-label svelte-1e11lej"),s(Fe,"class","description"),Te(Fe,"margin-bottom","5px"),Te(Ft,"margin-bottom","0.5rem"),s(rl,"class","legend-color svelte-1e11lej"),Te(rl,"background-color",Nt),s(Ct,"class","svelte-1e11lej"),s(ol,"class","legend-color svelte-1e11lej"),Te(ol,"background-color",be),s(il,"class","nation-label svelte-1e11lej"),s(Et,"class","svelte-1e11lej"),s(yt,"class","legend-list svelte-1e11lej"),s(Je,"class","legend-box svelte-1e11lej"),s(cl,"class","plot side svelte-1e11lej"),s(it,"id","main-block"),s(it,"class","component column svelte-1e11lej"),s(wt,"class","component-title"),s(At,"class","description"),Te(At,"margin-bottom","5px"),Te(Rt,"margin-bottom","0.5rem"),s(xt,"class","horizontal-legend-list svelte-1e11lej"),Te(xt,"margin-bottom","5px"),s(Oe,"id","main-legend"),s(Oe,"class","legend-box svelte-1e11lej"),Te(Oe,"margin-bottom","5px"),s(ul,"class","plot side svelte-1e11lej"),s(Lt,"id","main-disclaimer"),s(Lt,"class","disclaimer-box svelte-1e11lej"),s(Re,"id","main-block"),s(Re,"class","component column svelte-1e11lej"),s(ot,"id","vis-block"),s(ot,"class","svelte-1e11lej"),s(rt,"class","section"),s(rt,"id","temporal"),s(Ut,"class","section-subtitle"),s(Gt,"class","section-title"),s(Wt,"class","description"),s(Qe,"class","section-header"),s(et,"class","component-title"),Te(Yt,"margin-bottom","1rem"),s(fl,"class","legend-color svelte-1e11lej"),Te(fl,"background-color",Nt),s(kt,"class","svelte-1e11lej"),s(dl,"class","legend-color svelte-1e11lej"),Te(dl,"background-color",be),s(St,"class","svelte-1e11lej"),s(Dt,"class","legend-list svelte-1e11lej"),s(xe,"id","se-legend"),s(xe,"class","legend-box svelte-1e11lej"),Te(qt,"margin-bottom","1rem"),s(Me,"id","se-legend"),s(Me,"class","legend-box svelte-1e11lej"),s(Tt,"id","se-disclaimer"),s(Tt,"class","disclaimer-box svelte-1e11lej"),s(Ae,"id","se-title"),s(Ae,"class","svelte-1e11lej"),s(jt,"id","multiple-comp"),s(jt,"class","svelte-1e11lej"),s($e,"id","se-block"),s($e,"class","component svelte-1e11lej"),Te($e,"margin-left","1rem"),s(ft,"class","section"),s(ft,"id","households"),s(n,"class","page-container")},m(b,O){Zs(l,b,O),Le(b,a,O),Le(b,n,O),me&&me.m(n,null),e(n,u),e(n,i),e(i,c),e(c,h),e(h,C),e(h,p),e(h,k),e(c,I),e(c,V),e(V,E),e(E,w),e(c,g),e(c,j),e(c,M),e(c,S),e(S,R),e(S,X),e(S,F),e(S,N),e(S,x),e(S,K),e(S,Z),e(S,te),e(S,G),e(S,fe),e(S,ce),e(S,_e),e(S,ue),e(S,ee),e(S,ne),e(S,oe),e(S,je),e(S,ye),e(S,ie),e(S,Ie),e(S,he),e(S,W),e(S,se),e(S,qe),e(S,ve),e(i,Ke),e(i,Ce),ge&&ge.m(Ce,null),e(n,ze),e(n,Ee),e(Ee,ke),e(Ee,f),e(Ee,z),e(z,B),e(B,H),e(H,J),e(H,de),e(H,we),e(H,Pe),e(Pe,q),e(H,nt),e(B,Oa),e(B,Xe),e(Xe,Ha),e(Xe,Wl),e(Xe,Fa),e(Xe,tl),e(tl,Yl),e(Xe,Ra),e(B,xa),e(B,Ua),e(B,Ga),Il.m(ql,B),e(B,Kl),e(B,mt),e(mt,Wa),e(mt,ll),e(ll,Xl),e(mt,Ya),e(B,qa),e(B,Ze),e(Ze,Ka),e(Ze,Zl),e(Ze,Xa),e(Ze,al),e(al,Jl),e(Ze,Za),e(B,Ja),e(B,gt),t[33](gt),e(z,Qa),e(z,Be),e(Be,bt),e(bt,$a),e(bt,Ql),e(bt,en),e(Be,tn),e(Be,Bt),e(Bt,$l),e(Bt,ln),e(Be,an),e(Be,Ot),e(Be,nn),e(Be,st),t[34](st),e(n,sn),e(n,rt),e(rt,Ht),e(rt,rn),e(rt,ot),e(ot,it),e(it,ct),e(ct,_t),e(_t,on),e(_t,nl),e(nl,ea),e(_t,cn),e(ct,un),e(ct,Fe),e(Fe,fn),e(Fe,ta),e(Fe,dn),e(Fe,sl),e(sl,la),e(Fe,hn),e(ct,vn),e(ct,Je),e(Je,Ft),e(Je,pn),e(Je,mn),e(Je,gn),e(Je,yt),e(yt,Ct),e(Ct,rl),e(Ct,bn),e(Ct,aa),e(yt,_n),e(yt,Et),e(Et,ol),e(Et,yn),e(Et,il),e(il,na),e(it,Cn),e(it,cl),t[35](cl),e(ot,En),e(ot,Re),e(Re,ut),e(ut,wt),e(wt,wn),e(wt,sa),e(wt,An),e(ut,Ln),e(ut,At),e(ut,Dn),e(ut,Oe),e(Oe,Rt),e(Oe,kn),e(Oe,Sn),e(Oe,Tn),e(Oe,xt);for(let ae=0;ae<dt.length;ae+=1)dt[ae]&&dt[ae].m(xt,null);e(Re,jn),e(Re,ul),t[36](ul),e(Re,In),e(Re,Lt),e(n,Pn),e(n,ft),e(ft,Qe),e(Qe,Ut),e(Qe,Mn),e(Qe,Gt),e(Gt,ra),e(Gt,Vn),e(Qe,Nn),e(Qe,Wt),e(ft,zn),e(ft,$e),e($e,Ae),e(Ae,et),e(et,Bn),e(et,oa),e(et,On),e(et,ia),e(et,Hn),e(Ae,Fn),e(Ae,Rn),e(Ae,xn),e(Ae,xe),e(xe,Yt),e(xe,Un),e(xe,Gn),e(xe,Wn),e(xe,Dt),e(Dt,kt),e(kt,fl),e(kt,Yn),e(kt,ca),e(Dt,qn),e(Dt,St),e(St,dl),e(St,Kn),e(St,ua),e(Ae,Xn),e(Ae,Me),e(Me,qt),e(Me,Zn),e(Me,Jn),e(Me,Qn),e(Me,hl),e(Me,$n),e(Me,tt),e(tt,vl),e(tt,es),e(tt,fa),e(tt,ts),e(tt,da),e(tt,ls),e(Ae,as),e(Ae,Tt),e($e,ns),e($e,jt);for(let ae=0;ae<pe.length;ae+=1)pe[ae]&&pe[ae].m(jt,null);t[40](n),Le(b,ha,O),Zs(Kt,b,O),le=!0,ss||(Ps=[el(k,"click",t[23]),el(N,"change",t[22]),el(G,"change",t[22]),el(ee,"change",t[22]),el(ie,"change",t[22]),el(se,"change",t[22])],ss=!0)},p(b,O){if(b[15]?me?me.p(b,O):(me=br(b),me.c(),me.m(n,u)):me&&(me.d(1),me=null),(!le||O[0]&131072)&&P!==(P=b[17][b[19]]+"")&&$(w,P),b[9]?ge?ge.p(b,O):(ge=yr(b),ge.c(),ge.m(Ce,null)):ge&&(ge.d(1),ge=null),(!le||O[0]&128)&&$(q,b[7]),(!le||O[0]&131072)&&jl!==(jl=b[17][b[19]]+"")&&$(Wl,jl),(!le||O[0]&128)&&$(Yl,b[7]),(!le||O[0]&288)&&ql!==(ql=b[21](b[5],b[8])+"")&&Il.p(ql),(!le||O[0]&128)&&$(Xl,b[7]),(!le||O[0]&131072)&&Pl!==(Pl=b[17][b[19]]+"")&&$(Zl,Pl),(!le||O[0]&128)&&$(Jl,b[7]),(!le||O[0]&131072)&&Ml!==(Ml=b[17][b[19]]+"")&&$(Ql,Ml),(!le||O[0]&131072)&&Vl!==(Vl=b[17][b[19]]+"")&&$($l,Vl),(!le||O[0]&128)&&$(ea,b[7]),(!le||O[0]&131072)&&Nl!==(Nl=b[17][b[19]]+"")&&$(ta,Nl),(!le||O[0]&128)&&$(la,b[7]),(!le||O[0]&131072)&&zl!==(zl=b[17][b[19]]+"")&&$(aa,zl),(!le||O[0]&128)&&$(na,b[7]),(!le||O[0]&131072)&&Bl!==(Bl=b[17][b[19]]+"")&&$(sa,Bl),(!le||O[0]&131072)&&Ol!==(Ol=b[17][b[19]]+"")&&$(ra,Ol),(!le||O[0]&131072)&&Hl!==(Hl=b[17][b[19]]+"")&&$(oa,Hl),(!le||O[0]&128)&&$(ia,b[7]),(!le||O[0]&131072)&&Fl!==(Fl=b[17][b[19]]+"")&&$(ca,Fl),(!le||O[0]&128)&&$(ua,b[7]),(!le||O[0]&131072)&&Rl!==(Rl=b[17][b[19]]+"")&&$(fa,Rl),(!le||O[0]&128)&&$(da,b[7]),O[0]&655512){pl=is(sr);let ae;for(ae=0;ae<pl.length;ae+=1){const Ue=gr(b,pl,ae);pe[ae]?pe[ae].p(Ue,O):(pe[ae]=Cr(Ue),pe[ae].c(),pe[ae].m(jt,null))}for(;ae<pe.length;ae+=1)pe[ae].d(1);pe.length=pl.length}},i(b){le||(Js(l.$$.fragment,b),Js(Kt.$$.fragment,b),le=!0)},o(b){Qs(l.$$.fragment,b),Qs(Kt.$$.fragment,b),le=!1},d(b){b&&(v(a),v(n),v(ha)),$s(l,b),me&&me.d(),ge&&ge.d(),t[33](null),t[34](null),t[35](null),Ys(dt,b),t[36](null),Ys(pe,b),t[40](null),$s(Kt,b),ss=!1,Vr(Ps)}}}let Ye=400;function Er(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function $t(t){const l=t.querySelector("figure");l&&l.remove();const a=t.querySelector("svg");a&&a.remove()}function ai(t,l,a){let n,u,i,c,h={},C={},d={},p={},k="barchart",{data:A}=l;const I=A.LAD;let V="UK",E,P,w,g,j,T,M,S,R,X,F,N,x,K=!1,U="Noise",Z=[],te="";async function G(){a(5,E=await Ge(ir())),P=await Ge(fo()),console.log("allCBAllZones",P),E.forEach(H=>{H.isPageLAD=H.LAD==I}),a(26,w=await Ge(cr([]))),g=await Ge(ho(za.map(H=>H.id))),a(27,j=await Ge(ur())),a(8,T=await Ge(vo(I))),console.log("oneLADData",T),a(28,M=await Ge(po(I))),a(9,S=($r(T,H=>H.total)/1e3).toFixed(3)),a(11,X=ps(w,H=>H.val)/1e3),a(10,R=(cs(T,H=>H.totalPerCapita)*1e6).toFixed(1)),a(12,F=await Ge(mo({limit:1,sortBy:"per_capita"}))),a(12,F=F[0].value_per_capita);const f="/LAD/Eng_Wales_LSOA_LADs.csv",z="/LAD/NI_DZ_LAD.csv",B="/LAD/Scotland_DZ_LA.csv";await hs(f).then(H=>{for(let J of H)a(17,ue[J.LAD22CD]=J.LAD22NM,ue)}),await hs(z).then(H=>{for(let J of H)a(17,ue[J.LGD2014_code]=J.LGD2014_name,ue)}),await hs(B).then(H=>{for(let J of H)a(17,ue[J.LA_Code]=J.LA_Name,ue)}),a(29,K=!0),lo(n)}G().then(()=>{oe=new ar(T,"LSOA",Ne,"total",!1,"Lookup_Value",!1,null,8),oe.initMap(),oe.setCenter(T[0].LAD)});let fe=!1,ce="";const Ve=["overview","temporal","households"];function _e(){const f=window.scrollY;a(15,fe=f>100);for(const z of Ve){const B=document.getElementById(z);if(!B)continue;const H=B.getBoundingClientRect();if(H.top<=150&&H.bottom>=150){ce!==z&&lr.capture("section entered (lad)",{section_name:z}),a(16,ce=z);break}}}let ue={},ee,ne,oe,Ne;qs(()=>(ao(n),ee=new ar(I,"LAD",ne,"val",!0,"Lookup_value",!1,null,8),ee.initMap(!1),window.addEventListener("scroll",_e),_e(),()=>window.removeEventListener("scroll",_e))),Nr(()=>{window.removeEventListener("scroll",_e)});function je(f,z,B="black"){return He({width:80,height:20,margin:0,x:{domain:[0,z],axis:null},marks:[us([f],{x:J=>J,y:0,fill:B})]}).outerHTML}function ye(f,z){if(!f||!z)return;let B=f.filter(J=>J.total<20);return He({height:Ye/1.6,...at,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[xl(B,Va({y:(J,de)=>J.length/B.length/(de.x2-de.x1)},{x:"total",fill:be,stroke:be,fillOpacity:.3,strokeWidth:2})),xl(z,Va({y:(J,de)=>J.length/z.length/(de.x2-de.x1)},{x:"total",tip:!0,fill:Nt,stroke:"black",fillOpacity:.3,strokeWidth:2})),eo([0],{stroke:"#1E1E1E",strokeWidth:1}),Pa({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),fs({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function ie(){{let f=He({height:Ye/1.4,...at,x:{type:"band"},style:{fontSize:"18px"},marks:[Jt(w,ht({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Jt(T,ht({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const z=We(f).selectAll("g[aria-label='bar']");We(z.nodes()[0]);const B=We(z.nodes()[1]);B.selectAll("rect").each(function(){}),B.remove()},1e3)}}function Ie(){if(u){let f=He({height:Ye/1,width:811,...at,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Na.range(),domain:Na.domain()},marks:[Jt(j,ht({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:be,sort:{x:"y",reverse:!0},tip:!0})),Jt(M,ht({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:z=>Na(z.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),Pa({label:"Total Co-Benefit (£ million)",labelAnchor:"center",labelArrow:!1}),fs({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),er([0],{stroke:"#333",strokeWidth:.75})]});We(f).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(z,B,H)=>{let J=z.target.textContent,de=za.find(Q=>Q.id==J);window.open(`${ms}/cobenefit?cobenefit=${de.id}`,"_blank").focus()}),u.append(f)}}qs(()=>{console.log("onMount ran"),console.log("oneLADAllCbs is:",M),M&&M.length>0&&(a(31,Z=[...new Set(M.map(f=>f.co_benefit_type))]),a(30,U=Z[0]),console.log("Loaded co-benefits:",M))});function he(){oo.forEach(f=>{let z;rr.includes(f)?z=He({height:Ye/1.2,...at,marginLeft:100,marginTop:40,marginBottom:f==="Typology"?100:60,x:{grid:!0,padding:.6,label:Ma(f),tickFormat:q=>or[f]?.[q]??q,tickRotate:f==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Jt(E,ht({y:"proportion"},{x:f,dx:12,fill:be})),Jt(T,ht({y:"proportion"},{x:f,dx:-12}))]}):z=He({height:Ye/1.2,...at,x:{label:Ma(f)},style:{fontSize:"18px"},marks:[xl(T,Va({y:(q,nt)=>q.length/T.length/(nt.x2-nt.x1)},{x:q=>["Under_35","Over_65","Unemployment"].includes(f)?q[f]*100:q[f],tip:!0,fill:be,stroke:be,fillOpacity:.2,strokeWidth:3})),xl(E,Va({y:(q,nt)=>q.length/E.length/(nt.x2-nt.x1)},{x:q=>["Under_35","Over_65","Unemployment"].includes(f)?q[f]*100:q[f],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),C[f]?.append(void 0),h[f]?.append(z);let H=E.map(q=>q.total),J=jr(H);H.sort();var de=H.length,Q=Math.floor(de*1)-1;let we=H[Q];J[1]=we+2,J[0]=-5;let Pe;rr.includes(f)?Pe=He({height:Ye/1.2,...at,marginBottom:f==="Typology"?100:60,marginLeft:100,x:{label:Ma(f),type:"point",tickFormat:q=>or[f]?.[q]??q,tickRotate:f==="Typology"?-20:0},y:{domain:J,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",be]},marks:[pr(nr(E,15e3),{x:q=>`${q[f]}`,y:"total",fill:"density",bandwidth:3}),dr(T,{x:q=>`${q[f]}`,y:"total",fill:"black",r:2}),Pa({label:"Datazone Co-Benefit (millions £)"})]}):Pe=He({height:Ye/1.2,...at,x:{label:Ma(f)},y:{domain:J},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",be]},marks:[pr(nr(E,2e4),{x:q=>["Under_35","Over_65","Unemployment"].includes(f)?q[f]*100:q[f],y:"total",fill:"density",thresholds:10}),dr(T,{x:q=>["Under_35","Over_65","Unemployment"].includes(f)?q[f]*100:q[f],y:"total",fill:"black",r:2}),Pa({label:"Datazone Co-Benefit (£)"}),fs({anchor:"bottom"})]}),d[f]&&a(4,d[f].innerHTML="",d),d[f]?.append(Pe)})}function De(){for(let f of io){let z=He({height:Ye,width:410,...at,marginRight:0,marginLeft:100,marks:[us(g,tr({x:"mean"},{x:"val",y:"co_benefit_type",dy:-co/2,fill:be,tip:!0})),us(M,tr({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});p[f]?.append(z)}}function W(){let f=T.flatMap(Q=>ds.map(we=>({time:we,value:Q[we],scenario:Q.scenario,zone:"local"}))),z=E.flatMap(Q=>ds.map(we=>({time:we,value:Q[we],scenario:Q.scenario,zone:"UK"}))),B=f.concat(z),H=He({height:Ye,width:800,...at,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[be,Nt],legend:!1},marks:[Jt(B,ht({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),to({anchor:"bottom",tickFormat:Q=>Q.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(H),We(i).select("g[aria-label='bar']").selectAll("g").each(function(Q,we){const Pe=We(this).selectAll("rect").nodes()[0],q=We(Pe).attr("transform")||"";We(Pe).attr("transform",`${q} translate(-20, 0)`),We(this).selectAll("rect").nodes()[0].getAttribute("height"),We(this).selectAll("rect").nodes()[1].getAttribute("height"),We(this).selectAll("rect")}),He({height:Ye,width:800,...at,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Go(B,ht({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let J=M.flatMap(Q=>ds.map(we=>({time:we,value:Q[we],cobenefit:Q.co_benefit_type})));console.log("dataCBs",J);let de=He({height:Ye,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([Q])=>`Cobenefit ${Q.cobenefit}`},x:{label:"Years",tickFormat:Q=>Q.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:uo,domain:za.map(Q=>Q.id)},marks:[xl(J,ht({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:Q=>`${(+Q).toFixed(3)}`,x:Q=>`${Q.replace(/^Y/,"").replace("_","-")}`,fill:Q=>`${Q}`}}})),er([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(de)}async function se(f){a(7,V=f.currentTarget.value),a(27,j=await Ge(ur("total",V))),a(26,w=await Ge(cr([],V))),a(5,E=await Ge(ir(V))),lr.capture("clicked nation filter",{nation:f.currentTarget.value})}function qe(){let f=j.filter(B=>B.Lookup_Value==I);f.push({co_benefit_type:"Total",val:f.reduce((B,H)=>B+H.val,0)}),f.forEach(B=>{delete B.Lookup_Value,B["Cobenefit Value (Millions £)"]=B.val,delete B.val});const z=no(f);so(z,`cobenefits_${ue[I]}.csv`),ro("/Scotland_co-benefits_CB7_2045.pdf","readme.pdf")}function ve(f){Mt[f?"unshift":"push"](()=>{u=f,a(0,u)})}function pt(f){Mt[f?"unshift":"push"](()=>{ne=f,a(18,ne)})}function Ke(f){Mt[f?"unshift":"push"](()=>{i=f,a(1,i)})}function Ce(f){Mt[f?"unshift":"push"](()=>{c=f,a(2,c)})}function ze(f,z){Mt[f?"unshift":"push"](()=>{h[z.id]=f,a(3,h)})}function Ee(f,z){Mt[f?"unshift":"push"](()=>{h[z.id]=f,a(3,h)})}function ke(f,z){Mt[f?"unshift":"push"](()=>{d[z.id]=f,a(4,d)})}function zt(f){Mt[f?"unshift":"push"](()=>{n=f,a(6,n)})}return t.$$set=f=>{"data"in f&&a(24,A=f.data)},t.$$.update=()=>{t.$$.dirty[0]&67108864&&w&&(a(13,N=cs(w.map(f=>f.val))/1e3),a(14,x=cs(w.map(f=>f.value_per_capita))*1e5)),t.$$.dirty[0]&268435456|t.$$.dirty[1]&1&&M&&M.length>0&&Z.length===0&&(a(31,Z=[...new Set(M.map(f=>f.co_benefit_type))]),a(30,U=Z[0]),console.log("Loaded co-benefits reactively:",M)),t.$$.dirty[0]&1342177280|t.$$.dirty[1]&2&&te.length>2&&M.filter(f=>f.co_benefit_type===U).map(f=>f.Lookup_Value).filter(f=>f.toLowerCase().includes(te.toLowerCase())),t.$$.dirty[0]&771751975&&(u&&$t(u),i&&$t(i),c&&$t(c),K&&j&&w&&E&&(ie(),Ie(),W())),t.$$.dirty[0]&536870936&&(Object.values(h).forEach(f=>{f&&$t(f)}),Object.values(C).forEach(f=>{f&&$t(f)}),Object.values(d).forEach(f=>{f&&$t(f)}),K&&he()),t.$$.dirty[0]&536870912&&(Object.values(p).forEach(f=>{f&&$t(f)}),K&&De()),t.$$.dirty[0]&1073741824,t.$$.dirty[0]&268435456|t.$$.dirty[1]&2&&te.length>=2&&[...new Set(M.map(z=>z.Lookup_Value))].filter(z=>z.toLowerCase().includes(te.toLowerCase())).slice(0,10)},[u,i,c,h,d,E,n,V,T,S,R,X,F,N,x,fe,ce,ue,ne,I,je,ye,se,qe,A,k,w,j,M,K,U,Z,te,ve,pt,Ke,Ce,ze,Ee,ke,zt]}class Ei extends Br{constructor(l){super(),Or(this,l,ai,li,Mr,{data:24},null,[-1,-1,-1])}}export{Ei as component};
