import{s as Vt,e as r,a as L,t as ie,c,b as v,g as q,d as re,f,q as i,i as J,h as n,K as fl,x as Ge,n as ft,y as vl,L as $l,v as qt,j as Ce,p as z,w as Ae,A as wt,B as Me,H as ea,G as Bl,D as ta,T as la,a0 as Sl,a1 as aa,r as sa,F as na,z as bt}from"../chunks/scheduler.BVm0POKv.js";import{S as zt,i as Wt,c as Ct,b as Dt,m as Et,t as Pe,a as Ye,e as Il,d as Lt,g as Pl}from"../chunks/index.C_bTuQvQ.js";import{e as xe,N as oa,s as ia}from"../chunks/NavigationBar.DAIBHoNE.js";import{b as oe}from"../chunks/paths.Dw_C3Yas.js";import"../chunks/entry.DmJWllaf.js";import{q as xt,u as ra,r as ul,l as ca,ad as Ml,z as fa}from"../chunks/index.DrA8R0kw.js";import{g as dl,C as hl,e as ua,f as da,r as ha,j as va,h as ma}from"../chunks/globals.CKxUk0Bo.js";import{p as _a,t as ga}from"../chunks/percentage.Cu08Svdw.js";import{p as pa}from"../chunks/per_capita.COcMrZFY.js";import{g as Gt,q as ba,r as Ca,s as Da,p as Ea}from"../chunks/duckdb.4e8U-aay.js";import"../chunks/transform.Db-NgJu-.js";import{F as La}from"../chunks/Footer.Cmz01prr.js";import{c as cl}from"../chunks/dsv.XhNTmijJ.js";function Nl(a,e,t){const l=a.slice();return l[10]=e[t],l}function Fl(a){let e,t=xe(a[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ol(Nl(a,t,s));return{c(){e=r("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=c(s,"UL",{class:!0});var o=v(e);for(let u=0;u<l.length;u+=1)l[u].l(o);o.forEach(f),this.h()},h(){i(e,"class","suggestions svelte-1kj8esc")},m(s,o){J(s,e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(s,o){if(o&12){t=xe(s[2]);let u;for(u=0;u<t.length;u+=1){const d=Nl(s,t,u);l[u]?l[u].p(d,o):(l[u]=Ol(d),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=t.length}},d(s){s&&f(e),qt(l,s)}}}function Ol(a){let e,t=a[10][1]+"",l,s,o;function u(){return a[8](a[10])}return{c(){e=r("li"),l=ie(t),this.h()},l(d){e=c(d,"LI",{class:!0});var m=v(e);l=re(m,t),m.forEach(f),this.h()},h(){i(e,"class","svelte-1kj8esc")},m(d,m){J(d,e,m),n(e,l),s||(o=Ge(e,"click",u),s=!0)},p(d,m){a=d,m&4&&t!==(t=a[10][1]+"")&&Ce(l,t)},d(d){d&&f(e),s=!1,o()}}}function qa(a){let e,t,l,s,o,u,d,m,p,g,h=a[2].length&&Fl(a);return{c(){e=r("div"),t=r("div"),l=r("input"),s=L(),o=r("button"),u=ie("See Report"),m=L(),h&&h.c(),this.h()},l(w){e=c(w,"DIV",{class:!0});var b=v(e);t=c(b,"DIV",{class:!0});var C=v(t);l=c(C,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),s=q(C),o=c(C,"BUTTON",{type:!0,class:!0});var S=v(o);u=re(S,"See Report"),S.forEach(f),C.forEach(f),m=q(b),h&&h.l(b),b.forEach(f),this.h()},h(){i(l,"type","text"),i(l,"placeholder","Type local authority name to search..."),i(l,"autocomplete","off"),i(l,"class","svelte-1kj8esc"),i(o,"type","button"),i(o,"class","search-btn svelte-1kj8esc"),o.disabled=d=!a[1],i(t,"class","input-group svelte-1kj8esc"),i(e,"class","autocomplete svelte-1kj8esc")},m(w,b){J(w,e,b),n(e,t),n(t,l),fl(l,a[0]),n(t,s),n(t,o),n(o,u),n(e,m),h&&h.m(e,null),p||(g=[Ge(l,"input",a[7]),Ge(o,"click",a[4])],p=!0)},p(w,[b]){b&1&&l.value!==w[0]&&fl(l,w[0]),b&2&&d!==(d=!w[1])&&(o.disabled=d),w[2].length?h?h.p(w,b):(h=Fl(w),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:ft,o:ft,d(w){w&&f(e),h&&h.d(),p=!1,vl(g)}}}function wa(a,e,t){let l,s;const o=$l();let{items:u}=e,d="",m=null;function p([b,C]){t(0,d=C),t(1,m=b),o("select",b),console.log(`Selected code: ${b}`,`Name: ${C}`)}function g(){m&&o("search",m)}function h(){d=this.value,t(0,d)}const w=b=>p(b);return a.$$set=b=>{"items"in b&&t(5,u=b.items)},a.$$.update=()=>{a.$$.dirty&32&&t(6,l=Object.entries(u)),a.$$.dirty&65&&t(2,s=d?l.filter(([b,C])=>C.toLowerCase().includes(d.toLowerCase())).slice(0,10):[])},[d,m,s,p,g,u,l,h,w]}class Va extends zt{constructor(e){super(),Wt(this,e,wa,qa,Vt,{items:5})}}function Rl(a,e,t){const l=a.slice();return l[11]=e[t],l}function Ul(a){let e,t=(a[6]==="total"?a[8](a[11].total_value,a[1],a[2],a[11].co_benefit_type,a[5]):a[8](a[11].value_per_capita,a[3],a[4],a[11].co_benefit_type,a[5]))+"",l;return{c(){e=new ea(!1),l=Bl(),this.h()},l(s){e=ta(s,!1),l=Bl(),this.h()},h(){e.a=l},m(s,o){e.m(t,s,o),J(s,l,o)},p(s,o){o&127&&t!==(t=(s[6]==="total"?s[8](s[11].total_value,s[1],s[2],s[11].co_benefit_type,s[5]):s[8](s[11].value_per_capita,s[3],s[4],s[11].co_benefit_type,s[5]))+"")&&e.p(t)},d(s){s&&(f(l),e.d())}}}function ka(a){let e,t=a[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=ie(t)},l(s){e=c(s,"SPAN",{});var o=v(e);l=re(o,t),o.forEach(f)},m(s,o){J(s,e,o),n(e,l)},p(s,o){o&1&&t!==(t=s[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Ce(l,t)},d(s){s&&f(e)}}}function ya(a){let e,t=a[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=ie(t)},l(s){e=c(s,"SPAN",{});var o=v(e);l=re(o,t),o.forEach(f)},m(s,o){J(s,e,o),n(e,l)},p(s,o){o&1&&t!==(t=s[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Ce(l,t)},d(s){s&&f(e)}}}function jl(a){let e,t,l,s,o,u,d,m=a[7](a[11].co_benefit_type)+"",p,g,h,w,b,C=a[6],S,H,y,E=Ul(a);function _(P,I){return P[6]==="total"?ya:ka}let M=_(a),N=M(a);return{c(){e=r("tr"),t=r("td"),l=r("div"),s=r("img"),u=L(),d=r("a"),p=ie(m),h=L(),w=r("td"),b=r("div"),E.c(),S=L(),H=r("td"),N.c(),y=L(),this.h()},l(P){e=c(P,"TR",{});var I=v(e);t=c(I,"TD",{});var W=v(t);l=c(W,"DIV",{class:!0});var ne=v(l);s=c(ne,"IMG",{src:!0,alt:!0,class:!0}),u=q(ne),d=c(ne,"A",{href:!0,target:!0});var X=v(d);p=re(X,m),X.forEach(f),ne.forEach(f),W.forEach(f),h=q(I),w=c(I,"TD",{});var j=v(w);b=c(j,"DIV",{class:!0});var V=v(b);E.l(V),V.forEach(f),j.forEach(f),S=q(I),H=c(I,"TD",{});var R=v(H);N.l(R),R.forEach(f),y=q(I),I.forEach(f),this.h()},h(){Me(s.src,o=dl(a[11].co_benefit_type))||i(s,"src",o),i(s,"alt","Icon"),i(s,"class","in-table-icon"),i(d,"href",g=oe+"/cobenefit?cobenefit="+a[11].co_benefit_type),i(d,"target","_blank"),i(l,"class","coben-content"),i(b,"class","bar-cell")},m(P,I){J(P,e,I),n(e,t),n(t,l),n(l,s),n(l,u),n(l,d),n(d,p),n(e,h),n(e,w),n(w,b),E.m(b,null),n(e,S),n(e,H),N.m(H,null),n(e,y)},p(P,I){I&1&&!Me(s.src,o=dl(P[11].co_benefit_type))&&i(s,"src",o),I&1&&m!==(m=P[7](P[11].co_benefit_type)+"")&&Ce(p,m),I&1&&g!==(g=oe+"/cobenefit?cobenefit="+P[11].co_benefit_type)&&i(d,"href",g),I&64&&Vt(C,C=P[6])?(E.d(1),E=Ul(P),E.c(),E.m(b,null)):E.p(P,I),M===(M=_(P))&&N?N.p(P,I):(N.d(1),N=M(P),N&&(N.c(),N.m(H,null)))},d(P){P&&f(e),E.d(P),N.d()}}}function Ta(a){let e,t,l,s="Total",o,u,d="Per Capita",m,p,g,h,w,b="Name",C,S,H=a[6]==="total"?"Total":"Per Capita",y,E,_,M=a[6]==="total"?"£, billion":"£",N,P,I,W,ne,X=xe(a[0]),j=[];for(let V=0;V<X.length;V+=1)j[V]=jl(Rl(a,X,V));return{c(){e=r("div"),t=r("div"),l=r("button"),l.textContent=s,o=L(),u=r("button"),u.textContent=d,m=L(),p=r("table"),g=r("thead"),h=r("tr"),w=r("th"),w.textContent=b,C=L(),S=r("th"),y=ie(H),E=L(),_=r("th"),N=ie(M),P=L(),I=r("tbody");for(let V=0;V<j.length;V+=1)j[V].c();this.h()},l(V){e=c(V,"DIV",{class:!0});var R=v(e);t=c(R,"DIV",{class:!0});var O=v(t);l=c(O,"BUTTON",{"data-svelte-h":!0}),z(l)!=="svelte-15mf98g"&&(l.textContent=s),o=q(O),u=c(O,"BUTTON",{"data-svelte-h":!0}),z(u)!=="svelte-1ts3a4f"&&(u.textContent=d),O.forEach(f),R.forEach(f),m=q(V),p=c(V,"TABLE",{class:!0});var Q=v(p);g=c(Q,"THEAD",{});var F=v(g);h=c(F,"TR",{});var Z=v(h);w=c(Z,"TH",{"data-svelte-h":!0}),z(w)!=="svelte-13ju7y1"&&(w.textContent=b),C=q(Z),S=c(Z,"TH",{style:!0});var U=v(S);y=re(U,H),U.forEach(f),E=q(Z),_=c(Z,"TH",{style:!0});var A=v(_);N=re(A,M),A.forEach(f),Z.forEach(f),F.forEach(f),P=q(Q),I=c(Q,"TBODY",{});var G=v(I);for(let k=0;k<j.length;k+=1)j[k].l(G);G.forEach(f),Q.forEach(f),this.h()},h(){Ae(l,"selected",a[6]==="total"),Ae(u,"selected",a[6]==="per_capita"),i(t,"class","button-group"),i(e,"class","controls"),wt(S,"width","180px"),wt(_,"width","80px"),i(p,"class","data-table")},m(V,R){J(V,e,R),n(e,t),n(t,l),n(t,o),n(t,u),J(V,m,R),J(V,p,R),n(p,g),n(g,h),n(h,w),n(h,C),n(h,S),n(S,y),n(h,E),n(h,_),n(_,N),n(p,P),n(p,I);for(let O=0;O<j.length;O+=1)j[O]&&j[O].m(I,null);W||(ne=[Ge(l,"click",a[9]),Ge(u,"click",a[10])],W=!0)},p(V,[R]){if(R&64&&Ae(l,"selected",V[6]==="total"),R&64&&Ae(u,"selected",V[6]==="per_capita"),R&64&&H!==(H=V[6]==="total"?"Total":"Per Capita")&&Ce(y,H),R&64&&M!==(M=V[6]==="total"?"£, billion":"£")&&Ce(N,M),R&511){X=xe(V[0]);let O;for(O=0;O<X.length;O+=1){const Q=Rl(V,X,O);j[O]?j[O].p(Q,R):(j[O]=jl(Q),j[O].c(),j[O].m(I,null))}for(;O<j.length;O+=1)j[O].d(1);j.length=X.length}},i:ft,o:ft,d(V){V&&(f(e),f(m),f(p)),qt(j,V),W=!1,vl(ne)}}}function Aa(a,e,t){let{aggregationPerCapitaPerBenefit:l}=e,{minCoBenefValue:s}=e,{maxCoBenefValue:o}=e,{minHHCoBenefValue:u}=e,{maxHHCoBenefValue:d}=e,{COBENEFS_SCALE:m}=e;function p(C){return hl.find(S=>S.id===C)?.label??C}let g="total";function h(C,S,H,y,E){const _=E(y);return xt({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[S,H],axis:null},marks:[ra([0],{stroke:"#3C3C3C"}),ul([C],{x:N=>N,y:0,fill:_})]}).outerHTML}const w=()=>t(6,g="total"),b=()=>t(6,g="per_capita");return a.$$set=C=>{"aggregationPerCapitaPerBenefit"in C&&t(0,l=C.aggregationPerCapitaPerBenefit),"minCoBenefValue"in C&&t(1,s=C.minCoBenefValue),"maxCoBenefValue"in C&&t(2,o=C.maxCoBenefValue),"minHHCoBenefValue"in C&&t(3,u=C.minHHCoBenefValue),"maxHHCoBenefValue"in C&&t(4,d=C.maxHHCoBenefValue),"COBENEFS_SCALE"in C&&t(5,m=C.COBENEFS_SCALE)},[l,s,o,u,d,m,g,p,h,w,b]}class Ha extends zt{constructor(e){super(),Wt(this,e,Aa,Ta,Vt,{aggregationPerCapitaPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function Gl(a,e,t){const l=a.slice();return l[16]=e[t],l}function xl(a,e,t){const l=a.slice();return l[19]=e[t],l}function zl(a){let e,t=a[19].label+"",l;return{c(){e=r("option"),l=ie(t),this.h()},l(s){e=c(s,"OPTION",{});var o=v(e);l=re(o,t),o.forEach(f),this.h()},h(){e.__value=a[19].value,fl(e,e.__value)},m(s,o){J(s,e,o),n(e,l)},p:ft,d(s){s&&f(e)}}}function Ba(a){let e,t=a[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=ie(t)},l(s){e=c(s,"SPAN",{});var o=v(e);l=re(o,t),o.forEach(f)},m(s,o){J(s,e,o),n(e,l)},p(s,o){o&2&&t!==(t=s[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Ce(l,t)},d(s){s&&f(e)}}}function Sa(a){let e,t=a[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=ie(t)},l(s){e=c(s,"SPAN",{});var o=v(e);l=re(o,t),o.forEach(f)},m(s,o){J(s,e,o),n(e,l)},p(s,o){o&2&&t!==(t=s[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&Ce(l,t)},d(s){s&&f(e)}}}function Wl(a){let e,t,l,s=(a[5][a[16].LAD]??a[16].LAD)+"",o,u,d,m,p,g,h=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_capita,a[4]))+"",w,b,C;function S(E,_){return E[2]==="total"?Sa:Ba}let H=S(a),y=H(a);return{c(){e=r("tr"),t=r("td"),l=r("a"),o=ie(s),d=L(),m=r("td"),p=r("div"),g=new ea(!1),w=L(),b=r("td"),y.c(),C=L(),this.h()},l(E){e=c(E,"TR",{});var _=v(e);t=c(_,"TD",{});var M=v(t);l=c(M,"A",{href:!0,target:!0});var N=v(l);o=re(N,s),N.forEach(f),M.forEach(f),d=q(_),m=c(_,"TD",{});var P=v(m);p=c(P,"DIV",{class:!0});var I=v(p);g=ta(I,!1),I.forEach(f),P.forEach(f),w=q(_),b=c(_,"TD",{});var W=v(b);y.l(W),W.forEach(f),C=q(_),_.forEach(f),this.h()},h(){i(l,"href",u=oe+"/location?location="+a[16].LAD),i(l,"target","_blank"),g.a=null,i(p,"class","bar-cell")},m(E,_){J(E,e,_),n(e,t),n(t,l),n(l,o),n(e,d),n(e,m),n(m,p),g.m(h,p),n(e,w),n(e,b),y.m(b,null),n(e,C)},p(E,_){_&34&&s!==(s=(E[5][E[16].LAD]??E[16].LAD)+"")&&Ce(o,s),_&2&&u!==(u=oe+"/location?location="+E[16].LAD)&&i(l,"href",u),_&30&&h!==(h=(E[2]==="total"?E[9](E[16].total_value,E[3]):E[10](E[16].value_per_capita,E[4]))+"")&&g.p(h),H===(H=S(E))&&y?y.p(E,_):(y.d(1),y=H(E),y&&(y.c(),y.m(b,null)))},d(E){E&&f(e),y.d()}}}function Ia(a){let e,t,l="Nation:",s,o,u,d,m,p="Total",g,h,w="Per Capita",b,C,S,H,y,E='Name <span style="font-weight:300; color: #545454">(Top 12 in display)</span>',_,M,N=a[2]==="total"?"Total":"Per Capita",P,I,W,ne=a[2]==="total"?"£, billion":"£",X,j,V,R,O,Q=xe(a[7]),F=[];for(let A=0;A<Q.length;A+=1)F[A]=zl(xl(a,Q,A));let Z=xe(a[1]),U=[];for(let A=0;A<Z.length;A+=1)U[A]=Wl(Gl(a,Z,A));return{c(){e=r("div"),t=r("label"),t.textContent=l,s=L(),o=r("select");for(let A=0;A<F.length;A+=1)F[A].c();u=L(),d=r("div"),m=r("button"),m.textContent=p,g=L(),h=r("button"),h.textContent=w,b=L(),C=r("table"),S=r("thead"),H=r("tr"),y=r("th"),y.innerHTML=E,_=L(),M=r("th"),P=ie(N),I=L(),W=r("th"),X=ie(ne),j=L(),V=r("tbody");for(let A=0;A<U.length;A+=1)U[A].c();this.h()},l(A){e=c(A,"DIV",{class:!0});var G=v(e);t=c(G,"LABEL",{"data-svelte-h":!0}),z(t)!=="svelte-1ecnfnj"&&(t.textContent=l),s=q(G),o=c(G,"SELECT",{});var k=v(o);for(let Le=0;Le<F.length;Le+=1)F[Le].l(k);k.forEach(f),u=q(G),d=c(G,"DIV",{class:!0});var $=v(d);m=c($,"BUTTON",{"data-svelte-h":!0}),z(m)!=="svelte-2dev6e"&&(m.textContent=p),g=q($),h=c($,"BUTTON",{"data-svelte-h":!0}),z(h)!=="svelte-1q4fgxf"&&(h.textContent=w),$.forEach(f),G.forEach(f),b=q(A),C=c(A,"TABLE",{class:!0});var De=v(C);S=c(De,"THEAD",{});var Ne=v(S);H=c(Ne,"TR",{});var Ve=v(H);y=c(Ve,"TH",{"data-svelte-h":!0}),z(y)!=="svelte-1homman"&&(y.innerHTML=E),_=q(Ve),M=c(Ve,"TH",{style:!0});var Ze=v(M);P=re(Ze,N),Ze.forEach(f),I=q(Ve),W=c(Ve,"TH",{style:!0});var Fe=v(W);X=re(Fe,ne),Fe.forEach(f),Ve.forEach(f),Ne.forEach(f),j=q(De),V=c(De,"TBODY",{});var ke=v(V);for(let Le=0;Le<U.length;Le+=1)U[Le].l(ke);ke.forEach(f),De.forEach(f),this.h()},h(){a[0]===void 0&&la(()=>a[13].call(o)),Ae(m,"selected",a[2]==="total"),Ae(h,"selected",a[2]==="per_capita"),i(d,"class","button-group"),i(e,"class","controls"),wt(M,"width","120px"),wt(W,"width","80px"),i(C,"class","data-table")},m(A,G){J(A,e,G),n(e,t),n(e,s),n(e,o);for(let k=0;k<F.length;k+=1)F[k]&&F[k].m(o,null);Sl(o,a[0],!0),n(e,u),n(e,d),n(d,m),n(d,g),n(d,h),J(A,b,G),J(A,C,G),n(C,S),n(S,H),n(H,y),n(H,_),n(H,M),n(M,P),n(H,I),n(H,W),n(W,X),n(C,j),n(C,V);for(let k=0;k<U.length;k+=1)U[k]&&U[k].m(V,null);R||(O=[Ge(o,"change",a[13]),Ge(o,"change",a[8]),Ge(m,"click",a[14]),Ge(h,"click",a[15])],R=!0)},p(A,[G]){if(G&128){Q=xe(A[7]);let k;for(k=0;k<Q.length;k+=1){const $=xl(A,Q,k);F[k]?F[k].p($,G):(F[k]=zl($),F[k].c(),F[k].m(o,null))}for(;k<F.length;k+=1)F[k].d(1);F.length=Q.length}if(G&129&&Sl(o,A[0]),G&4&&Ae(m,"selected",A[2]==="total"),G&4&&Ae(h,"selected",A[2]==="per_capita"),G&4&&N!==(N=A[2]==="total"?"Total":"Per Capita")&&Ce(P,N),G&4&&ne!==(ne=A[2]==="total"?"£, billion":"£")&&Ce(X,ne),G&1598){Z=xe(A[1]);let k;for(k=0;k<Z.length;k+=1){const $=Gl(A,Z,k);U[k]?U[k].p($,G):(U[k]=Wl($),U[k].c(),U[k].m(V,null))}for(;k<U.length;k+=1)U[k].d(1);U.length=Z.length}},i:ft,o:ft,d(A){A&&(f(e),f(b),f(C)),qt(F,A),qt(U,A),R=!1,vl(O)}}}function Pa(a,e,t){const l=$l();let{ladData:s=[]}=e,{region:o}=e,{sortBy:u}=e,{maxLADValue:d}=e,{maxHHLADValue:m}=e,{LADToName:p={}}=e,{viewMode:g="total"}=e,{selectedRegion:h="All"}=e;const w=[{label:"All",value:"All"},{label:"England",value:"England"},{label:"Wales",value:"Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function b(_){l("filterChange",{region:_.target.value,sortBy:u})}function C(_,M){return xt({width:80,height:20,margin:0,x:{domain:[0,M],axis:null},marks:[ul([_],{x:P=>P,y:0,fill:"#ccc"})]}).outerHTML}function S(_,M){return xt({width:80,height:20,margin:0,x:{domain:[0,M],axis:null},marks:[ul([_],{x:P=>P,y:0,fill:"#ccc"})]}).outerHTML}function H(){o=aa(this),t(0,o),t(7,w)}const y=()=>l("filterChange",{region:o,sortBy:"total"}),E=()=>l("filterChange",{region:o,sortBy:"per_capita"});return a.$$set=_=>{"ladData"in _&&t(1,s=_.ladData),"region"in _&&t(0,o=_.region),"sortBy"in _&&t(2,u=_.sortBy),"maxLADValue"in _&&t(3,d=_.maxLADValue),"maxHHLADValue"in _&&t(4,m=_.maxHHLADValue),"LADToName"in _&&t(5,p=_.LADToName),"viewMode"in _&&t(11,g=_.viewMode),"selectedRegion"in _&&t(12,h=_.selectedRegion)},[o,s,u,d,m,p,l,w,b,C,S,g,h,H,y,E]}class Ma extends zt{constructor(e){super(),Wt(this,e,Pa,Ia,Vt,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function Yl(a,e,t){const l=a.slice();return l[51]=e[t],l[53]=t,l}function Zl(a){let e,t,l,s,o,u,d;return{c(){e=r("div"),t=r("img"),o=L(),u=r("img"),this.h()},l(m){e=c(m,"DIV",{class:!0});var p=v(e);t=c(p,"IMG",{class:!0,src:!0,alt:!0}),o=q(p),u=c(p,"IMG",{class:!0,src:!0,alt:!0}),p.forEach(f),this.h()},h(){i(t,"class","slide-image"),Me(t.src,l=a[51].image)||i(t,"src",l),i(t,"alt",s=a[51].label),i(u,"class","slide-map svelte-1t9qd00"),Me(u.src,d=a[51].mapImage)||i(u,"src",d),i(u,"alt","Map overlay"),i(e,"class","hero-slide svelte-1t9qd00"),Ae(e,"active",a[53]===a[24]),Ae(e,"previous",a[53]===a[25])},m(m,p){J(m,e,p),n(e,t),n(e,o),n(e,u)},p(m,p){p[0]&2097152&&!Me(t.src,l=m[51].image)&&i(t,"src",l),p[0]&2097152&&s!==(s=m[51].label)&&i(t,"alt",s),p[0]&2097152&&!Me(u.src,d=m[51].mapImage)&&i(u,"src",d),p[0]&16777216&&Ae(e,"active",m[53]===m[24]),p[0]&33554432&&Ae(e,"previous",m[53]===m[25])},d(m){m&&f(e)}}}function Kl(a){let e,t,l;return{c(){e=r("div"),t=r("img"),this.h()},l(s){e=c(s,"DIV",{class:!0});var o=v(e);t=c(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(f),this.h()},h(){Me(t.src,l=a[20])||i(t,"src",l),i(t,"alt","Icon"),i(t,"class","svelte-1t9qd00"),i(e,"class","waffle-icon svelte-1t9qd00")},m(s,o){J(s,e,o),n(e,t)},p(s,o){o[0]&1048576&&!Me(t.src,l=s[20])&&i(t,"src",l)},d(s){s&&f(e)}}}function Na(a){let e,t="National costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-o12owz"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-1t9qd00")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Fa(a){let e,t="National benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-10ytukz"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-1t9qd00")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Oa(a){let e,t="Per capita costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-6pmcl0"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-1t9qd00")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Ra(a){let e,t="Per capita benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-g1rvwk"&&(e.textContent=t),this.h()},h(){i(e,"class","waffle-caption svelte-1t9qd00")},m(l,s){J(l,e,s)},d(l){l&&f(e)}}}function Xl(a){let e,t,l,s,o,u,d,m,p,g,h="%",w,b,C="Contribution";return{c(){e=r("div"),t=r("div"),l=r("img"),o=L(),u=r("div"),d=r("span"),m=ie(a[19]),p=L(),g=r("span"),g.textContent=h,w=L(),b=r("div"),b.textContent=C,this.h()},l(S){e=c(S,"DIV",{class:!0});var H=v(e);t=c(H,"DIV",{class:!0});var y=v(t);l=c(y,"IMG",{class:!0,src:!0,alt:!0}),o=q(y),u=c(y,"DIV",{class:!0});var E=v(u);d=c(E,"SPAN",{class:!0});var _=v(d);m=re(_,a[19]),_.forEach(f),p=q(E),g=c(E,"SPAN",{class:!0,"data-svelte-h":!0}),z(g)!=="svelte-jxggz7"&&(g.textContent=h),E.forEach(f),y.forEach(f),w=q(H),b=c(H,"DIV",{class:!0,"data-svelte-h":!0}),z(b)!=="svelte-1ahdmih"&&(b.textContent=C),H.forEach(f),this.h()},h(){i(l,"class","aggregation-icon-small svelte-1t9qd00"),Me(l.src,s=_a)||i(l,"src",s),i(l,"alt","icon"),i(d,"class","waffle-big svelte-1t9qd00"),i(g,"class","small svelte-1t9qd00"),i(u,"class","waffle-value svelte-1t9qd00"),i(t,"class","waffle-value-container svelte-1t9qd00"),i(b,"class","waffle-caption svelte-1t9qd00"),i(e,"class","waffle-stat svelte-1t9qd00")},m(S,H){J(S,e,H),n(e,t),n(t,l),n(t,o),n(t,u),n(u,d),n(d,m),n(u,p),n(u,g),n(e,w),n(e,b)},p(S,H){H[0]&524288&&Ce(m,S[19])},d(S){S&&f(e)}}}function Jl(a){let e,t;return e=new Ma({props:{ladData:a[8],region:a[9],sortBy:a[10],maxLADValue:a[11],maxHHLADValue:a[12],LADToName:a[0]}}),e.$on("filterChange",a[27]),{c(){Ct(e.$$.fragment)},l(l){Dt(e.$$.fragment,l)},m(l,s){Et(e,l,s),t=!0},p(l,s){const o={};s[0]&256&&(o.ladData=l[8]),s[0]&512&&(o.region=l[9]),s[0]&1024&&(o.sortBy=l[10]),s[0]&2048&&(o.maxLADValue=l[11]),s[0]&4096&&(o.maxHHLADValue=l[12]),s[0]&1&&(o.LADToName=l[0]),e.$set(o)},i(l){t||(Pe(e.$$.fragment,l),t=!0)},o(l){Ye(e.$$.fragment,l),t=!1},d(l){Lt(e,l)}}}function Ql(a){let e,t;return e=new Ha({props:{aggregationPerCapitaPerBenefit:a[2],minCoBenefValue:a[4],maxCoBenefValue:a[3],minHHCoBenefValue:a[5],maxHHCoBenefValue:a[6],COBENEFS_SCALE:ua}}),{c(){Ct(e.$$.fragment)},l(l){Dt(e.$$.fragment,l)},m(l,s){Et(e,l,s),t=!0},p(l,s){const o={};s[0]&4&&(o.aggregationPerCapitaPerBenefit=l[2]),s[0]&16&&(o.minCoBenefValue=l[4]),s[0]&8&&(o.maxCoBenefValue=l[3]),s[0]&32&&(o.minHHCoBenefValue=l[5]),s[0]&64&&(o.maxHHCoBenefValue=l[6]),e.$set(o)},i(l){t||(Pe(e.$$.fragment,l),t=!0)},o(l){Ye(e.$$.fragment,l),t=!1},d(l){Lt(e,l)}}}function Ua(a){let e,t,l,s,o,u,d,m=`<img src="${oe}/atlas-logos/logo-colored-waffle-png.png" alt="Logo" height="0px"/> <h1 class="hero-title svelte-1t9qd00">The Co-Benefits of Reaching <br/> Net Zero in the UK</h1> <p class="hero-description svelte-1t9qd00">Climate actions lower greenhouse gas (GHG) emissions but the gains for society reach further. The
                    CO-BENS project models 11 additional benefits based on actions recommended by the Climate Change
                    Committee (CCC) in its Seventh Carbon Budget (2025) across 45,000 communities and regions within the
                    UK.<br/></p> <p class="hero-description svelte-1t9qd00">Explore how, when and for whom benefits emerge to further understand connections between a wide
                    range of
                    social, economic and environmental priorities, and drive more effective decision-making.</p> <p class="hero-description svelte-1t9qd00">To understand more about the analysis or if you would like bespoke co-benefit modelling please get
                    in
                    touch by emailing <a href="mailto:cobens@ed.ac.uk">cobens@ed.ac.uk</a></p>`,p,g,h,w,b,C,S,H,y,E,_,M,N,P,I,W,ne,X,j,V,R="billion",O,Q,F,Z,U,A,G,k,$,De,Ne,Ve,Ze,Fe,ke,Le,Oe,kt="Co-benefits",gt,Ke,pt,D,K,ce,te="Negative impacts",qe,ee,x,he,Re="Explore the Atlas",le,ye,Ee,ve,ut="Find My Place",lt,we,me,He,B,fe,Be,Ue="Browse Report Pages",dt,_e,Xe,ml=`<div class="explore-page svelte-1t9qd00"><img src="${oe}/pages-teasers/coben.png" alt="Open Co-Benefits Dropdown"/> <h3 class="svelte-1t9qd00">11 Co-Benefits Pages</h3> <p class="svelte-1t9qd00">A Co-benefit page shows the spatial and temporal distribution of a given co-benefit, and
                                its relationship with socio-economic factors.</p></div>`,Yt,Je,_l=`<div class="explore-page svelte-1t9qd00"><img class="page-teaser-img svelte-1t9qd00" src="${oe}/pages-teasers/location.png"/> <h3 class="svelte-1t9qd00">382 Local Area Pages</h3> <p class="svelte-1t9qd00">A Local Area page shows the different co-benefits in this area, temporal distributions,
                                and their relationships with local socio-economic distributions.</p></div>`,Zt,Qe,gl=`<div class="explore-page svelte-1t9qd00"><img class="page-teaser-img svelte-1t9qd00" src="${oe}/pages-teasers/sef.png"/> <h3 class="svelte-1t9qd00">17 Socio-Economic Factors Pages</h3> <p class="svelte-1t9qd00">A Socio-Economic Factor Page shows the spatial distribution of a given factor and it&#39;s
                                relationships with the different co-benefits.</p></div>`,Kt,$e,pl=`<div class="explore-page svelte-1t9qd00"><img class="page-teaser-img svelte-1t9qd00" src="${oe}/pages-teasers/map.png"/> <h3 class="svelte-1t9qd00">Interactive Map</h3> <p class="svelte-1t9qd00">The interactive map enables exploring the spatial distributions of both the co-benefits
                                and the socio-economic factors at the datazones and local area levels.</p></div>`,Xt,et,bl=`<div class="explore-page svelte-1t9qd00"><img class="page-teaser-img svelte-1t9qd00" src="${oe}/pages-teasers/nation.png"/> <h3 class="svelte-1t9qd00">Nation Pages</h3> <p class="svelte-1t9qd00">The nation pages shows the different co-benefits in this nation and temporal distributions.</p></div>`,Jt,at,Cl=`<h1>Read Stories and Analyses</h1> <hr class="story-teaser-hr svelte-1t9qd00"/> <div class="explore-pages story-pages svelte-1t9qd00"><a href="/stories/story.pdf" target="_blank" rel="noopener noreferrer" class="svelte-1t9qd00"><div class="story svelte-1t9qd00"><img class="story-teaser-img svelte-1t9qd00" src="${oe}/stories/Derry_picture_new.png"/> <h3 class="svelte-1t9qd00">Accelerating climate financing in Derry City and Strabane District Council</h3> <hr class="story-teaser-hr svelte-1t9qd00"/></div></a></div> <div class="explore-pages story-pages svelte-1t9qd00"><div class="story svelte-1t9qd00"><br/> <h3 class="svelte-1t9qd00">More to come...</h3> <p>In the meantime, if you have your own ideas for collaboration on stories related to
                            co-benefits please get in touch using the
                            <a href="https://docs.google.com/forms/d/1w-8Lt9bESZ56PdklTIT38plec7dPgDbJtORkatoXFVY/viewform?edit_requested=true" class="svelte-1t9qd00">feedback
                                form.</a></p></div></div>`,Qt,tt,Se,st,Dl="Explore by Local Authority",$t,nt,El="Click to see local authority data report.",el,tl,Ie,ot,Ll="Explore by Co-Benefit",ll,it,ql="Click to see each co-benefit data report.",al,sl,rt,ct,nl,wl;t=new oa({});let ht=xe(a[21]),ue=[];for(let T=0;T<ht.length;T+=1)ue[T]=Zl(Yl(a,ht,T));let ge=a[20]&&Kl(a);function Vl(T,Y){return T[17]>0?Fa:Na}let yt=Vl(a),ze=yt(a);function kl(T,Y){return T[18]>0?Ra:Oa}let Tt=kl(a),We=Tt(a),pe=a[23]!==null&&Xl(a);me=new Va({props:{items:a[0]}}),me.$on("search",a[34]);let ae=!a[7]&&Jl(a),se=!a[7]&&Ql(a);return rt=new La({}),{c(){e=r("div"),Ct(t.$$.fragment),l=L(),s=r("section");for(let T=0;T<ue.length;T+=1)ue[T].c();o=L(),u=r("div"),d=r("div"),d.innerHTML=m,p=L(),g=r("div"),h=r("div"),w=r("div"),ge&&ge.c(),b=L(),C=r("div"),S=ie(a[16]),H=L(),y=r("div"),E=r("div"),_=r("div"),M=r("img"),P=L(),I=r("div"),W=r("span"),ne=ie("£"),X=ie(a[17]),j=L(),V=r("span"),V.textContent=R,O=L(),ze.c(),Q=L(),F=r("div"),Z=r("div"),U=r("img"),G=L(),k=r("div"),$=r("span"),De=ie("£"),Ne=ie(a[18]),Ve=L(),We.c(),Ze=L(),pe&&pe.c(),Fe=L(),ke=r("div"),Le=L(),Oe=r("span"),Oe.textContent=kt,gt=L(),Ke=r("div"),pt=L(),D=r("div"),K=L(),ce=r("span"),ce.textContent=te,qe=L(),ee=r("section"),x=r("div"),he=r("h1"),he.textContent=Re,le=L(),ye=r("div"),Ee=r("div"),ve=r("h1"),ve.textContent=ut,lt=L(),we=r("div"),Ct(me.$$.fragment),He=L(),B=r("div"),fe=r("div"),Be=r("h2"),Be.textContent=Ue,dt=L(),_e=r("div"),Xe=r("div"),Xe.innerHTML=ml,Yt=L(),Je=r("a"),Je.innerHTML=_l,Zt=L(),Qe=r("a"),Qe.innerHTML=gl,Kt=L(),$e=r("a"),$e.innerHTML=pl,Xt=L(),et=r("a"),et.innerHTML=bl,Jt=L(),at=r("div"),at.innerHTML=Cl,Qt=L(),tt=r("section"),Se=r("div"),st=r("h2"),st.textContent=Dl,$t=L(),nt=r("p"),nt.textContent=El,el=L(),ae&&ae.c(),tl=L(),Ie=r("div"),ot=r("h2"),ot.textContent=Ll,ll=L(),it=r("p"),it.textContent=ql,al=L(),se&&se.c(),sl=L(),Ct(rt.$$.fragment),this.h()},l(T){e=c(T,"DIV",{});var Y=v(e);Dt(t.$$.fragment,Y),l=q(Y),s=c(Y,"SECTION",{class:!0});var Te=v(s);for(let rl=0;rl<ue.length;rl+=1)ue[rl].l(Te);o=q(Te),u=c(Te,"DIV",{class:!0});var de=v(u);d=c(de,"DIV",{class:!0,"data-svelte-h":!0}),z(d)!=="svelte-8289tn"&&(d.innerHTML=m),p=q(de),g=c(de,"DIV",{class:!0});var be=v(g);h=c(be,"DIV",{class:!0});var At=v(h);w=c(At,"DIV",{class:!0});var Ht=v(w);ge&&ge.l(Ht),b=q(Ht),C=c(Ht,"DIV",{class:!0});var yl=v(C);S=re(yl,a[16]),yl.forEach(f),Ht.forEach(f),H=q(At),y=c(At,"DIV",{class:!0});var vt=v(y);E=c(vt,"DIV",{class:!0});var Bt=v(E);_=c(Bt,"DIV",{class:!0});var St=v(_);M=c(St,"IMG",{class:!0,src:!0,alt:!0}),P=q(St),I=c(St,"DIV",{class:!0});var It=v(I);W=c(It,"SPAN",{class:!0});var ol=v(W);ne=re(ol,"£"),X=re(ol,a[17]),ol.forEach(f),j=q(It),V=c(It,"SPAN",{class:!0,"data-svelte-h":!0}),z(V)!=="svelte-tlhydp"&&(V.textContent=R),It.forEach(f),St.forEach(f),O=q(Bt),ze.l(Bt),Bt.forEach(f),Q=q(vt),F=c(vt,"DIV",{class:!0});var Pt=v(F);Z=c(Pt,"DIV",{class:!0});var Mt=v(Z);U=c(Mt,"IMG",{class:!0,src:!0,alt:!0}),G=q(Mt),k=c(Mt,"DIV",{class:!0});var Tl=v(k);$=c(Tl,"SPAN",{class:!0});var il=v($);De=re(il,"£"),Ne=re(il,a[18]),il.forEach(f),Tl.forEach(f),Mt.forEach(f),Ve=q(Pt),We.l(Pt),Pt.forEach(f),Ze=q(vt),pe&&pe.l(vt),vt.forEach(f),At.forEach(f),Fe=q(be),ke=c(be,"DIV",{class:!0}),v(ke).forEach(f),Le=q(be),Oe=c(be,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),z(Oe)!=="svelte-17e5mfb"&&(Oe.textContent=kt),gt=q(be),Ke=c(be,"DIV",{class:!0}),v(Ke).forEach(f),pt=q(be),D=c(be,"DIV",{id:!0,class:!0}),v(D).forEach(f),K=q(be),ce=c(be,"SPAN",{id:!0,class:!0,"data-svelte-h":!0}),z(ce)!=="svelte-t2ovnm"&&(ce.textContent=te),be.forEach(f),de.forEach(f),Te.forEach(f),qe=q(Y),ee=c(Y,"SECTION",{id:!0,class:!0});var Nt=v(ee);x=c(Nt,"DIV",{class:!0});var Ft=v(x);he=c(Ft,"H1",{id:!0,class:!0,"data-svelte-h":!0}),z(he)!=="svelte-157b9z3"&&(he.textContent=Re),le=q(Ft),ye=c(Ft,"DIV",{class:!0});var Al=v(ye);Ee=c(Al,"DIV",{class:!0});var Ot=v(Ee);ve=c(Ot,"H1",{class:!0,"data-svelte-h":!0}),z(ve)!=="svelte-2t7dxi"&&(ve.textContent=ut),lt=q(Ot),we=c(Ot,"DIV",{class:!0});var Hl=v(we);Dt(me.$$.fragment,Hl),Hl.forEach(f),Ot.forEach(f),Al.forEach(f),Ft.forEach(f),He=q(Nt),B=c(Nt,"DIV",{id:!0,class:!0});var Rt=v(B);fe=c(Rt,"DIV",{class:!0});var Ut=v(fe);Be=c(Ut,"H2",{"data-svelte-h":!0}),z(Be)!=="svelte-1ig97qq"&&(Be.textContent=Ue),dt=q(Ut),_e=c(Ut,"DIV",{class:!0});var je=v(_e);Xe=c(je,"DIV",{style:!0,"data-svelte-h":!0}),z(Xe)!=="svelte-lq89xs"&&(Xe.innerHTML=ml),Yt=q(je),Je=c(je,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(Je)!=="svelte-13xts9j"&&(Je.innerHTML=_l),Zt=q(je),Qe=c(je,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(Qe)!=="svelte-1j5qio4"&&(Qe.innerHTML=gl),Kt=q(je),$e=c(je,"A",{href:!0,class:!0,"data-svelte-h":!0}),z($e)!=="svelte-dihjqi"&&($e.innerHTML=pl),Xt=q(je),et=c(je,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(et)!=="svelte-1lj73gv"&&(et.innerHTML=bl),je.forEach(f),Ut.forEach(f),Jt=q(Rt),at=c(Rt,"DIV",{class:!0,"data-svelte-h":!0}),z(at)!=="svelte-m08525"&&(at.innerHTML=Cl),Rt.forEach(f),Nt.forEach(f),Qt=q(Y),tt=c(Y,"SECTION",{class:!0});var jt=v(tt);Se=c(jt,"DIV",{class:!0});var mt=v(Se);st=c(mt,"H2",{class:!0,"data-svelte-h":!0}),z(st)!=="svelte-pgup4c"&&(st.textContent=Dl),$t=q(mt),nt=c(mt,"P",{class:!0,"data-svelte-h":!0}),z(nt)!=="svelte-owmq24"&&(nt.textContent=El),el=q(mt),ae&&ae.l(mt),mt.forEach(f),tl=q(jt),Ie=c(jt,"DIV",{class:!0});var _t=v(Ie);ot=c(_t,"H2",{class:!0,"data-svelte-h":!0}),z(ot)!=="svelte-9nk5va"&&(ot.textContent=Ll),ll=q(_t),it=c(_t,"P",{class:!0,"data-svelte-h":!0}),z(it)!=="svelte-4140on"&&(it.textContent=ql),al=q(_t),se&&se.l(_t),_t.forEach(f),jt.forEach(f),sl=q(Y),Dt(rt.$$.fragment,Y),Y.forEach(f),this.h()},h(){i(d,"class","hero-text svelte-1t9qd00"),i(C,"class","waffle-title svelte-1t9qd00"),i(w,"class","waffle-header svelte-1t9qd00"),i(M,"class","aggregation-icon-small svelte-1t9qd00"),Me(M.src,N=ga)||i(M,"src",N),i(M,"alt","icon"),i(W,"class","waffle-big svelte-1t9qd00"),i(V,"class","small svelte-1t9qd00"),i(I,"class","waffle-value svelte-1t9qd00"),i(_,"class","waffle-value-container svelte-1t9qd00"),i(E,"class","waffle-stat svelte-1t9qd00"),i(U,"class","aggregation-icon-small svelte-1t9qd00"),Me(U.src,A=pa)||i(U,"src",A),i(U,"alt","icon"),i($,"class","waffle-big svelte-1t9qd00"),i(k,"class","waffle-value svelte-1t9qd00"),i(Z,"class","waffle-value-container svelte-1t9qd00"),i(F,"class","waffle-stat svelte-1t9qd00"),i(y,"class","waffle-stats svelte-1t9qd00"),i(h,"class","waffle-label svelte-1t9qd00"),i(ke,"class","waffle-bg svelte-1t9qd00"),i(Oe,"id","waffleTopLabel"),i(Oe,"class","waffle-text svelte-1t9qd00"),i(Ke,"class","waffle"),i(D,"id","waffleLabels"),i(D,"class","waffle-chart-labels svelte-1t9qd00"),i(ce,"id","waffleBottomLabel"),i(ce,"class","waffle-text svelte-1t9qd00"),i(g,"class","waffle-overlay svelte-1t9qd00"),i(u,"class","hero-content svelte-1t9qd00"),i(s,"class","hero-container svelte-1t9qd00"),i(he,"id","explore-title"),i(he,"class","svelte-1t9qd00"),i(ve,"class","search-label svelte-1t9qd00"),i(we,"class","search-container svelte-1t9qd00"),i(Ee,"class","search-label-and-input svelte-1t9qd00"),i(ye,"class","explore-block search-section svelte-1t9qd00"),i(x,"class","explore-header svelte-1t9qd00"),wt(Xe,"cursor","pointer"),i(Je,"href",oe+"/lad"),i(Je,"class","svelte-1t9qd00"),i(Qe,"href",oe+"/sefs"),i(Qe,"class","svelte-1t9qd00"),i($e,"href",oe+"/map"),i($e,"class","svelte-1t9qd00"),i(et,"href",oe+"/lad"),i(et,"class","svelte-1t9qd00"),i(_e,"class","explore-pages svelte-1t9qd00"),i(fe,"class","explore-block svelte-1t9qd00"),i(at,"class","explore-block story-section svelte-1t9qd00"),i(B,"id","explore-section-main"),i(B,"class","svelte-1t9qd00"),i(ee,"id","explore-section"),i(ee,"class","svelte-1t9qd00"),i(st,"class","svelte-1t9qd00"),i(nt,"class","svelte-1t9qd00"),i(Se,"class","side-box svelte-1t9qd00"),i(ot,"class","svelte-1t9qd00"),i(it,"class","svelte-1t9qd00"),i(Ie,"class","side-box svelte-1t9qd00"),i(tt,"class","side-by-side-section svelte-1t9qd00")},m(T,Y){J(T,e,Y),Et(t,e,null),n(e,l),n(e,s);for(let Te=0;Te<ue.length;Te+=1)ue[Te]&&ue[Te].m(s,null);n(s,o),n(s,u),n(u,d),n(u,p),n(u,g),n(g,h),n(h,w),ge&&ge.m(w,null),n(w,b),n(w,C),n(C,S),n(h,H),n(h,y),n(y,E),n(E,_),n(_,M),n(_,P),n(_,I),n(I,W),n(W,ne),n(W,X),n(I,j),n(I,V),n(E,O),ze.m(E,null),n(y,Q),n(y,F),n(F,Z),n(Z,U),n(Z,G),n(Z,k),n(k,$),n($,De),n($,Ne),n(F,Ve),We.m(F,null),n(y,Ze),pe&&pe.m(y,null),a[30](h),n(g,Fe),n(g,ke),a[31](ke),n(g,Le),n(g,Oe),n(g,gt),n(g,Ke),a[32](Ke),n(g,pt),n(g,D),n(g,K),n(g,ce),a[33](s),n(e,qe),n(e,ee),n(ee,x),n(x,he),n(x,le),n(x,ye),n(ye,Ee),n(Ee,ve),n(Ee,lt),n(Ee,we),Et(me,we,null),n(ee,He),n(ee,B),n(B,fe),n(fe,Be),n(fe,dt),n(fe,_e),n(_e,Xe),n(_e,Yt),n(_e,Je),n(_e,Zt),n(_e,Qe),n(_e,Kt),n(_e,$e),n(_e,Xt),n(_e,et),n(B,Jt),n(B,at),n(e,Qt),n(e,tt),n(tt,Se),n(Se,st),n(Se,$t),n(Se,nt),n(Se,el),ae&&ae.m(Se,null),n(tt,tl),n(tt,Ie),n(Ie,ot),n(Ie,ll),n(Ie,it),n(Ie,al),se&&se.m(Ie,null),n(e,sl),Et(rt,e,null),a[35](e),ct=!0,nl||(wl=Ge(Xe,"click",a[26]),nl=!0)},p(T,Y){if(Y[0]&52428800){ht=xe(T[21]);let de;for(de=0;de<ht.length;de+=1){const be=Yl(T,ht,de);ue[de]?ue[de].p(be,Y):(ue[de]=Zl(be),ue[de].c(),ue[de].m(s,o))}for(;de<ue.length;de+=1)ue[de].d(1);ue.length=ht.length}T[20]?ge?ge.p(T,Y):(ge=Kl(T),ge.c(),ge.m(w,b)):ge&&(ge.d(1),ge=null),(!ct||Y[0]&65536)&&Ce(S,T[16]),(!ct||Y[0]&131072)&&Ce(X,T[17]),yt!==(yt=Vl(T))&&(ze.d(1),ze=yt(T),ze&&(ze.c(),ze.m(E,null))),(!ct||Y[0]&262144)&&Ce(Ne,T[18]),Tt!==(Tt=kl(T))&&(We.d(1),We=Tt(T),We&&(We.c(),We.m(F,null))),T[23]!==null?pe?pe.p(T,Y):(pe=Xl(T),pe.c(),pe.m(y,null)):pe&&(pe.d(1),pe=null);const Te={};Y[0]&1&&(Te.items=T[0]),me.$set(Te),T[7]?ae&&(Pl(),Ye(ae,1,1,()=>{ae=null}),Il()):ae?(ae.p(T,Y),Y[0]&128&&Pe(ae,1)):(ae=Jl(T),ae.c(),Pe(ae,1),ae.m(Se,null)),T[7]?se&&(Pl(),Ye(se,1,1,()=>{se=null}),Il()):se?(se.p(T,Y),Y[0]&128&&Pe(se,1)):(se=Ql(T),se.c(),Pe(se,1),se.m(Ie,null))},i(T){ct||(Pe(t.$$.fragment,T),Pe(me.$$.fragment,T),Pe(ae),Pe(se),Pe(rt.$$.fragment,T),ct=!0)},o(T){Ye(t.$$.fragment,T),Ye(me.$$.fragment,T),Ye(ae),Ye(se),Ye(rt.$$.fragment,T),ct=!1},d(T){T&&f(e),Lt(t),qt(ue,T),ge&&ge.d(),ze.d(),We.d(),pe&&pe.d(),a[30](null),a[31](null),a[32](null),a[33](null),Lt(me),ae&&ae.d(),se&&se.d(),Lt(rt),a[35](null),nl=!1,wl()}}}function ja(a,e,t){function l(){ia.set(!0)}const s=`${oe}/LAD/Eng_Wales_LSOA_LADs.csv`,o=`${oe}/LAD/NI_DZ_LAD.csv`,u=`${oe}/LAD/Scotland_DZ_LA.csv`;let d={},{data:m}=e,p,g,h,w,b,C,S,H,y=!0;async function E(){g=await Gt(ba()),t(2,h=await Gt(Ca())),await Gt(Da()),g=[...g].sort((D,K)=>K.total-D.total),t(2,h=[...h].sort((D,K)=>K.total_value-D.total_value)),w=ca(h,D=>D.value_per_capita),t(3,b=Math.max(...h.map(D=>D.total_value))),t(4,C=Math.min(...h.map(D=>D.total_value))),t(5,S=Math.min(...h.map(D=>D.value_per_capita))),t(6,H=Math.max(...h.map(D=>D.value_per_capita))),await cl(s).then(D=>{for(let K of D)t(0,d[K.LAD22CD]=K.LAD22NM,d)}),await cl(o).then(D=>{for(let K of D)t(0,d[K.LGD2014_code]=K.LGD2014_name,d)}),await cl(u).then(D=>{for(let K of D)t(0,d[K.LA_Code]=K.LA_Name,d)}),t(7,y=!1)}let _=[],M="All",N="total",P=0,I=0;async function W(){const D=Ea({region:M,sortBy:N}),K=await Gt(D);t(8,_=K),t(11,P=Math.max(...K.map(ce=>ce.total_value))),t(12,I=Math.max(...K.map(ce=>ce.value_per_capita)))}function ne(D){t(9,M=D.detail.region),t(10,N=D.detail.sortBy),W()}let X,j=[],V=null,R,O,Q,F,Z="",U,A=null,G=[],k,$=null,De=0,Ne=0,Ve;function Ze(D){const K=X.filter(x=>x.type!=="empty").map(x=>x.type),ce=Array.from(new Set(K)),te=g.reduce((x,he)=>x+he.total,0),qe=[{type:null,label:"Total Co-Benefits",icon:null,totalValue:te.toFixed(2),perCapitaValue:w.toFixed(2),percentValue:"100%"},...ce.map(x=>{const Re=hl.find(He=>He.id===x)?.label??x;let le=dl(x);const ye=g.find(He=>He.co_benefit_type===x),Ee=h.find(He=>He.co_benefit_type===x),ve=ye?.total??0,ut=Ee?.value_per_capita??0,lt=ve.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),we=ut.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),me=te>0?(ve/te*100).toFixed(2):0;return{type:x,label:Re,icon:le,totalValue:lt,perCapitaValue:we,percentValue:me}})];setInterval(()=>{t(25,Ne=De),t(24,De=(De+1)%qe.length);const{type:x,label:he,icon:Re,totalValue:le,perCapitaValue:ye,percentValue:Ee}=qe[De];t(23,$=x),t(16,Q=he),t(17,F=le),t(18,Z=ye),t(19,U=Ee),t(20,A=Re),Fe(D,x)},6e3);const ee=qe[0];t(23,$=ee.type),t(16,Q=ee.label),t(17,F=ee.totalValue),t(18,Z=ee.perCapitaValue),t(19,U=ee.percentValue),Fe(D,ee.type)}function Fe(D,K){if(!V)return;t(13,V.innerHTML="",V);const ce=1,te=12,qe=[],ee=[];for(const B of g){const fe=Math.round(Math.abs(B.total)/ce),Be=Array.from({length:fe},()=>({type:B.co_benefit_type,negative:B.total<0}));B.total<0?ee.push(...Be):qe.push(...Be)}const x=Math.ceil(qe.length/te),he=Math.ceil(ee.length/te),Re=x+he,le=Math.floor(D/Re),ye=qe.map((B,fe)=>({x:fe%te,y:Math.floor(fe/te),...B})),Ee=ee.map((B,fe)=>({x:fe%te,y:x+Math.floor(fe/te),...B}));X=[...ye,...Ee];const ve=50,ut=Math.floor(x*te/ve)*ve,lt=-Math.floor(he*te/ve)*ve,we=document.getElementById("waffleLabels");if(we){we.innerHTML="";for(let B=ut;B>=lt;B-=ve){const Be=(x*te-B)/te,Ue=document.createElement("div");Ue.textContent=`${B>0?"+":""}${B}bn`,Ue.style.position="absolute",Ue.style.left="0";const dt=Math.max(8,Math.floor(le*.6)),_e=Be*le+le/2-dt/2-15;Ue.style.top=`${_e}px`,Ue.style.fontSize=`${dt}px`,Ue.style.lineHeight="1",we.appendChild(Ue)}we.style.height=`${le*Re}px`}j=Array.from(new Set(X.map(B=>B.type).filter(B=>B!=="empty"))),t(21,G=va(j));const me=K??null,He=xt({width:le*te*1.1,height:le*Re-30,margin:0,marginRight:35,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:hl.map(B=>B.id),range:ma,unknown:"#eee",legend:!1},marks:[Ml(X.filter(B=>!B.negative),{x:B=>B.x*le,y:B=>B.y*le,fill:"type",fillOpacity:B=>me&&B.type!==me?.15:1}),fa([x*le-10],{stroke:"grey",strokeWidth:1.2}),Ml(X.filter(B=>B.negative),{x:B=>B.x*le,y:B=>B.y*le,stroke:"type",strokeOpacity:B=>me&&B.type!==me?.15:1,strokeWidth:1,fill:"none"})]});R&&(t(14,R.style.width=`${le*te+30}px`,R),t(14,R.style.height=`${D}px`,R)),t(13,V.innerHTML="",V),V.append(He)}function ke(D){window.open(`${oe}/location?location=${D}`,"_blank")}sa(()=>{da(p),E().then(()=>{W();const D=k.getBoundingClientRect().height,K=document.getElementById("waffleTopLabel"),ce=document.getElementById("waffleBottomLabel"),te=K?.offsetHeight??0,qe=ce?.offsetHeight??0,ee=D-te-qe;Fe(ee),Ze(D),ha(p)})}),na(()=>{clearInterval(Ve)});function Le(D){bt[D?"unshift":"push"](()=>{O=D,t(15,O)})}function Oe(D){bt[D?"unshift":"push"](()=>{R=D,t(14,R)})}function kt(D){bt[D?"unshift":"push"](()=>{V=D,t(13,V)})}function gt(D){bt[D?"unshift":"push"](()=>{k=D,t(22,k)})}const Ke=D=>ke(D.detail);function pt(D){bt[D?"unshift":"push"](()=>{p=D,t(1,p)})}return a.$$set=D=>{"data"in D&&t(29,m=D.data)},a.$$.update=()=>{a.$$.dirty[0]&536870912},[d,p,h,b,C,S,H,y,_,M,N,P,I,V,R,O,Q,F,Z,U,A,G,k,$,De,Ne,l,ne,ke,m,Le,Oe,kt,gt,Ke,pt]}class ls extends zt{constructor(e){super(),Wt(this,e,ja,Ua,Vt,{data:29},null,[-1,-1])}}export{ls as component};
