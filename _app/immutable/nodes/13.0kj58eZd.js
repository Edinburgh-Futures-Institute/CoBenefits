import{s as Ts,d as m,w as Is,x as zs,a as Le,i as ke,b as t,z as rl,p as i,C as yt,g as _,c,e as C,q as U,f as D,j as y,h as u,t as L,v as Ps,_ as Ns,E as Sl,H as Tl,A as Ct}from"../chunks/ChnDNINx.js";import{S as Vs,i as Bs,d as xs,t as Hs,a as Fs,m as Rs,c as Os,b as js}from"../chunks/BjCzwqlE.js";import{N as Us,e as Xn}from"../chunks/32xf2dDW.js";import"../chunks/CIa2Jov7.js";import{al as Ys,ak as hn,am as ys,a5 as zl,i as qs,a as Gs,M as Cs,H as Es,Q as Ws,l as ws,n as As,g as Ds,an as Ks,o as Ls,ao as Zs,ap as Xs,S as Pl,aq as Qs,q as Js,a8 as $s,B as er,a9 as tr,ar as lr,as as ar,G as nr,N as sr,ab as ks,a4 as rr,at as or,V as ol,au as Ms,W as ir,av as cr,T as Ne,a2 as Je,ad as Ge,ac as sn,aw as rn,Y as Qn,ax as ur,U as Jn}from"../chunks/D_9_qEkY.js";import{M as fr,a as $n}from"../chunks/Bt18LqiV.js";import{i as dr,V as Vt,A as Ce,S as vn,C as es,r as vr,M as $e,c as on,T as cn,e as hr,h as ts,b as Il,j as pr}from"../chunks/DlsIlvjB.js";import{g as Ve,q as ls,r as mr,d as as,s as gr,t as ns,u as br,v as _r,m as yr}from"../chunks/B6AVF3tt.js";import{b as un,a as zt}from"../chunks/CybERLEZ.js";import{t as Cr,e as Er,m as wr,a as ss,s as Ar,b as fn,d as rs}from"../chunks/BjKe_BHT.js";import{a as Dr,d as os}from"../chunks/qyO64moH.js";const Lr=kr(Mr);function kr(e){return function(l,a,n=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((n=+n)>=0))throw new RangeError("invalid ry");let{data:s,width:r,height:o}=l;if(!((r=Math.floor(r))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:s.length/r))>=0))throw new RangeError("invalid height");if(!r||!o||!a&&!n)return l;const h=a&&e(a),b=n&&e(n),f=s.slice();return h&&b?(al(h,f,s,r,o),al(h,s,f,r,o),al(h,f,s,r,o),nl(b,s,f,r,o),nl(b,f,s,r,o),nl(b,s,f,r,o)):h?(al(h,s,f,r,o),al(h,f,s,r,o),al(h,s,f,r,o)):b&&(nl(b,s,f,r,o),nl(b,f,s,r,o),nl(b,s,f,r,o)),l}}function al(e,l,a,n,s){for(let r=0,o=n*s;r<o;)e(l,a,r,r+=n,1)}function nl(e,l,a,n,s){for(let r=0,o=n*s;r<n;++r)e(l,a,r,r+o,n)}function Mr(e){const l=Math.floor(e);if(l===e)return Sr(e);const a=e-l,n=2*e+1;return(s,r,o,h,b)=>{if(!((h-=b)>=o))return;let f=l*r[o];const d=b*l,w=d+b;for(let p=o,k=o+d;p<k;p+=b)f+=r[Math.min(h,p)];for(let p=o,k=h;p<=k;p+=b)f+=r[Math.min(h,p+d)],s[p]=(f+a*(r[Math.max(o,p-w)]+r[Math.min(h,p+w)]))/n,f-=r[Math.max(o,p-d)]}}function Sr(e){const l=2*e+1;return(a,n,s,r,o)=>{if(!((r-=o)>=s))return;let h=e*n[s];const b=o*e;for(let f=s,d=s+b;f<d;f+=o)h+=n[Math.min(r,f)];for(let f=s,d=r;f<=d;f+=o)h+=n[Math.min(r,f+b)],a[f]=h/l,h-=n[Math.max(s,f-b)]}}function Tr(e,l,a){let n;for(;;){const s=Ys(e,l,a);if(s===n||s===0||!isFinite(s))return[e,l];s>0?(e=Math.floor(e/s)*s,l=Math.ceil(l/s)*s):s<0&&(e=Math.ceil(e*s)/s,l=Math.floor(l*s)/s),n=s}}var Ir=Array.prototype,Ss=Ir.slice;function zr(e,l){return e-l}function Pr(e){for(var l=0,a=e.length,n=e[a-1][1]*e[0][0]-e[a-1][0]*e[0][1];++l<a;)n+=e[l-1][1]*e[l][0]-e[l-1][0]*e[l][1];return n}const Et=e=>()=>e;function Nr(e,l){for(var a=-1,n=l.length,s;++a<n;)if(s=Vr(e,l[a]))return s;return 0}function Vr(e,l){for(var a=l[0],n=l[1],s=-1,r=0,o=e.length,h=o-1;r<o;h=r++){var b=e[r],f=b[0],d=b[1],w=e[h],p=w[0],k=w[1];if(Br(b,w,l))return 0;d>n!=k>n&&a<(p-f)*(n-d)/(k-d)+f&&(s=-s)}return s}function Br(e,l,a){var n;return xr(e,l,a)&&Hr(e[n=+(e[0]===l[0])],a[n],l[n])}function xr(e,l,a){return(l[0]-e[0])*(a[1]-e[1])===(a[0]-e[0])*(l[1]-e[1])}function Hr(e,l,a){return e<=l&&l<=a||a<=l&&l<=e}function Fr(){}var et=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function is(){var e=1,l=1,a=Cr,n=b;function s(f){var d=a(f);if(Array.isArray(d))d=d.slice().sort(zr);else{const w=hn(f,Rr);for(d=ys(...Tr(w[0],w[1],d),d);d[d.length-1]>=w[1];)d.pop();for(;d[1]<w[0];)d.shift()}return d.map(w=>r(f,w))}function r(f,d){const w=d==null?NaN:+d;if(isNaN(w))throw new Error(`invalid value: ${d}`);var p=[],k=[];return o(f,w,function(A){n(A,f,w),Pr(A)>0?p.push([A]):k.push(A)}),k.forEach(function(A){for(var M=0,B=p.length,E;M<B;++M)if(Nr((E=p[M])[0],A)!==-1){E.push(A);return}}),{type:"MultiPolygon",value:d,coordinates:p}}function o(f,d,w){var p=new Array,k=new Array,A,M,B,E,g,z;for(A=M=-1,E=Pt(f[0],d),et[E<<1].forEach(T);++A<e-1;)B=E,E=Pt(f[A+1],d),et[B|E<<1].forEach(T);for(et[E<<0].forEach(T);++M<l-1;){for(A=-1,E=Pt(f[M*e+e],d),g=Pt(f[M*e],d),et[E<<1|g<<2].forEach(T);++A<e-1;)B=E,E=Pt(f[M*e+e+A+1],d),z=g,g=Pt(f[M*e+A+1],d),et[B|E<<1|g<<2|z<<3].forEach(T);et[E|g<<3].forEach(T)}for(A=-1,g=f[M*e]>=d,et[g<<2].forEach(T);++A<e-1;)z=g,g=Pt(f[M*e+A+1],d),et[g<<2|z<<3].forEach(T);et[g<<3].forEach(T);function T(P){var x=[P[0][0]+A,P[0][1]+M],S=[P[1][0]+A,P[1][1]+M],R=h(x),O=h(S),I,N;(I=k[R])?(N=p[O])?(delete k[I.end],delete p[N.start],I===N?(I.ring.push(S),w(I.ring)):p[I.start]=k[N.end]={start:I.start,end:N.end,ring:I.ring.concat(N.ring)}):(delete k[I.end],I.ring.push(S),k[I.end=O]=I):(I=p[O])?(N=k[R])?(delete p[I.start],delete k[N.end],I===N?(I.ring.push(S),w(I.ring)):p[N.start]=k[I.end]={start:N.start,end:I.end,ring:N.ring.concat(I.ring)}):(delete p[I.start],I.ring.unshift(x),p[I.start=R]=I):p[R]=k[O]={start:R,end:O,ring:[x,S]}}}function h(f){return f[0]*2+f[1]*(e+1)*4}function b(f,d,w){f.forEach(function(p){var k=p[0],A=p[1],M=k|0,B=A|0,E=dn(d[B*e+M]);k>0&&k<e&&M===k&&(p[0]=cs(k,dn(d[B*e+M-1]),E,w)),A>0&&A<l&&B===A&&(p[1]=cs(A,dn(d[(B-1)*e+M]),E,w))})}return s.contour=r,s.size=function(f){if(!arguments.length)return[e,l];var d=Math.floor(f[0]),w=Math.floor(f[1]);if(!(d>=0&&w>=0))throw new Error("invalid size");return e=d,l=w,s},s.thresholds=function(f){return arguments.length?(a=typeof f=="function"?f:Array.isArray(f)?Et(Ss.call(f)):Et(f),s):a},s.smooth=function(f){return arguments.length?(n=f?b:Fr,s):n===b},s}function Rr(e){return isFinite(e)?e:NaN}function Pt(e,l){return e==null?!1:+e>=l}function dn(e){return e==null||isNaN(e=+e)?-1/0:e}function cs(e,l,a,n){const s=n-l,r=a-l,o=isFinite(s)||isFinite(r)?s/r:Math.sign(s)/Math.sign(r);return isNaN(o)?e:e+o-.5}function Or(e){return e[0]}function jr(e){return e[1]}function Ur(){return 1}function Yr(){var e=Or,l=jr,a=Ur,n=960,s=500,r=20,o=2,h=r*3,b=n+h*2>>o,f=s+h*2>>o,d=Et(20);function w(g){var z=new Float32Array(b*f),T=Math.pow(2,-o),P=-1;for(const V of g){var x=(e(V,++P,g)+h)*T,S=(l(V,P,g)+h)*T,R=+a(V,P,g);if(R&&x>=0&&x<b&&S>=0&&S<f){var O=Math.floor(x),I=Math.floor(S),N=x-O-.5,Q=S-I-.5;z[O+I*b]+=(1-N)*(1-Q)*R,z[O+1+I*b]+=N*(1-Q)*R,z[O+1+(I+1)*b]+=N*Q*R,z[O+(I+1)*b]+=(1-N)*Q*R}}return Lr({data:z,width:b,height:f},r*T),z}function p(g){var z=w(g),T=d(z),P=Math.pow(2,2*o);return Array.isArray(T)||(T=ys(Number.MIN_VALUE,zl(z)/P,T)),is().size([b,f]).thresholds(T.map(x=>x*P))(z).map((x,S)=>(x.value=+T[S],k(x)))}p.contours=function(g){var z=w(g),T=is().size([b,f]),P=Math.pow(2,2*o),x=S=>{S=+S;var R=k(T.contour(z,S*P));return R.value=S,R};return Object.defineProperty(x,"max",{get:()=>zl(z)/P}),x};function k(g){return g.coordinates.forEach(A),g}function A(g){g.forEach(M)}function M(g){g.forEach(B)}function B(g){g[0]=g[0]*Math.pow(2,o)-h,g[1]=g[1]*Math.pow(2,o)-h}function E(){return h=r*3,b=n+h*2>>o,f=s+h*2>>o,p}return p.x=function(g){return arguments.length?(e=typeof g=="function"?g:Et(+g),p):e},p.y=function(g){return arguments.length?(l=typeof g=="function"?g:Et(+g),p):l},p.weight=function(g){return arguments.length?(a=typeof g=="function"?g:Et(+g),p):a},p.size=function(g){if(!arguments.length)return[n,s];var z=+g[0],T=+g[1];if(!(z>=0&&T>=0))throw new Error("invalid size");return n=z,s=T,E()},p.cellSize=function(g){if(!arguments.length)return 1<<o;if(!((g=+g)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(g)/Math.LN2),E()},p.thresholds=function(g){return arguments.length?(d=typeof g=="function"?g:Array.isArray(g)?Et(Ss.call(g)):Et(g),p):d},p.bandwidth=function(g){if(!arguments.length)return Math.sqrt(r*(r+1));if(!((g=+g)>=0))throw new Error("invalid bandwidth");return r=(Math.sqrt(4*g*g+1)-1)/2,E()},p}const qr={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Gr extends Cs{constructor(l,a={}){const{x:n,y:s,z:r,curve:o,tension:h}=a;super(l,{x:{value:n,scale:"x"},y:{value:s,scale:"y"},z:{value:Es(a),optional:!0}},a,qr),this.z=r,this.curve=wr(o,h),Ws(this,a)}filter(l){return l}project(l,a,n){this.curve!==ss&&super.project(l,a,n)}render(l,a,n,s,r){const{x:o,y:h}=n,{curve:b}=this;return ws("svg:g",r).call(As,this,s,r).call(Ds,this,a).call(f=>f.selectAll().data(Ks(l,[o,h],this,n)).enter().append("path").call(Ls,this).call(Zs,this,n).call(Xs,this,n,r).attr("d",b===ss&&r.projection?Wr(r.path(),o,h):Ar().curve(b).defined(d=>d>=0).x(d=>o[d]).y(d=>h[d]))).node()}}function Wr(e,l,a){return l=Pl(l),a=Pl(a),n=>{let s=[];const r=[s];for(const o of n)o===-1?(s=[],r.push(s)):s.push([l[o],a[o]]);return e({type:"MultiLineString",coordinates:r})}}function Kr(e,{x:l=Gs,y:a=qs,...n}={}){return new Gr(e,Er({...n,x:l,y:a}))}const Zr={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Xr extends Cs{constructor(l,{x:a,y:n,z:s,weight:r,fill:o,stroke:h,...b}={}){const f=fs(o)&&(o="currentColor",!0),d=fs(h)&&(h="currentColor",!0);super(l,{x:{value:a,scale:"x",optional:!0},y:{value:n,scale:"y",optional:!0},z:{value:Es({z:s,fill:o,stroke:h}),optional:!0},weight:{value:r,optional:!0}},Jr({...b,fill:o,stroke:h},f,d),Zr),f&&(this.fill=void 0),d&&(this.stroke=void 0),this.z=s}filter(l){return l}render(l,a,n,s,r){const{contours:o}=n,h=Qs();return ws("svg:g",r).call(As,this,s,r).call(Ds,this,{}).call(b=>b.selectAll().data(l).enter().append("path").call(Ls,this).call(Js,this,n).attr("d",f=>h(o[f]))).node()}}function us(e,{x:l,y:a,...n}={}){return[l,a]=nr(l,a),new Xr(e,{...n,x:l,y:a})}const Qr=new Set(["x","y","z","weight"]);function Jr(e,l,a){let{bandwidth:s,thresholds:r}=e;return s=s===void 0?20:+s,r=r===void 0?20:typeof r?.[Symbol.iterator]=="function"?Pl(r):+r,$s(e,function(o,h,b,f,d,w){const p=b.weight?Pl(b.weight.value):null,k=b.z?.value,{z:A}=this,[M,B]=er(this,d),{width:E,height:g}=d,{x:z,y:T}=tr(b,f,w),P=Object.fromEntries(Object.entries(b).filter(([V])=>!Qr.has(V)).map(([V,j])=>[V,{...j,value:[]}])),x=l&&[],S=a&&[],R=Yr().x(z?V=>z[V]:M).y(T?V=>T[V]:B).weight(p?V=>p[V]:1).size([E,g]).bandwidth(s),O=[];for(const V of h){const j=[];O.push(j);for(const te of k?lr(V,k,A):[V]){const q=R.contours(te);j.push([te,q])}}let I=r;if(!(I instanceof ar)){let V=0;for(const j of O)for(const[,te]of j){const q=te.max;q>V&&(V=q)}I=Float64Array.from({length:r-1},(j,te)=>V*100*(te+1)/r)}const N=[],Q=[];for(const V of O){const j=[];N.push(j);for(const[te,q]of V)for(const $ of I){j.push(Q.length),Q.push(q($/100)),x&&x.push($),S&&S.push($);for(const re in P)P[re].value.push(b[re].value[te[0]])}}return x&&x.push(0),S&&S.push(0),{data:o,facets:N,channels:{...P,...x&&{fill:{value:x,scale:"color"}},...S&&{stroke:{value:S,scale:"color"}},contours:{value:Q}}}})}function fs(e){return/^density$/i.test(e)}function ds(e,l){return arguments.length===1&&({basis:e,...l}=e),Dr($r(e),l)}function $r(e){if(e===void 0)return vs;if(typeof e=="function")return Nl(sr(e));if(/^p\d{2}$/i.test(e))return sl(cr(e));switch(`${e}`.toLowerCase()){case"deviation":return lo;case"first":return vs;case"last":return to;case"max":return ao;case"mean":return no;case"median":return so;case"min":return ro;case"sum":return oo;case"extent":return eo}throw new Error(`invalid basis: ${e}`)}function Nl(e){return{mapIndex(l,a,n){const s=+e(l,a);for(const r of l)n[r]=a[r]===null?NaN:a[r]/s}}}function sl(e){return Nl((l,a)=>e(l,n=>a[n]))}const eo={mapIndex(e,l,a){const[n,s]=hn(e,o=>l[o]),r=s-n;for(const o of e)a[o]=l[o]===null?NaN:(l[o]-n)/r}},vs=Nl((e,l)=>{for(let a=0;a<e.length;++a){const n=l[e[a]];if(Ms(n))return n}}),to=Nl((e,l)=>{for(let a=e.length-1;a>=0;--a){const n=l[e[a]];if(Ms(n))return n}}),lo={mapIndex(e,l,a){const n=ol(e,r=>l[r]),s=ir(e,r=>l[r]);for(const r of e)a[r]=l[r]===null?NaN:s?(l[r]-n)/s:0}},ao=sl(zl),no=sl(ol),so=sl(or),ro=sl(rr),oo=sl(ks);function hs(e,l,a){const n=e.slice();return n[55]=l[a],n[56]=l,n[57]=a,n}function ps(e){let l,a,n,s=e[17][e[16]]+"",r,o,h,b=_s(e[14])+"",f,d=e[7]&&ms(e);return{c(){l=u("div"),a=u("div"),n=u("span"),r=L(s),o=y(),d&&d.c(),h=L(`
            >> `),f=L(b),this.h()},l(w){l=c(w,"DIV",{class:!0});var p=C(l);a=c(p,"DIV",{class:!0});var k=C(a);n=c(k,"SPAN",{class:!0});var A=C(n);r=D(A,s),o=_(A),d&&d.l(A),h=D(A,`
            >> `),f=D(A,b),A.forEach(m),k.forEach(m),p.forEach(m),this.h()},h(){i(n,"class","mini-header-text"),i(a,"class","mini-header-content"),i(l,"class","mini-header")},m(w,p){ke(w,l,p),t(l,a),t(a,n),t(n,r),t(n,o),d&&d.m(n,null),t(n,h),t(n,f)},p(w,p){w[7]?d?d.p(w,p):(d=ms(w),d.c(),d.m(n,h)):d&&(d.d(1),d=null),p[0]&16384&&b!==(b=_s(w[14])+"")&&Le(f,b)},d(w){w&&m(l),d&&d.d()}}}function ms(e){let l,a,n=e[7].toLocaleString()+"",s,r;return{c(){l=u("span"),a=L("(Total: £"),s=L(n),r=L(" billion)"),this.h()},l(o){l=c(o,"SPAN",{class:!0});var h=C(l);a=D(h,"(Total: £"),s=D(h,n),r=D(h," billion)"),h.forEach(m),this.h()},h(){i(l,"class","mini-header-value")},m(o,h){ke(o,l,h),t(l,a),t(l,s),t(l,r)},p(o,h){h[0]&128&&n!==(n=o[7].toLocaleString()+"")&&Le(s,n)},d(o){o&&m(l)}}}function gs(e){let l,a,n,s,r=e[18](e[7],e[9],Vt)+"",o,h,b,f=e[7].toLocaleString()+"",d,w,p,k="billion",A,M,B,E=e[18](e[11],e[9],Ce)+"",g,z,T,P,x,S=e[18](e[8],e[10],Vt)+"",R,O,I,N=e[8].toLocaleString()+"",Q,V,j,te,q,$,re=e[18](e[12],e[10],Ce)+"",le;function ne(F,W){return F[7]>0?co:io}let J=ne(e),ae=J(e);function fe(F,W){return F[7]>0?fo:uo}let de=fe(e),X=de(e);return{c(){l=u("div"),a=u("div"),n=u("div"),s=new Tl(!1),o=y(),h=u("span"),b=L("£"),d=L(f),w=y(),p=u("span"),p.textContent=k,A=y(),M=u("div"),B=new Tl(!1),g=y(),ae.c(),z=y(),T=u("div"),P=u("div"),x=new Tl(!1),R=y(),O=u("span"),I=L("£"),Q=L(N),V=y(),j=u("span"),te=y(),q=u("div"),$=new Tl(!1),le=y(),X.c(),this.h()},l(F){l=c(F,"DIV",{class:!0});var W=C(l);a=c(W,"DIV",{class:!0});var oe=C(a);n=c(oe,"DIV",{class:!0});var Me=C(n);s=Sl(Me,!1),o=_(Me),h=c(Me,"SPAN",{class:!0});var me=C(h);b=D(me,"£"),d=D(me,f),me.forEach(m),w=_(Me),p=c(Me,"SPAN",{class:!0,"data-svelte-h":!0}),U(p)!=="svelte-tlhydp"&&(p.textContent=k),Me.forEach(m),A=_(oe),M=c(oe,"DIV",{class:!0});var Ke=C(M);B=Sl(Ke,!1),g=_(Ke),ae.l(Ke),Ke.forEach(m),oe.forEach(m),z=_(W),T=c(W,"DIV",{class:!0});var Be=C(T);P=c(Be,"DIV",{class:!0});var ve=C(P);x=Sl(ve,!1),R=_(ve),O=c(ve,"SPAN",{class:!0});var Ze=C(O);I=D(Ze,"£"),Q=D(Ze,N),Ze.forEach(m),V=_(ve),j=c(ve,"SPAN",{class:!0}),C(j).forEach(m),ve.forEach(m),te=_(Be),q=c(Be,"DIV",{class:!0});var v=C(q);$=Sl(v,!1),le=_(v),X.l(v),v.forEach(m),Be.forEach(m),W.forEach(m),this.h()},h(){s.a=o,i(h,"class","waffle-big svelte-1e49v6v"),i(p,"class","small svelte-1e49v6v"),i(n,"class","waffle-value svelte-1e49v6v"),B.a=g,i(M,"class","waffle-value svelte-1e49v6v"),i(a,"class","waffle-stat svelte-1e49v6v"),x.a=R,i(O,"class","waffle-big svelte-1e49v6v"),i(j,"class","small svelte-1e49v6v"),i(P,"class","waffle-value svelte-1e49v6v"),$.a=le,i(q,"class","waffle-value svelte-1e49v6v"),i(T,"class","waffle-stat svelte-1e49v6v"),i(l,"class","waffle-stats")},m(F,W){ke(F,l,W),t(l,a),t(a,n),s.m(r,n),t(n,o),t(n,h),t(h,b),t(h,d),t(n,w),t(n,p),t(a,A),t(a,M),B.m(E,M),t(M,g),ae.m(M,null),t(l,z),t(l,T),t(T,P),x.m(S,P),t(P,R),t(P,O),t(O,I),t(O,Q),t(P,V),t(P,j),t(T,te),t(T,q),$.m(re,q),t(q,le),X.m(q,null)},p(F,W){W[0]&640&&r!==(r=F[18](F[7],F[9],Vt)+"")&&s.p(r),W[0]&128&&f!==(f=F[7].toLocaleString()+"")&&Le(d,f),W[0]&2560&&E!==(E=F[18](F[11],F[9],Ce)+"")&&B.p(E),J!==(J=ne(F))&&(ae.d(1),ae=J(F),ae&&(ae.c(),ae.m(M,null))),W[0]&1280&&S!==(S=F[18](F[8],F[10],Vt)+"")&&x.p(S),W[0]&256&&N!==(N=F[8].toLocaleString()+"")&&Le(Q,N),W[0]&5120&&re!==(re=F[18](F[12],F[10],Ce)+"")&&$.p(re),de!==(de=fe(F))&&(X.d(1),X=de(F),X&&(X.c(),X.m(q,null)))},d(F){F&&m(l),ae.d(),X.d()}}}function io(e){let l,a="Local area costs";return{c(){l=u("span"),l.textContent=a,this.h()},l(n){l=c(n,"SPAN",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-pi7zpb"&&(l.textContent=a),this.h()},h(){i(l,"class","waffle-caption svelte-1e49v6v")},m(n,s){ke(n,l,s)},d(n){n&&m(l)}}}function co(e){let l,a="Local area benefits";return{c(){l=u("span"),l.textContent=a,this.h()},l(n){l=c(n,"SPAN",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-cjpgg1"&&(l.textContent=a),this.h()},h(){i(l,"class","waffle-caption svelte-1e49v6v")},m(n,s){ke(n,l,s)},d(n){n&&m(l)}}}function uo(e){let l,a="Per capita costs";return{c(){l=u("span"),l.textContent=a,this.h()},l(n){l=c(n,"SPAN",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-k47gg8"&&(l.textContent=a),this.h()},h(){i(l,"class","waffle-caption svelte-1e49v6v")},m(n,s){ke(n,l,s)},d(n){n&&m(l)}}}function fo(e){let l,a="Per capita benefits";return{c(){l=u("span"),l.textContent=a,this.h()},l(n){l=c(n,"SPAN",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1jc8yoe"&&(l.textContent=a),this.h()},h(){i(l,"class","waffle-caption svelte-1e49v6v")},m(n,s){ke(n,l,s)},d(n){n&&m(l)}}}function vo(e){let l,a,n,s,r,o,h,b,f=`The histogram shows the number of data zones
                                        distributed
                                        across
                                        different household social economic factors.`,d,w,p="",k=e[55],A,M,B,E,g,z=e[55].replaceAll("_"," ")+"",T,P,x,S,R,O=e[17][e[16]]+"",I,N,Q,V,j,te="";const q=()=>e[31](w,k),$=()=>e[31](null,k),re=()=>e[32](j,k),le=()=>e[32](null,k);return{c(){l=u("div"),a=u("h3"),n=L("Data Zones Distribution (vs. "),s=u("span"),r=L(e[6]),o=L(" average)"),h=y(),b=u("p"),b.textContent=f,d=y(),w=u("div"),w.innerHTML=p,A=y(),M=u("div"),B=u("div"),E=u("h3"),g=L(`Co-benefits Recieved by Data Zones
                                            across `),T=L(z),P=L(`
                                            Values`),x=y(),S=u("p"),R=L(`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),I=L(O),N=L("."),Q=y(),V=u("div"),j=u("div"),j.innerHTML=te,this.h()},l(ne){l=c(ne,"DIV",{class:!0});var J=C(l);a=c(J,"H3",{class:!0});var ae=C(a);n=D(ae,"Data Zones Distribution (vs. "),s=c(ae,"SPAN",{class:!0});var fe=C(s);r=D(fe,e[6]),fe.forEach(m),o=D(ae," average)"),ae.forEach(m),h=_(J),b=c(J,"P",{class:!0,"data-svelte-h":!0}),U(b)!=="svelte-zr1gq8"&&(b.textContent=f),d=_(J),w=c(J,"DIV",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-uat11q"&&(w.innerHTML=p),J.forEach(m),A=_(ne),M=c(ne,"DIV",{class:!0});var de=C(M);B=c(de,"DIV",{});var X=C(B);E=c(X,"H3",{class:!0});var F=C(E);g=D(F,`Co-benefits Recieved by Data Zones
                                            across `),T=D(F,z),P=D(F,`
                                            Values`),F.forEach(m),x=_(X),S=c(X,"P",{class:!0});var W=C(S);R=D(W,`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),I=D(W,O),N=D(W,"."),W.forEach(m),X.forEach(m),Q=_(de),V=c(de,"DIV",{});var oe=C(V);j=c(oe,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-1xuwop7"&&(j.innerHTML=te),oe.forEach(m),de.forEach(m),this.h()},h(){i(s,"class","nation-label svelte-1e49v6v"),i(a,"class","component-title"),i(b,"class","description short"),i(w,"class","plot"),i(l,"class","component"),i(E,"class","component-title"),i(S,"class","description short"),i(j,"class","plot"),i(M,"class","component")},m(ne,J){ke(ne,l,J),t(l,a),t(a,n),t(a,s),t(s,r),t(a,o),t(l,h),t(l,b),t(l,d),t(l,w),q(),ke(ne,A,J),ke(ne,M,J),t(M,B),t(B,E),t(E,g),t(E,T),t(E,P),t(B,x),t(B,S),t(S,R),t(S,I),t(S,N),t(M,Q),t(M,V),t(V,j),re()},p(ne,J){e=ne,J[0]&64&&Le(r,e[6]),k!==e[55]&&($(),k=e[55],q()),k!==e[55]&&(le(),k=e[55],re())},d(ne){ne&&(m(l),m(A),m(M)),$(),le()}}}function bs(e){let l,a,n=e[55].replaceAll("_"," ")+"",s,r,o,h;function b(w,p){return vo}let d=b()(e);return{c(){l=u("div"),a=u("h2"),s=L(n),r=y(),o=u("div"),d.c(),h=y(),this.h()},l(w){l=c(w,"DIV",{});var p=C(l);a=c(p,"H2",{});var k=C(a);s=D(k,n),k.forEach(m),r=_(p),o=c(p,"DIV",{class:!0});var A=C(o);d.l(A),A.forEach(m),h=_(p),p.forEach(m),this.h()},h(){i(o,"class","row")},m(w,p){ke(w,l,p),t(l,a),t(a,s),t(l,r),t(l,o),d.m(o,null),t(l,h)},p(w,p){d.p(w,p)},d(w){w&&m(l),d.d()}}}function ho(e){let l,a,n,s,r,o,h,b="Local Authority Report",f,d,w=e[17][e[16]]+"",p,k,A,M=`Explore how this local authority will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,B,E,g,z,T,P,x,S,R="UK",O,I,N,Q,V,j="England",te,q,$,re,le,ne="Wales",J,ae,fe,de,X,F="Scotland",W,oe,Me,me,Ke="Northern Ireland",Be,ve,Ze,v,Y,ge=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Sixth Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,be,se,_e,K,he,Ee,ye,Vl,Bl,xe,xl,pn=e[17][e[16]]+"",Hl,Fl,Bt,il,Rl,Ol,tt,mn="",jl,Se,lt,Ul,gn=e[17][e[16]]+"",Yl,ql,Gl,wt,bn=e[17][e[16]]+"",Wl,Kl,Zl,At,_n="*Scroll for zooming in and out",Xl,Xe,yn="",Ql,ze,Dt,Cn=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Jl,Te,at,$l,xt,cl,ea,ta,He,la,En=e[17][e[16]]+"",aa,na,Ht,ul,sa,ra,oa,ia,Fe,nt,Ft,ca,wn=e[17][e[16]]+"",ua,fa,st,Rt,da,Ot,fl,va,jt,rt,An="",ha,Re,we,ot,pa,Dn=e[17][e[16]]+"",ma,ga,ba,_a,ya,it,Ln=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <span>The stacked area plot is coloured by co-benefit:</span> <br/><br/> <ul class="legend-list svelte-1e49v6v"><li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #D3A029"></span>
                            Diet change</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #48773E"></span>
                            Physical activity</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #183668"></span>
                            Dampness</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #00AED9"></span>
                            Excess cold</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #E11484"></span>
                            Noise</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #71C35D"></span>
                            Air quality</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #8F1838"></span>
                            Congestion</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #EF402B"></span>
                            Excess heat</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #F36D25"></span>
                            Road safety</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #F99D26"></span>
                            Road repairs</li> <li class="svelte-1e49v6v"><span class="legend-color svelte-1e49v6v" style="background-color: #C31F33"></span>
                            Hassle costs</li></ul>`,Ca,ct,kn=`<p style="margin: 0 0 0.5rem 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p> <p style="margin: 0 0 0.5rem 0;">*Hover over areas for more information.</p>`,Ea,Ut,wa,Qe,Oe,Lt,Mn="Households",Aa,kt,Sn=e[17][e[16]]+"",Da,La,ka,Mt,Tn=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.`,Ma,je,pe,Ue,Sa,In=e[17][e[16]]+"",Ta,Ia,dl,za,Pa,Na,Va,Ae,St,zn="Legend:",Ba,xa,Ha,Yt,Pn="The scatter plots are shaded by nation.",Fa,ut,ft,qt,Ra,Nn=e[17][e[16]]+"",Oa,ja,dt,Gt,Ua,vl,Ya,De,Tt,Vn="Interpreting the charts:",qa,Ga,Wa,Wt,Bn="<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a given social economic factor value.",Ka,Ye,Kt,xn="Scatterplot:",Za,Hn=e[17][e[16]]+"",Xa,Qa,hl,Ja,$a,vt,Fn=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,en,ht,Ie,tn,Rn;l=new Us({});let ce=e[13]&&ps(e),ue=e[7]&&gs(e),Zt=Xn(vn),ie=[];for(let H=0;H<Zt.length;H+=1)ie[H]=bs(hs(e,Zt,H));return{c(){js(l.$$.fragment),a=y(),n=u("div"),ce&&ce.c(),s=y(),r=u("div"),o=u("div"),h=u("p"),h.textContent=b,f=y(),d=u("h1"),p=L(w),k=y(),A=u("p"),A.textContent=M,B=y(),E=u("div"),g=L("Compare this Local Authority District (LAD) against:"),z=u("br"),T=y(),P=u("input"),x=y(),S=u("label"),S.textContent=R,O=u("br"),I=y(),N=u("input"),Q=y(),V=u("label"),V.textContent=j,te=u("br"),q=y(),$=u("input"),re=y(),le=u("label"),le.textContent=ne,J=u("br"),ae=y(),fe=u("input"),de=y(),X=u("label"),X.textContent=F,W=y(),oe=u("input"),Me=y(),me=u("label"),me.textContent=Ke,Be=y(),ve=u("div"),ue&&ue.c(),Ze=y(),v=u("div"),Y=u("div"),Y.innerHTML=ge,be=y(),se=u("div"),_e=u("div"),K=u("h3"),he=L("11 types of co-benefit values (vs. "),Ee=u("span"),ye=L(e[6]),Vl=L(" Average)"),Bl=y(),xe=u("p"),xl=L("Co-benefit values for "),Hl=L(pn),Fl=L(` compared to average value of benefits
                    recieved across all local
                    authorities in `),Bt=u("span"),il=L(e[6]),Rl=L(" (grey)."),Ol=y(),tt=u("div"),tt.innerHTML=mn,jl=y(),Se=u("div"),lt=u("h3"),Ul=L("Where is "),Yl=L(gn),ql=L("?"),Gl=y(),wt=u("p"),Wl=L(bn),Kl=L(" has been highlighted in red on this UK map."),Zl=y(),At=u("p"),At.textContent=_n,Xl=y(),Xe=u("div"),Xe.innerHTML=yn,Ql=y(),ze=u("div"),Dt=u("div"),Dt.innerHTML=Cn,Jl=y(),Te=u("div"),at=u("h3"),$l=L("Total co-benefit distribution from 2025-2049 (vs. "),xt=u("span"),cl=L(e[6]),ea=L(" Average)"),ta=y(),He=u("p"),la=L("Aggregated values from 2025-2049 in "),aa=L(En),na=L(` compared to average value of
                benefits recieved across all local authorities in `),Ht=u("span"),ul=L(e[6]),sa=L("."),ra=y(),oa=u("br"),ia=y(),Fe=u("ul"),nt=u("li"),Ft=u("span"),ca=y(),ua=L(wn),fa=y(),st=u("li"),Rt=u("span"),da=y(),Ot=u("span"),fl=L(e[6]),va=y(),jt=u("div"),rt=u("div"),rt.innerHTML=An,ha=y(),Re=u("div"),we=u("div"),ot=u("h3"),pa=L("Co-benefit gain/loss for "),ma=L(Dn),ga=L(" over 5 year intervals"),ba=y(),_a=u("br"),ya=y(),it=u("div"),it.innerHTML=Ln,Ca=y(),ct=u("div"),ct.innerHTML=kn,Ea=y(),Ut=u("div"),wa=y(),Qe=u("div"),Oe=u("div"),Lt=u("p"),Lt.textContent=Mn,Aa=y(),kt=u("h2"),Da=L(Sn),La=L(" social-economic factors"),ka=y(),Mt=u("p"),Mt.textContent=Tn,Ma=y(),je=u("div"),pe=u("div"),Ue=u("h3"),Sa=L("Comparing the Socio-Economic factors distributions of "),Ta=L(In),Ia=L(" and "),dl=L(e[6]),za=L(", and their correlation with co-benefits."),Pa=y(),Na=u("br"),Va=y(),Ae=u("div"),St=u("strong"),St.textContent=zn,Ba=y(),xa=u("br"),Ha=y(),Yt=u("span"),Yt.textContent=Pn,Fa=y(),ut=u("ul"),ft=u("li"),qt=u("span"),Ra=y(),Oa=L(Nn),ja=y(),dt=u("li"),Gt=u("span"),Ua=y(),vl=L(e[6]),Ya=y(),De=u("div"),Tt=u("strong"),Tt.textContent=Vn,qa=y(),Ga=u("br"),Wa=y(),Wt=u("p"),Wt.innerHTML=Bn,Ka=y(),Ye=u("p"),Kt=u("strong"),Kt.textContent=xn,Za=L(" Each dot represents a datazone inside "),Xa=L(Hn),Qa=L(". The cloud shows the distribution for "),hl=L(e[6]),Ja=L("."),$a=y(),vt=u("div"),vt.innerHTML=Fn,en=y(),ht=u("div");for(let H=0;H<ie.length;H+=1)ie[H].c();this.h()},l(H){Os(l.$$.fragment,H),a=_(H),n=c(H,"DIV",{class:!0});var G=C(n);ce&&ce.l(G),s=_(G),r=c(G,"DIV",{class:!0,id:!0});var ee=C(r);o=c(ee,"DIV",{});var Pe=C(o);h=c(Pe,"P",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-wtex57"&&(h.textContent=b),f=_(Pe),d=c(Pe,"H1",{class:!0});var On=C(d);p=D(On,w),On.forEach(m),k=_(Pe),A=c(Pe,"P",{class:!0,"data-svelte-h":!0}),U(A)!=="svelte-q4fx5o"&&(A.textContent=M),B=_(Pe),E=c(Pe,"DIV",{class:!0});var Z=C(E);g=D(Z,"Compare this Local Authority District (LAD) against:"),z=c(Z,"BR",{}),T=_(Z),P=c(Z,"INPUT",{type:!0,name:!0}),x=_(Z),S=c(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),U(S)!=="svelte-1yhxhao"&&(S.textContent=R),O=c(Z,"BR",{}),I=_(Z),N=c(Z,"INPUT",{type:!0,name:!0}),Q=_(Z),V=c(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),U(V)!=="svelte-11zyrfp"&&(V.textContent=j),te=c(Z,"BR",{}),q=_(Z),$=c(Z,"INPUT",{type:!0,name:!0}),re=_(Z),le=c(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),U(le)!=="svelte-18hrmu4"&&(le.textContent=ne),J=c(Z,"BR",{}),ae=_(Z),fe=c(Z,"INPUT",{type:!0,name:!0}),de=_(Z),X=c(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),U(X)!=="svelte-mkxs8y"&&(X.textContent=F),W=_(Z),oe=c(Z,"INPUT",{type:!0,name:!0}),Me=_(Z),me=c(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),U(me)!=="svelte-g19yfx"&&(me.textContent=Ke),Z.forEach(m),Pe.forEach(m),Be=_(ee),ve=c(ee,"DIV",{});var jn=C(ve);ue&&ue.l(jn),jn.forEach(m),ee.forEach(m),Ze=_(G),v=c(G,"DIV",{class:!0,id:!0});var pl=C(v);Y=c(pl,"DIV",{class:!0,"data-svelte-h":!0}),U(Y)!=="svelte-1tld4k2"&&(Y.innerHTML=ge),be=_(pl),se=c(pl,"DIV",{id:!0,class:!0});var ml=C(se);_e=c(ml,"DIV",{class:!0});var Xt=C(_e);K=c(Xt,"H3",{class:!0});var gl=C(K);he=D(gl,"11 types of co-benefit values (vs. "),Ee=c(gl,"SPAN",{class:!0});var Un=C(Ee);ye=D(Un,e[6]),Un.forEach(m),Vl=D(gl," Average)"),gl.forEach(m),Bl=_(Xt),xe=c(Xt,"P",{class:!0});var Qt=C(xe);xl=D(Qt,"Co-benefit values for "),Hl=D(Qt,pn),Fl=D(Qt,` compared to average value of benefits
                    recieved across all local
                    authorities in `),Bt=c(Qt,"SPAN",{class:!0});var Yn=C(Bt);il=D(Yn,e[6]),Yn.forEach(m),Rl=D(Qt," (grey)."),Qt.forEach(m),Ol=_(Xt),tt=c(Xt,"DIV",{class:!0,"data-svelte-h":!0}),U(tt)!=="svelte-1gmwtaj"&&(tt.innerHTML=mn),Xt.forEach(m),jl=_(ml),Se=c(ml,"DIV",{class:!0});var pt=C(Se);lt=c(pt,"H3",{class:!0});var bl=C(lt);Ul=D(bl,"Where is "),Yl=D(bl,gn),ql=D(bl,"?"),bl.forEach(m),Gl=_(pt),wt=c(pt,"P",{class:!0});var ln=C(wt);Wl=D(ln,bn),Kl=D(ln," has been highlighted in red on this UK map."),ln.forEach(m),Zl=_(pt),At=c(pt,"P",{class:!0,"data-svelte-h":!0}),U(At)!=="svelte-vsj698"&&(At.textContent=_n),Xl=_(pt),Xe=c(pt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(Xe)!=="svelte-13ehpmu"&&(Xe.innerHTML=yn),pt.forEach(m),ml.forEach(m),pl.forEach(m),Ql=_(G),ze=c(G,"DIV",{class:!0,id:!0});var Jt=C(ze);Dt=c(Jt,"DIV",{class:!0,"data-svelte-h":!0}),U(Dt)!=="svelte-10cbt4"&&(Dt.innerHTML=Cn),Jl=_(Jt),Te=c(Jt,"DIV",{class:!0});var mt=C(Te);at=c(mt,"H3",{class:!0});var _l=C(at);$l=D(_l,"Total co-benefit distribution from 2025-2049 (vs. "),xt=c(_l,"SPAN",{class:!0});var qn=C(xt);cl=D(qn,e[6]),qn.forEach(m),ea=D(_l," Average)"),_l.forEach(m),ta=_(mt),He=c(mt,"P",{class:!0});var $t=C(He);la=D($t,"Aggregated values from 2025-2049 in "),aa=D($t,En),na=D($t,` compared to average value of
                benefits recieved across all local authorities in `),Ht=c($t,"SPAN",{class:!0});var Gn=C(Ht);ul=D(Gn,e[6]),Gn.forEach(m),sa=D($t,"."),$t.forEach(m),ra=_(mt),oa=c(mt,"BR",{}),ia=_(mt),Fe=c(mt,"UL",{class:!0});var el=C(Fe);nt=c(el,"LI",{class:!0});var yl=C(nt);Ft=c(yl,"SPAN",{class:!0,style:!0}),C(Ft).forEach(m),ca=_(yl),ua=D(yl,wn),yl.forEach(m),fa=_(el),st=c(el,"LI",{class:!0});var Cl=C(st);Rt=c(Cl,"SPAN",{class:!0,style:!0}),C(Rt).forEach(m),da=_(Cl),Ot=c(Cl,"SPAN",{class:!0});var Wn=C(Ot);fl=D(Wn,e[6]),Wn.forEach(m),Cl.forEach(m),va=_(el),jt=c(el,"DIV",{class:!0});var Kn=C(jt);rt=c(Kn,"DIV",{class:!0,"data-svelte-h":!0}),U(rt)!=="svelte-whd5cf"&&(rt.innerHTML=An),Kn.forEach(m),el.forEach(m),mt.forEach(m),ha=_(Jt),Re=c(Jt,"DIV",{id:!0,class:!0,style:!0});var El=C(Re);we=c(El,"DIV",{id:!0,class:!0});var gt=C(we);ot=c(gt,"H3",{class:!0});var wl=C(ot);pa=D(wl,"Co-benefit gain/loss for "),ma=D(wl,Dn),ga=D(wl," over 5 year intervals"),wl.forEach(m),ba=_(gt),_a=c(gt,"BR",{}),ya=_(gt),it=c(gt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(it)!=="svelte-1pvtiys"&&(it.innerHTML=Ln),Ca=_(gt),ct=c(gt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(ct)!=="svelte-zy0h15"&&(ct.innerHTML=kn),gt.forEach(m),Ea=_(El),Ut=c(El,"DIV",{class:!0}),C(Ut).forEach(m),El.forEach(m),Jt.forEach(m),wa=_(G),Qe=c(G,"DIV",{class:!0,id:!0});var Al=C(Qe);Oe=c(Al,"DIV",{class:!0});var tl=C(Oe);Lt=c(tl,"P",{class:!0,"data-svelte-h":!0}),U(Lt)!=="svelte-ceroz1"&&(Lt.textContent=Mn),Aa=_(tl),kt=c(tl,"H2",{class:!0});var an=C(kt);Da=D(an,Sn),La=D(an," social-economic factors"),an.forEach(m),ka=_(tl),Mt=c(tl,"P",{class:!0,"data-svelte-h":!0}),U(Mt)!=="svelte-1u75598"&&(Mt.textContent=Tn),tl.forEach(m),Ma=_(Al),je=c(Al,"DIV",{id:!0,class:!0,style:!0});var Dl=C(je);pe=c(Dl,"DIV",{id:!0,class:!0});var qe=C(pe);Ue=c(qe,"H3",{class:!0});var ll=C(Ue);Sa=D(ll,"Comparing the Socio-Economic factors distributions of "),Ta=D(ll,In),Ia=D(ll," and "),dl=D(ll,e[6]),za=D(ll,", and their correlation with co-benefits."),ll.forEach(m),Pa=_(qe),Na=c(qe,"BR",{}),Va=_(qe),Ae=c(qe,"DIV",{id:!0,class:!0});var bt=C(Ae);St=c(bt,"STRONG",{style:!0,"data-svelte-h":!0}),U(St)!=="svelte-xb363n"&&(St.textContent=zn),Ba=_(bt),xa=c(bt,"BR",{}),Ha=_(bt),Yt=c(bt,"SPAN",{"data-svelte-h":!0}),U(Yt)!=="svelte-ddxsq2"&&(Yt.textContent=Pn),Fa=_(bt),ut=c(bt,"UL",{class:!0});var Ll=C(ut);ft=c(Ll,"LI",{class:!0});var kl=C(ft);qt=c(kl,"SPAN",{class:!0,style:!0}),C(qt).forEach(m),Ra=_(kl),Oa=D(kl,Nn),kl.forEach(m),ja=_(Ll),dt=c(Ll,"LI",{class:!0});var Ml=C(dt);Gt=c(Ml,"SPAN",{class:!0,style:!0}),C(Gt).forEach(m),Ua=_(Ml),vl=D(Ml,e[6]),Ml.forEach(m),Ll.forEach(m),bt.forEach(m),Ya=_(qe),De=c(qe,"DIV",{id:!0,class:!0});var _t=C(De);Tt=c(_t,"STRONG",{style:!0,"data-svelte-h":!0}),U(Tt)!=="svelte-ucmfvz"&&(Tt.textContent=Vn),qa=_(_t),Ga=c(_t,"BR",{}),Wa=_(_t),Wt=c(_t,"P",{"data-svelte-h":!0}),U(Wt)!=="svelte-7njmev"&&(Wt.innerHTML=Bn),Ka=_(_t),Ye=c(_t,"P",{});var It=C(Ye);Kt=c(It,"STRONG",{"data-svelte-h":!0}),U(Kt)!=="svelte-1ij32sd"&&(Kt.textContent=xn),Za=D(It," Each dot represents a datazone inside "),Xa=D(It,Hn),Qa=D(It,". The cloud shows the distribution for "),hl=D(It,e[6]),Ja=D(It,"."),It.forEach(m),_t.forEach(m),$a=_(qe),vt=c(qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(vt)!=="svelte-gofjep"&&(vt.innerHTML=Fn),qe.forEach(m),en=_(Dl),ht=c(Dl,"DIV",{id:!0,class:!0});var Zn=C(ht);for(let nn=0;nn<ie.length;nn+=1)ie[nn].l(Zn);Zn.forEach(m),Dl.forEach(m),Al.forEach(m),G.forEach(m),this.h()},h(){i(h,"class","page-subtitle"),i(d,"class","page-title"),i(A,"class","description"),i(P,"type","radio"),i(P,"name","compare"),P.value="UK",P.checked=!0,i(S,"class","nation-label svelte-1e49v6v"),i(S,"for","html"),i(N,"type","radio"),i(N,"name","compare"),N.value="England",i(V,"class","nation-label svelte-1e49v6v"),i(V,"for","html"),i($,"type","radio"),i($,"name","compare"),$.value="Wales",i(le,"class","nation-label svelte-1e49v6v"),i(le,"for","html"),i(fe,"type","radio"),i(fe,"name","compare"),fe.value="Scotland",i(X,"class","nation-label svelte-1e49v6v"),i(X,"for","javascript"),i(oe,"type","radio"),i(oe,"name","compare"),oe.value="NI",i(me,"class","nation-label svelte-1e49v6v"),i(me,"for","javascript"),i(E,"class","radio-set"),i(r,"class","section header header-row svelte-1e49v6v"),i(r,"id","head"),i(Y,"class","section-header"),i(Ee,"class","nation-label svelte-1e49v6v"),i(K,"class","component-title"),i(Bt,"class","nation-label svelte-1e49v6v"),i(xe,"class","description"),i(tt,"class","plot"),i(_e,"class","component column"),i(lt,"class","component-title"),i(wt,"class","description"),i(At,"class","description"),i(Xe,"id","map"),i(Xe,"class","svelte-1e49v6v"),i(Se,"class","component column"),i(se,"id","vis-block"),i(se,"class","svelte-1e49v6v"),i(v,"class","section"),i(v,"id","overview"),i(Dt,"class","section-header"),i(xt,"class","nation-label svelte-1e49v6v"),i(at,"class","component-title"),i(Ht,"class","nation-label svelte-1e49v6v"),i(He,"class","description"),i(Ft,"class","legend-color svelte-1e49v6v"),yt(Ft,"background-color",Vt),i(nt,"class","svelte-1e49v6v"),i(Rt,"class","legend-color svelte-1e49v6v"),yt(Rt,"background-color",Ce),i(Ot,"class","nation-label svelte-1e49v6v"),i(st,"class","svelte-1e49v6v"),i(rt,"class","plot"),i(jt,"class","row"),i(Fe,"class","legend-list svelte-1e49v6v"),i(Te,"class","component singlevis"),i(ot,"class","component-title"),i(it,"id","main-legend"),i(it,"class","legend-box svelte-1e49v6v"),i(ct,"id","main-disclaimer"),i(ct,"class","disclaimer-box svelte-1e49v6v"),i(we,"id","main-title"),i(we,"class","svelte-1e49v6v"),i(Ut,"class","plot"),i(Re,"id","main-block"),i(Re,"class","component svelte-1e49v6v"),yt(Re,"margin-left","0.5rem"),i(ze,"class","section"),i(ze,"id","temporal"),i(Lt,"class","section-subtitle"),i(kt,"class","section-title"),i(Mt,"class","description"),i(Oe,"class","section-header"),i(Ue,"class","component-title"),yt(St,"margin-bottom","1rem"),i(qt,"class","legend-color svelte-1e49v6v"),yt(qt,"background-color",Vt),i(ft,"class","svelte-1e49v6v"),i(Gt,"class","legend-color svelte-1e49v6v"),yt(Gt,"background-color",Ce),i(dt,"class","svelte-1e49v6v"),i(ut,"class","legend-list svelte-1e49v6v"),i(Ae,"id","se-legend"),i(Ae,"class","legend-box svelte-1e49v6v"),yt(Tt,"margin-bottom","1rem"),i(De,"id","se-legend"),i(De,"class","legend-box svelte-1e49v6v"),i(vt,"id","se-disclaimer"),i(vt,"class","disclaimer-box svelte-1e49v6v"),i(pe,"id","se-title"),i(pe,"class","svelte-1e49v6v"),i(ht,"id","multiple-comp"),i(ht,"class","svelte-1e49v6v"),i(je,"id","se-block"),i(je,"class","component svelte-1e49v6v"),yt(je,"margin-left","1rem"),i(Qe,"class","section"),i(Qe,"id","households"),i(n,"class","page-container")},m(H,G){Rs(l,H,G),ke(H,a,G),ke(H,n,G),ce&&ce.m(n,null),t(n,s),t(n,r),t(r,o),t(o,h),t(o,f),t(o,d),t(d,p),t(o,k),t(o,A),t(o,B),t(o,E),t(E,g),t(E,z),t(E,T),t(E,P),t(E,x),t(E,S),t(E,O),t(E,I),t(E,N),t(E,Q),t(E,V),t(E,te),t(E,q),t(E,$),t(E,re),t(E,le),t(E,J),t(E,ae),t(E,fe),t(E,de),t(E,X),t(E,W),t(E,oe),t(E,Me),t(E,me),t(r,Be),t(r,ve),ue&&ue.m(ve,null),t(n,Ze),t(n,v),t(v,Y),t(v,be),t(v,se),t(se,_e),t(_e,K),t(K,he),t(K,Ee),t(Ee,ye),t(K,Vl),t(_e,Bl),t(_e,xe),t(xe,xl),t(xe,Hl),t(xe,Fl),t(xe,Bt),t(Bt,il),t(xe,Rl),t(_e,Ol),t(_e,tt),e[26](tt),t(se,jl),t(se,Se),t(Se,lt),t(lt,Ul),t(lt,Yl),t(lt,ql),t(Se,Gl),t(Se,wt),t(wt,Wl),t(wt,Kl),t(Se,Zl),t(Se,At),t(Se,Xl),t(Se,Xe),e[27](Xe),t(n,Ql),t(n,ze),t(ze,Dt),t(ze,Jl),t(ze,Te),t(Te,at),t(at,$l),t(at,xt),t(xt,cl),t(at,ea),t(Te,ta),t(Te,He),t(He,la),t(He,aa),t(He,na),t(He,Ht),t(Ht,ul),t(He,sa),t(Te,ra),t(Te,oa),t(Te,ia),t(Te,Fe),t(Fe,nt),t(nt,Ft),t(nt,ca),t(nt,ua),t(Fe,fa),t(Fe,st),t(st,Rt),t(st,da),t(st,Ot),t(Ot,fl),t(Fe,va),t(Fe,jt),t(jt,rt),e[28](rt),t(ze,ha),t(ze,Re),t(Re,we),t(we,ot),t(ot,pa),t(ot,ma),t(ot,ga),t(we,ba),t(we,_a),t(we,ya),t(we,it),t(we,Ca),t(we,ct),t(Re,Ea),t(Re,Ut),e[29](Ut),t(n,wa),t(n,Qe),t(Qe,Oe),t(Oe,Lt),t(Oe,Aa),t(Oe,kt),t(kt,Da),t(kt,La),t(Oe,ka),t(Oe,Mt),t(Qe,Ma),t(Qe,je),t(je,pe),t(pe,Ue),t(Ue,Sa),t(Ue,Ta),t(Ue,Ia),t(Ue,dl),t(Ue,za),t(pe,Pa),t(pe,Na),t(pe,Va),t(pe,Ae),t(Ae,St),t(Ae,Ba),t(Ae,xa),t(Ae,Ha),t(Ae,Yt),t(Ae,Fa),t(Ae,ut),t(ut,ft),t(ft,qt),t(ft,Ra),t(ft,Oa),t(ut,ja),t(ut,dt),t(dt,Gt),t(dt,Ua),t(dt,vl),t(pe,Ya),t(pe,De),t(De,Tt),t(De,qa),t(De,Ga),t(De,Wa),t(De,Wt),t(De,Ka),t(De,Ye),t(Ye,Kt),t(Ye,Za),t(Ye,Xa),t(Ye,Qa),t(Ye,hl),t(Ye,Ja),t(pe,$a),t(pe,vt),t(je,en),t(je,ht);for(let ee=0;ee<ie.length;ee+=1)ie[ee]&&ie[ee].m(ht,null);e[33](n),Ie=!0,tn||(Rn=[rl(P,"change",e[19]),rl(N,"change",e[19]),rl($,"change",e[19]),rl(fe,"change",e[19]),rl(oe,"change",e[19])],tn=!0)},p(H,G){if(H[13]?ce?ce.p(H,G):(ce=ps(H),ce.c(),ce.m(n,s)):ce&&(ce.d(1),ce=null),H[7]?ue?ue.p(H,G):(ue=gs(H),ue.c(),ue.m(ve,null)):ue&&(ue.d(1),ue=null),(!Ie||G[0]&64)&&Le(ye,H[6]),(!Ie||G[0]&64)&&Le(il,H[6]),(!Ie||G[0]&64)&&Le(cl,H[6]),(!Ie||G[0]&64)&&Le(ul,H[6]),(!Ie||G[0]&64)&&Le(fl,H[6]),(!Ie||G[0]&64)&&Le(dl,H[6]),(!Ie||G[0]&64)&&Le(vl,H[6]),(!Ie||G[0]&64)&&Le(hl,H[6]),G[0]&196696){Zt=Xn(vn);let ee;for(ee=0;ee<Zt.length;ee+=1){const Pe=hs(H,Zt,ee);ie[ee]?ie[ee].p(Pe,G):(ie[ee]=bs(Pe),ie[ee].c(),ie[ee].m(ht,null))}for(;ee<ie.length;ee+=1)ie[ee].d(1);ie.length=Zt.length}},i(H){Ie||(Fs(l.$$.fragment,H),Ie=!0)},o(H){Hs(l.$$.fragment,H),Ie=!1},d(H){H&&(m(a),m(n)),xs(l,H),ce&&ce.d(),ue&&ue.d(),e[26](null),e[27](null),e[28](null),e[29](null),Is(ie,H),e[33](null),tn=!1,zs(Rn)}}}let We=400;function _s(e){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[e]||""}function Nt(e){const l=e.querySelector("figure");l&&l.remove();const a=e.querySelector("svg");a&&a.remove()}function po(e,l,a){let n,s,r,o,h={},b={},f={},d={},w="barchart",{data:p}=l;const k=p.LAD;let A="UK",M,B,E,g,z,T,P,x,S,R,O,I,N=!1;async function Q(){a(22,M=await Ve(ls())),await Ve(mr()),M.forEach(v=>{v.isPageLAD=v.LAD==k}),a(23,B=await Ve(as([]))),E=await Ve(gr(es.map(v=>v.id))),a(24,g=await Ve(ns())),z=await Ve(br(k)),T=await Ve(_r(k)),a(7,P=(ks(z,v=>v.total)/1e3).toFixed(3)),a(9,S=zl(B,v=>v.val)/1e3),a(8,x=(ol(z,v=>v.totalPerCapita)*1e6).toFixed(1)),a(10,R=await Ve(yr({limit:1,sortBy:"per_capita"}))),a(10,R=R[0].value_per_capita),a(25,N=!0),vr(n)}Q();let V=!1,j="";const te=["overview","temporal","households"];function q(){const v=window.scrollY;a(13,V=v>100);for(const Y of te){const ge=document.getElementById(Y);if(!ge)continue;const be=ge.getBoundingClientRect();if(be.top<=150&&be.bottom>=150){a(14,j=Y);break}}}const $=p.LADToName;let re,le;Ps(()=>(dr(n),re=new fr(k,"LAD",le,"val",!0),re.initMap(!1),window.addEventListener("scroll",q),q(),()=>window.removeEventListener("scroll",q))),Ns(()=>{window.removeEventListener("scroll",q)});function ne(v,Y,ge="black"){return Ne({width:80,height:20,margin:0,x:{domain:[0,Y],axis:null},marks:[un([v],{x:se=>se,y:0,fill:ge})]}).outerHTML}function J(){{let v=Ne({height:We/1.4,...$e,x:{type:"band"},style:{fontSize:"18px"},marks:[zt(B,Je({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),zt(z,Je({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const Y=Ge(v).selectAll("g[aria-label='bar']");Ge(Y.nodes()[0]);const ge=Ge(Y.nodes()[1]);ge.selectAll("rect").each(function(){}),ge.remove()},1e3)}}function ae(){s?.append(Ne({height:We*1.4,width:811,...$e,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:on.range(),domain:on.domain()},marks:[zt(g,Je({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:Ce,sort:{x:"y",reverse:!0},tip:!0})),zt(T,Je({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:v=>on(v.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),sn({label:"Total Co-Benefit (£million)",labelAnchor:"center"}),rn({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Qn([0],{stroke:"#333",strokeWidth:.75})]}))}function fe(){vn.forEach(v=>{let Y;ts.includes(v)?Y=Ne({height:We/1.2,...$e,marginLeft:100,x:{grid:!0,label:Il(v),tickFormat:ye=>Math.floor(ye)},style:{fontSize:"18px"},color:{legend:!0},marks:[zt(M,ds(Je({y:"count"},{x:v,dx:20,fill:Ce}))),zt(z,ds(Je({y:"count"},{x:v,dx:-20})))]}):Y=Ne({height:We/1.2,...$e,x:{label:Il(v)},style:{fontSize:"18px"},marks:[fn(z,rs({y:"proportion"},{x:v,tip:!0,fill:Ce,stroke:Ce,fillOpacity:.2,strokeWidth:3})),fn(M,rs({y:"proportion"},{x:v,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),b[v]?.append(void 0),h[v]?.append(Y);let be=M.map(ye=>ye.total),se=hn(be);be.sort();var _e=be.length,K=Math.floor(_e*1)-1;let he=be[K];se[1]=he+2,se[0]=-5;let Ee;ts.includes(v)?Ee=Ne({height:We/1.2,...$e,x:{label:Il(v)},y:{domain:se,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",Ce]},marks:[us($n(M,15e3),{x:ye=>`${ye[v]}`,y:"total",fill:"density",bandwidth:3}),os(z,{x:ye=>`${ye[v]}`,y:"total",fill:"black",r:2}),sn({label:"Datazone Co-Benefit (£)"}),rn({anchor:"bottom"})]}):Ee=Ne({height:We/1.2,...$e,x:{label:Il(v)},y:{domain:se},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",Ce]},marks:[us($n(M,2e4),{x:v,y:"total",fill:"density",thresholds:10}),os(z,{x:v,y:"total",fill:"black",r:2}),sn({label:"Datazone Co-Benefit (£)"}),rn({anchor:"bottom"})]}),f[v]&&a(4,f[v].innerHTML="",f),f[v]?.append(Ee)})}function de(){for(let v of pr){let Y=Ne({height:We,width:410,...$e,marginRight:0,marginLeft:100,marks:[un(E,Jn({x:"mean"},{x:"val",y:"co_benefit_type",dy:-10,fill:Ce,tip:!0})),un(T,Jn({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});d[v]?.append(Y)}}function X(){let v=z.flatMap(K=>cn.map(he=>({time:he,value:K[he],scenario:K.scenario,zone:"local"}))),Y=M.flatMap(K=>cn.map(he=>({time:he,value:K[he],scenario:K.scenario,zone:"UK"}))),ge=v.concat(Y),be=Ne({height:We,width:800,...$e,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[Ce,Vt],legend:!1},marks:[zt(ge,Je({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),ur({anchor:"bottom",tickFormat:K=>K.replace(/^Y/,"").replace("_","-"),label:"Years"})]});r?.append(be),Ge(r).select("g[aria-label='bar']").selectAll("g").each(function(K,he){const Ee=Ge(this).selectAll("rect").nodes()[0],ye=Ge(Ee).attr("transform")||"";Ge(Ee).attr("transform",`${ye} translate(-20, 0)`),Ge(this).selectAll("rect").nodes()[0].getAttribute("height"),Ge(this).selectAll("rect").nodes()[1].getAttribute("height"),Ge(this).selectAll("rect")}),Ne({height:We,width:800,...$e,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Kr(ge,Je({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let se=T.flatMap(K=>cn.map(he=>({time:he,value:K[he],cobenefit:K.co_benefit_type}))),_e=Ne({height:We*3,width:2500,marginRight:0,marginTop:40,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"30px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1},x:{label:"Years",tickFormat:K=>K.replace(/^Y/,"").split("_")[1]},color:{legend:!1,range:hr,domain:es.map(K=>K.id)},marks:[fn(se,Je({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"]})),Qn([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});o?.append(_e)}async function F(v){a(6,A=v.currentTarget.value),a(24,g=await Ve(ns("total",A))),a(23,B=await Ve(as([],A))),a(22,M=await Ve(ls(A)))}function W(v){Ct[v?"unshift":"push"](()=>{s=v,a(0,s)})}function oe(v){Ct[v?"unshift":"push"](()=>{le=v,a(15,le)})}function Me(v){Ct[v?"unshift":"push"](()=>{r=v,a(1,r)})}function me(v){Ct[v?"unshift":"push"](()=>{o=v,a(2,o)})}function Ke(v,Y){Ct[v?"unshift":"push"](()=>{h[Y]=v,a(3,h)})}function Be(v,Y){Ct[v?"unshift":"push"](()=>{h[Y]=v,a(3,h)})}function ve(v,Y){Ct[v?"unshift":"push"](()=>{f[Y]=v,a(4,f)})}function Ze(v){Ct[v?"unshift":"push"](()=>{n=v,a(5,n)})}return e.$$set=v=>{"data"in v&&a(20,p=v.data)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&B&&(a(11,O=ol(B.map(v=>v.val))/1e3),a(12,I=ol(B.map(v=>v.value_per_capita))*1e5)),e.$$.dirty[0]&65011719&&(s&&Nt(s),r&&Nt(r),o&&Nt(o),N&&g&&B&&M&&(J(),ae(),X())),e.$$.dirty[0]&33554456&&(Object.values(h).forEach(v=>{v&&Nt(v)}),Object.values(b).forEach(v=>{v&&Nt(v)}),Object.values(f).forEach(v=>{v&&Nt(v)}),N&&fe()),e.$$.dirty[0]&33554432&&(Object.values(d).forEach(v=>{v&&Nt(v)}),N&&de())},[s,r,o,h,f,n,A,P,x,S,R,O,I,V,j,le,k,$,ne,F,p,w,M,B,g,N,W,oe,Me,me,Ke,Be,ve,Ze]}class ko extends Vs{constructor(l){super(),Bs(this,l,po,ho,Ts,{data:20},null,[-1,-1])}}export{ko as component};
