import{S as za,i as Oa,s as Ua,d as i,v as ma,C as Fa,o as ba,p as _a,a as de,w as ga,b as L,c as e,x as r,I as Ae,y as wa,h,e as n,f as d,z as U,g as w,K as Mt,A as Ca,k as m,j as o,t as C,L as Ht,B as Ga,N as Wa,n as Ot,F as Nt,G as Vt}from"../chunks/vqp9XDtz.js";import{N as Ya,e as Ea}from"../chunks/81iL96uD.js";import"../chunks/IHki7fMi.js";import"../chunks/C4dxaJ6L.js";import{l as Ka,o as Kl,q as Bt,r as qa,u as ja,v as Aa,w as ka,x as ql,y as ya,z as ll,A as Xa}from"../chunks/YUiIis-E.js";import{b as Ra}from"../chunks/5PUMWepz.js";import"../chunks/D1o9v8CT.js";import{p as al}from"../chunks/BOd594CG.js";import{M as Za}from"../chunks/CAn6ybig.js";import{e as Ja,V as ft,A as Ge,C as Rt,f as zt,r as Qa,M as jl,T as Xl,h as xa}from"../chunks/DQM_3w2p.js";import{g as Ee,j as Sa,k as $a,d as La,l as es,m as Da,n as ts,o as ls,p as as}from"../chunks/1cJRTIz9.js";import{F as ss}from"../chunks/CE76q_-h.js";import{m as ns,s as os}from"../chunks/BpfN2sLL.js";import{a as Zl}from"../chunks/OKEp6jaP.js";import{b as Ia}from"../chunks/DKRPidJS.js";function Pa(l,t,s){const a=l.slice();return a[53]=t[s],a}function Na(l){let t,s,a,b,p,v,g=Ha(l[14])+"",c,u=l[7]&&Ta(l);return{c(){t=o("div"),s=o("div"),a=o("span"),b=C(l[17]),p=m(),u&&u.c(),v=C(`
              >> `),c=C(g),this.h()},l(E){t=n(E,"DIV",{class:!0});var D=d(t);s=n(D,"DIV",{class:!0});var B=d(s);a=n(B,"SPAN",{class:!0});var y=d(a);b=w(y,l[17]),p=h(y),u&&u.l(y),v=w(y,`
              >> `),c=w(y,g),y.forEach(i),B.forEach(i),D.forEach(i),this.h()},h(){r(a,"class","mini-header-text"),r(s,"class","mini-header-content"),r(t,"class","mini-header")},m(E,D){L(E,t,D),e(t,s),e(s,a),e(a,b),e(a,p),u&&u.m(a,null),e(a,v),e(a,c)},p(E,D){E[7]?u?u.p(E,D):(u=Ta(E),u.c(),u.m(a,v)):u&&(u.d(1),u=null),D[0]&16384&&g!==(g=Ha(E[14])+"")&&de(c,g)},d(E){E&&i(t),u&&u.d()}}}function Ta(l){let t,s,a=l[7].toLocaleString()+"",b,p;return{c(){t=o("span"),s=C("(Total: £"),b=C(a),p=C(" billion)"),this.h()},l(v){t=n(v,"SPAN",{class:!0});var g=d(t);s=w(g,"(Total: £"),b=w(g,a),p=w(g," billion)"),g.forEach(i),this.h()},h(){r(t,"class","mini-header-value")},m(v,g){L(v,t,g),e(t,s),e(t,b),e(t,p)},p(v,g){g[0]&128&&a!==(a=v[7].toLocaleString()+"")&&de(b,a)},d(v){v&&i(t)}}}function rs(l){let t,s,a,b="UK",p,v,g;return{c(){t=o("input"),s=m(),a=o("label"),a.textContent=b,p=o("br"),this.h()},l(c){t=n(c,"INPUT",{type:!0,name:!0}),s=h(c),a=n(c,"LABEL",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-xk84ml"&&(a.textContent=b),p=n(c,"BR",{}),this.h()},h(){r(t,"type","radio"),r(t,"name","compare"),t.value="UK",t.checked=!0,r(a,"class","nation-label svelte-1pr41wa")},m(c,u){L(c,t,u),L(c,s,u),L(c,a,u),L(c,p,u),v||(g=Nt(t,"change",l[21]),v=!0)},p:Ot,d(c){c&&(i(t),i(s),i(a),i(p)),v=!1,g()}}}function is(l){let t,s,a,b="England",p,v,g;return{c(){t=o("input"),s=m(),a=o("label"),a.textContent=b,p=o("br"),this.h()},l(c){t=n(c,"INPUT",{type:!0,name:!0}),s=h(c),a=n(c,"LABEL",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-1ig5pd6"&&(a.textContent=b),p=n(c,"BR",{}),this.h()},h(){r(t,"type","radio"),r(t,"name","compare"),t.value="England",r(a,"class","nation-label svelte-1pr41wa")},m(c,u){L(c,t,u),L(c,s,u),L(c,a,u),L(c,p,u),v||(g=Nt(t,"change",l[21]),v=!0)},p:Ot,d(c){c&&(i(t),i(s),i(a),i(p)),v=!1,g()}}}function cs(l){let t,s,a,b="Wales",p,v,g;return{c(){t=o("input"),s=m(),a=o("label"),a.textContent=b,p=o("br"),this.h()},l(c){t=n(c,"INPUT",{type:!0,name:!0}),s=h(c),a=n(c,"LABEL",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-nrc4j5"&&(a.textContent=b),p=n(c,"BR",{}),this.h()},h(){r(t,"type","radio"),r(t,"name","compare"),t.value="Wales",r(a,"class","nation-label svelte-1pr41wa")},m(c,u){L(c,t,u),L(c,s,u),L(c,a,u),L(c,p,u),v||(g=Nt(t,"change",l[21]),v=!0)},p:Ot,d(c){c&&(i(t),i(s),i(a),i(p)),v=!1,g()}}}function fs(l){let t,s,a,b="Scotland",p,v,g;return{c(){t=o("input"),s=m(),a=o("label"),a.textContent=b,p=o("br"),this.h()},l(c){t=n(c,"INPUT",{type:!0,name:!0}),s=h(c),a=n(c,"LABEL",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-1h3aas9"&&(a.textContent=b),p=n(c,"BR",{}),this.h()},h(){r(t,"type","radio"),r(t,"name","compare"),t.value="Scotland",r(a,"class","nation-label svelte-1pr41wa")},m(c,u){L(c,t,u),L(c,s,u),L(c,a,u),L(c,p,u),v||(g=Nt(t,"change",l[21]),v=!0)},p:Ot,d(c){c&&(i(t),i(s),i(a),i(p)),v=!1,g()}}}function ds(l){let t,s,a,b="Northern Ireland",p,v,g;return{c(){t=o("input"),s=m(),a=o("label"),a.textContent=b,p=o("br"),this.h()},l(c){t=n(c,"INPUT",{type:!0,name:!0}),s=h(c),a=n(c,"LABEL",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-1z0yo2o"&&(a.textContent=b),p=n(c,"BR",{}),this.h()},h(){r(t,"type","radio"),r(t,"name","compare"),t.value="NI",r(a,"class","nation-label svelte-1pr41wa")},m(c,u){L(c,t,u),L(c,s,u),L(c,a,u),L(c,p,u),v||(g=Nt(t,"change",l[21]),v=!0)},p:Ot,d(c){c&&(i(t),i(s),i(a),i(p)),v=!1,g()}}}function Va(l){let t,s,a,b,p=l[18](l[7],l[9],ft)+"",v,g,c,u=l[7].toLocaleString()+"",E,D,B,y="billion",z,N,k,q=l[18](l[11],l[9],Ge)+"",re,M,V,T,W,ee=l[18](l[8],l[10],ft)+"",ie,se,he,ne=l[8].toLocaleString()+"",ce,J,j,We,te,X,H=l[18](l[12],l[10],Ge)+"",O,ke,Q,me,Pe,le,be;function Ye(A,I){return A[7]>0?us:ps}let ye=Ye(l),f=ye(l);function R(A,I){return A[7]>0?hs:vs}let Y=R(l),G=Y(l);return{c(){t=o("div"),s=o("div"),a=o("div"),b=new Ht(!1),v=m(),g=o("span"),c=C("£"),E=C(u),D=m(),B=o("span"),B.textContent=y,z=m(),N=o("div"),k=new Ht(!1),re=m(),f.c(),M=m(),V=o("div"),T=o("div"),W=new Ht(!1),ie=m(),se=o("span"),he=C("£"),ce=C(ne),J=m(),j=o("span"),We=m(),te=o("div"),X=new Ht(!1),O=m(),G.c(),ke=m(),Q=o("span"),me=o("i"),Pe=C("Grey bars indicate average value for "),le=o("span"),be=C(l[5]),this.h()},l(A){t=n(A,"DIV",{class:!0});var I=d(t);s=n(I,"DIV",{class:!0});var P=d(s);a=n(P,"DIV",{class:!0});var K=d(a);b=Mt(K,!1),v=h(K),g=n(K,"SPAN",{class:!0});var tt=d(g);c=w(tt,"£"),E=w(tt,u),tt.forEach(i),D=h(K),B=n(K,"SPAN",{class:!0,"data-svelte-h":!0}),U(B)!=="svelte-tlhydp"&&(B.textContent=y),K.forEach(i),z=h(P),N=n(P,"DIV",{class:!0});var Ke=d(N);k=Mt(Ke,!1),re=h(Ke),f.l(Ke),Ke.forEach(i),P.forEach(i),M=h(I),V=n(I,"DIV",{class:!0});var pe=d(V);T=n(pe,"DIV",{class:!0});var _e=d(T);W=Mt(_e,!1),ie=h(_e),se=n(_e,"SPAN",{class:!0});var qe=d(se);he=w(qe,"£"),ce=w(qe,ne),qe.forEach(i),J=h(_e),j=n(_e,"SPAN",{class:!0}),d(j).forEach(i),_e.forEach(i),We=h(pe),te=n(pe,"DIV",{class:!0});var fe=d(te);X=Mt(fe,!1),O=h(fe),G.l(fe),fe.forEach(i),ke=h(pe),Q=n(pe,"SPAN",{class:!0});var dt=d(Q);me=n(dt,"I",{});var Se=d(me);Pe=w(Se,"Grey bars indicate average value for "),le=n(Se,"SPAN",{class:!0});var lt=d(le);be=w(lt,l[5]),lt.forEach(i),Se.forEach(i),dt.forEach(i),pe.forEach(i),I.forEach(i),this.h()},h(){b.a=v,r(g,"class","waffle-big svelte-1pr41wa"),r(B,"class","small svelte-1pr41wa"),r(a,"class","waffle-value svelte-1pr41wa"),k.a=re,r(N,"class","waffle-value svelte-1pr41wa"),r(s,"class","waffle-stat svelte-1pr41wa"),W.a=ie,r(se,"class","waffle-big svelte-1pr41wa"),r(j,"class","small svelte-1pr41wa"),r(T,"class","waffle-value svelte-1pr41wa"),X.a=O,r(te,"class","waffle-value svelte-1pr41wa"),r(le,"class","nation-label svelte-1pr41wa"),r(Q,"class","waffle-caption svelte-1pr41wa"),r(V,"class","waffle-stat svelte-1pr41wa"),r(t,"class","waffle-stats")},m(A,I){L(A,t,I),e(t,s),e(s,a),b.m(p,a),e(a,v),e(a,g),e(g,c),e(g,E),e(a,D),e(a,B),e(s,z),e(s,N),k.m(q,N),e(N,re),f.m(N,null),e(t,M),e(t,V),e(V,T),W.m(ee,T),e(T,ie),e(T,se),e(se,he),e(se,ce),e(T,J),e(T,j),e(V,We),e(V,te),X.m(H,te),e(te,O),G.m(te,null),e(V,ke),e(V,Q),e(Q,me),e(me,Pe),e(me,le),e(le,be)},p(A,I){I[0]&640&&p!==(p=A[18](A[7],A[9],ft)+"")&&b.p(p),I[0]&128&&u!==(u=A[7].toLocaleString()+"")&&de(E,u),I[0]&2560&&q!==(q=A[18](A[11],A[9],Ge)+"")&&k.p(q),ye!==(ye=Ye(A))&&(f.d(1),f=ye(A),f&&(f.c(),f.m(N,null))),I[0]&1280&&ee!==(ee=A[18](A[8],A[10],ft)+"")&&W.p(ee),I[0]&256&&ne!==(ne=A[8].toLocaleString()+"")&&de(ce,ne),I[0]&5120&&H!==(H=A[18](A[12],A[10],Ge)+"")&&X.p(H),Y!==(Y=R(A))&&(G.d(1),G=Y(A),G&&(G.c(),G.m(te,null))),I[0]&32&&de(be,A[5])},d(A){A&&i(t),f.d(),G.d()}}}function ps(l){let t,s="Local area costs";return{c(){t=o("span"),t.textContent=s,this.h()},l(a){t=n(a,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-pi7zpb"&&(t.textContent=s),this.h()},h(){r(t,"class","waffle-caption svelte-1pr41wa")},m(a,b){L(a,t,b)},d(a){a&&i(t)}}}function us(l){let t,s="Local area benefits";return{c(){t=o("span"),t.textContent=s,this.h()},l(a){t=n(a,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-cjpgg1"&&(t.textContent=s),this.h()},h(){r(t,"class","waffle-caption svelte-1pr41wa")},m(a,b){L(a,t,b)},d(a){a&&i(t)}}}function vs(l){let t,s="Per capita costs";return{c(){t=o("span"),t.textContent=s,this.h()},l(a){t=n(a,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-k47gg8"&&(t.textContent=s),this.h()},h(){r(t,"class","waffle-caption svelte-1pr41wa")},m(a,b){L(a,t,b)},d(a){a&&i(t)}}}function hs(l){let t,s="Per capita benefits";return{c(){t=o("span"),t.textContent=s,this.h()},l(a){t=n(a,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1jc8yoe"&&(t.textContent=s),this.h()},h(){r(t,"class","waffle-caption svelte-1pr41wa")},m(a,b){L(a,t,b)},d(a){a&&i(t)}}}function Ba(l){let t,s,a,b,p=l[53].def+"",v,g,c,u,E,D=l[53].id+"",B,y;return{c(){t=o("div"),s=o("div"),a=o("div"),b=m(),v=C(p),g=m(),c=o("br"),u=m(),E=o("a"),B=C(D),y=C(" report page"),this.h()},l(z){t=n(z,"DIV",{class:!0});var N=d(t);s=n(N,"DIV",{class:!0});var k=d(s);a=n(k,"DIV",{style:!0}),d(a).forEach(i),b=h(k),v=w(k,p),g=h(k),c=n(k,"BR",{}),u=h(k),E=n(k,"A",{class:!0,href:!0,target:!0,rel:!0,style:!0});var q=d(E);B=w(q,D),y=w(q," report page"),q.forEach(i),k.forEach(i),N.forEach(i),this.h()},h(){Ae(a,"height","0.8em"),r(E,"class","link"),r(E,"href",Ra+"/cobenefit?cobenefit="+l[53].id),r(E,"target","_blank"),r(E,"rel","noopener noreferrer"),Ae(E,"color",zt(l[53].id)),Ae(E,"text-decoration","underline"),r(s,"class","legend-description svelte-1pr41wa"),r(t,"class","legend-description-box svelte-1pr41wa")},m(z,N){L(z,t,N),e(t,s),e(s,a),e(s,b),e(s,v),e(s,g),e(s,c),e(s,u),e(s,E),e(E,B),e(E,y)},d(z){z&&i(t)}}}function Ma(l){let t,s,a,b,p,v=l[53].label+"",g,c,u,E,D=l[16].has(l[53].id)?"▲":"▼",B,y,z=l[16].has(l[53].id),N,k,q;function re(){return l[30](l[53])}let M=z&&Ba(l);return{c(){t=o("div"),s=o("div"),a=o("span"),b=m(),p=o("span"),g=C(v),u=m(),E=o("span"),B=C(D),y=m(),M&&M.c(),N=m(),this.h()},l(V){t=n(V,"DIV",{class:!0});var T=d(t);s=n(T,"DIV",{class:!0,style:!0});var W=d(s);a=n(W,"SPAN",{class:!0,style:!0}),d(a).forEach(i),b=h(W),p=n(W,"SPAN",{class:!0});var ee=d(p);g=w(ee,v),ee.forEach(i),u=h(W),E=n(W,"SPAN",{class:!0});var ie=d(E);B=w(ie,D),ie.forEach(i),W.forEach(i),y=h(T),M&&M.l(T),N=h(T),T.forEach(i),this.h()},h(){r(a,"class","legend-color svelte-1pr41wa"),Ae(a,"background-color",zt(l[53].id)),r(p,"class",c="legend-text "+(l[16].has(l[53].id)?"expanded":"")),r(E,"class","toggle-icon svelte-1pr41wa"),r(s,"class","legend-header"),Ae(s,"cursor","pointer"),r(t,"class","legend-item")},m(V,T){L(V,t,T),e(t,s),e(s,a),e(s,b),e(s,p),e(p,g),e(s,u),e(s,E),e(E,B),e(t,y),M&&M.m(t,null),e(t,N),k||(q=Nt(s,"click",re),k=!0)},p(V,T){l=V,T[0]&65536&&c!==(c="legend-text "+(l[16].has(l[53].id)?"expanded":""))&&r(p,"class",c),T[0]&65536&&D!==(D=l[16].has(l[53].id)?"▲":"▼")&&de(B,D),T[0]&65536&&(z=l[16].has(l[53].id)),z?M||(M=Ba(l),M.c(),M.m(t,N)):M&&(M.d(1),M=null)},d(V){V&&i(t),M&&M.d(),k=!1,q()}}}function ms(l){let t,s,a,b,p,v,g,c="Nation Report",u,E,D,B,y,z=`Explore how this nation will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,N,k,q,re,M,V,T,W,ee,ie,se,he,ne,ce,J,j,We=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,te,X,H,O,ke,Q,me=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,Pe,le,be,Ye,ye,f,R,Y,G,A,I,P,K,tt,Ke,pe,_e=l[19](l[3],l[6])+"",qe,fe,dt,Se,lt,nl,ol,Le,rl,il,cl,pt,Ut,fl,dl,je,Ql="",pl,De,at,xl="Click a region to visit a Local Authority Report Page",ul,st,$l="*Scroll for zooming in and out",vl,Ne,ea="",hl,Te,nt,ta=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,ml,Ve,Be,Me,Xe,bl,ut,Ft,_l,gl,ge,wl,Cl,El,vt,Gt,Al,kl,Ie,ot,la="Legend:",yl,Sl,Ll,Ze,Je,ht,Dl,Il,Pl,Qe,mt,Nl,bt,Wt,Tl,_t,Vl,we,He,xe,Bl,Ml,Hl,Rl,$e,aa=`Total gains and losses are shown at five-year
                        intervals for each co-benefit. The curve between points is smoothed to show the general
                        trends.`,zl,ue,gt,sa="Co-benefits:",Ol,Ul,Tt,Fl,rt,Gl,wt,Wl,et,na=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,Yt,it,ve;t=new Ya({});let x=l[13]&&Na(l),Re=l[17]!=="UK"&&rs(l),ze=l[17]!=="England"&&is(l),Oe=l[17]!=="Wales"&&cs(l),Ue=l[17]!=="Scotland"&&fs(l),Fe=l[17]!=="NI"&&ds(l),$=l[7]&&Va(l),Ct=Ea(Rt),Z=[];for(let _=0;_<Ct.length;_+=1)Z[_]=Ma(Pa(l,Ct,_));return it=new ss({}),{c(){Ca(t.$$.fragment),s=m(),a=o("div"),x&&x.c(),b=m(),p=o("div"),v=o("div"),g=o("p"),g.textContent=c,u=m(),E=o("h1"),D=C(l[17]),B=m(),y=o("p"),y.textContent=z,N=m(),k=o("div"),q=C("Compare "),re=C(l[17]),M=C(" against:"),V=o("br"),T=m(),Re&&Re.c(),W=m(),ze&&ze.c(),ee=m(),Oe&&Oe.c(),ie=m(),Ue&&Ue.c(),se=m(),Fe&&Fe.c(),he=m(),ne=o("div"),$&&$.c(),ce=m(),J=o("div"),j=o("div"),j.innerHTML=We,te=m(),X=o("div"),H=o("div"),O=o("h3"),ke=C(`Distribution of the cobenefit per
                        `),Q=o("span"),Q.innerHTML=me,Pe=C(`
                        compared to `),le=o("span"),be=C(l[5]),Ye=C(" Average)"),ye=m(),f=o("p"),R=C("Co-benefit values for "),Y=C(l[17]),G=C(` compared to average value of benefits
                    received across all local
                    authorities in `),A=o("span"),I=C(l[5]),P=C(" (grey)."),K=m(),tt=o("br"),Ke=m(),pe=new Ht(!1),qe=m(),fe=o("h3"),dt=C("11 types of co-benefit values (vs. "),Se=o("span"),lt=C(l[5]),nl=C(" Average)"),ol=m(),Le=o("p"),rl=C("Total co-benefit values for "),il=C(l[17]),cl=C(` compared to total benefits/costs
                    received across all local
                    authorities in `),pt=o("span"),Ut=C(l[5]),fl=C(" (grey)."),dl=m(),je=o("div"),je.innerHTML=Ql,pl=m(),De=o("div"),at=o("p"),at.textContent=xl,ul=m(),st=o("p"),st.textContent=$l,vl=m(),Ne=o("div"),Ne.innerHTML=ea,hl=m(),Te=o("div"),nt=o("div"),nt.innerHTML=ta,ml=m(),Ve=o("div"),Be=o("div"),Me=o("div"),Xe=o("h3"),bl=C("Total co-benefit distribution from 2025-2049 (vs. "),ut=o("span"),Ft=C(l[5]),_l=C(" Average)"),gl=m(),ge=o("p"),wl=C(`Aggregated values from 2025-2049
                        in `),Cl=C(l[17]),El=C(` compared to average value of benefits received across all local authorities
                        in `),vt=o("span"),Gt=C(l[5]),Al=C("."),kl=m(),Ie=o("div"),ot=o("strong"),ot.textContent=la,yl=m(),Sl=o("br"),Ll=m(),Ze=o("ul"),Je=o("li"),ht=o("span"),Dl=m(),Il=C(l[17]),Pl=m(),Qe=o("li"),mt=o("span"),Nl=m(),bt=o("span"),Wt=C(l[5]),Tl=m(),_t=o("div"),Vl=m(),we=o("div"),He=o("div"),xe=o("h3"),Bl=C("Co-benefit gain/loss for "),Ml=C(l[17]),Hl=C(" over 5 year intervals"),Rl=m(),$e=o("p"),$e.textContent=aa,zl=m(),ue=o("div"),gt=o("strong"),gt.textContent=sa,Ol=o("br"),Ul=C(`Expand for detailed explanation
                    `),Tt=o("div"),Fl=m(),rt=o("div");for(let _=0;_<Z.length;_+=1)Z[_].c();Gl=m(),wt=o("div"),Wl=m(),et=o("div"),et.innerHTML=na,Yt=m(),Ca(it.$$.fragment),this.h()},l(_){wa(t.$$.fragment,_),s=h(_),a=n(_,"DIV",{class:!0});var S=d(a);x&&x.l(S),b=h(S),p=n(S,"DIV",{class:!0,id:!0});var F=d(p);v=n(F,"DIV",{});var Ce=d(v);g=n(Ce,"P",{class:!0,"data-svelte-h":!0}),U(g)!=="svelte-1winx08"&&(g.textContent=c),u=h(Ce),E=n(Ce,"H1",{class:!0});var oa=d(E);D=w(oa,l[17]),oa.forEach(i),B=h(Ce),y=n(Ce,"P",{class:!0,"data-svelte-h":!0}),U(y)!=="svelte-r4nhpp"&&(y.textContent=z),N=h(Ce),k=n(Ce,"DIV",{class:!0});var ae=d(k);q=w(ae,"Compare "),re=w(ae,l[17]),M=w(ae," against:"),V=n(ae,"BR",{}),T=h(ae),Re&&Re.l(ae),W=h(ae),ze&&ze.l(ae),ee=h(ae),Oe&&Oe.l(ae),ie=h(ae),Ue&&Ue.l(ae),se=h(ae),Fe&&Fe.l(ae),ae.forEach(i),Ce.forEach(i),he=h(F),ne=n(F,"DIV",{});var ra=d(ne);$&&$.l(ra),ra.forEach(i),F.forEach(i),ce=h(S),J=n(S,"DIV",{class:!0,id:!0});var Kt=d(J);j=n(Kt,"DIV",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-lw225h"&&(j.innerHTML=We),te=h(Kt),X=n(Kt,"DIV",{id:!0,class:!0});var qt=d(X);H=n(qt,"DIV",{class:!0});var oe=d(H);O=n(oe,"H3",{class:!0});var Et=d(O);ke=w(Et,`Distribution of the cobenefit per
                        `),Q=n(Et,"SPAN",{class:!0,"data-svelte-h":!0}),U(Q)!=="svelte-z1whcf"&&(Q.innerHTML=me),Pe=w(Et,`
                        compared to `),le=n(Et,"SPAN",{class:!0});var ia=d(le);be=w(ia,l[5]),ia.forEach(i),Ye=w(Et," Average)"),Et.forEach(i),ye=h(oe),f=n(oe,"P",{class:!0});var At=d(f);R=w(At,"Co-benefit values for "),Y=w(At,l[17]),G=w(At,` compared to average value of benefits
                    received across all local
                    authorities in `),A=n(At,"SPAN",{class:!0});var ca=d(A);I=w(ca,l[5]),ca.forEach(i),P=w(At," (grey)."),At.forEach(i),K=h(oe),tt=n(oe,"BR",{}),Ke=h(oe),pe=Mt(oe,!1),qe=h(oe),fe=n(oe,"H3",{class:!0});var jt=d(fe);dt=w(jt,"11 types of co-benefit values (vs. "),Se=n(jt,"SPAN",{class:!0});var fa=d(Se);lt=w(fa,l[5]),fa.forEach(i),nl=w(jt," Average)"),jt.forEach(i),ol=h(oe),Le=n(oe,"P",{class:!0});var kt=d(Le);rl=w(kt,"Total co-benefit values for "),il=w(kt,l[17]),cl=w(kt,` compared to total benefits/costs
                    received across all local
                    authorities in `),pt=n(kt,"SPAN",{class:!0});var da=d(pt);Ut=w(da,l[5]),da.forEach(i),fl=w(kt," (grey)."),kt.forEach(i),dl=h(oe),je=n(oe,"DIV",{class:!0,"data-svelte-h":!0}),U(je)!=="svelte-11dzfub"&&(je.innerHTML=Ql),oe.forEach(i),pl=h(qt),De=n(qt,"DIV",{class:!0});var yt=d(De);at=n(yt,"P",{class:!0,"data-svelte-h":!0}),U(at)!=="svelte-1mqsppq"&&(at.textContent=xl),ul=h(yt),st=n(yt,"P",{class:!0,"data-svelte-h":!0}),U(st)!=="svelte-vsj698"&&(st.textContent=$l),vl=h(yt),Ne=n(yt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(Ne)!=="svelte-ipahrb"&&(Ne.innerHTML=ea),yt.forEach(i),qt.forEach(i),Kt.forEach(i),hl=h(S),Te=n(S,"DIV",{class:!0,id:!0});var Xt=d(Te);nt=n(Xt,"DIV",{class:!0,"data-svelte-h":!0}),U(nt)!=="svelte-10cbt4"&&(nt.innerHTML=ta),ml=h(Xt),Ve=n(Xt,"DIV",{id:!0,class:!0});var Zt=d(Ve);Be=n(Zt,"DIV",{id:!0,class:!0});var Jt=d(Be);Me=n(Jt,"DIV",{});var St=d(Me);Xe=n(St,"H3",{class:!0});var Qt=d(Xe);bl=w(Qt,"Total co-benefit distribution from 2025-2049 (vs. "),ut=n(Qt,"SPAN",{class:!0});var pa=d(ut);Ft=w(pa,l[5]),pa.forEach(i),_l=w(Qt," Average)"),Qt.forEach(i),gl=h(St),ge=n(St,"P",{class:!0,style:!0});var Lt=d(ge);wl=w(Lt,`Aggregated values from 2025-2049
                        in `),Cl=w(Lt,l[17]),El=w(Lt,` compared to average value of benefits received across all local authorities
                        in `),vt=n(Lt,"SPAN",{class:!0});var ua=d(vt);Gt=w(ua,l[5]),ua.forEach(i),Al=w(Lt,"."),Lt.forEach(i),kl=h(St),Ie=n(St,"DIV",{class:!0});var Dt=d(Ie);ot=n(Dt,"STRONG",{style:!0,"data-svelte-h":!0}),U(ot)!=="svelte-1fi0dip"&&(ot.textContent=la),yl=h(Dt),Sl=n(Dt,"BR",{}),Ll=h(Dt),Ze=n(Dt,"UL",{class:!0});var xt=d(Ze);Je=n(xt,"LI",{class:!0});var $t=d(Je);ht=n($t,"SPAN",{class:!0,style:!0}),d(ht).forEach(i),Dl=h($t),Il=w($t,l[17]),$t.forEach(i),Pl=h(xt),Qe=n(xt,"LI",{class:!0});var el=d(Qe);mt=n(el,"SPAN",{class:!0,style:!0}),d(mt).forEach(i),Nl=h(el),bt=n(el,"SPAN",{class:!0});var va=d(bt);Wt=w(va,l[5]),va.forEach(i),el.forEach(i),xt.forEach(i),Dt.forEach(i),St.forEach(i),Tl=h(Jt),_t=n(Jt,"DIV",{class:!0}),d(_t).forEach(i),Jt.forEach(i),Vl=h(Zt),we=n(Zt,"DIV",{id:!0,class:!0});var It=d(we);He=n(It,"DIV",{});var Pt=d(He);xe=n(Pt,"H3",{class:!0});var tl=d(xe);Bl=w(tl,"Co-benefit gain/loss for "),Ml=w(tl,l[17]),Hl=w(tl," over 5 year intervals"),tl.forEach(i),Rl=h(Pt),$e=n(Pt,"P",{class:!0,style:!0,"data-svelte-h":!0}),U($e)!=="svelte-1na17f1"&&($e.textContent=aa),zl=h(Pt),ue=n(Pt,"DIV",{id:!0,class:!0});var ct=d(ue);gt=n(ct,"STRONG",{"data-svelte-h":!0}),U(gt)!=="svelte-1qu96kx"&&(gt.textContent=sa),Ol=n(ct,"BR",{}),Ul=w(ct,`Expand for detailed explanation
                    `),Tt=n(ct,"DIV",{style:!0}),d(Tt).forEach(i),Fl=h(ct),rt=n(ct,"DIV",{class:!0});var ha=d(rt);for(let Yl=0;Yl<Z.length;Yl+=1)Z[Yl].l(ha);ha.forEach(i),ct.forEach(i),Pt.forEach(i),Gl=h(It),wt=n(It,"DIV",{class:!0}),d(wt).forEach(i),Wl=h(It),et=n(It,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(et)!=="svelte-1xqy5mf"&&(et.innerHTML=na),It.forEach(i),Zt.forEach(i),Xt.forEach(i),S.forEach(i),Yt=h(_),wa(it.$$.fragment,_),this.h()},h(){r(g,"class","page-subtitle"),r(E,"class","page-title"),r(y,"class","description"),r(k,"class","radio-set"),r(p,"class","section header header-row svelte-1pr41wa"),r(p,"id","head"),r(j,"class","section-header"),r(Q,"class","tooltip-term"),r(le,"class","nation-label svelte-1pr41wa"),r(O,"class","component-title"),r(A,"class","nation-label svelte-1pr41wa"),r(f,"class","description"),pe.a=qe,r(Se,"class","nation-label svelte-1pr41wa"),r(fe,"class","component-title"),r(pt,"class","nation-label svelte-1pr41wa"),r(Le,"class","description"),r(je,"class","plot"),r(H,"class","component column"),r(at,"class","description"),r(st,"class","description"),r(Ne,"id","map"),r(Ne,"class","svelte-1pr41wa"),r(De,"class","component column"),r(X,"id","vis-block"),r(X,"class","svelte-1pr41wa"),r(J,"class","section"),r(J,"id","overview"),r(nt,"class","section-header"),r(ut,"class","nation-label svelte-1pr41wa"),r(Xe,"class","component-title"),r(vt,"class","nation-label svelte-1pr41wa"),r(ge,"class","description"),Ae(ge,"margin-bottom","5px"),Ae(ot,"margin-bottom","0.5rem"),r(ht,"class","legend-color svelte-1pr41wa"),Ae(ht,"background-color",ft),r(Je,"class","svelte-1pr41wa"),r(mt,"class","legend-color svelte-1pr41wa"),Ae(mt,"background-color",Ge),r(bt,"class","nation-label svelte-1pr41wa"),r(Qe,"class","svelte-1pr41wa"),r(Ze,"class","legend-list svelte-1pr41wa"),r(Ie,"class","legend-box svelte-1pr41wa"),r(_t,"class","plot side svelte-1pr41wa"),r(Be,"id","main-block"),r(Be,"class","component-left column svelte-1pr41wa"),r(xe,"class","component-title"),r($e,"class","description"),Ae($e,"margin-bottom","5px"),Ae(Tt,"height","0.8em"),r(rt,"class","legend-items-grid svelte-1pr41wa"),r(ue,"id","main-legend"),r(ue,"class","legend-box svelte-1pr41wa"),r(wt,"class","plot side svelte-1pr41wa"),r(et,"id","main-disclaimer"),r(et,"class","disclaimer-box svelte-1pr41wa"),r(we,"id","main-block"),r(we,"class","component-right column svelte-1pr41wa"),r(Ve,"id","vis-block"),r(Ve,"class","svelte-1pr41wa"),r(Te,"class","section"),r(Te,"id","temporal"),r(a,"class","page-container")},m(_,S){ga(t,_,S),L(_,s,S),L(_,a,S),x&&x.m(a,null),e(a,b),e(a,p),e(p,v),e(v,g),e(v,u),e(v,E),e(E,D),e(v,B),e(v,y),e(v,N),e(v,k),e(k,q),e(k,re),e(k,M),e(k,V),e(k,T),Re&&Re.m(k,null),e(k,W),ze&&ze.m(k,null),e(k,ee),Oe&&Oe.m(k,null),e(k,ie),Ue&&Ue.m(k,null),e(k,se),Fe&&Fe.m(k,null),e(p,he),e(p,ne),$&&$.m(ne,null),e(a,ce),e(a,J),e(J,j),e(J,te),e(J,X),e(X,H),e(H,O),e(O,ke),e(O,Q),e(O,Pe),e(O,le),e(le,be),e(O,Ye),e(H,ye),e(H,f),e(f,R),e(f,Y),e(f,G),e(f,A),e(A,I),e(f,P),e(H,K),e(H,tt),e(H,Ke),pe.m(_e,H),e(H,qe),e(H,fe),e(fe,dt),e(fe,Se),e(Se,lt),e(fe,nl),e(H,ol),e(H,Le),e(Le,rl),e(Le,il),e(Le,cl),e(Le,pt),e(pt,Ut),e(Le,fl),e(H,dl),e(H,je),l[27](je),e(X,pl),e(X,De),e(De,at),e(De,ul),e(De,st),e(De,vl),e(De,Ne),l[28](Ne),e(a,hl),e(a,Te),e(Te,nt),e(Te,ml),e(Te,Ve),e(Ve,Be),e(Be,Me),e(Me,Xe),e(Xe,bl),e(Xe,ut),e(ut,Ft),e(Xe,_l),e(Me,gl),e(Me,ge),e(ge,wl),e(ge,Cl),e(ge,El),e(ge,vt),e(vt,Gt),e(ge,Al),e(Me,kl),e(Me,Ie),e(Ie,ot),e(Ie,yl),e(Ie,Sl),e(Ie,Ll),e(Ie,Ze),e(Ze,Je),e(Je,ht),e(Je,Dl),e(Je,Il),e(Ze,Pl),e(Ze,Qe),e(Qe,mt),e(Qe,Nl),e(Qe,bt),e(bt,Wt),e(Be,Tl),e(Be,_t),l[29](_t),e(Ve,Vl),e(Ve,we),e(we,He),e(He,xe),e(xe,Bl),e(xe,Ml),e(xe,Hl),e(He,Rl),e(He,$e),e(He,zl),e(He,ue),e(ue,gt),e(ue,Ol),e(ue,Ul),e(ue,Tt),e(ue,Fl),e(ue,rt);for(let F=0;F<Z.length;F+=1)Z[F]&&Z[F].m(rt,null);e(we,Gl),e(we,wt),l[31](wt),e(we,Wl),e(we,et),l[32](a),L(_,Yt,S),ga(it,_,S),ve=!0},p(_,S){if(_[13]?x?x.p(_,S):(x=Na(_),x.c(),x.m(a,b)):x&&(x.d(1),x=null),_[17]!=="UK"&&Re.p(_,S),_[17]!=="England"&&ze.p(_,S),_[17]!=="Wales"&&Oe.p(_,S),_[17]!=="Scotland"&&Ue.p(_,S),_[17]!=="NI"&&Fe.p(_,S),_[7]?$?$.p(_,S):($=Va(_),$.c(),$.m(ne,null)):$&&($.d(1),$=null),(!ve||S[0]&32)&&de(be,_[5]),(!ve||S[0]&32)&&de(I,_[5]),(!ve||S[0]&72)&&_e!==(_e=_[19](_[3],_[6])+"")&&pe.p(_e),(!ve||S[0]&32)&&de(lt,_[5]),(!ve||S[0]&32)&&de(Ut,_[5]),(!ve||S[0]&32)&&de(Ft,_[5]),(!ve||S[0]&32)&&de(Gt,_[5]),(!ve||S[0]&32)&&de(Wt,_[5]),S[0]&1114112){Ct=Ea(Rt);let F;for(F=0;F<Ct.length;F+=1){const Ce=Pa(_,Ct,F);Z[F]?Z[F].p(Ce,S):(Z[F]=Ma(Ce),Z[F].c(),Z[F].m(rt,null))}for(;F<Z.length;F+=1)Z[F].d(1);Z.length=Ct.length}},i(_){ve||(_a(t.$$.fragment,_),_a(it.$$.fragment,_),ve=!0)},o(_){ba(t.$$.fragment,_),ba(it.$$.fragment,_),ve=!1},d(_){_&&(i(s),i(a),i(Yt)),ma(t,_),x&&x.d(),Re&&Re.d(),ze&&ze.d(),Oe&&Oe.d(),Ue&&Ue.d(),Fe&&Fe.d(),$&&$.d(),l[27](null),l[28](null),l[29](null),Fa(Z,_),l[31](null),l[32](null),ma(it,_)}}}let sl=400;function Ha(l){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[l]||""}function Jl(l){const t=l.querySelector("figure");t&&t.remove();const s=l.querySelector("svg");s&&s.remove()}function bs(l,t,s){let a,b,p,v,g="barchart",{data:c}=t;const u=c.nation;let E="UK",D,B,y,z,N,k,q,re,M,V,T,W,ee=!1;async function ie(){s(3,D=await Ee(Sa())),B=await Ee($a()),console.log("allCBsAllZones",B),D.forEach(f=>{f.isPageLAD=f.Nation==u}),s(24,y=await Ee(La([]))),console.log("totalCBAllLAD",y),await Ee(es(Rt.map(f=>f.id))),s(25,z=await Ee(Da())),console.log("allCBAllLADSUM",z),s(6,N=await Ee(ts(u))),k=await Ee(ls(u)),console.log("oneNationAllCbs",k),s(7,q=(Ka(N,f=>f.total)/1e3).toFixed(3)),s(9,M=ns(y,f=>f.val)/1e3),s(8,re=(Kl(N,f=>f.totalPerCapita)*1e6).toFixed(1)),s(10,V=await Ee(as({limit:1,sortBy:"per_capita"}))),s(10,V=V[0].value_per_capita),s(26,ee=!0),Qa(a)}ie().then(()=>{J=new Za(N,"LSOA",j,"total",!1,"Lookup_Value",!1),J.initMap()});let se=!1,he="";const ne=["overview","temporal","households"];function ce(){const f=window.scrollY;s(13,se=f>100);for(const R of ne){const Y=document.getElementById(R);if(!Y)continue;const G=Y.getBoundingClientRect();if(G.top<=150&&G.bottom>=150){he!==R&&al.capture("section entered (lad)",{section_name:R}),s(14,he=R);break}}}let J,j;Ga(()=>(Ja(a),window.addEventListener("scroll",ce),ce(),()=>window.removeEventListener("scroll",ce))),Wa(()=>{window.removeEventListener("scroll",ce)});function We(f,R,Y="black"){return Bt({width:80,height:20,margin:0,x:{domain:[0,R],axis:null},marks:[qa([f],{x:A=>A,y:0,fill:Y})]}).outerHTML}function te(f,R){if(!f||!R)return;let Y=f.filter(A=>A.total<20);return Bt({height:sl/1.6,...jl,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[Zl(Y,Ia({y:(A,I)=>A.length/Y.length/(I.x2-I.x1)},{x:"total",fill:Ge,stroke:Ge,fillOpacity:.3,strokeWidth:2})),Zl(R,Ia({y:(A,I)=>A.length/R.length/(I.x2-I.x1)},{x:"total",tip:!0,fill:ft,stroke:"black",fillOpacity:.3,strokeWidth:2})),ja([0],{stroke:"#1E1E1E",strokeWidth:1}),Aa({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),ka({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function X(){if(b){let f=Bt({height:sl/1,width:811,...jl,marginBottom:80,marginTop:30,marginLeft:80,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:zt.range(),domain:zt.domain()},marks:[ql(z,ll({y:"sum"},{y:"val",x:"co_benefit_type",dx:12,fill:Ge,sort:{x:"y",reverse:!0},tip:!0})),ql(k,ll({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:R=>zt(R.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),Aa({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),ka({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),ya([0],{stroke:"#333",strokeWidth:.75})]});os(f).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(R,Y,G)=>{let A=R.target.textContent,I=Rt.find(P=>P.id==A);window.open(`${Ra}/cobenefit?cobenefit=${I.id}`,"_blank").focus()}),b.append(f)}}function H(){let f=N.flatMap(P=>Xl.map(K=>({time:K,value:P[K],scenario:P.scenario,zone:"local"}))),R=D.flatMap(P=>Xl.map(K=>({time:K,value:P[K],scenario:P.scenario,zone:"UK"}))),Y=f.concat(R),G=Bt({height:sl*1.5,width:800,...jl,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£Billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[Ge,ft],legend:!1},marks:[ql(Y,ll({y:"mean"},{x:"zone",fx:"time",y:"value",tip:!1,fill:"zone"})),Xa({anchor:"bottom",tickFormat:P=>P.replace(/^Y/,"").replace("_","-"),label:"Years"})]});p?.append(G);let A=k.flatMap(P=>Xl.map(K=>({time:K,value:P[K],cobenefit:P.co_benefit_type}))),I=Bt({height:sl,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1},x:{label:"Years",tickFormat:P=>P.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:xa,domain:Rt.map(P=>P.id)},marks:[Zl(A,ll({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:P=>`${(+P).toFixed(3)}`,x:P=>`${P.replace(/^Y/,"").replace("_","-")}`,fill:P=>`${P}`}}})),ya([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});v?.append(I)}let O=new Set;function ke(f){O.has(f)?O.delete(f):O.add(f),s(16,O=new Set(O))}async function Q(f){s(5,E=f.currentTarget.value),console.log(232323333,E),s(25,z=await Ee(Da("total",E))),s(24,y=await Ee(La([],E))),s(3,D=await Ee(Sa(E))),al.capture("clicked nation filter",{nation:E})}function me(f){Vt[f?"unshift":"push"](()=>{b=f,s(0,b)})}function Pe(f){Vt[f?"unshift":"push"](()=>{j=f,s(15,j)})}function le(f){Vt[f?"unshift":"push"](()=>{p=f,s(1,p)})}const be=f=>{const R=O.has(f.id);ke(f.id),R?al.capture("cobenefit closed",{cobenefit:f.label}):al.capture("cobenefit opened",{cobenefit:f.label})};function Ye(f){Vt[f?"unshift":"push"](()=>{v=f,s(2,v)})}function ye(f){Vt[f?"unshift":"push"](()=>{a=f,s(4,a)})}return l.$$set=f=>{"data"in f&&s(22,c=f.data)},l.$$.update=()=>{l.$$.dirty[0]&16777216&&y&&(s(11,T=Kl(y.map(f=>f.val))/1e3),s(12,W=Kl(y.map(f=>f.value_per_capita))*1e5)),l.$$.dirty[0]&125829135&&(b&&Jl(b),console.log("PLOT",b),p&&Jl(p),v&&Jl(v),ee&&z&&y&&D&&(X(),H()))},[b,p,v,D,a,E,N,q,re,M,V,T,W,se,he,j,O,u,We,te,ke,Q,c,g,y,z,ee,me,Pe,le,be,Ye,ye]}class Vs extends za{constructor(t){super(),Oa(this,t,bs,ms,Ua,{data:22},null,[-1,-1])}}export{Vs as component};
