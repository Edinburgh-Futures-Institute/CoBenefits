import{s as Cr,a as y,e as r,t as w,H as xl,g as E,c as o,b,p as K,d as A,f as p,A as kl,q as s,v as Le,i as Ae,h as e,w as wl,j as ge,x as Vs,E as wr,y as Ar,z as xr,n as kr,B as Lt}from"../chunks/scheduler.CM2kgFFE.js";import{S as Lr,i as Dr,c as Bs,b as Hs,m as Rs,t as Fs,a as Os,d as Us}from"../chunks/index.BdkIKoLm.js";import{N as Sr,e as Gn}from"../chunks/NavigationBar.CFUb0EZO.js";import"../chunks/transform.BNP73y-7.js";import{ap as dr,aq as hr,aA as Jn,q as Tr,r as jr,M as vr,aH as pr,S as Ir,c as mr,b as br,d as gr,aI as Mr,e as _r,aJ as Pr,aK as qr,U as yr,V as ia,h as Nr,i as zr,aL as Vr,aM as Br,aN as Hr,aO as Rr,l as Fr,F as Or,X as Wn,G as qe,K as Ur,Q as aa,J as Kn,R as it,N as Re,H as Gs,W as Ws,aP as Gr}from"../chunks/index.gHFfw6XA.js";import{b as Qn}from"../chunks/paths.xPwmG4u-.js";import"../chunks/entry.Dtcqh0c-.js";import{M as Wr,g as Ks}from"../chunks/mapUK.0-O1uRri.js";import{V as St,A as _e,i as ra,a as oa,c as Ys,r as Kr,j as Yr,M as $e,S as Xr,d as Xs,e as na,h as Zs,u as Zr,v as Jr,T as Yn,f as Qr}from"../chunks/globals.BMR0Okvs.js";import{g as Fe,s as Js,t as $r,k as Qs,u as eo,v as $s,w as to,x as lo,q as ao}from"../chunks/duckdb.Co2YYQIk.js";import{F as no}from"../chunks/Footer.Bvl_pHdR.js";import{a as Xn,b as Ut}from"../chunks/bar.DO1Cp6Am.js";import{m as so,c as er,s as ro,a as Al}from"../chunks/area.B7tI0lk7.js";import{t as oo,m as io,b as sa}from"../chunks/bin.4FhIxFiV.js";import{n as co}from"../chunks/nice.ZYjiKfzK.js";import{d as tr}from"../chunks/dot.CFFCJmC7.js";const uo=fo(ho);function fo(t){return function(l,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!n&&!a)return l;const v=n&&t(n),C=a&&t(a),f=u.slice();return v&&C?(yl(v,f,u,i,c),yl(v,u,f,i,c),yl(v,f,u,i,c),El(C,u,f,i,c),El(C,f,u,i,c),El(C,u,f,i,c)):v?(yl(v,u,f,i,c),yl(v,f,u,i,c),yl(v,u,f,i,c)):C&&(El(C,u,f,i,c),El(C,f,u,i,c),El(C,u,f,i,c)),l}}function yl(t,l,n,a,u){for(let i=0,c=a*u;i<c;)t(l,n,i,i+=a,1)}function El(t,l,n,a,u){for(let i=0,c=a*u;i<a;++i)t(l,n,i,i+c,a)}function ho(t){const l=Math.floor(t);if(l===t)return vo(t);const n=t-l,a=2*t+1;return(u,i,c,v,C)=>{if(!((v-=C)>=c))return;let f=l*i[c];const h=C*l,L=h+C;for(let _=c,S=c+h;_<S;_+=C)f+=i[Math.min(v,_)];for(let _=c,S=v;_<=S;_+=C)f+=i[Math.min(v,_+h)],u[_]=(f+n*(i[Math.max(c,_-L)]+i[Math.min(v,_+L)]))/a,f-=i[Math.max(c,_-h)]}}function vo(t){const l=2*t+1;return(n,a,u,i,c)=>{if(!((i-=c)>=u))return;let v=t*a[u];const C=c*t;for(let f=u,h=u+C;f<h;f+=c)v+=a[Math.min(i,f)];for(let f=u,h=i;f<=h;f+=c)v+=a[Math.min(i,f+C)],n[f]=v/l,v-=a[Math.max(u,f-C)]}}var po=Array.prototype,Er=po.slice;function mo(t,l){return t-l}function bo(t){for(var l=0,n=t.length,a=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++l<n;)a+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return a}const Dt=t=>()=>t;function go(t,l){for(var n=-1,a=l.length,u;++n<a;)if(u=_o(t,l[n]))return u;return 0}function _o(t,l){for(var n=l[0],a=l[1],u=-1,i=0,c=t.length,v=c-1;i<c;v=i++){var C=t[i],f=C[0],h=C[1],L=t[v],_=L[0],S=L[1];if(yo(C,L,l))return 0;h>a!=S>a&&n<(_-f)*(a-h)/(S-h)+f&&(u=-u)}return u}function yo(t,l,n){var a;return Eo(t,l,n)&&Co(t[a=+(t[0]===l[0])],n[a],l[a])}function Eo(t,l,n){return(l[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(l[1]-t[1])}function Co(t,l,n){return t<=l&&l<=n||n<=l&&l<=t}function wo(){}var ct=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function lr(){var t=1,l=1,n=oo,a=C;function u(f){var h=n(f);if(Array.isArray(h))h=h.slice().sort(mo);else{const L=dr(f,Ao);for(h=hr(...co(L[0],L[1],h),h);h[h.length-1]>=L[1];)h.pop();for(;h[1]<L[0];)h.shift()}return h.map(L=>i(f,L))}function i(f,h){const L=h==null?NaN:+h;if(isNaN(L))throw new Error(`invalid value: ${h}`);var _=[],S=[];return c(f,L,function(D){a(D,f,L),bo(D)>0?_.push([D]):S.push(D)}),S.forEach(function(D){for(var x=0,I=_.length,g;x<I;++x)if(go((g=_[x])[0],D)!==-1){g.push(D);return}}),{type:"MultiPolygon",value:h,coordinates:_}}function c(f,h,L){var _=new Array,S=new Array,D,x,I,g,m,T;for(D=x=-1,g=Gt(f[0],h),ct[g<<1].forEach(j);++D<t-1;)I=g,g=Gt(f[D+1],h),ct[I|g<<1].forEach(j);for(ct[g<<0].forEach(j);++x<l-1;){for(D=-1,g=Gt(f[x*t+t],h),m=Gt(f[x*t],h),ct[g<<1|m<<2].forEach(j);++D<t-1;)I=g,g=Gt(f[x*t+t+D+1],h),T=m,m=Gt(f[x*t+D+1],h),ct[I|g<<1|m<<2|T<<3].forEach(j);ct[g|m<<3].forEach(j)}for(D=-1,m=f[x*t]>=h,ct[m<<2].forEach(j);++D<t-1;)T=m,m=Gt(f[x*t+D+1],h),ct[m<<2|T<<3].forEach(j);ct[m<<3].forEach(j);function j(P){var B=[P[0][0]+D,P[0][1]+x],q=[P[1][0]+D,P[1][1]+x],G=v(B),H=v(q),M,N;(M=S[G])?(N=_[H])?(delete S[M.end],delete _[N.start],M===N?(M.ring.push(q),L(M.ring)):_[M.start]=S[N.end]={start:M.start,end:N.end,ring:M.ring.concat(N.ring)}):(delete S[M.end],M.ring.push(q),S[M.end=H]=M):(M=_[H])?(N=S[G])?(delete _[M.start],delete S[N.end],M===N?(M.ring.push(q),L(M.ring)):_[N.start]=S[M.end]={start:N.start,end:M.end,ring:N.ring.concat(M.ring)}):(delete _[M.start],M.ring.unshift(B),_[M.start=G]=M):_[G]=S[H]={start:G,end:H,ring:[B,q]}}}function v(f){return f[0]*2+f[1]*(t+1)*4}function C(f,h,L){f.forEach(function(_){var S=_[0],D=_[1],x=S|0,I=D|0,g=Zn(h[I*t+x]);S>0&&S<t&&x===S&&(_[0]=ar(S,Zn(h[I*t+x-1]),g,L)),D>0&&D<l&&I===D&&(_[1]=ar(D,Zn(h[(I-1)*t+x]),g,L))})}return u.contour=i,u.size=function(f){if(!arguments.length)return[t,l];var h=Math.floor(f[0]),L=Math.floor(f[1]);if(!(h>=0&&L>=0))throw new Error("invalid size");return t=h,l=L,u},u.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?Dt(Er.call(f)):Dt(f),u):n},u.smooth=function(f){return arguments.length?(a=f?C:wo,u):a===C},u}function Ao(t){return isFinite(t)?t:NaN}function Gt(t,l){return t==null?!1:+t>=l}function Zn(t){return t==null||isNaN(t=+t)?-1/0:t}function ar(t,l,n,a){const u=a-l,i=n-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function xo(t){return t[0]}function ko(t){return t[1]}function Lo(){return 1}function Do(){var t=xo,l=ko,n=Lo,a=960,u=500,i=20,c=2,v=i*3,C=a+v*2>>c,f=u+v*2>>c,h=Dt(20);function L(m){var T=new Float32Array(C*f),j=Math.pow(2,-c),P=-1;for(const z of m){var B=(t(z,++P,m)+v)*j,q=(l(z,P,m)+v)*j,G=+n(z,P,m);if(G&&B>=0&&B<C&&q>=0&&q<f){var H=Math.floor(B),M=Math.floor(q),N=B-H-.5,re=q-M-.5;T[H+M*C]+=(1-N)*(1-re)*G,T[H+1+M*C]+=N*(1-re)*G,T[H+1+(M+1)*C]+=N*re*G,T[H+(M+1)*C]+=(1-N)*re*G}}return uo({data:T,width:C,height:f},i*j),T}function _(m){var T=L(m),j=h(T),P=Math.pow(2,2*c);return Array.isArray(j)||(j=hr(Number.MIN_VALUE,Jn(T)/P,j)),lr().size([C,f]).thresholds(j.map(B=>B*P))(T).map((B,q)=>(B.value=+j[q],S(B)))}_.contours=function(m){var T=L(m),j=lr().size([C,f]),P=Math.pow(2,2*c),B=q=>{q=+q;var G=S(j.contour(T,q*P));return G.value=q,G};return Object.defineProperty(B,"max",{get:()=>Jn(T)/P}),B};function S(m){return m.coordinates.forEach(D),m}function D(m){m.forEach(x)}function x(m){m.forEach(I)}function I(m){m[0]=m[0]*Math.pow(2,c)-v,m[1]=m[1]*Math.pow(2,c)-v}function g(){return v=i*3,C=a+v*2>>c,f=u+v*2>>c,_}return _.x=function(m){return arguments.length?(t=typeof m=="function"?m:Dt(+m),_):t},_.y=function(m){return arguments.length?(l=typeof m=="function"?m:Dt(+m),_):l},_.weight=function(m){return arguments.length?(n=typeof m=="function"?m:Dt(+m),_):n},_.size=function(m){if(!arguments.length)return[a,u];var T=+m[0],j=+m[1];if(!(T>=0&&j>=0))throw new Error("invalid size");return a=T,u=j,g()},_.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),g()},_.thresholds=function(m){return arguments.length?(h=typeof m=="function"?m:Array.isArray(m)?Dt(Er.call(m)):Dt(m),_):h},_.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,g()},_}const So={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class To extends vr{constructor(l,n={}){const{x:a,y:u,z:i,curve:c,tension:v}=n;super(l,{x:{value:a,scale:"x"},y:{value:u,scale:"y"},z:{value:pr(n),optional:!0}},n,So),this.z=i,this.curve=so(c,v),Ir(this,n)}filter(l){return l}project(l,n,a){this.curve!==er&&super.project(l,n,a)}render(l,n,a,u,i){const{x:c,y:v}=a,{curve:C}=this;return mr("svg:g",i).call(br,this,u,i).call(gr,this,n).call(f=>f.selectAll().data(Mr(l,[c,v],this,a)).enter().append("path").call(_r,this).call(Pr,this,a).call(qr,this,a,i).attr("d",C===er&&i.projection?jo(i.projection,c,v):ro().curve(C).defined(h=>h>=0).x(h=>c[h]).y(h=>v[h]))).node()}}function jo(t,l,n){const a=yr(t);return l=ia(l),n=ia(n),u=>{let i=[];const c=[i];for(const v of u)v===-1?(i=[],c.push(i)):i.push([l[v],n[v]]);return a({type:"MultiLineString",coordinates:c})}}function Io(t,{x:l=Tr,y:n=jr,...a}={}){return new To(t,io({...a,x:l,y:n}))}const Mo={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Po extends vr{constructor(l,{x:n,y:a,z:u,weight:i,fill:c,stroke:v,...C}={}){const f=sr(c)&&(c="currentColor",!0),h=sr(v)&&(v="currentColor",!0);super(l,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:pr({z:u,fill:c,stroke:v}),optional:!0},weight:{value:i,optional:!0}},No({...C,fill:c,stroke:v},f,h),Mo),f&&(this.fill=void 0),h&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,n,a,u,i){const{contours:c}=a,v=yr();return mr("svg:g",i).call(br,this,u,i).call(gr,this,{}).call(C=>C.selectAll().data(l).enter().append("path").call(_r,this).call(Nr,this,a).attr("d",f=>v(c[f]))).node()}}function nr(t,{x:l,y:n,...a}={}){return[l,n]=zr(l,n),new Po(t,{...a,x:l,y:n})}const qo=new Set(["x","y","z","weight"]);function No(t,l,n){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?ia(i):+i,Vr(t,function(c,v,C,f,h,L){const _=C.weight?ia(C.weight.value):null,S=C.z?.value,{z:D}=this,[x,I]=Fr(this,h),{width:g,height:m}=h,{x:T,y:j}=Br(C,f,L),P=Object.fromEntries(Object.entries(C).filter(([z])=>!qo.has(z)).map(([z,Q])=>[z,{...Q,value:[]}])),B=l&&[],q=n&&[],G=Do().x(T?z=>T[z]:x).y(j?z=>j[z]:I).weight(_?z=>_[z]:1).size([g,m]).bandwidth(u),H=[];for(const z of v){const Q=[];H.push(Q);for(const ae of S?Hr(z,S,D):[z]){const O=G.contours(ae);Q.push([ae,O])}}let M=i;if(!(M instanceof Rr)){let z=0;for(const Q of H)for(const[,ae]of Q){const O=ae.max;O>z&&(z=O)}M=Float64Array.from({length:i-1},(Q,ae)=>z*100*(ae+1)/i)}const N=[],re=[];for(const z of H){const Q=[];N.push(Q);for(const[ae,O]of z)for(const ie of M){Q.push(re.length),re.push(O(ie/100)),B&&B.push(ie),q&&q.push(ie);for(const ve in P)P[ve].value.push(C[ve].value[ae[0]])}}return B&&B.push(0),q&&q.push(0),{data:c,facets:N,channels:{...P,...B&&{fill:{value:B,scale:"color"}},...q&&{stroke:{value:q,scale:"color"}},contours:{value:re}}}})}function sr(t){return/^density$/i.test(t)}function rr(t,l,n){const a=t.slice();return a[56]=l[n],a[57]=l,a[58]=n,a}function zo(t,l,n){const a=t.slice();return a[59]=l[n],a}function or(t){let l,n,a,u=t[19][t[18]]+"",i,c,v,C=fr(t[16])+"",f,h=t[9]&&ir(t);return{c(){l=r("div"),n=r("div"),a=r("span"),i=w(u),c=y(),h&&h.c(),v=w(`
              >> `),f=w(C),this.h()},l(L){l=o(L,"DIV",{class:!0});var _=b(l);n=o(_,"DIV",{class:!0});var S=b(n);a=o(S,"SPAN",{class:!0});var D=b(a);i=A(D,u),c=E(D),h&&h.l(D),v=A(D,`
              >> `),f=A(D,C),D.forEach(p),S.forEach(p),_.forEach(p),this.h()},h(){s(a,"class","mini-header-text"),s(n,"class","mini-header-content"),s(l,"class","mini-header")},m(L,_){Ae(L,l,_),e(l,n),e(n,a),e(a,i),e(a,c),h&&h.m(a,null),e(a,v),e(a,f)},p(L,_){L[9]?h?h.p(L,_):(h=ir(L),h.c(),h.m(a,v)):h&&(h.d(1),h=null),_[0]&65536&&C!==(C=fr(L[16])+"")&&ge(f,C)},d(L){L&&p(l),h&&h.d()}}}function ir(t){let l,n,a=t[9].toLocaleString()+"",u,i;return{c(){l=r("span"),n=w("(Total: £"),u=w(a),i=w(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var v=b(l);n=A(v,"(Total: £"),u=A(v,a),i=A(v," billion)"),v.forEach(p),this.h()},h(){s(l,"class","mini-header-value")},m(c,v){Ae(c,l,v),e(l,n),e(l,u),e(l,i)},p(c,v){v[0]&512&&a!==(a=c[9].toLocaleString()+"")&&ge(u,a)},d(c){c&&p(l)}}}function cr(t){let l,n,a,u,i=t[20](t[9],t[11],St)+"",c,v,C,f=t[9].toLocaleString()+"",h,L,_,S="billion",D,x,I,g=t[20](t[13],t[11],_e)+"",m,T,j,P,B,q=t[20](t[10],t[12],St)+"",G,H,M,N=t[10].toLocaleString()+"",re,z,Q,ae,O,ie,ve=t[20](t[14],t[12],_e)+"",ce,Ne,ye,ne,$,ue,fe;function Te(F,le){return F[9]>0?Bo:Vo}let Ee=Te(t),se=Ee(t);function De(F,le){return F[9]>0?Ro:Ho}let de=De(t),xe=de(t);return{c(){l=r("div"),n=r("div"),a=r("div"),u=new xl(!1),c=y(),v=r("span"),C=w("£"),h=w(f),L=y(),_=r("span"),_.textContent=S,D=y(),x=r("div"),I=new xl(!1),m=y(),se.c(),T=y(),j=r("div"),P=r("div"),B=new xl(!1),G=y(),H=r("span"),M=w("£"),re=w(N),z=y(),Q=r("span"),ae=y(),O=r("div"),ie=new xl(!1),ce=y(),xe.c(),Ne=y(),ye=r("span"),ne=r("i"),$=w("Grey bars indicate average value for "),ue=r("span"),fe=w(t[7]),this.h()},l(F){l=o(F,"DIV",{class:!0});var le=b(l);n=o(le,"DIV",{class:!0});var Ue=b(n);a=o(Ue,"DIV",{class:!0});var he=b(a);u=kl(he,!1),c=E(he),v=o(he,"SPAN",{class:!0});var d=b(v);C=A(d,"£"),h=A(d,f),d.forEach(p),L=E(he),_=o(he,"SPAN",{class:!0,"data-svelte-h":!0}),K(_)!=="svelte-tlhydp"&&(_.textContent=S),he.forEach(p),D=E(Ue),x=o(Ue,"DIV",{class:!0});var R=b(x);I=kl(R,!1),m=E(R),se.l(R),R.forEach(p),Ue.forEach(p),T=E(le),j=o(le,"DIV",{class:!0});var ee=b(j);P=o(ee,"DIV",{class:!0});var X=b(P);B=kl(X,!1),G=E(X),H=o(X,"SPAN",{class:!0});var V=b(H);M=A(V,"£"),re=A(V,N),V.forEach(p),z=E(X),Q=o(X,"SPAN",{class:!0}),b(Q).forEach(p),X.forEach(p),ae=E(ee),O=o(ee,"DIV",{class:!0});var Z=b(O);ie=kl(Z,!1),ce=E(Z),xe.l(Z),Z.forEach(p),Ne=E(ee),ye=o(ee,"SPAN",{class:!0});var U=b(ye);ne=o(U,"I",{});var oe=b(ne);$=A(oe,"Grey bars indicate average value for "),ue=o(oe,"SPAN",{class:!0});var je=b(ue);fe=A(je,t[7]),je.forEach(p),oe.forEach(p),U.forEach(p),ee.forEach(p),le.forEach(p),this.h()},h(){u.a=c,s(v,"class","waffle-big svelte-j2xbeq"),s(_,"class","small svelte-j2xbeq"),s(a,"class","waffle-value svelte-j2xbeq"),I.a=m,s(x,"class","waffle-value svelte-j2xbeq"),s(n,"class","waffle-stat svelte-j2xbeq"),B.a=G,s(H,"class","waffle-big svelte-j2xbeq"),s(Q,"class","small svelte-j2xbeq"),s(P,"class","waffle-value svelte-j2xbeq"),ie.a=ce,s(O,"class","waffle-value svelte-j2xbeq"),s(ue,"class","nation-label svelte-j2xbeq"),s(ye,"class","waffle-caption svelte-j2xbeq"),s(j,"class","waffle-stat svelte-j2xbeq"),s(l,"class","waffle-stats")},m(F,le){Ae(F,l,le),e(l,n),e(n,a),u.m(i,a),e(a,c),e(a,v),e(v,C),e(v,h),e(a,L),e(a,_),e(n,D),e(n,x),I.m(g,x),e(x,m),se.m(x,null),e(l,T),e(l,j),e(j,P),B.m(q,P),e(P,G),e(P,H),e(H,M),e(H,re),e(P,z),e(P,Q),e(j,ae),e(j,O),ie.m(ve,O),e(O,ce),xe.m(O,null),e(j,Ne),e(j,ye),e(ye,ne),e(ne,$),e(ne,ue),e(ue,fe)},p(F,le){le[0]&2560&&i!==(i=F[20](F[9],F[11],St)+"")&&u.p(i),le[0]&512&&f!==(f=F[9].toLocaleString()+"")&&ge(h,f),le[0]&10240&&g!==(g=F[20](F[13],F[11],_e)+"")&&I.p(g),Ee!==(Ee=Te(F))&&(se.d(1),se=Ee(F),se&&(se.c(),se.m(x,null))),le[0]&5120&&q!==(q=F[20](F[10],F[12],St)+"")&&B.p(q),le[0]&1024&&N!==(N=F[10].toLocaleString()+"")&&ge(re,N),le[0]&20480&&ve!==(ve=F[20](F[14],F[12],_e)+"")&&ie.p(ve),de!==(de=De(F))&&(xe.d(1),xe=de(F),xe&&(xe.c(),xe.m(O,null))),le[0]&128&&ge(fe,F[7])},d(F){F&&p(l),se.d(),xe.d()}}}function Vo(t){let l,n="Local area costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-pi7zpb"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Bo(t){let l,n="Local area benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-cjpgg1"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Ho(t){let l,n="Per capita costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-k47gg8"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Ro(t){let l,n="Per capita benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-1jc8yoe"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Ae(a,l,u)},d(a){a&&p(l)}}}function Fo(t){let l,n,a,u,i=t[59].label+"",c,v;return{c(){l=r("li"),n=r("span"),a=y(),u=r("a"),c=w(i),v=y(),this.h()},l(C){l=o(C,"LI",{});var f=b(l);n=o(f,"SPAN",{class:!0,style:!0}),b(n).forEach(p),a=E(f),u=o(f,"A",{href:!0,target:!0,class:!0});var h=b(u);c=A(h,i),h.forEach(p),v=E(f),f.forEach(p),this.h()},h(){s(n,"class","legend-color svelte-j2xbeq"),Le(n,"background-color",ra(t[59].id)),s(u,"href",Qn+"/cobenefit?cobenefit="+t[59].id),s(u,"target","_blank"),s(u,"class","link")},m(C,f){Ae(C,l,f),e(l,n),e(l,a),e(l,u),e(u,c),e(l,v)},p:kr,d(C){C&&p(l)}}}function Oo(t){let l,n,a,u=`Data zones
                                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,i,c,v,C,f,h,L=`The histogram shows the number of data zones
                                        distributed
                                        across
                                        different household social economic factors.`,_,S,D="",x=t[56],I,g,m,T,j,P=t[56].label+"",B,q,G,H,M,N=t[19][t[18]]+"",re,z,Q,ae,O,ie="";const ve=()=>t[33](S,x),ce=()=>t[33](null,x),Ne=()=>t[34](O,x),ye=()=>t[34](null,x);return{c(){l=r("div"),n=r("h3"),a=r("span"),a.innerHTML=u,i=w(`
                                            distribution (vs. `),c=r("span"),v=w(t[7]),C=w(" average)"),f=y(),h=r("p"),h.textContent=L,_=y(),S=r("div"),S.innerHTML=D,I=y(),g=r("div"),m=r("div"),T=r("h3"),j=w(`Co-benefits received by data zones
                                            across `),B=w(P),q=w(`
                                            values`),G=y(),H=r("p"),M=w(`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),re=w(N),z=w("."),Q=y(),ae=r("div"),O=r("div"),O.innerHTML=ie,this.h()},l(ne){l=o(ne,"DIV",{class:!0});var $=b(l);n=o($,"H3",{class:!0});var ue=b(n);a=o(ue,"SPAN",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-zeycni"&&(a.innerHTML=u),i=A(ue,`
                                            distribution (vs. `),c=o(ue,"SPAN",{class:!0});var fe=b(c);v=A(fe,t[7]),fe.forEach(p),C=A(ue," average)"),ue.forEach(p),f=E($),h=o($,"P",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-zr1gq8"&&(h.textContent=L),_=E($),S=o($,"DIV",{class:!0,"data-svelte-h":!0}),K(S)!=="svelte-6ldqab"&&(S.innerHTML=D),$.forEach(p),I=E(ne),g=o(ne,"DIV",{class:!0});var Te=b(g);m=o(Te,"DIV",{});var Ee=b(m);T=o(Ee,"H3",{class:!0});var se=b(T);j=A(se,`Co-benefits received by data zones
                                            across `),B=A(se,P),q=A(se,`
                                            values`),se.forEach(p),G=E(Ee),H=o(Ee,"P",{class:!0});var De=b(H);M=A(De,`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),re=A(De,N),z=A(De,"."),De.forEach(p),Ee.forEach(p),Q=E(Te),ae=o(Te,"DIV",{});var de=b(ae);O=o(de,"DIV",{class:!0,"data-svelte-h":!0}),K(O)!=="svelte-12l832e"&&(O.innerHTML=ie),de.forEach(p),Te.forEach(p),this.h()},h(){s(a,"class","tooltip-term"),s(c,"class","nation-label svelte-j2xbeq"),s(n,"class","component-title"),s(h,"class","description short"),s(S,"class","plot"),s(l,"class","component column svelte-j2xbeq"),s(T,"class","component-title"),s(H,"class","description short"),s(O,"class","plot"),s(g,"class","component column svelte-j2xbeq")},m(ne,$){Ae(ne,l,$),e(l,n),e(n,a),e(n,i),e(n,c),e(c,v),e(n,C),e(l,f),e(l,h),e(l,_),e(l,S),ve(),Ae(ne,I,$),Ae(ne,g,$),e(g,m),e(m,T),e(T,j),e(T,B),e(T,q),e(m,G),e(m,H),e(H,M),e(H,re),e(H,z),e(g,Q),e(g,ae),e(ae,O),Ne()},p(ne,$){t=ne,$[0]&128&&ge(v,t[7]),x!==t[56]&&(ce(),x=t[56],ve()),x!==t[56]&&(ye(),x=t[56],Ne())},d(ne){ne&&(p(l),p(I),p(g)),ce(),ye()}}}function ur(t){let l,n,a,u=t[56].label+"",i,c,v,C=t[56].def+"",f,h,L,_;function S(I,g){return Oo}let x=S()(t);return{c(){l=r("div"),n=r("h2"),a=r("a"),i=w(u),c=y(),v=r("p"),f=w(C),h=y(),L=r("div"),x.c(),_=y(),this.h()},l(I){l=o(I,"DIV",{class:!0});var g=b(l);n=o(g,"H2",{class:!0});var m=b(n);a=o(m,"A",{class:!0,target:!0,href:!0});var T=b(a);i=A(T,u),T.forEach(p),m.forEach(p),c=E(g),v=o(g,"P",{class:!0});var j=b(v);f=A(j,C),j.forEach(p),h=E(g),L=o(g,"DIV",{class:!0});var P=b(L);x.l(P),P.forEach(p),_=E(g),g.forEach(p),this.h()},h(){s(a,"class","link"),s(a,"target","_blank"),s(a,"href",Qn+"/sef?sef="+t[56].id),s(n,"class","column-chart-title svelte-j2xbeq"),s(v,"class","column-chart-caption svelte-j2xbeq"),s(L,"class","row"),s(l,"class","household-column svelte-j2xbeq")},m(I,g){Ae(I,l,g),e(l,n),e(n,a),e(a,i),e(l,c),e(l,v),e(v,f),e(l,h),e(l,L),x.m(L,null),e(l,_)},p(I,g){x.p(I,g)},d(I){I&&p(l),x.d()}}}function Uo(t){let l,n,a,u,i,c,v,C="Local Authority Report",f,h,L=t[19][t[18]]+"",_,S,D,x=`Explore how this local authority will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,I,g,m,T,j,P,B,q,G="UK",H,M,N,re,z,Q="England",ae,O,ie,ve,ce,Ne="Wales",ye,ne,$,ue,fe,Te="Scotland",Ee,se,De,de,xe="Northern Ireland",F,le,Ue,he,d,R=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ee,X,V,Z,U,oe,je=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,W,Ie,Ll,ca,ua,Ge,fa,$n=t[19][t[18]]+"",da,ha,Kt,Dl,va,pa,ma,ba,Cl,Sl=t[21](t[5],t[8])+"",Tl,ut,ga,Yt,jl,_a,ya,We,Ea,es=t[19][t[18]]+"",Ca,wa,Xt,Il,Aa,xa,ft,ts="",ka,Me,dt,La,ls=t[19][t[18]]+"",Da,Sa,Ta,Tt,as=t[19][t[18]]+"",ja,Ia,Ma,jt,ns="*Scroll for zooming in and out",Pa,et,ss="",qa,tt,It,rs=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Na,lt,at,nt,ht,za,Zt,Ml,Va,Ba,ze,Ha,os=t[19][t[18]]+"",Ra,Fa,Jt,Pl,Oa,Ua,Ke,Mt,is="Legend:",Ga,Wa,Ka,vt,pt,Qt,Ya,cs=t[19][t[18]]+"",Xa,Za,mt,$t,Ja,el,ql,Qa,tl,$a,Ve,st,bt,en,us=t[19][t[18]]+"",tn,ln,an,gt,fs=`Total gains and losses are shown at five-year
                        intervals for each co-benefit. The curve between points is smoothed to show the general
                        trends.`,nn,Pe,Pt,ds="Legend:",sn,rn,on,qt,cn,ll,un,_t,hs=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,fn,rt,Ye,Nt,vs="Households",dn,zt,ps=t[19][t[18]]+"",hn,vn,pn,Vt,ms=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits received by those data zones.`,mn,Xe,Ce,Ze,bn,bs=t[19][t[18]]+"",gn,_n,Nl,yn,En,Cn,wn,Be,Bt,gs="Legend:",An,xn,kn,yt,Et,al,Ln,_s=t[19][t[18]]+"",Dn,Sn,Ct,nl,Tn,zl,jn,Se,Ht,ys="Interpreting the charts:",In,Mn,Pn,sl,Es=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,qn,Je,rl,Cs="Scatterplot:",Nn,ws=t[19][t[18]]+"",zn,Vn,Vl,Bn,Hn,wt,As=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,Rn,At,Bl,Rt,we,Fn,xs;l=new Sr({});let me=t[15]&&or(t),be=t[9]&&cr(t),ks=Gn(oa),ot=[];for(let k=0;k<ks.length;k+=1)ot[k]=Fo(zo(t,ks,k));let ol=Gn(Ys),pe=[];for(let k=0;k<ol.length;k+=1)pe[k]=ur(rr(t,ol,k));return Rt=new no({}),{c(){Bs(l.$$.fragment),n=y(),a=r("div"),me&&me.c(),u=y(),i=r("div"),c=r("div"),v=r("p"),v.textContent=C,f=y(),h=r("h1"),_=w(L),S=y(),D=r("p"),D.textContent=x,I=y(),g=r("div"),m=w("Compare this Local Authority District (LAD) against:"),T=r("br"),j=y(),P=r("input"),B=y(),q=r("label"),q.textContent=G,H=r("br"),M=y(),N=r("input"),re=y(),z=r("label"),z.textContent=Q,ae=r("br"),O=y(),ie=r("input"),ve=y(),ce=r("label"),ce.textContent=Ne,ye=r("br"),ne=y(),$=r("input"),ue=y(),fe=r("label"),fe.textContent=Te,Ee=y(),se=r("input"),De=y(),de=r("label"),de.textContent=xe,F=y(),le=r("div"),be&&be.c(),Ue=y(),he=r("div"),d=r("div"),d.innerHTML=R,ee=y(),X=r("div"),V=r("div"),Z=r("h3"),U=w(`Distribution of the cobenefit per
                        `),oe=r("span"),oe.innerHTML=je,W=w(`
                        compared to `),Ie=r("span"),Ll=w(t[7]),ca=w(" Average)"),ua=y(),Ge=r("p"),fa=w("Co-benefit values for "),da=w($n),ha=w(` compared to average value of benefits
                    received across all local
                    authorities in `),Kt=r("span"),Dl=w(t[7]),va=w(" (grey)."),pa=y(),ma=r("br"),ba=y(),Cl=new xl(!1),Tl=y(),ut=r("h3"),ga=w("11 types of co-benefit values (vs. "),Yt=r("span"),jl=w(t[7]),_a=w(" Average)"),ya=y(),We=r("p"),Ea=w("Co-benefit values for "),Ca=w(es),wa=w(` compared to average value of benefits
                    received across all local
                    authorities in `),Xt=r("span"),Il=w(t[7]),Aa=w(" (grey)."),xa=y(),ft=r("div"),ft.innerHTML=ts,ka=y(),Me=r("div"),dt=r("h3"),La=w("Where is "),Da=w(ls),Sa=w("?"),Ta=y(),Tt=r("p"),ja=w(as),Ia=w(" has been highlighted in dark grey on this UK map."),Ma=y(),jt=r("p"),jt.textContent=ns,Pa=y(),et=r("div"),et.innerHTML=ss,qa=y(),tt=r("div"),It=r("div"),It.innerHTML=rs,Na=y(),lt=r("div"),at=r("div"),nt=r("div"),ht=r("h3"),za=w("Total co-benefit distribution from 2025-2049 (vs. "),Zt=r("span"),Ml=w(t[7]),Va=w(" Average)"),Ba=y(),ze=r("p"),Ha=w(`Aggregated values from 2025-2049
                        in `),Ra=w(os),Fa=w(` compared to average value of benefits received across all local authorities
                        in `),Jt=r("span"),Pl=w(t[7]),Oa=w("."),Ua=y(),Ke=r("div"),Mt=r("strong"),Mt.textContent=is,Ga=y(),Wa=r("br"),Ka=y(),vt=r("ul"),pt=r("li"),Qt=r("span"),Ya=y(),Xa=w(cs),Za=y(),mt=r("li"),$t=r("span"),Ja=y(),el=r("span"),ql=w(t[7]),Qa=y(),tl=r("div"),$a=y(),Ve=r("div"),st=r("div"),bt=r("h3"),en=w("Co-benefit gain/loss for "),tn=w(us),ln=w(" over 5 year intervals"),an=y(),gt=r("p"),gt.textContent=fs,nn=y(),Pe=r("div"),Pt=r("strong"),Pt.textContent=ds,sn=y(),rn=r("br"),on=y(),qt=r("ul");for(let k=0;k<ot.length;k+=1)ot[k].c();cn=y(),ll=r("div"),un=y(),_t=r("div"),_t.innerHTML=hs,fn=y(),rt=r("div"),Ye=r("div"),Nt=r("p"),Nt.textContent=vs,dn=y(),zt=r("h2"),hn=w(ps),vn=w(" social-economic factors"),pn=y(),Vt=r("p"),Vt.textContent=ms,mn=y(),Xe=r("div"),Ce=r("div"),Ze=r("h3"),bn=w("Comparing the Socio-Economic factors distributions of "),gn=w(bs),_n=w(`
                    and `),Nl=w(t[7]),yn=w(", and their correlation with co-benefits."),En=y(),Cn=r("br"),wn=y(),Be=r("div"),Bt=r("strong"),Bt.textContent=gs,An=y(),xn=r("br"),kn=y(),yt=r("ul"),Et=r("li"),al=r("span"),Ln=y(),Dn=w(_s),Sn=y(),Ct=r("li"),nl=r("span"),Tn=y(),zl=w(t[7]),jn=y(),Se=r("div"),Ht=r("strong"),Ht.textContent=ys,In=y(),Mn=r("br"),Pn=y(),sl=r("p"),sl.innerHTML=Es,qn=y(),Je=r("p"),rl=r("strong"),rl.textContent=Cs,Nn=w(" Each dot represents a datazone inside "),zn=w(ws),Vn=w(`. The cloud
                        shows the distribution for `),Vl=w(t[7]),Bn=w("."),Hn=y(),wt=r("div"),wt.innerHTML=As,Rn=y(),At=r("div");for(let k=0;k<pe.length;k+=1)pe[k].c();Bl=y(),Bs(Rt.$$.fragment),this.h()},l(k){Hs(l.$$.fragment,k),n=E(k),a=o(k,"DIV",{class:!0});var Y=b(a);me&&me.l(Y),u=E(Y),i=o(Y,"DIV",{class:!0,id:!0});var J=b(i);c=o(J,"DIV",{});var He=b(c);v=o(He,"P",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-wtex57"&&(v.textContent=C),f=E(He),h=o(He,"H1",{class:!0});var Ls=b(h);_=A(Ls,L),Ls.forEach(p),S=E(He),D=o(He,"P",{class:!0,"data-svelte-h":!0}),K(D)!=="svelte-q4fx5o"&&(D.textContent=x),I=E(He),g=o(He,"DIV",{class:!0});var te=b(g);m=A(te,"Compare this Local Authority District (LAD) against:"),T=o(te,"BR",{}),j=E(te),P=o(te,"INPUT",{type:!0,name:!0}),B=E(te),q=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(q)!=="svelte-1yhxhao"&&(q.textContent=G),H=o(te,"BR",{}),M=E(te),N=o(te,"INPUT",{type:!0,name:!0}),re=E(te),z=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(z)!=="svelte-11zyrfp"&&(z.textContent=Q),ae=o(te,"BR",{}),O=E(te),ie=o(te,"INPUT",{type:!0,name:!0}),ve=E(te),ce=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(ce)!=="svelte-18hrmu4"&&(ce.textContent=Ne),ye=o(te,"BR",{}),ne=E(te),$=o(te,"INPUT",{type:!0,name:!0}),ue=E(te),fe=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(fe)!=="svelte-mkxs8y"&&(fe.textContent=Te),Ee=E(te),se=o(te,"INPUT",{type:!0,name:!0}),De=E(te),de=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(de)!=="svelte-g19yfx"&&(de.textContent=xe),te.forEach(p),He.forEach(p),F=E(J),le=o(J,"DIV",{});var Ds=b(le);be&&be.l(Ds),Ds.forEach(p),J.forEach(p),Ue=E(Y),he=o(Y,"DIV",{class:!0,id:!0});var Hl=b(he);d=o(Hl,"DIV",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-lw225h"&&(d.innerHTML=R),ee=E(Hl),X=o(Hl,"DIV",{id:!0,class:!0});var Rl=b(X);V=o(Rl,"DIV",{class:!0});var ke=b(V);Z=o(ke,"H3",{class:!0});var il=b(Z);U=A(il,`Distribution of the cobenefit per
                        `),oe=o(il,"SPAN",{class:!0,"data-svelte-h":!0}),K(oe)!=="svelte-z1whcf"&&(oe.innerHTML=je),W=A(il,`
                        compared to `),Ie=o(il,"SPAN",{class:!0});var Ss=b(Ie);Ll=A(Ss,t[7]),Ss.forEach(p),ca=A(il," Average)"),il.forEach(p),ua=E(ke),Ge=o(ke,"P",{class:!0});var cl=b(Ge);fa=A(cl,"Co-benefit values for "),da=A(cl,$n),ha=A(cl,` compared to average value of benefits
                    received across all local
                    authorities in `),Kt=o(cl,"SPAN",{class:!0});var Ts=b(Kt);Dl=A(Ts,t[7]),Ts.forEach(p),va=A(cl," (grey)."),cl.forEach(p),pa=E(ke),ma=o(ke,"BR",{}),ba=E(ke),Cl=kl(ke,!1),Tl=E(ke),ut=o(ke,"H3",{class:!0});var Fl=b(ut);ga=A(Fl,"11 types of co-benefit values (vs. "),Yt=o(Fl,"SPAN",{class:!0});var js=b(Yt);jl=A(js,t[7]),js.forEach(p),_a=A(Fl," Average)"),Fl.forEach(p),ya=E(ke),We=o(ke,"P",{class:!0});var ul=b(We);Ea=A(ul,"Co-benefit values for "),Ca=A(ul,es),wa=A(ul,` compared to average value of benefits
                    received across all local
                    authorities in `),Xt=o(ul,"SPAN",{class:!0});var Is=b(Xt);Il=A(Is,t[7]),Is.forEach(p),Aa=A(ul," (grey)."),ul.forEach(p),xa=E(ke),ft=o(ke,"DIV",{class:!0,"data-svelte-h":!0}),K(ft)!=="svelte-11dzfub"&&(ft.innerHTML=ts),ke.forEach(p),ka=E(Rl),Me=o(Rl,"DIV",{class:!0});var xt=b(Me);dt=o(xt,"H3",{class:!0});var Ol=b(dt);La=A(Ol,"Where is "),Da=A(Ol,ls),Sa=A(Ol,"?"),Ol.forEach(p),Ta=E(xt),Tt=o(xt,"P",{class:!0});var On=b(Tt);ja=A(On,as),Ia=A(On," has been highlighted in dark grey on this UK map."),On.forEach(p),Ma=E(xt),jt=o(xt,"P",{class:!0,"data-svelte-h":!0}),K(jt)!=="svelte-vsj698"&&(jt.textContent=ns),Pa=E(xt),et=o(xt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),K(et)!=="svelte-13ehpmu"&&(et.innerHTML=ss),xt.forEach(p),Rl.forEach(p),Hl.forEach(p),qa=E(Y),tt=o(Y,"DIV",{class:!0,id:!0});var Ul=b(tt);It=o(Ul,"DIV",{class:!0,"data-svelte-h":!0}),K(It)!=="svelte-10cbt4"&&(It.innerHTML=rs),Na=E(Ul),lt=o(Ul,"DIV",{id:!0,class:!0});var Gl=b(lt);at=o(Gl,"DIV",{id:!0,class:!0});var Wl=b(at);nt=o(Wl,"DIV",{});var fl=b(nt);ht=o(fl,"H3",{class:!0});var Kl=b(ht);za=A(Kl,"Total co-benefit distribution from 2025-2049 (vs. "),Zt=o(Kl,"SPAN",{class:!0});var Ms=b(Zt);Ml=A(Ms,t[7]),Ms.forEach(p),Va=A(Kl," Average)"),Kl.forEach(p),Ba=E(fl),ze=o(fl,"P",{class:!0,style:!0});var dl=b(ze);Ha=A(dl,`Aggregated values from 2025-2049
                        in `),Ra=A(dl,os),Fa=A(dl,` compared to average value of benefits received across all local authorities
                        in `),Jt=o(dl,"SPAN",{class:!0});var Ps=b(Jt);Pl=A(Ps,t[7]),Ps.forEach(p),Oa=A(dl,"."),dl.forEach(p),Ua=E(fl),Ke=o(fl,"DIV",{class:!0});var hl=b(Ke);Mt=o(hl,"STRONG",{style:!0,"data-svelte-h":!0}),K(Mt)!=="svelte-1fi0dip"&&(Mt.textContent=is),Ga=E(hl),Wa=o(hl,"BR",{}),Ka=E(hl),vt=o(hl,"UL",{class:!0});var Yl=b(vt);pt=o(Yl,"LI",{class:!0});var Xl=b(pt);Qt=o(Xl,"SPAN",{class:!0,style:!0}),b(Qt).forEach(p),Ya=E(Xl),Xa=A(Xl,cs),Xl.forEach(p),Za=E(Yl),mt=o(Yl,"LI",{class:!0});var Zl=b(mt);$t=o(Zl,"SPAN",{class:!0,style:!0}),b($t).forEach(p),Ja=E(Zl),el=o(Zl,"SPAN",{class:!0});var qs=b(el);ql=A(qs,t[7]),qs.forEach(p),Zl.forEach(p),Yl.forEach(p),hl.forEach(p),fl.forEach(p),Qa=E(Wl),tl=o(Wl,"DIV",{class:!0}),b(tl).forEach(p),Wl.forEach(p),$a=E(Gl),Ve=o(Gl,"DIV",{id:!0,class:!0});var vl=b(Ve);st=o(vl,"DIV",{});var pl=b(st);bt=o(pl,"H3",{class:!0});var Jl=b(bt);en=A(Jl,"Co-benefit gain/loss for "),tn=A(Jl,us),ln=A(Jl," over 5 year intervals"),Jl.forEach(p),an=E(pl),gt=o(pl,"P",{class:!0,style:!0,"data-svelte-h":!0}),K(gt)!=="svelte-1na17f1"&&(gt.textContent=fs),nn=E(pl),Pe=o(pl,"DIV",{id:!0,class:!0,style:!0});var ml=b(Pe);Pt=o(ml,"STRONG",{style:!0,"data-svelte-h":!0}),K(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=ds),sn=E(ml),rn=o(ml,"BR",{}),on=E(ml),qt=o(ml,"UL",{class:!0,style:!0});var Ns=b(qt);for(let Ot=0;Ot<ot.length;Ot+=1)ot[Ot].l(Ns);Ns.forEach(p),ml.forEach(p),pl.forEach(p),cn=E(vl),ll=o(vl,"DIV",{class:!0}),b(ll).forEach(p),un=E(vl),_t=o(vl,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),K(_t)!=="svelte-1xqy5mf"&&(_t.innerHTML=hs),vl.forEach(p),Gl.forEach(p),Ul.forEach(p),fn=E(Y),rt=o(Y,"DIV",{class:!0,id:!0});var Ql=b(rt);Ye=o(Ql,"DIV",{class:!0});var bl=b(Ye);Nt=o(bl,"P",{class:!0,"data-svelte-h":!0}),K(Nt)!=="svelte-ceroz1"&&(Nt.textContent=vs),dn=E(bl),zt=o(bl,"H2",{class:!0});var Un=b(zt);hn=A(Un,ps),vn=A(Un," social-economic factors"),Un.forEach(p),pn=E(bl),Vt=o(bl,"P",{class:!0,"data-svelte-h":!0}),K(Vt)!=="svelte-45d07w"&&(Vt.textContent=ms),bl.forEach(p),mn=E(Ql),Xe=o(Ql,"DIV",{id:!0,class:!0,style:!0});var $l=b(Xe);Ce=o($l,"DIV",{id:!0,class:!0});var Qe=b(Ce);Ze=o(Qe,"H3",{class:!0});var gl=b(Ze);bn=A(gl,"Comparing the Socio-Economic factors distributions of "),gn=A(gl,bs),_n=A(gl,`
                    and `),Nl=A(gl,t[7]),yn=A(gl,", and their correlation with co-benefits."),gl.forEach(p),En=E(Qe),Cn=o(Qe,"BR",{}),wn=E(Qe),Be=o(Qe,"DIV",{id:!0,class:!0});var _l=b(Be);Bt=o(_l,"STRONG",{style:!0,"data-svelte-h":!0}),K(Bt)!=="svelte-xb363n"&&(Bt.textContent=gs),An=E(_l),xn=o(_l,"BR",{}),kn=E(_l),yt=o(_l,"UL",{class:!0});var ea=b(yt);Et=o(ea,"LI",{class:!0});var ta=b(Et);al=o(ta,"SPAN",{class:!0,style:!0}),b(al).forEach(p),Ln=E(ta),Dn=A(ta,_s),ta.forEach(p),Sn=E(ea),Ct=o(ea,"LI",{class:!0});var la=b(Ct);nl=o(la,"SPAN",{class:!0,style:!0}),b(nl).forEach(p),Tn=E(la),zl=A(la,t[7]),la.forEach(p),ea.forEach(p),_l.forEach(p),jn=E(Qe),Se=o(Qe,"DIV",{id:!0,class:!0});var kt=b(Se);Ht=o(kt,"STRONG",{style:!0,"data-svelte-h":!0}),K(Ht)!=="svelte-ucmfvz"&&(Ht.textContent=ys),In=E(kt),Mn=o(kt,"BR",{}),Pn=E(kt),sl=o(kt,"P",{"data-svelte-h":!0}),K(sl)!=="svelte-mm528r"&&(sl.innerHTML=Es),qn=E(kt),Je=o(kt,"P",{});var Ft=b(Je);rl=o(Ft,"STRONG",{"data-svelte-h":!0}),K(rl)!=="svelte-1ij32sd"&&(rl.textContent=Cs),Nn=A(Ft," Each dot represents a datazone inside "),zn=A(Ft,ws),Vn=A(Ft,`. The cloud
                        shows the distribution for `),Vl=A(Ft,t[7]),Bn=A(Ft,"."),Ft.forEach(p),kt.forEach(p),Hn=E(Qe),wt=o(Qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),K(wt)!=="svelte-gofjep"&&(wt.innerHTML=As),Qe.forEach(p),Rn=E($l),At=o($l,"DIV",{id:!0,class:!0});var zs=b(At);for(let Ot=0;Ot<pe.length;Ot+=1)pe[Ot].l(zs);zs.forEach(p),$l.forEach(p),Ql.forEach(p),Y.forEach(p),Bl=E(k),Hs(Rt.$$.fragment,k),this.h()},h(){s(v,"class","page-subtitle"),s(h,"class","page-title"),s(D,"class","description"),s(P,"type","radio"),s(P,"name","compare"),P.value="UK",P.checked=!0,s(q,"class","nation-label svelte-j2xbeq"),s(q,"for","html"),s(N,"type","radio"),s(N,"name","compare"),N.value="England",s(z,"class","nation-label svelte-j2xbeq"),s(z,"for","html"),s(ie,"type","radio"),s(ie,"name","compare"),ie.value="Wales",s(ce,"class","nation-label svelte-j2xbeq"),s(ce,"for","html"),s($,"type","radio"),s($,"name","compare"),$.value="Scotland",s(fe,"class","nation-label svelte-j2xbeq"),s(fe,"for","javascript"),s(se,"type","radio"),s(se,"name","compare"),se.value="NI",s(de,"class","nation-label svelte-j2xbeq"),s(de,"for","javascript"),s(g,"class","radio-set"),s(i,"class","section header header-row svelte-j2xbeq"),s(i,"id","head"),s(d,"class","section-header"),s(oe,"class","tooltip-term"),s(Ie,"class","nation-label svelte-j2xbeq"),s(Z,"class","component-title"),s(Kt,"class","nation-label svelte-j2xbeq"),s(Ge,"class","description"),Cl.a=Tl,s(Yt,"class","nation-label svelte-j2xbeq"),s(ut,"class","component-title"),s(Xt,"class","nation-label svelte-j2xbeq"),s(We,"class","description"),s(ft,"class","plot"),s(V,"class","component column"),s(dt,"class","component-title"),s(Tt,"class","description"),s(jt,"class","description"),s(et,"id","map"),s(et,"class","svelte-j2xbeq"),s(Me,"class","component column"),s(X,"id","vis-block"),s(X,"class","svelte-j2xbeq"),s(he,"class","section"),s(he,"id","overview"),s(It,"class","section-header"),s(Zt,"class","nation-label svelte-j2xbeq"),s(ht,"class","component-title"),s(Jt,"class","nation-label svelte-j2xbeq"),s(ze,"class","description"),Le(ze,"margin-bottom","5px"),Le(Mt,"margin-bottom","0.5rem"),s(Qt,"class","legend-color svelte-j2xbeq"),Le(Qt,"background-color",St),s(pt,"class","svelte-j2xbeq"),s($t,"class","legend-color svelte-j2xbeq"),Le($t,"background-color",_e),s(el,"class","nation-label svelte-j2xbeq"),s(mt,"class","svelte-j2xbeq"),s(vt,"class","legend-list svelte-j2xbeq"),s(Ke,"class","legend-box svelte-j2xbeq"),s(tl,"class","plot side svelte-j2xbeq"),s(at,"id","main-block"),s(at,"class","component column svelte-j2xbeq"),s(bt,"class","component-title"),s(gt,"class","description"),Le(gt,"margin-bottom","5px"),Le(Pt,"margin-bottom","0.5rem"),s(qt,"class","horizontal-legend-list svelte-j2xbeq"),Le(qt,"margin-bottom","5px"),s(Pe,"id","main-legend"),s(Pe,"class","legend-box svelte-j2xbeq"),Le(Pe,"margin-bottom","5px"),s(ll,"class","plot side svelte-j2xbeq"),s(_t,"id","main-disclaimer"),s(_t,"class","disclaimer-box svelte-j2xbeq"),s(Ve,"id","main-block"),s(Ve,"class","component column svelte-j2xbeq"),s(lt,"id","vis-block"),s(lt,"class","svelte-j2xbeq"),s(tt,"class","section"),s(tt,"id","temporal"),s(Nt,"class","section-subtitle"),s(zt,"class","section-title"),s(Vt,"class","description"),s(Ye,"class","section-header"),s(Ze,"class","component-title"),Le(Bt,"margin-bottom","1rem"),s(al,"class","legend-color svelte-j2xbeq"),Le(al,"background-color",St),s(Et,"class","svelte-j2xbeq"),s(nl,"class","legend-color svelte-j2xbeq"),Le(nl,"background-color",_e),s(Ct,"class","svelte-j2xbeq"),s(yt,"class","legend-list svelte-j2xbeq"),s(Be,"id","se-legend"),s(Be,"class","legend-box svelte-j2xbeq"),Le(Ht,"margin-bottom","1rem"),s(Se,"id","se-legend"),s(Se,"class","legend-box svelte-j2xbeq"),s(wt,"id","se-disclaimer"),s(wt,"class","disclaimer-box svelte-j2xbeq"),s(Ce,"id","se-title"),s(Ce,"class","svelte-j2xbeq"),s(At,"id","multiple-comp"),s(At,"class","svelte-j2xbeq"),s(Xe,"id","se-block"),s(Xe,"class","component svelte-j2xbeq"),Le(Xe,"margin-left","1rem"),s(rt,"class","section"),s(rt,"id","households"),s(a,"class","page-container")},m(k,Y){Rs(l,k,Y),Ae(k,n,Y),Ae(k,a,Y),me&&me.m(a,null),e(a,u),e(a,i),e(i,c),e(c,v),e(c,f),e(c,h),e(h,_),e(c,S),e(c,D),e(c,I),e(c,g),e(g,m),e(g,T),e(g,j),e(g,P),e(g,B),e(g,q),e(g,H),e(g,M),e(g,N),e(g,re),e(g,z),e(g,ae),e(g,O),e(g,ie),e(g,ve),e(g,ce),e(g,ye),e(g,ne),e(g,$),e(g,ue),e(g,fe),e(g,Ee),e(g,se),e(g,De),e(g,de),e(i,F),e(i,le),be&&be.m(le,null),e(a,Ue),e(a,he),e(he,d),e(he,ee),e(he,X),e(X,V),e(V,Z),e(Z,U),e(Z,oe),e(Z,W),e(Z,Ie),e(Ie,Ll),e(Z,ca),e(V,ua),e(V,Ge),e(Ge,fa),e(Ge,da),e(Ge,ha),e(Ge,Kt),e(Kt,Dl),e(Ge,va),e(V,pa),e(V,ma),e(V,ba),Cl.m(Sl,V),e(V,Tl),e(V,ut),e(ut,ga),e(ut,Yt),e(Yt,jl),e(ut,_a),e(V,ya),e(V,We),e(We,Ea),e(We,Ca),e(We,wa),e(We,Xt),e(Xt,Il),e(We,Aa),e(V,xa),e(V,ft),t[28](ft),e(X,ka),e(X,Me),e(Me,dt),e(dt,La),e(dt,Da),e(dt,Sa),e(Me,Ta),e(Me,Tt),e(Tt,ja),e(Tt,Ia),e(Me,Ma),e(Me,jt),e(Me,Pa),e(Me,et),t[29](et),e(a,qa),e(a,tt),e(tt,It),e(tt,Na),e(tt,lt),e(lt,at),e(at,nt),e(nt,ht),e(ht,za),e(ht,Zt),e(Zt,Ml),e(ht,Va),e(nt,Ba),e(nt,ze),e(ze,Ha),e(ze,Ra),e(ze,Fa),e(ze,Jt),e(Jt,Pl),e(ze,Oa),e(nt,Ua),e(nt,Ke),e(Ke,Mt),e(Ke,Ga),e(Ke,Wa),e(Ke,Ka),e(Ke,vt),e(vt,pt),e(pt,Qt),e(pt,Ya),e(pt,Xa),e(vt,Za),e(vt,mt),e(mt,$t),e(mt,Ja),e(mt,el),e(el,ql),e(at,Qa),e(at,tl),t[30](tl),e(lt,$a),e(lt,Ve),e(Ve,st),e(st,bt),e(bt,en),e(bt,tn),e(bt,ln),e(st,an),e(st,gt),e(st,nn),e(st,Pe),e(Pe,Pt),e(Pe,sn),e(Pe,rn),e(Pe,on),e(Pe,qt);for(let J=0;J<ot.length;J+=1)ot[J]&&ot[J].m(qt,null);e(Ve,cn),e(Ve,ll),t[31](ll),e(Ve,un),e(Ve,_t),e(a,fn),e(a,rt),e(rt,Ye),e(Ye,Nt),e(Ye,dn),e(Ye,zt),e(zt,hn),e(zt,vn),e(Ye,pn),e(Ye,Vt),e(rt,mn),e(rt,Xe),e(Xe,Ce),e(Ce,Ze),e(Ze,bn),e(Ze,gn),e(Ze,_n),e(Ze,Nl),e(Ze,yn),e(Ce,En),e(Ce,Cn),e(Ce,wn),e(Ce,Be),e(Be,Bt),e(Be,An),e(Be,xn),e(Be,kn),e(Be,yt),e(yt,Et),e(Et,al),e(Et,Ln),e(Et,Dn),e(yt,Sn),e(yt,Ct),e(Ct,nl),e(Ct,Tn),e(Ct,zl),e(Ce,jn),e(Ce,Se),e(Se,Ht),e(Se,In),e(Se,Mn),e(Se,Pn),e(Se,sl),e(Se,qn),e(Se,Je),e(Je,rl),e(Je,Nn),e(Je,zn),e(Je,Vn),e(Je,Vl),e(Je,Bn),e(Ce,Hn),e(Ce,wt),e(Xe,Rn),e(Xe,At);for(let J=0;J<pe.length;J+=1)pe[J]&&pe[J].m(At,null);t[35](a),Ae(k,Bl,Y),Rs(Rt,k,Y),we=!0,Fn||(xs=[wl(P,"change",t[22]),wl(N,"change",t[22]),wl(ie,"change",t[22]),wl($,"change",t[22]),wl(se,"change",t[22])],Fn=!0)},p(k,Y){if(k[15]?me?me.p(k,Y):(me=or(k),me.c(),me.m(a,u)):me&&(me.d(1),me=null),k[9]?be?be.p(k,Y):(be=cr(k),be.c(),be.m(le,null)):be&&(be.d(1),be=null),(!we||Y[0]&128)&&ge(Ll,k[7]),(!we||Y[0]&128)&&ge(Dl,k[7]),(!we||Y[0]&288)&&Sl!==(Sl=k[21](k[5],k[8])+"")&&Cl.p(Sl),(!we||Y[0]&128)&&ge(jl,k[7]),(!we||Y[0]&128)&&ge(Il,k[7]),(!we||Y[0]&128)&&ge(Ml,k[7]),(!we||Y[0]&128)&&ge(Pl,k[7]),(!we||Y[0]&128)&&ge(ql,k[7]),(!we||Y[0]&128)&&ge(Nl,k[7]),(!we||Y[0]&128)&&ge(zl,k[7]),(!we||Y[0]&128)&&ge(Vl,k[7]),Y[0]&786584){ol=Gn(Ys);let J;for(J=0;J<ol.length;J+=1){const He=rr(k,ol,J);pe[J]?pe[J].p(He,Y):(pe[J]=ur(He),pe[J].c(),pe[J].m(At,null))}for(;J<pe.length;J+=1)pe[J].d(1);pe.length=ol.length}},i(k){we||(Fs(l.$$.fragment,k),Fs(Rt.$$.fragment,k),we=!0)},o(k){Os(l.$$.fragment,k),Os(Rt.$$.fragment,k),we=!1},d(k){k&&(p(n),p(a),p(Bl)),Us(l,k),me&&me.d(),be&&be.d(),t[28](null),t[29](null),t[30](null),Vs(ot,k),t[31](null),Vs(pe,k),t[35](null),Us(Rt,k),Fn=!1,wr(xs)}}}let Oe=400;function fr(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Wt(t){const l=t.querySelector("figure");l&&l.remove();const n=t.querySelector("svg");n&&n.remove()}function Go(t,l,n){let a,u,i,c,v={},C={},f={},h={},L="barchart",{data:_}=l;const S=_.LAD;let D="UK",x,I,g,m,T,j,P,B,q,G,H,M,N=!1;async function re(){n(5,x=await Fe(Js())),await Fe($r()),x.forEach(d=>{d.isPageLAD=d.LAD==S}),n(25,I=await Fe(Qs([]))),g=await Fe(eo(oa.map(d=>d.id))),n(26,m=await Fe($s())),n(8,T=await Fe(to(S))),j=await Fe(lo(S)),n(9,P=(Or(T,d=>d.total)/1e3).toFixed(3)),n(11,q=Jn(I,d=>d.val)/1e3),n(10,B=(Wn(T,d=>d.totalPerCapita)*1e6).toFixed(1)),n(12,G=await Fe(ao({limit:1,sortBy:"per_capita"}))),n(12,G=G[0].value_per_capita),n(27,N=!0),Kr(a)}re();let z=!1,Q="";const ae=["overview","temporal","households"];function O(){const d=window.scrollY;n(15,z=d>100);for(const R of ae){const ee=document.getElementById(R);if(!ee)continue;const X=ee.getBoundingClientRect();if(X.top<=150&&X.bottom>=150){n(16,Q=R);break}}}const ie=_.LADToName;let ve,ce;Ar(()=>(Yr(a),ve=new Wr(S,"LAD",ce,"val",!0,"Lookup_value",!1,null,8),ve.initMap(!1),window.addEventListener("scroll",O),O(),()=>window.removeEventListener("scroll",O))),xr(()=>{window.removeEventListener("scroll",O)});function Ne(d,R,ee="black"){return qe({width:80,height:20,margin:0,x:{domain:[0,R],axis:null},marks:[Xn([d],{x:V=>V,y:0,fill:ee})]}).outerHTML}function ye(d,R){if(!d||!R)return;let ee=d.filter(V=>V.total<20);return qe({height:Oe/1.6,...$e,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[Al(ee,sa({y:(V,Z)=>V.length/ee.length/(Z.x2-Z.x1)},{x:"total",fill:_e,stroke:_e,fillOpacity:.3,strokeWidth:2})),Al(R,sa({y:(V,Z)=>V.length/R.length/(Z.x2-Z.x1)},{x:"total",tip:!0,fill:St,stroke:"black",fillOpacity:.3,strokeWidth:2})),Ur([0],{stroke:"#1E1E1E",strokeWidth:1}),aa({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),Kn({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function ne(){{let d=qe({height:Oe/1.4,...$e,x:{type:"band"},style:{fontSize:"18px"},marks:[Ut(I,it({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ut(T,it({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const R=Re(d).selectAll("g[aria-label='bar']");Re(R.nodes()[0]);const ee=Re(R.nodes()[1]);ee.selectAll("rect").each(function(){}),ee.remove()},1e3)}}function $(){if(u){let d=qe({height:Oe/1,width:811,...$e,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:ra.range(),domain:ra.domain()},marks:[Ut(m,it({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:_e,sort:{x:"y",reverse:!0},tip:!0})),Ut(j,it({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:R=>ra(R.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),aa({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),Kn({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Gs([0],{stroke:"#333",strokeWidth:.75})]});Re(d).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(R,ee,X)=>{let V=R.target.textContent,Z=oa.find(U=>U.id==V);window.open(`${Qn}/cobenefit?cobenefit=${Z.id}`,"_blank").focus()}),u.append(d)}}function ue(){Xr.forEach(d=>{let R;Xs.includes(d)?R=qe({height:Oe/1.2,...$e,marginLeft:100,marginTop:40,marginBottom:d==="Typology"?100:60,x:{grid:!0,padding:.6,label:na(d),tickFormat:W=>Zs[d]?.[W]??W,tickRotate:d==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ut(x,it({y:"proportion"},{x:d,dx:12,fill:_e})),Ut(T,it({y:"proportion"},{x:d,dx:-12}))]}):R=qe({height:Oe/1.2,...$e,x:{label:na(d)},style:{fontSize:"18px"},marks:[Al(T,sa({y:(W,Ie)=>W.length/T.length/(Ie.x2-Ie.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],tip:!0,fill:_e,stroke:_e,fillOpacity:.2,strokeWidth:3})),Al(x,sa({y:(W,Ie)=>W.length/x.length/(Ie.x2-Ie.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),C[d]?.append(void 0),v[d]?.append(R);let X=x.map(W=>W.total),V=dr(X);X.sort();var Z=X.length,U=Math.floor(Z*1)-1;let oe=X[U];V[1]=oe+2,V[0]=-5;let je;Xs.includes(d)?je=qe({height:Oe/1.2,...$e,marginBottom:d==="Typology"?100:60,marginLeft:100,x:{label:na(d),type:"point",tickFormat:W=>Zs[d]?.[W]??W,tickRotate:d==="Typology"?-20:0},y:{domain:V,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[nr(Ks(x,15e3),{x:W=>`${W[d]}`,y:"total",fill:"density",bandwidth:3}),tr(T,{x:W=>`${W[d]}`,y:"total",fill:"black",r:2}),aa({label:"Datazone Co-Benefit (millions £)"})]}):je=qe({height:Oe/1.2,...$e,x:{label:na(d)},y:{domain:V},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[nr(Ks(x,2e4),{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],y:"total",fill:"density",thresholds:10}),tr(T,{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],y:"total",fill:"black",r:2}),aa({label:"Datazone Co-Benefit (£)"}),Kn({anchor:"bottom"})]}),f[d]&&n(4,f[d].innerHTML="",f),f[d]?.append(je)})}function fe(){for(let d of Zr){let R=qe({height:Oe,width:410,...$e,marginRight:0,marginLeft:100,marks:[Xn(g,Ws({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Jr/2,fill:_e,tip:!0})),Xn(j,Ws({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});h[d]?.append(R)}}function Te(){let d=T.flatMap(U=>Yn.map(oe=>({time:oe,value:U[oe],scenario:U.scenario,zone:"local"}))),R=x.flatMap(U=>Yn.map(oe=>({time:oe,value:U[oe],scenario:U.scenario,zone:"UK"}))),ee=d.concat(R),X=qe({height:Oe,width:800,...$e,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[_e,St],legend:!1},marks:[Ut(ee,it({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Gr({anchor:"bottom",tickFormat:U=>U.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(X),Re(i).select("g[aria-label='bar']").selectAll("g").each(function(U,oe){const je=Re(this).selectAll("rect").nodes()[0],W=Re(je).attr("transform")||"";Re(je).attr("transform",`${W} translate(-20, 0)`),Re(this).selectAll("rect").nodes()[0].getAttribute("height"),Re(this).selectAll("rect").nodes()[1].getAttribute("height"),Re(this).selectAll("rect")}),qe({height:Oe,width:800,...$e,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Io(ee,it({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let V=j.flatMap(U=>Yn.map(oe=>({time:oe,value:U[oe],cobenefit:U.co_benefit_type})));console.log("dataCBs",V);let Z=qe({height:Oe,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([U])=>`Cobenefit ${U.cobenefit}`},x:{label:"Years",tickFormat:U=>U.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:Qr,domain:oa.map(U=>U.id)},marks:[Al(V,it({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:U=>`${(+U).toFixed(3)}`,x:U=>`${U.replace(/^Y/,"").replace("_","-")}`,fill:U=>`${U}`}}})),Gs([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(Z)}async function Ee(d){n(7,D=d.currentTarget.value),n(26,m=await Fe($s("total",D))),n(25,I=await Fe(Qs([],D))),n(5,x=await Fe(Js(D)))}function se(d){Lt[d?"unshift":"push"](()=>{u=d,n(0,u)})}function De(d){Lt[d?"unshift":"push"](()=>{ce=d,n(17,ce)})}function de(d){Lt[d?"unshift":"push"](()=>{i=d,n(1,i)})}function xe(d){Lt[d?"unshift":"push"](()=>{c=d,n(2,c)})}function F(d,R){Lt[d?"unshift":"push"](()=>{v[R.id]=d,n(3,v)})}function le(d,R){Lt[d?"unshift":"push"](()=>{v[R.id]=d,n(3,v)})}function Ue(d,R){Lt[d?"unshift":"push"](()=>{f[R.id]=d,n(4,f)})}function he(d){Lt[d?"unshift":"push"](()=>{a=d,n(6,a)})}return t.$$set=d=>{"data"in d&&n(23,_=d.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&I&&(n(13,H=Wn(I.map(d=>d.val))/1e3),n(14,M=Wn(I.map(d=>d.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(u&&Wt(u),i&&Wt(i),c&&Wt(c),N&&m&&I&&x&&(ne(),$(),Te())),t.$$.dirty[0]&134217752&&(Object.values(v).forEach(d=>{d&&Wt(d)}),Object.values(C).forEach(d=>{d&&Wt(d)}),Object.values(f).forEach(d=>{d&&Wt(d)}),N&&ue()),t.$$.dirty[0]&134217728&&(Object.values(h).forEach(d=>{d&&Wt(d)}),N&&fe())},[u,i,c,v,f,x,a,D,T,P,B,q,G,H,M,z,Q,ce,S,ie,Ne,ye,Ee,_,L,I,m,N,se,De,de,xe,F,le,Ue,he]}class ii extends Lr{constructor(l){super(),Dr(this,l,Go,Uo,Cr,{data:23},null,[-1,-1])}}export{ii as component};
