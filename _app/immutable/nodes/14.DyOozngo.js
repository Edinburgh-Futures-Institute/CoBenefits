import{s as xe,d as b,x as Te,y as ue,i as te,b as t,z as Z,w as e,g as L,c as r,e as S,p as M,j as A,h as i,r as Be,A as de,v as De,n as ke,B as Ne,f as Se,t as Ie}from"../chunks/DsiPdP4J.js";import{S as Me,i as Pe,d as Ve,t as Fe,a as Ue,m as He,c as Oe,b as je}from"../chunks/BBJTKZ5Q.js";import{N as Ye,e as fe}from"../chunks/DBMomcd4.js";import"../chunks/DRyxMU8n.js";import"../chunks/B-csFKs7.js";import{M as Ge}from"../chunks/gr-j2Mee.js";import{g as ie,d as be,e as Ce,f as ze,h as Re}from"../chunks/BddKlxjk.js";import{C as _e,S as we,g as qe}from"../chunks/CY_g8wcW.js";function Ee(c,a,l){const m=c.slice();return m[30]=a[l],m}function ye(c,a,l){const m=c.slice();return m[27]=a[l],m}function Ze(c){let a,l,m="Social Economic Factor",g,p,C=fe(we),n=[];for(let u=0;u<C.length;u+=1)n[u]=Le(Ee(c,C,u));return{c(){a=i("div"),l=i("h2"),l.textContent=m,g=A(),p=i("div");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){a=r(u,"DIV",{class:!0});var s=S(a);l=r(s,"H2",{"data-svelte-h":!0}),M(l)!=="svelte-1ld89ev"&&(l.textContent=m),g=L(s),p=r(s,"DIV",{id:!0,class:!0});var d=S(p);for(let v=0;v<n.length;v+=1)n[v].l(d);d.forEach(b),s.forEach(b),this.h()},h(){e(p,"id","time"),e(p,"class","svelte-1wg3mna"),e(a,"class","tabcontent svelte-1wg3mna")},m(u,s){te(u,a,s),t(a,l),t(a,g),t(a,p);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(p,null)},p(u,s){if(s[0]&514){C=fe(we);let d;for(d=0;d<C.length;d+=1){const v=Ee(u,C,d);n[d]?n[d].p(v,s):(n[d]=Le(v),n[d].c(),n[d].m(p,null))}for(;d<n.length;d+=1)n[d].d(1);n.length=C.length}},d(u){u&&b(a),De(n,u)}}}function Je(c){let a,l,m,g="Co Benefits",p,C,n,u,s="Time",d,v,w,D,E,_="total",P,j,k,Y,N="2025-2029",H,I,G,z,V="2030-2034",le,R,o,x,ne="2035-2039",W,$,J,U,se="2040-2044",X,ee,K,O,oe="2045-2049",re,ce,q=fe(_e),h=[];for(let f=0;f<q.length;f+=1)h[f]=Ae(ye(c,q,f));return{c(){a=i("div"),l=i("div"),m=i("h2"),m.textContent=g,p=A();for(let f=0;f<h.length;f+=1)h[f].c();C=A(),n=i("div"),u=i("h2"),u.textContent=s,d=A(),v=i("div"),w=i("label"),D=i("input"),E=i("span"),E.textContent=_,P=A(),j=i("label"),k=i("input"),Y=i("span"),Y.textContent=N,H=A(),I=i("label"),G=i("input"),z=i("span"),z.textContent=V,le=A(),R=i("label"),o=i("input"),x=i("span"),x.textContent=ne,W=A(),$=i("label"),J=i("input"),U=i("span"),U.textContent=se,X=A(),ee=i("label"),K=i("input"),O=i("span"),O.textContent=oe,this.h()},l(f){a=r(f,"DIV",{class:!0});var T=S(a);l=r(T,"DIV",{class:!0});var y=S(l);m=r(y,"H2",{"data-svelte-h":!0}),M(m)!=="svelte-8wtja0"&&(m.textContent=g),p=L(y);for(let ge=0;ge<h.length;ge+=1)h[ge].l(y);y.forEach(b),C=L(T),n=r(T,"DIV",{class:!0});var F=S(n);u=r(F,"H2",{"data-svelte-h":!0}),M(u)!=="svelte-hletp"&&(u.textContent=s),d=L(F),v=r(F,"DIV",{id:!0,class:!0});var B=S(v);w=r(B,"LABEL",{class:!0});var ae=S(w);D=r(ae,"INPUT",{type:!0,name:!0,class:!0}),E=r(ae,"SPAN",{class:!0,"data-svelte-h":!0}),M(E)!=="svelte-67wc0s"&&(E.textContent=_),ae.forEach(b),P=L(B),j=r(B,"LABEL",{class:!0});var Q=S(j);k=r(Q,"INPUT",{type:!0,name:!0,class:!0}),Y=r(Q,"SPAN",{class:!0,"data-svelte-h":!0}),M(Y)!=="svelte-177152l"&&(Y.textContent=N),Q.forEach(b),H=L(B),I=r(B,"LABEL",{class:!0});var ve=S(I);G=r(ve,"INPUT",{type:!0,name:!0,class:!0}),z=r(ve,"SPAN",{class:!0,"data-svelte-h":!0}),M(z)!=="svelte-sne3j9"&&(z.textContent=V),ve.forEach(b),le=L(B),R=r(B,"LABEL",{class:!0});var me=S(R);o=r(me,"INPUT",{type:!0,name:!0,class:!0}),x=r(me,"SPAN",{class:!0,"data-svelte-h":!0}),M(x)!=="svelte-13ifhof"&&(x.textContent=ne),me.forEach(b),W=L(B),$=r(B,"LABEL",{class:!0});var he=S($);J=r(he,"INPUT",{type:!0,name:!0,class:!0}),U=r(he,"SPAN",{class:!0,"data-svelte-h":!0}),M(U)!=="svelte-1pug1mv"&&(U.textContent=se),he.forEach(b),X=L(B),ee=r(B,"LABEL",{class:!0});var pe=S(ee);K=r(pe,"INPUT",{type:!0,name:!0,class:!0}),O=r(pe,"SPAN",{class:!0,"data-svelte-h":!0}),M(O)!=="svelte-3f05xd"&&(O.textContent=oe),pe.forEach(b),B.forEach(b),F.forEach(b),T.forEach(b),this.h()},h(){e(l,"class","component"),e(D,"type","radio"),e(D,"name","toggle"),D.value="total",D.checked=!0,e(D,"class","svelte-1wg3mna"),e(E,"class","svelte-1wg3mna"),e(w,"class","time-radio svelte-1wg3mna"),e(k,"type","radio"),e(k,"name","toggle"),k.value="Y2025_2029",e(k,"class","svelte-1wg3mna"),e(Y,"class","svelte-1wg3mna"),e(j,"class","time-radio svelte-1wg3mna"),e(G,"type","radio"),e(G,"name","toggle"),G.value="Y2030_2034",e(G,"class","svelte-1wg3mna"),e(z,"class","svelte-1wg3mna"),e(I,"class","time-radio svelte-1wg3mna"),e(o,"type","radio"),e(o,"name","toggle"),o.value="Y2035_2039",e(o,"class","svelte-1wg3mna"),e(x,"class","svelte-1wg3mna"),e(R,"class","time-radio svelte-1wg3mna"),e(J,"type","radio"),e(J,"name","toggle"),J.value="Y2040_2044",e(J,"class","svelte-1wg3mna"),e(U,"class","svelte-1wg3mna"),e($,"class","time-radio svelte-1wg3mna"),e(K,"type","radio"),e(K,"name","toggle"),K.value="Y2045_2049",e(K,"class","svelte-1wg3mna"),e(O,"class","svelte-1wg3mna"),e(ee,"class","time-radio svelte-1wg3mna"),e(v,"id","time"),e(v,"class","svelte-1wg3mna"),e(n,"class","component"),e(a,"class","tabcontent svelte-1wg3mna")},m(f,T){te(f,a,T),t(a,l),t(l,m),t(l,p);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(l,null);t(a,C),t(a,n),t(n,u),t(n,d),t(n,v),t(v,w),t(w,D),t(w,E),t(v,P),t(v,j),t(j,k),t(j,Y),t(v,H),t(v,I),t(I,G),t(I,z),t(v,le),t(v,R),t(R,o),t(R,x),t(v,W),t(v,$),t($,J),t($,U),t(v,X),t(v,ee),t(ee,K),t(ee,O),re||(ce=[Z(D,"change",c[7]),Z(k,"change",c[7]),Z(G,"change",c[7]),Z(o,"change",c[7]),Z(J,"change",c[7]),Z(K,"change",c[7])],re=!0)},p(f,T){if(T[0]&64){q=fe(_e);let y;for(y=0;y<q.length;y+=1){const F=ye(f,q,y);h[y]?h[y].p(F,T):(h[y]=Ae(F),h[y].c(),h[y].m(l,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=q.length}},d(f){f&&b(a),De(h,f),re=!1,Te(ce)}}}function Le(c){let a,l,m,g,p,C,n,u;return{c(){a=i("input"),m=A(),g=i("label"),p=Ie(c[30]),C=i("br"),this.h()},l(s){a=r(s,"INPUT",{type:!0,id:!0,name:!0,class:!0}),m=L(s),g=r(s,"LABEL",{for:!0});var d=S(g);p=Se(d,c[30]),d.forEach(b),C=r(s,"BR",{}),this.h()},h(){e(a,"type","radio"),e(a,"id","html"),e(a,"name","fav_language"),a.value=c[30],a.checked=l=c[30]==c[1],e(a,"class","svelte-1wg3mna"),e(g,"for","html")},m(s,d){te(s,a,d),te(s,m,d),te(s,g,d),t(g,p),te(s,C,d),n||(u=Z(a,"change",c[9]),n=!0)},p(s,d){d[0]&2&&l!==(l=s[30]==s[1])&&(a.checked=l)},d(s){s&&(b(a),b(m),b(g),b(C)),n=!1,u()}}}function Ae(c){let a,l,m,g,p,C,n,u,s,d,v,w,D;return{c(){a=i("div"),l=i("img"),g=A(),p=i("input"),C=A(),n=i("label"),u=Ie(c[27]),s=A(),d=i("br"),v=A(),this.h()},l(E){a=r(E,"DIV",{class:!0});var _=S(a);l=r(_,"IMG",{alt:!0,class:!0,src:!0}),g=L(_),p=r(_,"INPUT",{type:!0,name:!0}),C=L(_),n=r(_,"LABEL",{for:!0});var P=S(n);u=Se(P,c[27]),P.forEach(b),s=L(_),d=r(_,"BR",{}),v=L(_),_.forEach(b),this.h()},h(){e(l,"alt","cobenefit icon"),e(l,"class","icon svelte-1wg3mna"),Ne(l.src,m=qe(c[27]))||e(l,"src",m),e(p,"type","radio"),e(p,"name","cobenef"),p.value=c[27],p.checked=!0,e(n,"for","css"),e(a,"class","checkbox-div svelte-1wg3mna")},m(E,_){te(E,a,_),t(a,l),t(a,g),t(a,p),t(a,C),t(a,n),t(n,u),t(a,s),t(a,d),t(a,v),w||(D=Z(p,"change",c[6]),w=!0)},p:ke,d(E){E&&b(a),w=!1,D()}}}function Ke(c){let a,l,m,g,p=`<h2>Map</h2> <p>This interactive map shows the co-benefit of each datazone. The pathway and time window can be selected,
            along a given set of co-benefits.</p>`,C,n,u,s,d="",v,w,D="",E,_,P="Export",j,k,Y,N,H,I,G="CoBenefits",z,V,le="Socio-Economic Factors",R,o,x,ne,W,$="LAD",J,U,se,X,ee="LSOA",K,O,oe,re;a=new Ye({});function ce(f,T){if(f[0]=="Cobenefit")return Je;if(f[0]=="SEF")return Ze}let q=ce(c),h=q&&q(c);return{c(){je(a.$$.fragment),l=A(),m=i("div"),g=i("div"),g.innerHTML=p,C=A(),n=i("div"),u=i("div"),s=i("div"),s.innerHTML=d,v=A(),w=i("div"),w.innerHTML=D,E=A(),_=i("button"),_.textContent=P,j=A(),k=i("div"),Y=A(),N=i("div"),H=i("div"),I=i("button"),I.textContent=G,z=A(),V=i("button"),V.textContent=le,R=A(),o=i("div"),x=i("input"),ne=A(),W=i("label"),W.textContent=$,J=A(),U=i("input"),se=A(),X=i("label"),X.textContent=ee,K=A(),h&&h.c(),this.h()},l(f){Oe(a.$$.fragment,f),l=L(f),m=r(f,"DIV",{class:!0});var T=S(m);g=r(T,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),M(g)!=="svelte-mj8vf3"&&(g.innerHTML=p),C=L(T),n=r(T,"DIV",{id:!0,class:!0});var y=S(n);u=r(y,"DIV",{class:!0,id:!0});var F=S(u);s=r(F,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1ej9vmv"&&(s.innerHTML=d),v=L(F),w=r(F,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),M(w)!=="svelte-1j653gg"&&(w.innerHTML=D),E=L(F),_=r(F,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),M(_)!=="svelte-zgluur"&&(_.textContent=P),j=L(F),k=r(F,"DIV",{id:!0,class:!0}),S(k).forEach(b),F.forEach(b),Y=L(y),N=r(y,"DIV",{class:!0,id:!0});var B=S(N);H=r(B,"DIV",{class:!0});var ae=S(H);I=r(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),M(I)!=="svelte-1dc450"&&(I.textContent=G),z=L(ae),V=r(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),M(V)!=="svelte-1bnouoj"&&(V.textContent=le),ae.forEach(b),R=L(B),o=r(B,"DIV",{class:!0});var Q=S(o);x=r(Q,"INPUT",{type:!0,name:!0}),ne=L(Q),W=r(Q,"LABEL",{for:!0,"data-svelte-h":!0}),M(W)!=="svelte-1yt3ls4"&&(W.textContent=$),J=L(Q),U=r(Q,"INPUT",{type:!0,name:!0}),se=L(Q),X=r(Q,"LABEL",{for:!0,"data-svelte-h":!0}),M(X)!=="svelte-1oa0u5m"&&(X.textContent=ee),Q.forEach(b),K=L(B),h&&h.l(B),B.forEach(b),y.forEach(b),T.forEach(b),this.h()},h(){e(g,"class","component"),e(g,"id","heaser"),e(s,"id","map"),e(s,"class","svelte-1wg3mna"),e(w,"id","map-legend"),e(w,"class","svelte-1wg3mna"),e(_,"id","export-button"),e(_,"class","svelte-1wg3mna"),e(k,"id","tooltip"),e(k,"class","tooltip svelte-1wg3mna"),e(u,"class","component column svelte-1wg3mna"),e(u,"id","mapComp"),e(I,"class","tablinks svelte-1wg3mna"),I.value="Cobenefit",ue(I,"active",c[0]=="Cobenefit"),e(V,"class","tablinks svelte-1wg3mna"),V.value="SEF",ue(V,"active",c[0]=="SEF"),e(H,"class","tab svelte-1wg3mna"),e(x,"type","radio"),e(x,"name","granularity"),x.value="LAD",x.checked=!0,e(W,"for","LAD"),e(U,"type","radio"),e(U,"name","granularity"),U.value="LSOA",e(X,"for","LSOA"),e(o,"class","component"),e(N,"class","component column svelte-1wg3mna"),e(N,"id","control-panel"),e(n,"id","map-row"),e(n,"class","row svelte-1wg3mna"),e(m,"class","page-container svelte-1wg3mna")},m(f,T){He(a,f,T),te(f,l,T),te(f,m,T),t(m,g),t(m,C),t(m,n),t(n,u),t(u,s),c[18](s),t(u,v),t(u,w),c[19](w),t(u,E),t(u,_),c[20](_),t(u,j),t(u,k),t(n,Y),t(n,N),t(N,H),t(H,I),t(H,z),t(H,V),t(N,R),t(N,o),t(o,x),t(o,ne),t(o,W),t(o,J),t(o,U),t(o,se),t(o,X),t(N,K),h&&h.m(N,null),c[21](m),O=!0,oe||(re=[Z(_,"click",Qe),Z(I,"click",c[8]),Z(V,"click",c[8]),Z(x,"change",c[10]),Z(U,"change",c[10])],oe=!0)},p(f,T){(!O||T[0]&1)&&ue(I,"active",f[0]=="Cobenefit"),(!O||T[0]&1)&&ue(V,"active",f[0]=="SEF"),q===(q=ce(f))&&h?h.p(f,T):(h&&h.d(1),h=q&&q(f),h&&(h.c(),h.m(N,null)))},i(f){O||(Ue(a.$$.fragment,f),O=!0)},o(f){Fe(a.$$.fragment,f),O=!1},d(f){f&&(b(l),b(m)),Ve(a,f),c[18](null),c[19](null),c[20](null),h&&h.d(),c[21](null),oe=!1,Te(re)}}}function Qe(){const c=document.getElementsByClassName("maplibregl-canvas");console.log(c);const a=c[0].toDataURL("image/png");var l=document.createElement("a");l.download="map.png",l.href=a,l.dataset.downloadurl=["image/png",l.download,l.href].join(":"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function We(c,a,l){let{data:m}=a,g,p,C,n,u,s,d="Cobenefit",v="BNZ",w=new Set(_e),D="total",E="LAD",_="EPC",P;function j(){C=s.legend(k()),l(4,n.innerHTML="",n),n.append(C)}function k(){if(d=="SEF")return`${_} (Millions of £)`;if(d=="Cobenefit")return"Cobenefits (Millions of £)"}Be(async()=>{let o;E=="LAD"?o=await ie(be(Array.from(w),v,D)):E=="LSOA"&&(o=await ie(Ce(Array.from(w),v,D))),l(12,s=new Ge(o,E,p)),s.initMap(),C=s.legend(),n.append(C)});const Y=o=>{const x=o.currentTarget.value;l(14,w=[x])},N=o=>{const x=o.currentTarget.value;l(15,D=x)};function H(o,x){l(0,d=o.currentTarget.value)}const I=o=>{l(1,_=o.currentTarget.value)},G=o=>{s.removeLayers(),s.removeSources(),l(16,E=o.currentTarget.value),l(12,s.granularity=E,s)};function z(o){de[o?"unshift":"push"](()=>{p=o,l(3,p)})}function V(o){de[o?"unshift":"push"](()=>{n=o,l(4,n)})}function le(o){de[o?"unshift":"push"](()=>{u=o,l(5,u)})}function R(o){de[o?"unshift":"push"](()=>{g=o,l(2,g)})}return c.$$set=o=>{"data"in o&&l(11,m=o.data)},c.$$.update=()=>{c.$$.dirty[0]&258051&&s?.loaded&&(d=="Cobenefit"?E=="LAD"?l(17,P=ie(be(Array.from(w),v,D))):E=="LSOA"&&l(17,P=ie(Ce(Array.from(w),v,D))):l(0,d="SEF")&&(E=="LAD"?l(17,P=ie(ze(_))):E=="LSOA"&&l(17,P=ie(Re(_)))),P.then(o=>{s.map.getStyle().layers.length==0&&s.loadLayers(),s.update(o,d),j()}))},[d,_,g,p,n,u,Y,N,H,I,G,m,s,v,w,D,E,P,z,V,le,R]}class ot extends Me{constructor(a){super(),Pe(this,a,We,Ke,xe,{data:11},null,[-1,-1])}}export{ot as component};
