import{s as Qs,a as _,e as o,t as w,H as gl,g as E,c as i,b as y,p as W,d as A,f as p,E as yl,q as s,B as xe,i as ke,h as e,y as pl,j as Ce,w as $s,z as er,v as tr,_ as lr,A as Lt}from"../chunks/scheduler.GkBzG_tJ.js";import{S as ar,i as nr,c as sr,b as rr,m as or,t as ir,a as cr,d as ur}from"../chunks/index.puHNmHGV.js";import{N as hr,e as ys}from"../chunks/NavigationBar.Doaj7l7w.js";import"../chunks/transform.BNP73y-7.js";import{aj as dr,ai as Us,ak as js,a4 as Nn,o as fr,q as vr,M as Gs,U as Ws,E as pr,c as qs,b as Ys,d as Ks,al as mr,e as Xs,am as gr,an as yr,G as Zs,H as Jl,g as br,h as _r,ao as Er,ap as Cr,aq as wr,ar as Ar,k as kr,a8 as Dr,N as Sn,I as Ie,a6 as ot,ab as Xe,aa as Tn,a9 as bs,L as _s,J as Es,as as Lr}from"../chunks/index.CHZ6sWj5.js";import{M as Sr,g as Cs}from"../chunks/mapUK.BVZ1RoDr.js";import{V as Tt,A as me,c as ws,C as As,r as Tr,f as Mr,M as Ze,e as Mn,j as Ir,S as ks,d as Xl,a as Ds,k as Pr,l as Vr,T as In,i as Nr}from"../chunks/globals.CIft0kKc.js";import{g as He,q as Ls,r as zr,d as Ss,s as Br,t as Ts,u as xr,v as Hr,m as Fr}from"../chunks/duckdb.n8_DZZ1A.js";import{b as Pn,a as Rt}from"../chunks/bar.B1iivFak.js";import{t as Rr,e as Or,m as Ur,c as Ms,s as jr,a as ml,b as Zl}from"../chunks/area.B8L6jJ9p.js";import{d as Is}from"../chunks/dot.Dr8WyW9V.js";const Gr=Wr(qr);function Wr(t){return function(l,a,n=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((n=+n)>=0))throw new RangeError("invalid ry");let{data:r,width:c,height:h}=l;if(!((c=Math.floor(c))>=0))throw new RangeError("invalid width");if(!((h=Math.floor(h!==void 0?h:r.length/c))>=0))throw new RangeError("invalid height");if(!c||!h||!a&&!n)return l;const v=a&&t(a),b=n&&t(n),d=r.slice();return v&&b?(dl(v,d,r,c,h),dl(v,r,d,c,h),dl(v,d,r,c,h),fl(b,r,d,c,h),fl(b,d,r,c,h),fl(b,r,d,c,h)):v?(dl(v,r,d,c,h),dl(v,d,r,c,h),dl(v,r,d,c,h)):b&&(fl(b,r,d,c,h),fl(b,d,r,c,h),fl(b,r,d,c,h)),l}}function dl(t,l,a,n,r){for(let c=0,h=n*r;c<h;)t(l,a,c,c+=n,1)}function fl(t,l,a,n,r){for(let c=0,h=n*r;c<n;++c)t(l,a,c,c+h,n)}function qr(t){const l=Math.floor(t);if(l===t)return Yr(t);const a=t-l,n=2*t+1;return(r,c,h,v,b)=>{if(!((v-=b)>=h))return;let d=l*c[h];const f=b*l,L=f+b;for(let g=h,S=h+f;g<S;g+=b)d+=c[Math.min(v,g)];for(let g=h,S=v;g<=S;g+=b)d+=c[Math.min(v,g+f)],r[g]=(d+a*(c[Math.max(h,g-L)]+c[Math.min(v,g+L)]))/n,d-=c[Math.max(h,g-f)]}}function Yr(t){const l=2*t+1;return(a,n,r,c,h)=>{if(!((c-=h)>=r))return;let v=t*n[r];const b=h*t;for(let d=r,f=r+b;d<f;d+=h)v+=n[Math.min(c,d)];for(let d=r,f=c;d<=f;d+=h)v+=n[Math.min(c,d+b)],a[d]=v/l,v-=n[Math.max(r,d-b)]}}function Kr(t,l,a){let n;for(;;){const r=dr(t,l,a);if(r===n||r===0||!isFinite(r))return[t,l];r>0?(t=Math.floor(t/r)*r,l=Math.ceil(l/r)*r):r<0&&(t=Math.ceil(t*r)/r,l=Math.floor(l*r)/r),n=r}}var Xr=Array.prototype,Js=Xr.slice;function Zr(t,l){return t-l}function Jr(t){for(var l=0,a=t.length,n=t[a-1][1]*t[0][0]-t[a-1][0]*t[0][1];++l<a;)n+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return n}const St=t=>()=>t;function Qr(t,l){for(var a=-1,n=l.length,r;++a<n;)if(r=$r(t,l[a]))return r;return 0}function $r(t,l){for(var a=l[0],n=l[1],r=-1,c=0,h=t.length,v=h-1;c<h;v=c++){var b=t[c],d=b[0],f=b[1],L=t[v],g=L[0],S=L[1];if(eo(b,L,l))return 0;f>n!=S>n&&a<(g-d)*(n-f)/(S-f)+d&&(r=-r)}return r}function eo(t,l,a){var n;return to(t,l,a)&&lo(t[n=+(t[0]===l[0])],a[n],l[n])}function to(t,l,a){return(l[0]-t[0])*(a[1]-t[1])===(a[0]-t[0])*(l[1]-t[1])}function lo(t,l,a){return t<=l&&l<=a||a<=l&&l<=t}function ao(){}var it=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ps(){var t=1,l=1,a=Rr,n=b;function r(d){var f=a(d);if(Array.isArray(f))f=f.slice().sort(Zr);else{const L=Us(d,no);for(f=js(...Kr(L[0],L[1],f),f);f[f.length-1]>=L[1];)f.pop();for(;f[1]<L[0];)f.shift()}return f.map(L=>c(d,L))}function c(d,f){const L=f==null?NaN:+f;if(isNaN(L))throw new Error(`invalid value: ${f}`);var g=[],S=[];return h(d,L,function(D){n(D,d,L),Jr(D)>0?g.push([D]):S.push(D)}),S.forEach(function(D){for(var k=0,T=g.length,C;k<T;++k)if(Qr((C=g[k])[0],D)!==-1){C.push(D);return}}),{type:"MultiPolygon",value:f,coordinates:g}}function h(d,f,L){var g=new Array,S=new Array,D,k,T,C,m,I;for(D=k=-1,C=Ot(d[0],f),it[C<<1].forEach(M);++D<t-1;)T=C,C=Ot(d[D+1],f),it[T|C<<1].forEach(M);for(it[C<<0].forEach(M);++k<l-1;){for(D=-1,C=Ot(d[k*t+t],f),m=Ot(d[k*t],f),it[C<<1|m<<2].forEach(M);++D<t-1;)T=C,C=Ot(d[k*t+t+D+1],f),I=m,m=Ot(d[k*t+D+1],f),it[T|C<<1|m<<2|I<<3].forEach(M);it[C|m<<3].forEach(M)}for(D=-1,m=d[k*t]>=f,it[m<<2].forEach(M);++D<t-1;)I=m,m=Ot(d[k*t+D+1],f),it[m<<2|I<<3].forEach(M);it[m<<3].forEach(M);function M(N){var H=[N[0][0]+D,N[0][1]+k],P=[N[1][0]+D,N[1][1]+k],R=v(H),O=v(P),V,B;(V=S[R])?(B=g[O])?(delete S[V.end],delete g[B.start],V===B?(V.ring.push(P),L(V.ring)):g[V.start]=S[B.end]={start:V.start,end:B.end,ring:V.ring.concat(B.ring)}):(delete S[V.end],V.ring.push(P),S[V.end=O]=V):(V=g[O])?(B=S[R])?(delete g[V.start],delete S[B.end],V===B?(V.ring.push(P),L(V.ring)):g[B.start]=S[V.end]={start:B.start,end:V.end,ring:B.ring.concat(V.ring)}):(delete g[V.start],V.ring.unshift(H),g[V.start=R]=V):g[R]=S[O]={start:R,end:O,ring:[H,P]}}}function v(d){return d[0]*2+d[1]*(t+1)*4}function b(d,f,L){d.forEach(function(g){var S=g[0],D=g[1],k=S|0,T=D|0,C=Vn(f[T*t+k]);S>0&&S<t&&k===S&&(g[0]=Vs(S,Vn(f[T*t+k-1]),C,L)),D>0&&D<l&&T===D&&(g[1]=Vs(D,Vn(f[(T-1)*t+k]),C,L))})}return r.contour=c,r.size=function(d){if(!arguments.length)return[t,l];var f=Math.floor(d[0]),L=Math.floor(d[1]);if(!(f>=0&&L>=0))throw new Error("invalid size");return t=f,l=L,r},r.thresholds=function(d){return arguments.length?(a=typeof d=="function"?d:Array.isArray(d)?St(Js.call(d)):St(d),r):a},r.smooth=function(d){return arguments.length?(n=d?b:ao,r):n===b},r}function no(t){return isFinite(t)?t:NaN}function Ot(t,l){return t==null?!1:+t>=l}function Vn(t){return t==null||isNaN(t=+t)?-1/0:t}function Vs(t,l,a,n){const r=n-l,c=a-l,h=isFinite(r)||isFinite(c)?r/c:Math.sign(r)/Math.sign(c);return isNaN(h)?t:t+h-.5}function so(t){return t[0]}function ro(t){return t[1]}function oo(){return 1}function io(){var t=so,l=ro,a=oo,n=960,r=500,c=20,h=2,v=c*3,b=n+v*2>>h,d=r+v*2>>h,f=St(20);function L(m){var I=new Float32Array(b*d),M=Math.pow(2,-h),N=-1;for(const x of m){var H=(t(x,++N,m)+v)*M,P=(l(x,N,m)+v)*M,R=+a(x,N,m);if(R&&H>=0&&H<b&&P>=0&&P<d){var O=Math.floor(H),V=Math.floor(P),B=H-O-.5,$=P-V-.5;I[O+V*b]+=(1-B)*(1-$)*R,I[O+1+V*b]+=B*(1-$)*R,I[O+1+(V+1)*b]+=B*$*R,I[O+(V+1)*b]+=(1-B)*$*R}}return Gr({data:I,width:b,height:d},c*M),I}function g(m){var I=L(m),M=f(I),N=Math.pow(2,2*h);return Array.isArray(M)||(M=js(Number.MIN_VALUE,Nn(I)/N,M)),Ps().size([b,d]).thresholds(M.map(H=>H*N))(I).map((H,P)=>(H.value=+M[P],S(H)))}g.contours=function(m){var I=L(m),M=Ps().size([b,d]),N=Math.pow(2,2*h),H=P=>{P=+P;var R=S(M.contour(I,P*N));return R.value=P,R};return Object.defineProperty(H,"max",{get:()=>Nn(I)/N}),H};function S(m){return m.coordinates.forEach(D),m}function D(m){m.forEach(k)}function k(m){m.forEach(T)}function T(m){m[0]=m[0]*Math.pow(2,h)-v,m[1]=m[1]*Math.pow(2,h)-v}function C(){return v=c*3,b=n+v*2>>h,d=r+v*2>>h,g}return g.x=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),g):t},g.y=function(m){return arguments.length?(l=typeof m=="function"?m:St(+m),g):l},g.weight=function(m){return arguments.length?(a=typeof m=="function"?m:St(+m),g):a},g.size=function(m){if(!arguments.length)return[n,r];var I=+m[0],M=+m[1];if(!(I>=0&&M>=0))throw new Error("invalid size");return n=I,r=M,C()},g.cellSize=function(m){if(!arguments.length)return 1<<h;if(!((m=+m)>=1))throw new Error("invalid cell size");return h=Math.floor(Math.log(m)/Math.LN2),C()},g.thresholds=function(m){return arguments.length?(f=typeof m=="function"?m:Array.isArray(m)?St(Js.call(m)):St(m),g):f},g.bandwidth=function(m){if(!arguments.length)return Math.sqrt(c*(c+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return c=(Math.sqrt(4*m*m+1)-1)/2,C()},g}const co={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class uo extends Gs{constructor(l,a={}){const{x:n,y:r,z:c,curve:h,tension:v}=a;super(l,{x:{value:n,scale:"x"},y:{value:r,scale:"y"},z:{value:Ws(a),optional:!0}},a,co),this.z=c,this.curve=Ur(h,v),pr(this,a)}filter(l){return l}project(l,a,n){this.curve!==Ms&&super.project(l,a,n)}render(l,a,n,r,c){const{x:h,y:v}=n,{curve:b}=this;return qs("svg:g",c).call(Ys,this,r,c).call(Ks,this,a).call(d=>d.selectAll().data(mr(l,[h,v],this,n)).enter().append("path").call(Xs,this).call(gr,this,n).call(yr,this,n,c).attr("d",b===Ms&&c.projection?ho(c.projection,h,v):jr().curve(b).defined(f=>f>=0).x(f=>h[f]).y(f=>v[f]))).node()}}function ho(t,l,a){const n=Zs(t);return l=Jl(l),a=Jl(a),r=>{let c=[];const h=[c];for(const v of r)v===-1?(c=[],h.push(c)):c.push([l[v],a[v]]);return n({type:"MultiLineString",coordinates:h})}}function fo(t,{x:l=fr,y:a=vr,...n}={}){return new uo(t,Or({...n,x:l,y:a}))}const vo={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class po extends Gs{constructor(l,{x:a,y:n,z:r,weight:c,fill:h,stroke:v,...b}={}){const d=zs(h)&&(h="currentColor",!0),f=zs(v)&&(v="currentColor",!0);super(l,{x:{value:a,scale:"x",optional:!0},y:{value:n,scale:"y",optional:!0},z:{value:Ws({z:r,fill:h,stroke:v}),optional:!0},weight:{value:c,optional:!0}},go({...b,fill:h,stroke:v},d,f),vo),d&&(this.fill=void 0),f&&(this.stroke=void 0),this.z=r}filter(l){return l}render(l,a,n,r,c){const{contours:h}=n,v=Zs();return qs("svg:g",c).call(Ys,this,r,c).call(Ks,this,{}).call(b=>b.selectAll().data(l).enter().append("path").call(Xs,this).call(br,this,n).attr("d",d=>v(h[d]))).node()}}function Ns(t,{x:l,y:a,...n}={}){return[l,a]=_r(l,a),new po(t,{...n,x:l,y:a})}const mo=new Set(["x","y","z","weight"]);function go(t,l,a){let{bandwidth:r,thresholds:c}=t;return r=r===void 0?20:+r,c=c===void 0?20:typeof c?.[Symbol.iterator]=="function"?Jl(c):+c,Er(t,function(h,v,b,d,f,L){const g=b.weight?Jl(b.weight.value):null,S=b.z?.value,{z:D}=this,[k,T]=kr(this,f),{width:C,height:m}=f,{x:I,y:M}=Cr(b,d,L),N=Object.fromEntries(Object.entries(b).filter(([x])=>!mo.has(x)).map(([x,q])=>[x,{...q,value:[]}])),H=l&&[],P=a&&[],R=io().x(I?x=>I[x]:k).y(M?x=>M[x]:T).weight(g?x=>g[x]:1).size([C,m]).bandwidth(r),O=[];for(const x of v){const q=[];O.push(q);for(const ne of S?wr(x,S,D):[x]){const K=R.contours(ne);q.push([ne,K])}}let V=c;if(!(V instanceof Ar)){let x=0;for(const q of O)for(const[,ne]of q){const K=ne.max;K>x&&(x=K)}V=Float64Array.from({length:c-1},(q,ne)=>x*100*(ne+1)/c)}const B=[],$=[];for(const x of O){const q=[];B.push(q);for(const[ne,K]of x)for(const te of V){q.push($.length),$.push(K(te/100)),H&&H.push(te),P&&P.push(te);for(const de in N)N[de].value.push(b[de].value[ne[0]])}}return H&&H.push(0),P&&P.push(0),{data:h,facets:B,channels:{...N,...H&&{fill:{value:H,scale:"color"}},...P&&{stroke:{value:P,scale:"color"}},contours:{value:$}}}})}function zs(t){return/^density$/i.test(t)}function Bs(t,l,a){const n=t.slice();return n[56]=l[a],n[57]=l,n[58]=a,n}function xs(t){let l,a,n,r=t[19][t[18]]+"",c,h,v,b=Os(t[16])+"",d,f=t[9]&&Hs(t);return{c(){l=o("div"),a=o("div"),n=o("span"),c=w(r),h=_(),f&&f.c(),v=w(`
              >> `),d=w(b),this.h()},l(L){l=i(L,"DIV",{class:!0});var g=y(l);a=i(g,"DIV",{class:!0});var S=y(a);n=i(S,"SPAN",{class:!0});var D=y(n);c=A(D,r),h=E(D),f&&f.l(D),v=A(D,`
              >> `),d=A(D,b),D.forEach(p),S.forEach(p),g.forEach(p),this.h()},h(){s(n,"class","mini-header-text"),s(a,"class","mini-header-content"),s(l,"class","mini-header")},m(L,g){ke(L,l,g),e(l,a),e(a,n),e(n,c),e(n,h),f&&f.m(n,null),e(n,v),e(n,d)},p(L,g){L[9]?f?f.p(L,g):(f=Hs(L),f.c(),f.m(n,v)):f&&(f.d(1),f=null),g[0]&65536&&b!==(b=Os(L[16])+"")&&Ce(d,b)},d(L){L&&p(l),f&&f.d()}}}function Hs(t){let l,a,n=t[9].toLocaleString()+"",r,c;return{c(){l=o("span"),a=w("(Total: £"),r=w(n),c=w(" billion)"),this.h()},l(h){l=i(h,"SPAN",{class:!0});var v=y(l);a=A(v,"(Total: £"),r=A(v,n),c=A(v," billion)"),v.forEach(p),this.h()},h(){s(l,"class","mini-header-value")},m(h,v){ke(h,l,v),e(l,a),e(l,r),e(l,c)},p(h,v){v[0]&512&&n!==(n=h[9].toLocaleString()+"")&&Ce(r,n)},d(h){h&&p(l)}}}function Fs(t){let l,a,n,r,c=t[20](t[9],t[11],Tt)+"",h,v,b,d=t[9].toLocaleString()+"",f,L,g,S="billion",D,k,T,C=t[20](t[13],t[11],me)+"",m,I,M,N,H,P=t[20](t[10],t[12],Tt)+"",R,O,V,B=t[10].toLocaleString()+"",$,x,q,ne,K,te,de=t[20](t[14],t[12],me)+"",se,ie,X,we="<i>Gray bars indicate values for the comparator</i>";function ge(F,Z){return F[9]>0?bo:yo}let ye=ge(t),Q=ye(t);function De(F,Z){return F[9]>0?Eo:_o}let be=De(t),le=be(t);return{c(){l=o("div"),a=o("div"),n=o("div"),r=new gl(!1),h=_(),v=o("span"),b=w("£"),f=w(d),L=_(),g=o("span"),g.textContent=S,D=_(),k=o("div"),T=new gl(!1),m=_(),Q.c(),I=_(),M=o("div"),N=o("div"),H=new gl(!1),R=_(),O=o("span"),V=w("£"),$=w(B),x=_(),q=o("span"),ne=_(),K=o("div"),te=new gl(!1),se=_(),le.c(),ie=_(),X=o("span"),X.innerHTML=we,this.h()},l(F){l=i(F,"DIV",{class:!0});var Z=y(l);a=i(Z,"DIV",{class:!0});var Je=y(a);n=i(Je,"DIV",{class:!0});var Le=y(n);r=yl(Le,!1),h=E(Le),v=i(Le,"SPAN",{class:!0});var Se=y(v);b=A(Se,"£"),f=A(Se,d),Se.forEach(p),L=E(Le),g=i(Le,"SPAN",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-tlhydp"&&(g.textContent=S),Le.forEach(p),D=E(Je),k=i(Je,"DIV",{class:!0});var Re=y(k);T=yl(Re,!1),m=E(Re),Q.l(Re),Re.forEach(p),Je.forEach(p),I=E(Z),M=i(Z,"DIV",{class:!0});var ce=y(M);N=i(ce,"DIV",{class:!0});var u=y(N);H=yl(u,!1),R=E(u),O=i(u,"SPAN",{class:!0});var j=y(O);V=A(j,"£"),$=A(j,B),j.forEach(p),x=E(u),q=i(u,"SPAN",{class:!0}),y(q).forEach(p),u.forEach(p),ne=E(ce),K=i(ce,"DIV",{class:!0});var ee=y(K);te=yl(ee,!1),se=E(ee),le.l(ee),ee.forEach(p),ie=E(ce),X=i(ce,"SPAN",{class:!0,"data-svelte-h":!0}),W(X)!=="svelte-1pcscdc"&&(X.innerHTML=we),ce.forEach(p),Z.forEach(p),this.h()},h(){r.a=h,s(v,"class","waffle-big svelte-6hymh4"),s(g,"class","small svelte-6hymh4"),s(n,"class","waffle-value svelte-6hymh4"),T.a=m,s(k,"class","waffle-value svelte-6hymh4"),s(a,"class","waffle-stat svelte-6hymh4"),H.a=R,s(O,"class","waffle-big svelte-6hymh4"),s(q,"class","small svelte-6hymh4"),s(N,"class","waffle-value svelte-6hymh4"),te.a=se,s(K,"class","waffle-value svelte-6hymh4"),s(X,"class","waffle-caption svelte-6hymh4"),s(M,"class","waffle-stat svelte-6hymh4"),s(l,"class","waffle-stats")},m(F,Z){ke(F,l,Z),e(l,a),e(a,n),r.m(c,n),e(n,h),e(n,v),e(v,b),e(v,f),e(n,L),e(n,g),e(a,D),e(a,k),T.m(C,k),e(k,m),Q.m(k,null),e(l,I),e(l,M),e(M,N),H.m(P,N),e(N,R),e(N,O),e(O,V),e(O,$),e(N,x),e(N,q),e(M,ne),e(M,K),te.m(de,K),e(K,se),le.m(K,null),e(M,ie),e(M,X)},p(F,Z){Z[0]&2560&&c!==(c=F[20](F[9],F[11],Tt)+"")&&r.p(c),Z[0]&512&&d!==(d=F[9].toLocaleString()+"")&&Ce(f,d),Z[0]&10240&&C!==(C=F[20](F[13],F[11],me)+"")&&T.p(C),ye!==(ye=ge(F))&&(Q.d(1),Q=ye(F),Q&&(Q.c(),Q.m(k,null))),Z[0]&5120&&P!==(P=F[20](F[10],F[12],Tt)+"")&&H.p(P),Z[0]&1024&&B!==(B=F[10].toLocaleString()+"")&&Ce($,B),Z[0]&20480&&de!==(de=F[20](F[14],F[12],me)+"")&&te.p(de),be!==(be=De(F))&&(le.d(1),le=be(F),le&&(le.c(),le.m(K,null)))},d(F){F&&p(l),Q.d(),le.d()}}}function yo(t){let l,a="Local area costs";return{c(){l=o("span"),l.textContent=a,this.h()},l(n){l=i(n,"SPAN",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-pi7zpb"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-6hymh4")},m(n,r){ke(n,l,r)},d(n){n&&p(l)}}}function bo(t){let l,a="Local area benefits";return{c(){l=o("span"),l.textContent=a,this.h()},l(n){l=i(n,"SPAN",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-cjpgg1"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-6hymh4")},m(n,r){ke(n,l,r)},d(n){n&&p(l)}}}function _o(t){let l,a="Per capita costs";return{c(){l=o("span"),l.textContent=a,this.h()},l(n){l=i(n,"SPAN",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-k47gg8"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-6hymh4")},m(n,r){ke(n,l,r)},d(n){n&&p(l)}}}function Eo(t){let l,a="Per capita benefits";return{c(){l=o("span"),l.textContent=a,this.h()},l(n){l=i(n,"SPAN",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-1jc8yoe"&&(l.textContent=a),this.h()},h(){s(l,"class","waffle-caption svelte-6hymh4")},m(n,r){ke(n,l,r)},d(n){n&&p(l)}}}function Co(t){let l,a,n,r,c,h,v,b,d=`The histogram shows the number of data zones
                                        distributed
                                        across
                                        different household social economic factors.`,f,L,g="",S=t[56],D,k,T,C,m,I=t[56].label+"",M,N,H,P,R,O=t[19][t[18]]+"",V,B,$,x,q,ne="";const K=()=>t[33](L,S),te=()=>t[33](null,S),de=()=>t[34](q,S),se=()=>t[34](null,S);return{c(){l=o("div"),a=o("h3"),n=w("Data Zones Distribution (vs. "),r=o("span"),c=w(t[7]),h=w(" average)"),v=_(),b=o("p"),b.textContent=d,f=_(),L=o("div"),L.innerHTML=g,D=_(),k=o("div"),T=o("div"),C=o("h3"),m=w(`Co-benefits Recieved by Data Zones
                                            across `),M=w(I),N=w(`
                                            Values`),H=_(),P=o("p"),R=w(`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),V=w(O),B=w("."),$=_(),x=o("div"),q=o("div"),q.innerHTML=ne,this.h()},l(ie){l=i(ie,"DIV",{class:!0});var X=y(l);a=i(X,"H3",{class:!0});var we=y(a);n=A(we,"Data Zones Distribution (vs. "),r=i(we,"SPAN",{class:!0});var ge=y(r);c=A(ge,t[7]),ge.forEach(p),h=A(we," average)"),we.forEach(p),v=E(X),b=i(X,"P",{class:!0,"data-svelte-h":!0}),W(b)!=="svelte-zr1gq8"&&(b.textContent=d),f=E(X),L=i(X,"DIV",{class:!0,"data-svelte-h":!0}),W(L)!=="svelte-6ldqab"&&(L.innerHTML=g),X.forEach(p),D=E(ie),k=i(ie,"DIV",{class:!0});var ye=y(k);T=i(ye,"DIV",{});var Q=y(T);C=i(Q,"H3",{class:!0});var De=y(C);m=A(De,`Co-benefits Recieved by Data Zones
                                            across `),M=A(De,I),N=A(De,`
                                            Values`),De.forEach(p),H=E(Q),P=i(Q,"P",{class:!0});var be=y(P);R=A(be,`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),V=A(be,O),B=A(be,"."),be.forEach(p),Q.forEach(p),$=E(ye),x=i(ye,"DIV",{});var le=y(x);q=i(le,"DIV",{class:!0,"data-svelte-h":!0}),W(q)!=="svelte-12l832e"&&(q.innerHTML=ne),le.forEach(p),ye.forEach(p),this.h()},h(){s(r,"class","nation-label svelte-6hymh4"),s(a,"class","component-title"),s(b,"class","description short"),s(L,"class","plot"),s(l,"class","component column svelte-6hymh4"),s(C,"class","component-title"),s(P,"class","description short"),s(q,"class","plot"),s(k,"class","component column svelte-6hymh4")},m(ie,X){ke(ie,l,X),e(l,a),e(a,n),e(a,r),e(r,c),e(a,h),e(l,v),e(l,b),e(l,f),e(l,L),K(),ke(ie,D,X),ke(ie,k,X),e(k,T),e(T,C),e(C,m),e(C,M),e(C,N),e(T,H),e(T,P),e(P,R),e(P,V),e(P,B),e(k,$),e(k,x),e(x,q),de()},p(ie,X){t=ie,X[0]&128&&Ce(c,t[7]),S!==t[56]&&(te(),S=t[56],K()),S!==t[56]&&(se(),S=t[56],de())},d(ie){ie&&(p(l),p(D),p(k)),te(),se()}}}function Rs(t){let l,a,n=t[56].label+"",r,c,h,v=t[56].def+"",b,d,f,L;function g(k,T){return Co}let D=g()(t);return{c(){l=o("div"),a=o("h2"),r=w(n),c=_(),h=o("p"),b=w(v),d=_(),f=o("div"),D.c(),L=_(),this.h()},l(k){l=i(k,"DIV",{class:!0});var T=y(l);a=i(T,"H2",{class:!0});var C=y(a);r=A(C,n),C.forEach(p),c=E(T),h=i(T,"P",{class:!0});var m=y(h);b=A(m,v),m.forEach(p),d=E(T),f=i(T,"DIV",{class:!0});var I=y(f);D.l(I),I.forEach(p),L=E(T),T.forEach(p),this.h()},h(){s(a,"class","column-chart-title svelte-6hymh4"),s(h,"class","column-chart-caption svelte-6hymh4"),s(f,"class","row"),s(l,"class","household-column svelte-6hymh4")},m(k,T){ke(k,l,T),e(l,a),e(a,r),e(l,c),e(l,h),e(h,b),e(l,d),e(l,f),D.m(f,null),e(l,L)},p(k,T){D.p(k,T)},d(k){k&&p(l),D.d()}}}function wo(t){let l,a,n,r,c,h,v,b="Local Authority Report",d,f,L=t[19][t[18]]+"",g,S,D,k=`Explore how this local authority will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,T,C,m,I,M,N,H,P,R="UK",O,V,B,$,x,q="England",ne,K,te,de,se,ie="Wales",X,we,ge,ye,Q,De="Scotland",be,le,F,Z,Je="Northern Ireland",Le,Se,Re,ce,u,j=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Sixth Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ee,re,G,ue,oe,he,Pe,U,Qe,Oe,Ql,zn=t[19][t[18]]+"",$l,ea,jt,bl,ta,la,vl,_l=t[21](t[5],t[8])+"",El,ct,aa,Gt,Cl,na,sa,Ue,ra,Bn=t[19][t[18]]+"",oa,ia,Wt,wl,ca,ua,ut,xn="",ha,Te,ht,da,Hn=t[19][t[18]]+"",fa,va,pa,Mt,Fn=t[19][t[18]]+"",ma,ga,ya,It,Rn="*Scroll for zooming in and out",ba,$e,On="",_a,et,Pt,Un=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Ea,tt,lt,at,dt,Ca,qt,Al,wa,Aa,Ve,ka,jn=t[19][t[18]]+"",Da,La,Yt,kl,Sa,Ta,je,Vt,Gn="Legend:",Ma,Ia,Pa,ft,vt,Kt,Va,Wn=t[19][t[18]]+"",Na,za,pt,Xt,Ba,Zt,Dl,xa,Jt,Ha,nt,Ne,mt,Fa,qn=t[19][t[18]]+"",Ra,Oa,Ua,gt,Yn=`Total gains and losses are shown at five-year
                        intervals for each co-benefit. The curve between points is smoothed to show the general trends.
                        *Hover over areas for more information.`,ja,st,Kn=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <ul class="horizontal-legend-list svelte-6hymh4" style="margin-bottom:5px"><li><span class="legend-color svelte-6hymh4" style="background-color: #D3A029"></span>
                                Diet change</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #48773E"></span>
                                Physical activity</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #183668"></span>
                                Dampness</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #00AED9"></span>
                                Excess cold</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #E11484"></span>
                                Noise</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #71C35D"></span>
                                Air quality</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #8F1838"></span>
                                Congestion</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #EF402B"></span>
                                Excess heat</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #F36D25"></span>
                                Road safety</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #F99D26"></span>
                                Road repairs</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #C31F33"></span>
                                Hassle costs</li></ul>`,Ga,yt,Xn=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                            co-benefits some values are very small in comparison
                            to larger values so therefore are not visable on this plot.</p>`,Wa,Qt,qa,rt,Ge,Nt,Zn="Households",Ya,zt,Jn=t[19][t[18]]+"",Ka,Xa,Za,Bt,Qn=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.`,Ja,We,_e,qe,Qa,$n=t[19][t[18]]+"",$a,en,Ll,tn,ln,an,nn,ze,xt,es="Legend:",sn,rn,on,bt,_t,$t,cn,ts=t[19][t[18]]+"",un,hn,Et,el,dn,Sl,fn,Ae,Ht,ls="Interpreting the charts:",vn,pn,mn,tl,as=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,gn,Ye,ll,ns="Scatterplot:",yn,ss=t[19][t[18]]+"",bn,_n,Tl,En,Cn,Ct,rs=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,wn,wt,Ee,An,os;l=new hr({});let ve=t[15]&&xs(t),pe=t[9]&&Fs(t),al=ys(ws),fe=[];for(let z=0;z<al.length;z+=1)fe[z]=Rs(Bs(t,al,z));return{c(){sr(l.$$.fragment),a=_(),n=o("div"),ve&&ve.c(),r=_(),c=o("div"),h=o("div"),v=o("p"),v.textContent=b,d=_(),f=o("h1"),g=w(L),S=_(),D=o("p"),D.textContent=k,T=_(),C=o("div"),m=w("Compare this Local Authority District (LAD) against:"),I=o("br"),M=_(),N=o("input"),H=_(),P=o("label"),P.textContent=R,O=o("br"),V=_(),B=o("input"),$=_(),x=o("label"),x.textContent=q,ne=o("br"),K=_(),te=o("input"),de=_(),se=o("label"),se.textContent=ie,X=o("br"),we=_(),ge=o("input"),ye=_(),Q=o("label"),Q.textContent=De,be=_(),le=o("input"),F=_(),Z=o("label"),Z.textContent=Je,Le=_(),Se=o("div"),pe&&pe.c(),Re=_(),ce=o("div"),u=o("div"),u.innerHTML=j,ee=_(),re=o("div"),G=o("div"),ue=o("h3"),oe=w("Distribution of the cobenefit per datazones compared to "),he=o("span"),Pe=w(t[7]),U=w(" Average)"),Qe=_(),Oe=o("p"),Ql=w("Co-benefit values for "),$l=w(zn),ea=w(` compared to average value of benefits
                    recieved across all local
                    authorities in `),jt=o("span"),bl=w(t[7]),ta=w(" (grey)."),la=_(),vl=new gl(!1),El=_(),ct=o("h3"),aa=w("11 types of co-benefit values (vs. "),Gt=o("span"),Cl=w(t[7]),na=w(" Average)"),sa=_(),Ue=o("p"),ra=w("Co-benefit values for "),oa=w(Bn),ia=w(` compared to average value of benefits
                    recieved across all local
                    authorities in `),Wt=o("span"),wl=w(t[7]),ca=w(" (grey)."),ua=_(),ut=o("div"),ut.innerHTML=xn,ha=_(),Te=o("div"),ht=o("h3"),da=w("Where is "),fa=w(Hn),va=w("?"),pa=_(),Mt=o("p"),ma=w(Fn),ga=w(" has been highlighted in red on this UK map."),ya=_(),It=o("p"),It.textContent=Rn,ba=_(),$e=o("div"),$e.innerHTML=On,_a=_(),et=o("div"),Pt=o("div"),Pt.innerHTML=Un,Ea=_(),tt=o("div"),lt=o("div"),at=o("div"),dt=o("h3"),Ca=w("Total co-benefit distribution from 2025-2049 (vs. "),qt=o("span"),Al=w(t[7]),wa=w(" Average)"),Aa=_(),Ve=o("p"),ka=w(`Aggregated values from 2025-2049
                        in `),Da=w(jn),La=w(` compared to average value of benefits recieved across all local authorities
                        in `),Yt=o("span"),kl=w(t[7]),Sa=w("."),Ta=_(),je=o("div"),Vt=o("strong"),Vt.textContent=Gn,Ma=_(),Ia=o("br"),Pa=_(),ft=o("ul"),vt=o("li"),Kt=o("span"),Va=_(),Na=w(Wn),za=_(),pt=o("li"),Xt=o("span"),Ba=_(),Zt=o("span"),Dl=w(t[7]),xa=_(),Jt=o("div"),Ha=_(),nt=o("div"),Ne=o("div"),mt=o("h3"),Fa=w("Co-benefit gain/loss for "),Ra=w(qn),Oa=w(" over 5 year intervals"),Ua=_(),gt=o("p"),gt.textContent=Yn,ja=_(),st=o("div"),st.innerHTML=Kn,Ga=_(),yt=o("div"),yt.innerHTML=Xn,Wa=_(),Qt=o("div"),qa=_(),rt=o("div"),Ge=o("div"),Nt=o("p"),Nt.textContent=Zn,Ya=_(),zt=o("h2"),Ka=w(Jn),Xa=w(" social-economic factors"),Za=_(),Bt=o("p"),Bt.textContent=Qn,Ja=_(),We=o("div"),_e=o("div"),qe=o("h3"),Qa=w("Comparing the Socio-Economic factors distributions of "),$a=w($n),en=w(`
                    and `),Ll=w(t[7]),tn=w(", and their correlation with co-benefits."),ln=_(),an=o("br"),nn=_(),ze=o("div"),xt=o("strong"),xt.textContent=es,sn=_(),rn=o("br"),on=_(),bt=o("ul"),_t=o("li"),$t=o("span"),cn=_(),un=w(ts),hn=_(),Et=o("li"),el=o("span"),dn=_(),Sl=w(t[7]),fn=_(),Ae=o("div"),Ht=o("strong"),Ht.textContent=ls,vn=_(),pn=o("br"),mn=_(),tl=o("p"),tl.innerHTML=as,gn=_(),Ye=o("p"),ll=o("strong"),ll.textContent=ns,yn=w(" Each dot represents a datazone inside "),bn=w(ss),_n=w(`. The cloud
                        shows the distribution for `),Tl=w(t[7]),En=w("."),Cn=_(),Ct=o("div"),Ct.innerHTML=rs,wn=_(),wt=o("div");for(let z=0;z<fe.length;z+=1)fe[z].c();this.h()},l(z){rr(l.$$.fragment,z),a=E(z),n=i(z,"DIV",{class:!0});var Y=y(n);ve&&ve.l(Y),r=E(Y),c=i(Y,"DIV",{class:!0,id:!0});var ae=y(c);h=i(ae,"DIV",{});var Be=y(h);v=i(Be,"P",{class:!0,"data-svelte-h":!0}),W(v)!=="svelte-wtex57"&&(v.textContent=b),d=E(Be),f=i(Be,"H1",{class:!0});var is=y(f);g=A(is,L),is.forEach(p),S=E(Be),D=i(Be,"P",{class:!0,"data-svelte-h":!0}),W(D)!=="svelte-q4fx5o"&&(D.textContent=k),T=E(Be),C=i(Be,"DIV",{class:!0});var J=y(C);m=A(J,"Compare this Local Authority District (LAD) against:"),I=i(J,"BR",{}),M=E(J),N=i(J,"INPUT",{type:!0,name:!0}),H=E(J),P=i(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(P)!=="svelte-1yhxhao"&&(P.textContent=R),O=i(J,"BR",{}),V=E(J),B=i(J,"INPUT",{type:!0,name:!0}),$=E(J),x=i(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(x)!=="svelte-11zyrfp"&&(x.textContent=q),ne=i(J,"BR",{}),K=E(J),te=i(J,"INPUT",{type:!0,name:!0}),de=E(J),se=i(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(se)!=="svelte-18hrmu4"&&(se.textContent=ie),X=i(J,"BR",{}),we=E(J),ge=i(J,"INPUT",{type:!0,name:!0}),ye=E(J),Q=i(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(Q)!=="svelte-mkxs8y"&&(Q.textContent=De),be=E(J),le=i(J,"INPUT",{type:!0,name:!0}),F=E(J),Z=i(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),W(Z)!=="svelte-g19yfx"&&(Z.textContent=Je),J.forEach(p),Be.forEach(p),Le=E(ae),Se=i(ae,"DIV",{});var cs=y(Se);pe&&pe.l(cs),cs.forEach(p),ae.forEach(p),Re=E(Y),ce=i(Y,"DIV",{class:!0,id:!0});var Ml=y(ce);u=i(Ml,"DIV",{class:!0,"data-svelte-h":!0}),W(u)!=="svelte-1tld4k2"&&(u.innerHTML=j),ee=E(Ml),re=i(Ml,"DIV",{id:!0,class:!0});var Il=y(re);G=i(Il,"DIV",{class:!0});var Me=y(G);ue=i(Me,"H3",{class:!0});var Pl=y(ue);oe=A(Pl,"Distribution of the cobenefit per datazones compared to "),he=i(Pl,"SPAN",{class:!0});var us=y(he);Pe=A(us,t[7]),us.forEach(p),U=A(Pl," Average)"),Pl.forEach(p),Qe=E(Me),Oe=i(Me,"P",{class:!0});var nl=y(Oe);Ql=A(nl,"Co-benefit values for "),$l=A(nl,zn),ea=A(nl,` compared to average value of benefits
                    recieved across all local
                    authorities in `),jt=i(nl,"SPAN",{class:!0});var hs=y(jt);bl=A(hs,t[7]),hs.forEach(p),ta=A(nl," (grey)."),nl.forEach(p),la=E(Me),vl=yl(Me,!1),El=E(Me),ct=i(Me,"H3",{class:!0});var Vl=y(ct);aa=A(Vl,"11 types of co-benefit values (vs. "),Gt=i(Vl,"SPAN",{class:!0});var ds=y(Gt);Cl=A(ds,t[7]),ds.forEach(p),na=A(Vl," Average)"),Vl.forEach(p),sa=E(Me),Ue=i(Me,"P",{class:!0});var sl=y(Ue);ra=A(sl,"Co-benefit values for "),oa=A(sl,Bn),ia=A(sl,` compared to average value of benefits
                    recieved across all local
                    authorities in `),Wt=i(sl,"SPAN",{class:!0});var fs=y(Wt);wl=A(fs,t[7]),fs.forEach(p),ca=A(sl," (grey)."),sl.forEach(p),ua=E(Me),ut=i(Me,"DIV",{class:!0,"data-svelte-h":!0}),W(ut)!=="svelte-11dzfub"&&(ut.innerHTML=xn),Me.forEach(p),ha=E(Il),Te=i(Il,"DIV",{class:!0});var At=y(Te);ht=i(At,"H3",{class:!0});var Nl=y(ht);da=A(Nl,"Where is "),fa=A(Nl,Hn),va=A(Nl,"?"),Nl.forEach(p),pa=E(At),Mt=i(At,"P",{class:!0});var kn=y(Mt);ma=A(kn,Fn),ga=A(kn," has been highlighted in red on this UK map."),kn.forEach(p),ya=E(At),It=i(At,"P",{class:!0,"data-svelte-h":!0}),W(It)!=="svelte-vsj698"&&(It.textContent=Rn),ba=E(At),$e=i(At,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),W($e)!=="svelte-13ehpmu"&&($e.innerHTML=On),At.forEach(p),Il.forEach(p),Ml.forEach(p),_a=E(Y),et=i(Y,"DIV",{class:!0,id:!0});var zl=y(et);Pt=i(zl,"DIV",{class:!0,"data-svelte-h":!0}),W(Pt)!=="svelte-10cbt4"&&(Pt.innerHTML=Un),Ea=E(zl),tt=i(zl,"DIV",{id:!0,class:!0});var Bl=y(tt);lt=i(Bl,"DIV",{id:!0,class:!0});var xl=y(lt);at=i(xl,"DIV",{});var rl=y(at);dt=i(rl,"H3",{class:!0});var Hl=y(dt);Ca=A(Hl,"Total co-benefit distribution from 2025-2049 (vs. "),qt=i(Hl,"SPAN",{class:!0});var vs=y(qt);Al=A(vs,t[7]),vs.forEach(p),wa=A(Hl," Average)"),Hl.forEach(p),Aa=E(rl),Ve=i(rl,"P",{class:!0,style:!0});var ol=y(Ve);ka=A(ol,`Aggregated values from 2025-2049
                        in `),Da=A(ol,jn),La=A(ol,` compared to average value of benefits recieved across all local authorities
                        in `),Yt=i(ol,"SPAN",{class:!0});var ps=y(Yt);kl=A(ps,t[7]),ps.forEach(p),Sa=A(ol,"."),ol.forEach(p),Ta=E(rl),je=i(rl,"DIV",{class:!0});var il=y(je);Vt=i(il,"STRONG",{style:!0,"data-svelte-h":!0}),W(Vt)!=="svelte-1fi0dip"&&(Vt.textContent=Gn),Ma=E(il),Ia=i(il,"BR",{}),Pa=E(il),ft=i(il,"UL",{class:!0});var Fl=y(ft);vt=i(Fl,"LI",{class:!0});var Rl=y(vt);Kt=i(Rl,"SPAN",{class:!0,style:!0}),y(Kt).forEach(p),Va=E(Rl),Na=A(Rl,Wn),Rl.forEach(p),za=E(Fl),pt=i(Fl,"LI",{class:!0});var Ol=y(pt);Xt=i(Ol,"SPAN",{class:!0,style:!0}),y(Xt).forEach(p),Ba=E(Ol),Zt=i(Ol,"SPAN",{class:!0});var ms=y(Zt);Dl=A(ms,t[7]),ms.forEach(p),Ol.forEach(p),Fl.forEach(p),il.forEach(p),rl.forEach(p),xa=E(xl),Jt=i(xl,"DIV",{class:!0}),y(Jt).forEach(p),xl.forEach(p),Ha=E(Bl),nt=i(Bl,"DIV",{id:!0,class:!0});var Ul=y(nt);Ne=i(Ul,"DIV",{});var kt=y(Ne);mt=i(kt,"H3",{class:!0});var jl=y(mt);Fa=A(jl,"Co-benefit gain/loss for "),Ra=A(jl,qn),Oa=A(jl," over 5 year intervals"),jl.forEach(p),Ua=E(kt),gt=i(kt,"P",{class:!0,style:!0,"data-svelte-h":!0}),W(gt)!=="svelte-14dzz5l"&&(gt.textContent=Yn),ja=E(kt),st=i(kt,"DIV",{id:!0,class:!0,style:!0,"data-svelte-h":!0}),W(st)!=="svelte-1kwbxxa"&&(st.innerHTML=Kn),Ga=E(kt),yt=i(kt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),W(yt)!=="svelte-191wbnb"&&(yt.innerHTML=Xn),kt.forEach(p),Wa=E(Ul),Qt=i(Ul,"DIV",{class:!0}),y(Qt).forEach(p),Ul.forEach(p),Bl.forEach(p),zl.forEach(p),qa=E(Y),rt=i(Y,"DIV",{class:!0,id:!0});var Gl=y(rt);Ge=i(Gl,"DIV",{class:!0});var cl=y(Ge);Nt=i(cl,"P",{class:!0,"data-svelte-h":!0}),W(Nt)!=="svelte-ceroz1"&&(Nt.textContent=Zn),Ya=E(cl),zt=i(cl,"H2",{class:!0});var Dn=y(zt);Ka=A(Dn,Jn),Xa=A(Dn," social-economic factors"),Dn.forEach(p),Za=E(cl),Bt=i(cl,"P",{class:!0,"data-svelte-h":!0}),W(Bt)!=="svelte-1u75598"&&(Bt.textContent=Qn),cl.forEach(p),Ja=E(Gl),We=i(Gl,"DIV",{id:!0,class:!0,style:!0});var Wl=y(We);_e=i(Wl,"DIV",{id:!0,class:!0});var Ke=y(_e);qe=i(Ke,"H3",{class:!0});var ul=y(qe);Qa=A(ul,"Comparing the Socio-Economic factors distributions of "),$a=A(ul,$n),en=A(ul,`
                    and `),Ll=A(ul,t[7]),tn=A(ul,", and their correlation with co-benefits."),ul.forEach(p),ln=E(Ke),an=i(Ke,"BR",{}),nn=E(Ke),ze=i(Ke,"DIV",{id:!0,class:!0});var hl=y(ze);xt=i(hl,"STRONG",{style:!0,"data-svelte-h":!0}),W(xt)!=="svelte-xb363n"&&(xt.textContent=es),sn=E(hl),rn=i(hl,"BR",{}),on=E(hl),bt=i(hl,"UL",{class:!0});var ql=y(bt);_t=i(ql,"LI",{class:!0});var Yl=y(_t);$t=i(Yl,"SPAN",{class:!0,style:!0}),y($t).forEach(p),cn=E(Yl),un=A(Yl,ts),Yl.forEach(p),hn=E(ql),Et=i(ql,"LI",{class:!0});var Kl=y(Et);el=i(Kl,"SPAN",{class:!0,style:!0}),y(el).forEach(p),dn=E(Kl),Sl=A(Kl,t[7]),Kl.forEach(p),ql.forEach(p),hl.forEach(p),fn=E(Ke),Ae=i(Ke,"DIV",{id:!0,class:!0});var Dt=y(Ae);Ht=i(Dt,"STRONG",{style:!0,"data-svelte-h":!0}),W(Ht)!=="svelte-ucmfvz"&&(Ht.textContent=ls),vn=E(Dt),pn=i(Dt,"BR",{}),mn=E(Dt),tl=i(Dt,"P",{"data-svelte-h":!0}),W(tl)!=="svelte-mm528r"&&(tl.innerHTML=as),gn=E(Dt),Ye=i(Dt,"P",{});var Ft=y(Ye);ll=i(Ft,"STRONG",{"data-svelte-h":!0}),W(ll)!=="svelte-1ij32sd"&&(ll.textContent=ns),yn=A(Ft," Each dot represents a datazone inside "),bn=A(Ft,ss),_n=A(Ft,`. The cloud
                        shows the distribution for `),Tl=A(Ft,t[7]),En=A(Ft,"."),Ft.forEach(p),Dt.forEach(p),Cn=E(Ke),Ct=i(Ke,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),W(Ct)!=="svelte-gofjep"&&(Ct.innerHTML=rs),Ke.forEach(p),wn=E(Wl),wt=i(Wl,"DIV",{id:!0,class:!0});var gs=y(wt);for(let Ln=0;Ln<fe.length;Ln+=1)fe[Ln].l(gs);gs.forEach(p),Wl.forEach(p),Gl.forEach(p),Y.forEach(p),this.h()},h(){s(v,"class","page-subtitle"),s(f,"class","page-title"),s(D,"class","description"),s(N,"type","radio"),s(N,"name","compare"),N.value="UK",N.checked=!0,s(P,"class","nation-label svelte-6hymh4"),s(P,"for","html"),s(B,"type","radio"),s(B,"name","compare"),B.value="England",s(x,"class","nation-label svelte-6hymh4"),s(x,"for","html"),s(te,"type","radio"),s(te,"name","compare"),te.value="Wales",s(se,"class","nation-label svelte-6hymh4"),s(se,"for","html"),s(ge,"type","radio"),s(ge,"name","compare"),ge.value="Scotland",s(Q,"class","nation-label svelte-6hymh4"),s(Q,"for","javascript"),s(le,"type","radio"),s(le,"name","compare"),le.value="NI",s(Z,"class","nation-label svelte-6hymh4"),s(Z,"for","javascript"),s(C,"class","radio-set"),s(c,"class","section header header-row svelte-6hymh4"),s(c,"id","head"),s(u,"class","section-header"),s(he,"class","nation-label svelte-6hymh4"),s(ue,"class","component-title"),s(jt,"class","nation-label svelte-6hymh4"),s(Oe,"class","description"),vl.a=El,s(Gt,"class","nation-label svelte-6hymh4"),s(ct,"class","component-title"),s(Wt,"class","nation-label svelte-6hymh4"),s(Ue,"class","description"),s(ut,"class","plot"),s(G,"class","component column"),s(ht,"class","component-title"),s(Mt,"class","description"),s(It,"class","description"),s($e,"id","map"),s($e,"class","svelte-6hymh4"),s(Te,"class","component column"),s(re,"id","vis-block"),s(re,"class","svelte-6hymh4"),s(ce,"class","section"),s(ce,"id","overview"),s(Pt,"class","section-header"),s(qt,"class","nation-label svelte-6hymh4"),s(dt,"class","component-title"),s(Yt,"class","nation-label svelte-6hymh4"),s(Ve,"class","description"),xe(Ve,"margin-bottom","5px"),xe(Vt,"margin-bottom","0.5rem"),s(Kt,"class","legend-color svelte-6hymh4"),xe(Kt,"background-color",Tt),s(vt,"class","svelte-6hymh4"),s(Xt,"class","legend-color svelte-6hymh4"),xe(Xt,"background-color",me),s(Zt,"class","nation-label svelte-6hymh4"),s(pt,"class","svelte-6hymh4"),s(ft,"class","legend-list svelte-6hymh4"),s(je,"class","legend-box svelte-6hymh4"),s(Jt,"class","plot side svelte-6hymh4"),s(lt,"id","main-block"),s(lt,"class","component column svelte-6hymh4"),s(mt,"class","component-title"),s(gt,"class","description"),xe(gt,"margin-bottom","5px"),s(st,"id","main-legend"),s(st,"class","legend-box svelte-6hymh4"),xe(st,"margin-bottom","5px"),s(yt,"id","main-disclaimer"),s(yt,"class","disclaimer-box svelte-6hymh4"),s(Qt,"class","plot side svelte-6hymh4"),s(nt,"id","main-block"),s(nt,"class","component column svelte-6hymh4"),s(tt,"id","vis-block"),s(tt,"class","svelte-6hymh4"),s(et,"class","section"),s(et,"id","temporal"),s(Nt,"class","section-subtitle"),s(zt,"class","section-title"),s(Bt,"class","description"),s(Ge,"class","section-header"),s(qe,"class","component-title"),xe(xt,"margin-bottom","1rem"),s($t,"class","legend-color svelte-6hymh4"),xe($t,"background-color",Tt),s(_t,"class","svelte-6hymh4"),s(el,"class","legend-color svelte-6hymh4"),xe(el,"background-color",me),s(Et,"class","svelte-6hymh4"),s(bt,"class","legend-list svelte-6hymh4"),s(ze,"id","se-legend"),s(ze,"class","legend-box svelte-6hymh4"),xe(Ht,"margin-bottom","1rem"),s(Ae,"id","se-legend"),s(Ae,"class","legend-box svelte-6hymh4"),s(Ct,"id","se-disclaimer"),s(Ct,"class","disclaimer-box svelte-6hymh4"),s(_e,"id","se-title"),s(_e,"class","svelte-6hymh4"),s(wt,"id","multiple-comp"),s(wt,"class","svelte-6hymh4"),s(We,"id","se-block"),s(We,"class","component svelte-6hymh4"),xe(We,"margin-left","1rem"),s(rt,"class","section"),s(rt,"id","households"),s(n,"class","page-container")},m(z,Y){or(l,z,Y),ke(z,a,Y),ke(z,n,Y),ve&&ve.m(n,null),e(n,r),e(n,c),e(c,h),e(h,v),e(h,d),e(h,f),e(f,g),e(h,S),e(h,D),e(h,T),e(h,C),e(C,m),e(C,I),e(C,M),e(C,N),e(C,H),e(C,P),e(C,O),e(C,V),e(C,B),e(C,$),e(C,x),e(C,ne),e(C,K),e(C,te),e(C,de),e(C,se),e(C,X),e(C,we),e(C,ge),e(C,ye),e(C,Q),e(C,be),e(C,le),e(C,F),e(C,Z),e(c,Le),e(c,Se),pe&&pe.m(Se,null),e(n,Re),e(n,ce),e(ce,u),e(ce,ee),e(ce,re),e(re,G),e(G,ue),e(ue,oe),e(ue,he),e(he,Pe),e(ue,U),e(G,Qe),e(G,Oe),e(Oe,Ql),e(Oe,$l),e(Oe,ea),e(Oe,jt),e(jt,bl),e(Oe,ta),e(G,la),vl.m(_l,G),e(G,El),e(G,ct),e(ct,aa),e(ct,Gt),e(Gt,Cl),e(ct,na),e(G,sa),e(G,Ue),e(Ue,ra),e(Ue,oa),e(Ue,ia),e(Ue,Wt),e(Wt,wl),e(Ue,ca),e(G,ua),e(G,ut),t[28](ut),e(re,ha),e(re,Te),e(Te,ht),e(ht,da),e(ht,fa),e(ht,va),e(Te,pa),e(Te,Mt),e(Mt,ma),e(Mt,ga),e(Te,ya),e(Te,It),e(Te,ba),e(Te,$e),t[29]($e),e(n,_a),e(n,et),e(et,Pt),e(et,Ea),e(et,tt),e(tt,lt),e(lt,at),e(at,dt),e(dt,Ca),e(dt,qt),e(qt,Al),e(dt,wa),e(at,Aa),e(at,Ve),e(Ve,ka),e(Ve,Da),e(Ve,La),e(Ve,Yt),e(Yt,kl),e(Ve,Sa),e(at,Ta),e(at,je),e(je,Vt),e(je,Ma),e(je,Ia),e(je,Pa),e(je,ft),e(ft,vt),e(vt,Kt),e(vt,Va),e(vt,Na),e(ft,za),e(ft,pt),e(pt,Xt),e(pt,Ba),e(pt,Zt),e(Zt,Dl),e(lt,xa),e(lt,Jt),t[30](Jt),e(tt,Ha),e(tt,nt),e(nt,Ne),e(Ne,mt),e(mt,Fa),e(mt,Ra),e(mt,Oa),e(Ne,Ua),e(Ne,gt),e(Ne,ja),e(Ne,st),e(Ne,Ga),e(Ne,yt),e(nt,Wa),e(nt,Qt),t[31](Qt),e(n,qa),e(n,rt),e(rt,Ge),e(Ge,Nt),e(Ge,Ya),e(Ge,zt),e(zt,Ka),e(zt,Xa),e(Ge,Za),e(Ge,Bt),e(rt,Ja),e(rt,We),e(We,_e),e(_e,qe),e(qe,Qa),e(qe,$a),e(qe,en),e(qe,Ll),e(qe,tn),e(_e,ln),e(_e,an),e(_e,nn),e(_e,ze),e(ze,xt),e(ze,sn),e(ze,rn),e(ze,on),e(ze,bt),e(bt,_t),e(_t,$t),e(_t,cn),e(_t,un),e(bt,hn),e(bt,Et),e(Et,el),e(Et,dn),e(Et,Sl),e(_e,fn),e(_e,Ae),e(Ae,Ht),e(Ae,vn),e(Ae,pn),e(Ae,mn),e(Ae,tl),e(Ae,gn),e(Ae,Ye),e(Ye,ll),e(Ye,yn),e(Ye,bn),e(Ye,_n),e(Ye,Tl),e(Ye,En),e(_e,Cn),e(_e,Ct),e(We,wn),e(We,wt);for(let ae=0;ae<fe.length;ae+=1)fe[ae]&&fe[ae].m(wt,null);t[35](n),Ee=!0,An||(os=[pl(N,"change",t[22]),pl(B,"change",t[22]),pl(te,"change",t[22]),pl(ge,"change",t[22]),pl(le,"change",t[22])],An=!0)},p(z,Y){if(z[15]?ve?ve.p(z,Y):(ve=xs(z),ve.c(),ve.m(n,r)):ve&&(ve.d(1),ve=null),z[9]?pe?pe.p(z,Y):(pe=Fs(z),pe.c(),pe.m(Se,null)):pe&&(pe.d(1),pe=null),(!Ee||Y[0]&128)&&Ce(Pe,z[7]),(!Ee||Y[0]&128)&&Ce(bl,z[7]),(!Ee||Y[0]&288)&&_l!==(_l=z[21](z[5],z[8])+"")&&vl.p(_l),(!Ee||Y[0]&128)&&Ce(Cl,z[7]),(!Ee||Y[0]&128)&&Ce(wl,z[7]),(!Ee||Y[0]&128)&&Ce(Al,z[7]),(!Ee||Y[0]&128)&&Ce(kl,z[7]),(!Ee||Y[0]&128)&&Ce(Dl,z[7]),(!Ee||Y[0]&128)&&Ce(Ll,z[7]),(!Ee||Y[0]&128)&&Ce(Sl,z[7]),(!Ee||Y[0]&128)&&Ce(Tl,z[7]),Y[0]&786584){al=ys(ws);let ae;for(ae=0;ae<al.length;ae+=1){const Be=Bs(z,al,ae);fe[ae]?fe[ae].p(Be,Y):(fe[ae]=Rs(Be),fe[ae].c(),fe[ae].m(wt,null))}for(;ae<fe.length;ae+=1)fe[ae].d(1);fe.length=al.length}},i(z){Ee||(ir(l.$$.fragment,z),Ee=!0)},o(z){cr(l.$$.fragment,z),Ee=!1},d(z){z&&(p(a),p(n)),ur(l,z),ve&&ve.d(),pe&&pe.d(),t[28](null),t[29](null),t[30](null),t[31](null),$s(fe,z),t[35](null),An=!1,er(os)}}}let Fe=400;function Os(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Ut(t){const l=t.querySelector("figure");l&&l.remove();const a=t.querySelector("svg");a&&a.remove()}function Ao(t,l,a){let n,r,c,h,v={},b={},d={},f={},L="barchart",{data:g}=l;const S=g.LAD;let D="UK",k,T,C,m,I,M,N,H,P,R,O,V,B=!1;async function $(){a(5,k=await He(Ls())),await He(zr()),k.forEach(u=>{u.isPageLAD=u.LAD==S}),a(25,T=await He(Ss([]))),C=await He(Br(As.map(u=>u.id))),a(26,m=await He(Ts())),a(8,I=await He(xr(S))),M=await He(Hr(S)),a(9,N=(Dr(I,u=>u.total)/1e3).toFixed(3)),a(11,P=Nn(T,u=>u.val)/1e3),a(10,H=(Sn(I,u=>u.totalPerCapita)*1e6).toFixed(1)),a(12,R=await He(Fr({limit:1,sortBy:"per_capita"}))),a(12,R=R[0].value_per_capita),a(27,B=!0),Tr(n)}$();let x=!1,q="";const ne=["overview","temporal","households"];function K(){const u=window.scrollY;a(15,x=u>100);for(const j of ne){const ee=document.getElementById(j);if(!ee)continue;const re=ee.getBoundingClientRect();if(re.top<=150&&re.bottom>=150){a(16,q=j);break}}}const te=g.LADToName;let de,se;tr(()=>(Mr(n),de=new Sr(S,"LAD",se,"val",!0,"Lookup_value",!1,null,8),de.initMap(!1),window.addEventListener("scroll",K),K(),()=>window.removeEventListener("scroll",K))),lr(()=>{window.removeEventListener("scroll",K)});function ie(u,j,ee="black"){return Ie({width:80,height:20,margin:0,x:{domain:[0,j],axis:null},marks:[Pn([u],{x:G=>G,y:0,fill:ee})]}).outerHTML}function X(u,j){if(!u||!j)return;let ee=u.filter(G=>G.total<20);return Ie({height:Fe/1.6,...Ze,x:{label:"Cobenefit (millions £)"},y:{label:"Frequency of Datazones (Normalized)"},marks:[ml(ee,Zl({y:(G,ue)=>G.length/ee.length/(ue.x2-ue.x1)},{x:"total",tip:!0,fill:me,stroke:me,fillOpacity:.3,strokeWidth:2})),ml(j,Zl({y:(G,ue)=>G.length/j.length/(ue.x2-ue.x1)},{x:"total",tip:!0,fill:Tt,stroke:"black",fillOpacity:.3,strokeWidth:2}))]}).outerHTML}function we(){{let u=Ie({height:Fe/1.4,...Ze,x:{type:"band"},style:{fontSize:"18px"},marks:[Rt(T,ot({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Rt(I,ot({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const j=Xe(u).selectAll("g[aria-label='bar']");Xe(j.nodes()[0]);const ee=Xe(j.nodes()[1]);ee.selectAll("rect").each(function(){}),ee.remove()},1e3)}}function ge(){r?.append(Ie({height:Fe/1,width:811,...Ze,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Mn.range(),domain:Mn.domain()},marks:[Rt(m,ot({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:me,sort:{x:"y",reverse:!0},tip:!0})),Rt(M,ot({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:u=>Mn(u.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),Tn({label:"Total Co-Benefit (£million)",labelAnchor:"center"}),bs({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),_s([0],{stroke:"#333",strokeWidth:.75})]}))}function ye(){Ir.forEach(u=>{let j;ks.includes(u)?j=Ie({height:Fe/1.2,...Ze,marginLeft:100,marginTop:40,marginBottom:u==="Typology"?100:60,x:{grid:!0,padding:.6,label:Xl(u),tickFormat:U=>Ds[u]?.[U]??U,tickRotate:u==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Rt(k,ot({y:"proportion"},{x:u,dx:12,fill:me})),Rt(I,ot({y:"proportion"},{x:u,dx:-12}))]}):j=Ie({height:Fe/1.2,...Ze,x:{label:Xl(u)},style:{fontSize:"18px"},marks:[ml(I,Zl({y:(U,Qe)=>U.length/I.length/(Qe.x2-Qe.x1)},{x:U=>["Under_35","Over_65","Unemployment"].includes(u)?U[u]*100:U[u],tip:!0,fill:me,stroke:me,fillOpacity:.2,strokeWidth:3})),ml(k,Zl({y:(U,Qe)=>U.length/k.length/(Qe.x2-Qe.x1)},{x:U=>["Under_35","Over_65","Unemployment"].includes(u)?U[u]*100:U[u],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),b[u]?.append(void 0),v[u]?.append(j);let re=k.map(U=>U.total),G=Us(re);re.sort();var ue=re.length,oe=Math.floor(ue*1)-1;let he=re[oe];G[1]=he+2,G[0]=-5;let Pe;ks.includes(u)?Pe=Ie({height:Fe/1.2,...Ze,marginBottom:u==="Typology"?100:60,marginLeft:100,x:{label:Xl(u),type:"point",tickFormat:U=>Ds[u]?.[U]??U,tickRotate:u==="Typology"?-20:0},y:{domain:G,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",me]},marks:[Ns(Cs(k,15e3),{x:U=>`${U[u]}`,y:"total",fill:"density",bandwidth:3}),Is(I,{x:U=>`${U[u]}`,y:"total",fill:"black",r:2}),Tn({label:"Datazone Co-Benefit (millions £)"})]}):Pe=Ie({height:Fe/1.2,...Ze,x:{label:Xl(u)},y:{domain:G},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",me]},marks:[Ns(Cs(k,2e4),{x:U=>["Under_35","Over_65","Unemployment"].includes(u)?U[u]*100:U[u],y:"total",fill:"density",thresholds:10}),Is(I,{x:U=>["Under_35","Over_65","Unemployment"].includes(u)?U[u]*100:U[u],y:"total",fill:"black",r:2}),Tn({label:"Datazone Co-Benefit (£)"}),bs({anchor:"bottom"})]}),d[u]&&a(4,d[u].innerHTML="",d),d[u]?.append(Pe)})}function Q(){for(let u of Pr){let j=Ie({height:Fe,width:410,...Ze,marginRight:0,marginLeft:100,marks:[Pn(C,Es({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Vr/2,fill:me,tip:!0})),Pn(M,Es({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});f[u]?.append(j)}}function De(){let u=I.flatMap(oe=>In.map(he=>({time:he,value:oe[he],scenario:oe.scenario,zone:"local"}))),j=k.flatMap(oe=>In.map(he=>({time:he,value:oe[he],scenario:oe.scenario,zone:"UK"}))),ee=u.concat(j),re=Ie({height:Fe,width:800,...Ze,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[me,Tt],legend:!1},marks:[Rt(ee,ot({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Lr({anchor:"bottom",tickFormat:oe=>oe.replace(/^Y/,"").replace("_","-"),label:"Years"})]});c?.append(re),Xe(c).select("g[aria-label='bar']").selectAll("g").each(function(oe,he){const Pe=Xe(this).selectAll("rect").nodes()[0],U=Xe(Pe).attr("transform")||"";Xe(Pe).attr("transform",`${U} translate(-20, 0)`),Xe(this).selectAll("rect").nodes()[0].getAttribute("height"),Xe(this).selectAll("rect").nodes()[1].getAttribute("height"),Xe(this).selectAll("rect")}),Ie({height:Fe,width:800,...Ze,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[fo(ee,ot({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let G=M.flatMap(oe=>In.map(he=>({time:he,value:oe[he],cobenefit:oe.co_benefit_type}))),ue=Ie({height:Fe,width:1e3,marginRight:0,marginTop:40,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"18px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1},x:{label:"Years",tickFormat:oe=>oe.replace(/^Y/,"").split("_")[1]},color:{legend:!1,range:Nr,domain:As.map(oe=>oe.id)},marks:[ml(G,ot({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"]})),_s([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});h?.append(ue)}async function be(u){a(7,D=u.currentTarget.value),a(26,m=await He(Ts("total",D))),a(25,T=await He(Ss([],D))),a(5,k=await He(Ls(D)))}function le(u){Lt[u?"unshift":"push"](()=>{r=u,a(0,r)})}function F(u){Lt[u?"unshift":"push"](()=>{se=u,a(17,se)})}function Z(u){Lt[u?"unshift":"push"](()=>{c=u,a(1,c)})}function Je(u){Lt[u?"unshift":"push"](()=>{h=u,a(2,h)})}function Le(u,j){Lt[u?"unshift":"push"](()=>{v[j.id]=u,a(3,v)})}function Se(u,j){Lt[u?"unshift":"push"](()=>{v[j.id]=u,a(3,v)})}function Re(u,j){Lt[u?"unshift":"push"](()=>{d[j.id]=u,a(4,d)})}function ce(u){Lt[u?"unshift":"push"](()=>{n=u,a(6,n)})}return t.$$set=u=>{"data"in u&&a(23,g=u.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&T&&(a(13,O=Sn(T.map(u=>u.val))/1e3),a(14,V=Sn(T.map(u=>u.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(r&&Ut(r),c&&Ut(c),h&&Ut(h),B&&m&&T&&k&&(we(),ge(),De())),t.$$.dirty[0]&134217752&&(Object.values(v).forEach(u=>{u&&Ut(u)}),Object.values(b).forEach(u=>{u&&Ut(u)}),Object.values(d).forEach(u=>{u&&Ut(u)}),B&&ye()),t.$$.dirty[0]&134217728&&(Object.values(f).forEach(u=>{u&&Ut(u)}),B&&Q())},[r,c,h,v,d,k,n,D,I,N,H,P,R,O,V,x,q,se,S,te,ie,X,be,g,L,T,m,B,le,F,Z,Je,Le,Se,Re,ce]}class Bo extends ar{constructor(l){super(),nr(this,l,Ao,wo,Qs,{data:23},null,[-1,-1])}}export{Bo as component};
