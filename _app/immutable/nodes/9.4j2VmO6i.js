import{s as Ie,r as Ae,o as ke,e as _e,d as Be,n as Ne}from"../chunks/scheduler.BeRBkMKz.js";import{S as xe,i as Pe,q as Ve,s as E,e as r,r as Me,f as L,c as o,a as T,m as H,d as m,n as e,u as ie,v as Fe,g as ae,h as t,o as q,k as Ue,l as He,w as Oe,p as Se,t as De,b as Te}from"../chunks/index.Bcj7SUoL.js";import{e as ce}from"../chunks/each.-gASlQSi.js";import"../chunks/transform.Cz5Y6iUM.js";import"../chunks/index.CQsWoii3.js";import{M as je}from"../chunks/map.C0kQpGCl.js";import{g as oe,e as ge,m as be,n as Ye,o as Ge}from"../chunks/duckdb.C59RnbdD.js";import{C as ue,S as Ce,g as qe}from"../chunks/globals.Duo7gXU0.js";import{N as Re}from"../chunks/NavigationBar.D-a5nHmZ.js";function we(u,l,a){const v=u.slice();return v[27]=l[a],v}function Ee(u,l,a){const v=u.slice();return v[24]=l[a],v}function Ze(u){let l,a,v="Social Economic Factor",p,h,y=ce(Ce),n=[];for(let s=0;s<y.length;s+=1)n[s]=Le(we(u,y,s));return{c(){l=r("div"),a=r("h2"),a.textContent=v,p=E(),h=r("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){l=o(s,"DIV",{class:!0});var i=T(l);a=o(i,"H2",{"data-svelte-h":!0}),H(a)!=="svelte-1ld89ev"&&(a.textContent=v),p=L(i),h=o(i,"DIV",{id:!0,class:!0});var c=T(h);for(let d=0;d<n.length;d+=1)n[d].l(c);c.forEach(m),i.forEach(m),this.h()},h(){e(h,"id","time"),e(h,"class","svelte-yy4zwt"),e(l,"class","tabcontent svelte-yy4zwt")},m(s,i){ae(s,l,i),t(l,a),t(l,p),t(l,h);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(h,null)},p(s,i){if(i&258){y=ce(Ce);let c;for(c=0;c<y.length;c+=1){const d=we(s,y,c);n[c]?n[c].p(d,i):(n[c]=Le(d),n[c].c(),n[c].m(h,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=y.length}},d(s){s&&m(l),Se(n,s)}}}function Je(u){let l,a,v,p="Co Benefits",h,y,n,s,i="Time",c,d,_,C,A,g="total",Y,S,x,I,se="2025-2029",te,k,O,j,f="2030-2034",P,R,V,W,ne="2035-2039",Z,J,M,X,re="2040-2044",$,K,Q,ee,le="2045-2049",B,w,N=ce(ue),D=[];for(let z=0;z<N.length;z+=1)D[z]=ze(Ee(u,N,z));return{c(){l=r("div"),a=r("div"),v=r("h2"),v.textContent=p,h=E();for(let z=0;z<D.length;z+=1)D[z].c();y=E(),n=r("div"),s=r("h2"),s.textContent=i,c=E(),d=r("div"),_=r("label"),C=r("input"),A=r("span"),A.textContent=g,Y=E(),S=r("label"),x=r("input"),I=r("span"),I.textContent=se,te=E(),k=r("label"),O=r("input"),j=r("span"),j.textContent=f,P=E(),R=r("label"),V=r("input"),W=r("span"),W.textContent=ne,Z=E(),J=r("label"),M=r("input"),X=r("span"),X.textContent=re,$=E(),K=r("label"),Q=r("input"),ee=r("span"),ee.textContent=le,this.h()},l(z){l=o(z,"DIV",{class:!0});var F=T(l);a=o(F,"DIV",{class:!0});var b=T(a);v=o(b,"H2",{"data-svelte-h":!0}),H(v)!=="svelte-8wtja0"&&(v.textContent=p),h=L(b);for(let ye=0;ye<D.length;ye+=1)D[ye].l(b);b.forEach(m),y=L(F),n=o(F,"DIV",{class:!0});var U=T(n);s=o(U,"H2",{"data-svelte-h":!0}),H(s)!=="svelte-hletp"&&(s.textContent=i),c=L(U),d=o(U,"DIV",{id:!0,class:!0});var G=T(d);_=o(G,"LABEL",{class:!0});var de=T(_);C=o(de,"INPUT",{type:!0,name:!0,class:!0}),A=o(de,"SPAN",{class:!0,"data-svelte-h":!0}),H(A)!=="svelte-67wc0s"&&(A.textContent=g),de.forEach(m),Y=L(G),S=o(G,"LABEL",{class:!0});var fe=T(S);x=o(fe,"INPUT",{type:!0,name:!0,class:!0}),I=o(fe,"SPAN",{class:!0,"data-svelte-h":!0}),H(I)!=="svelte-177152l"&&(I.textContent=se),fe.forEach(m),te=L(G),k=o(G,"LABEL",{class:!0});var ve=T(k);O=o(ve,"INPUT",{type:!0,name:!0,class:!0}),j=o(ve,"SPAN",{class:!0,"data-svelte-h":!0}),H(j)!=="svelte-sne3j9"&&(j.textContent=f),ve.forEach(m),P=L(G),R=o(G,"LABEL",{class:!0});var he=T(R);V=o(he,"INPUT",{type:!0,name:!0,class:!0}),W=o(he,"SPAN",{class:!0,"data-svelte-h":!0}),H(W)!=="svelte-13ifhof"&&(W.textContent=ne),he.forEach(m),Z=L(G),J=o(G,"LABEL",{class:!0});var pe=T(J);M=o(pe,"INPUT",{type:!0,name:!0,class:!0}),X=o(pe,"SPAN",{class:!0,"data-svelte-h":!0}),H(X)!=="svelte-1pug1mv"&&(X.textContent=re),pe.forEach(m),$=L(G),K=o(G,"LABEL",{class:!0});var me=T(K);Q=o(me,"INPUT",{type:!0,name:!0,class:!0}),ee=o(me,"SPAN",{class:!0,"data-svelte-h":!0}),H(ee)!=="svelte-3f05xd"&&(ee.textContent=le),me.forEach(m),G.forEach(m),U.forEach(m),F.forEach(m),this.h()},h(){e(a,"class","component"),e(C,"type","radio"),e(C,"name","toggle"),C.value="total",C.checked=!0,e(C,"class","svelte-yy4zwt"),e(A,"class","svelte-yy4zwt"),e(_,"class","time-radio svelte-yy4zwt"),e(x,"type","radio"),e(x,"name","toggle"),x.value="Y2025_2029",e(x,"class","svelte-yy4zwt"),e(I,"class","svelte-yy4zwt"),e(S,"class","time-radio svelte-yy4zwt"),e(O,"type","radio"),e(O,"name","toggle"),O.value="Y2030_2034",e(O,"class","svelte-yy4zwt"),e(j,"class","svelte-yy4zwt"),e(k,"class","time-radio svelte-yy4zwt"),e(V,"type","radio"),e(V,"name","toggle"),V.value="Y2035_2039",e(V,"class","svelte-yy4zwt"),e(W,"class","svelte-yy4zwt"),e(R,"class","time-radio svelte-yy4zwt"),e(M,"type","radio"),e(M,"name","toggle"),M.value="Y2040_2044",e(M,"class","svelte-yy4zwt"),e(X,"class","svelte-yy4zwt"),e(J,"class","time-radio svelte-yy4zwt"),e(Q,"type","radio"),e(Q,"name","toggle"),Q.value="Y2045_2049",e(Q,"class","svelte-yy4zwt"),e(ee,"class","svelte-yy4zwt"),e(K,"class","time-radio svelte-yy4zwt"),e(d,"id","time"),e(d,"class","svelte-yy4zwt"),e(n,"class","component"),e(l,"class","tabcontent svelte-yy4zwt")},m(z,F){ae(z,l,F),t(l,a),t(a,v),t(a,h);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(a,null);t(l,y),t(l,n),t(n,s),t(n,c),t(n,d),t(d,_),t(_,C),t(_,A),t(d,Y),t(d,S),t(S,x),t(S,I),t(d,te),t(d,k),t(k,O),t(k,j),t(d,P),t(d,R),t(R,V),t(R,W),t(d,Z),t(d,J),t(J,M),t(J,X),t(d,$),t(d,K),t(K,Q),t(K,ee),B||(w=[q(C,"change",u[6]),q(x,"change",u[6]),q(O,"change",u[6]),q(V,"change",u[6]),q(M,"change",u[6]),q(Q,"change",u[6])],B=!0)},p(z,F){if(F&32){N=ce(ue);let b;for(b=0;b<N.length;b+=1){const U=Ee(z,N,b);D[b]?D[b].p(U,F):(D[b]=ze(U),D[b].c(),D[b].m(a,null))}for(;b<D.length;b+=1)D[b].d(1);D.length=N.length}},d(z){z&&m(l),Se(D,z),B=!1,Ae(w)}}}function Le(u){let l,a,v,p,h,y,n,s;return{c(){l=r("input"),v=E(),p=r("label"),h=De(u[27]),y=r("br"),this.h()},l(i){l=o(i,"INPUT",{type:!0,id:!0,name:!0,class:!0}),v=L(i),p=o(i,"LABEL",{for:!0});var c=T(p);h=Te(c,u[27]),c.forEach(m),y=o(i,"BR",{}),this.h()},h(){e(l,"type","radio"),e(l,"id","html"),e(l,"name","fav_language"),l.value=u[27],l.checked=a=u[27]==u[1],e(l,"class","svelte-yy4zwt"),e(p,"for","html")},m(i,c){ae(i,l,c),ae(i,v,c),ae(i,p,c),t(p,h),ae(i,y,c),n||(s=q(l,"change",u[8]),n=!0)},p(i,c){c&2&&a!==(a=i[27]==i[1])&&(l.checked=a)},d(i){i&&(m(l),m(v),m(p),m(y)),n=!1,s()}}}function ze(u){let l,a,v,p,h,y,n,s,i,c,d,_,C;return{c(){l=r("div"),a=r("img"),p=E(),h=r("input"),y=E(),n=r("label"),s=De(u[24]),i=E(),c=r("br"),d=E(),this.h()},l(A){l=o(A,"DIV",{class:!0});var g=T(l);a=o(g,"IMG",{alt:!0,class:!0,src:!0}),p=L(g),h=o(g,"INPUT",{type:!0,name:!0}),y=L(g),n=o(g,"LABEL",{for:!0});var Y=T(n);s=Te(Y,u[24]),Y.forEach(m),i=L(g),c=o(g,"BR",{}),d=L(g),g.forEach(m),this.h()},h(){e(a,"alt","cobenefit icon"),e(a,"class","icon svelte-yy4zwt"),Be(a.src,v=qe(u[24]))||e(a,"src",v),e(h,"type","checkbox"),e(h,"name","cobenef"),h.value=u[24],h.checked=!0,e(n,"for","css"),e(l,"class","checkbox-div svelte-yy4zwt")},m(A,g){ae(A,l,g),t(l,a),t(l,p),t(l,h),t(l,y),t(l,n),t(n,s),t(l,i),t(l,c),t(l,d),_||(C=q(h,"change",u[5]),_=!0)},p:Ne,d(A){A&&m(l),_=!1,C()}}}function Ke(u){let l,a,v,p,h=`<h2>Map</h2> <p>This interactive map shows the co-benefit of each datazone. The pathway and time window can be selected,
            along a given set of co-benefits.</p>`,y,n,s,i,c="",d,_,C="",A,g,Y,S,x,I,se="CoBenefits",te,k,O="Socio-Economic Factors",j,f,P,R,V,W="LAD",ne,Z,J,M,X="LSOA",re,$,K,Q;l=new Re({});function ee(w,N){if(w[0]=="Cobenefit")return Je;if(w[0]=="SEF")return Ze}let le=ee(u),B=le&&le(u);return{c(){Ve(l.$$.fragment),a=E(),v=r("div"),p=r("div"),p.innerHTML=h,y=E(),n=r("div"),s=r("div"),i=r("div"),i.innerHTML=c,d=E(),_=r("div"),_.innerHTML=C,A=E(),g=r("div"),Y=E(),S=r("div"),x=r("div"),I=r("button"),I.textContent=se,te=E(),k=r("button"),k.textContent=O,j=E(),f=r("div"),P=r("input"),R=E(),V=r("label"),V.textContent=W,ne=E(),Z=r("input"),J=E(),M=r("label"),M.textContent=X,re=E(),B&&B.c(),this.h()},l(w){Me(l.$$.fragment,w),a=L(w),v=o(w,"DIV",{class:!0});var N=T(v);p=o(N,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),H(p)!=="svelte-mj8vf3"&&(p.innerHTML=h),y=L(N),n=o(N,"DIV",{id:!0,class:!0});var D=T(n);s=o(D,"DIV",{class:!0,id:!0});var z=T(s);i=o(z,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1ej9vmv"&&(i.innerHTML=c),d=L(z),_=o(z,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),H(_)!=="svelte-1j653gg"&&(_.innerHTML=C),A=L(z),g=o(z,"DIV",{id:!0,class:!0}),T(g).forEach(m),z.forEach(m),Y=L(D),S=o(D,"DIV",{class:!0,id:!0});var F=T(S);x=o(F,"DIV",{class:!0});var b=T(x);I=o(b,"BUTTON",{class:!0,"data-svelte-h":!0}),H(I)!=="svelte-1dc450"&&(I.textContent=se),te=L(b),k=o(b,"BUTTON",{class:!0,"data-svelte-h":!0}),H(k)!=="svelte-1bnouoj"&&(k.textContent=O),b.forEach(m),j=L(F),f=o(F,"DIV",{class:!0});var U=T(f);P=o(U,"INPUT",{type:!0,name:!0}),R=L(U),V=o(U,"LABEL",{for:!0,"data-svelte-h":!0}),H(V)!=="svelte-1yt3ls4"&&(V.textContent=W),ne=L(U),Z=o(U,"INPUT",{type:!0,name:!0}),J=L(U),M=o(U,"LABEL",{for:!0,"data-svelte-h":!0}),H(M)!=="svelte-1oa0u5m"&&(M.textContent=X),U.forEach(m),re=L(F),B&&B.l(F),F.forEach(m),D.forEach(m),N.forEach(m),this.h()},h(){e(p,"class","component"),e(p,"id","heaser"),e(i,"id","map"),e(i,"class","svelte-yy4zwt"),e(_,"id","map-legend"),e(_,"class","svelte-yy4zwt"),e(g,"id","tooltip"),e(g,"class","tooltip svelte-yy4zwt"),e(s,"class","component column svelte-yy4zwt"),e(s,"id","mapComp"),e(I,"class","tablinks svelte-yy4zwt"),I.value="Cobenefit",ie(I,"active",u[0]=="Cobenefit"),e(k,"class","tablinks svelte-yy4zwt"),k.value="SEF",ie(k,"active",u[0]=="SEF"),e(x,"class","tab svelte-yy4zwt"),e(P,"type","radio"),e(P,"name","granularity"),P.value="LAD",P.checked=!0,e(V,"for","LAD"),e(Z,"type","radio"),e(Z,"name","granularity"),Z.value="LSOA",e(M,"for","LSOA"),e(f,"class","component"),e(S,"class","component column svelte-yy4zwt"),e(S,"id","control-panel"),e(n,"id","map-row"),e(n,"class","row svelte-yy4zwt"),e(v,"class","page-container svelte-yy4zwt")},m(w,N){Fe(l,w,N),ae(w,a,N),ae(w,v,N),t(v,p),t(v,y),t(v,n),t(n,s),t(s,i),u[17](i),t(s,d),t(s,_),u[18](_),t(s,A),t(s,g),t(n,Y),t(n,S),t(S,x),t(x,I),t(x,te),t(x,k),t(S,j),t(S,f),t(f,P),t(f,R),t(f,V),t(f,ne),t(f,Z),t(f,J),t(f,M),t(S,re),B&&B.m(S,null),u[19](v),$=!0,K||(Q=[q(I,"click",u[7]),q(k,"click",u[7]),q(P,"change",u[9]),q(Z,"change",u[9])],K=!0)},p(w,[N]){(!$||N&1)&&ie(I,"active",w[0]=="Cobenefit"),(!$||N&1)&&ie(k,"active",w[0]=="SEF"),le===(le=ee(w))&&B?B.p(w,N):(B&&B.d(1),B=le&&le(w),B&&(B.c(),B.m(S,null)))},i(w){$||(Ue(l.$$.fragment,w),$=!0)},o(w){He(l.$$.fragment,w),$=!1},d(w){w&&(m(a),m(v)),Oe(l,w),u[17](null),u[18](null),B&&B.d(),u[19](null),K=!1,Ae(Q)}}}function Qe(u,l,a){let{data:v}=l,p,h,y,n,s,i="Cobenefit",c="BNZ",d=new Set(ue),_="total",C="LAD",A="EPC",g;function Y(){y=s.legend(),a(4,n.innerHTML="",n),n.append(y)}ke(async()=>{let f;C=="LAD"?f=await oe(ge(Array.from(d),c,_)):C=="LSOA"&&(f=await oe(be(Array.from(d),c,_))),console.log(1,f),a(11,s=new je(f,C,h)),s.initMap(),console.log("map initiated"),y=s.legend(),n.append(y)});const S=f=>{const P=f.currentTarget.value;d.size==0&&a(13,d=new Set(ue)),d.has(P)?d.delete(P):d.add(P),a(13,d)},x=f=>{const P=f.currentTarget.value;a(14,_=P)};function I(f,P){a(0,i=f.currentTarget.value)}const se=f=>{a(1,A=f.currentTarget.value)},te=f=>{s.removeLayers(),s.removeSources(),a(15,C=f.currentTarget.value),a(11,s.granularity=C,s)};function k(f){_e[f?"unshift":"push"](()=>{h=f,a(3,h)})}function O(f){_e[f?"unshift":"push"](()=>{n=f,a(4,n)})}function j(f){_e[f?"unshift":"push"](()=>{p=f,a(2,p)})}return u.$$set=f=>{"data"in f&&a(10,v=f.data)},u.$$.update=()=>{u.$$.dirty&129027&&s?.loaded&&(i=="Cobenefit"?C=="LAD"?a(16,g=oe(ge(Array.from(d),c,_))):C=="LSOA"&&a(16,g=oe(be(Array.from(d),c,_))):a(0,i="SEF")&&(C=="LAD"?a(16,g=oe(Ye(A))):C=="LSOA"&&a(16,g=oe(Ge(A)))),g.then(f=>{s.map.getStyle().layers.length==0&&s.loadLayers(),s.update(f,i),Y()}))},[i,A,p,h,n,S,x,I,se,te,v,s,c,d,_,C,g,k,O,j]}class rt extends xe{constructor(l){super(),Pe(this,l,Qe,Ke,Ie,{data:10})}}export{rt as component};
