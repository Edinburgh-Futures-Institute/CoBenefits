import{s as lt,d as at,n as Q,o as ot,e as X}from"../chunks/scheduler.tir__IPy.js";import{S as st,i as rt,e as h,b as G,s as S,c as v,d as T,f as O,g as E,h as k,m as B,n as M,j as it,k as n,p as dt,o as ct}from"../chunks/index.bU9Y8Vjw.js";import{e as U}from"../chunks/each.-gASlQSi.js";import"../chunks/transform.Bxaw71Wc.js";import{p as W}from"../chunks/index.C2v7JTs9.js";import"../chunks/map.DBG5qYZc.js";import{S as K,a as ht}from"../chunks/globals.xEjTdJsR.js";import{c as $,a as tt}from"../chunks/bar.BQBIWyeb.js";function et(e,i,l){const r=e.slice();return r[19]=i[l],r[20]=i,r[21]=l,r}function nt(e){let i,l,r,b,d,_,y,c,F="",s=e[19],u,L,x,D,C="",A;const j=()=>e[10](c,s),z=()=>e[10](null,s),t=()=>e[11](D,s),I=()=>e[11](null,s);return{c(){i=h("div"),l=h("strong"),r=G(e[19]),b=S(),d=h("div"),_=h("div"),y=G(`LAD Distribution:
                        `),c=h("div"),c.innerHTML=F,u=S(),L=h("div"),x=G(`Global Distribution:
                        `),D=h("div"),D.innerHTML=C,A=S(),this.h()},l(g){i=v(g,"DIV",{});var a=T(i);l=v(a,"STRONG",{});var m=T(l);r=O(m,e[19]),m.forEach(E),b=k(a),d=v(a,"DIV",{class:!0});var w=T(d);_=v(w,"DIV",{});var P=T(_);y=O(P,`LAD Distribution:
                        `),c=v(P,"DIV",{class:!0,"data-svelte-h":!0}),B(c)!=="svelte-nw1ojy"&&(c.innerHTML=F),P.forEach(E),u=k(w),L=v(w,"DIV",{});var H=T(L);x=O(H,`Global Distribution:
                        `),D=v(H,"DIV",{class:!0,"data-svelte-h":!0}),B(D)!=="svelte-1i7x0dr"&&(D.innerHTML=C),H.forEach(E),w.forEach(E),A=k(a),a.forEach(E),this.h()},h(){M(c,"class","plot"),M(D,"class","plot"),M(d,"class","inside-row svelte-11y8ase")},m(g,a){it(g,i,a),n(i,l),n(l,r),n(i,b),n(i,d),n(d,_),n(_,y),n(_,c),j(),n(d,u),n(d,L),n(L,x),n(L,D),t(),n(i,A)},p(g,a){e=g,s!==e[19]&&(z(),s=e[19],j()),s!==e[19]&&(I(),s=e[19],t())},d(g){g&&E(i),z(),I()}}}function vt(e){let i,l,r,b,d,_,y,c,F,s,u,L="",x,D,C,A,j="Map",z,t,I="",g,a,m,w="Socio Economic Factors",P,H=U(K),f=[];for(let p=0;p<H.length;p+=1)f[p]=nt(et(e,H,p));return{c(){i=h("div"),l=h("div"),r=h("h1"),b=G(e[5]),d=S(),_=h("p"),y=G(e[5]),c=G(" is ..."),F=S(),s=h("div"),u=h("div"),u.innerHTML=L,D=S(),C=h("div"),A=h("h3"),A.textContent=j,z=S(),t=h("div"),t.innerHTML=I,g=S(),a=h("div"),m=h("h2"),m.textContent=w,P=S();for(let p=0;p<f.length;p+=1)f[p].c();this.h()},l(p){i=v(p,"DIV",{class:!0});var V=T(i);l=v(V,"DIV",{class:!0});var o=T(l);r=v(o,"H1",{});var R=T(r);b=O(R,e[5]),R.forEach(E),d=k(o),_=v(o,"P",{});var Y=T(_);y=O(Y,e[5]),c=O(Y," is ..."),Y.forEach(E),o.forEach(E),F=k(V),s=v(V,"DIV",{id:!0,class:!0});var q=T(s);u=v(q,"DIV",{class:!0,"data-svelte-h":!0}),B(u)!=="svelte-vdeqzi"&&(u.innerHTML=L),D=k(q),C=v(q,"DIV",{class:!0});var N=T(C);A=v(N,"H3",{"data-svelte-h":!0}),B(A)!=="svelte-vcuthw"&&(A.textContent=j),z=k(N),t=v(N,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1ej9vmv"&&(t.innerHTML=I),N.forEach(E),q.forEach(E),g=k(V),a=v(V,"DIV",{id:!0,class:!0});var Z=T(a);m=v(Z,"H2",{"data-svelte-h":!0}),B(m)!=="svelte-120oaoa"&&(m.textContent=w),P=k(Z);for(let J=0;J<f.length;J+=1)f[J].l(Z);Z.forEach(E),V.forEach(E),this.h()},h(){M(l,"class","component"),M(u,"class","component column"),at(()=>e[8].call(u)),M(t,"id","map"),M(t,"class","svelte-11y8ase"),M(C,"class","component column"),M(s,"id","vis-block"),M(s,"class","svelte-11y8ase"),M(a,"id","multiple-comp"),M(a,"class","component svelte-11y8ase"),M(i,"class","page-container")},m(p,V){it(p,i,V),n(i,l),n(l,r),n(r,b),n(l,d),n(l,_),n(_,y),n(_,c),n(i,F),n(i,s),n(s,u),x=dt(u,e[8].bind(u)),n(s,D),n(s,C),n(C,A),n(C,z),n(C,t),e[9](t),n(i,g),n(i,a),n(a,m),n(a,P);for(let o=0;o<f.length;o+=1)f[o]&&f[o].m(a,null);e[12](i)},p(p,[V]){if(V&3){H=U(K);let o;for(o=0;o<H.length;o+=1){const R=et(p,H,o);f[o]?f[o].p(R,V):(f[o]=nt(R),f[o].c(),f[o].m(a,null))}for(;o<f.length;o+=1)f[o].d(1);f.length=H.length}},i:Q,o:Q,d(p){p&&E(i),x(),e[9](null),ct(f,p),e[12](null)}}}function ut(e,i,l){let r,b={},d={},_="barchart",y=300,{data:c}=i;const F=c.oneLADData,s=c.LAD,u=c.totalCBAllZones;let L;ot(()=>{});function x(){K.forEach(t=>{let I,g;if(console.log(u.map(a=>a[t])),ht.includes(t)){g=W({height:y/2,width:500,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:t,type:"band"},style:{fontSize:"18px"},color:{legend:!0},marks:[$(u,tt({y:"count"},{x:m=>Math.floor(Number(m[t]))}))]}),d[t]?.append(g);let a=g.scale("x").domain.map(m=>Math.floor(m));console.log(a),I=W({height:y/2,width:500,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:t,domain:a,type:"band",tickFormat:m=>Math.floor(m)},style:{fontSize:"18px"},color:{legend:!0},marks:[$(F,tt({y:"count"},{x:m=>Math.floor(m[t])}))]}),b[t]?.append(I)}b[t]?.append(I)})}function D(){y=this.clientHeight,l(3,y)}function C(t){X[t?"unshift":"push"](()=>{L=t,l(4,L)})}function A(t,I){X[t?"unshift":"push"](()=>{b[I]=t,l(0,b)})}function j(t,I){X[t?"unshift":"push"](()=>{d[I]=t,l(1,d)})}function z(t){X[t?"unshift":"push"](()=>{r=t,l(2,r)})}return e.$$set=t=>{"data"in t&&l(6,c=t.data)},e.$$.update=()=>{e.$$.dirty&131&&(Object.values(b).forEach(t=>{t.firstChild?.remove()}),Object.values(d).forEach(t=>{t.firstChild?.remove()}),x())},[b,d,r,y,L,s,c,_,D,C,A,j,z]}class yt extends st{constructor(i){super(),rt(this,i,ut,vt,lt,{data:6})}}export{yt as component};
