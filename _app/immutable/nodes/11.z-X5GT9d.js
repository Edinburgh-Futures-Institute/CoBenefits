import{s as un,d,w as hn,q as c,i as ft,b as l,B as jr,F as mt,g as _,c as f,e as g,p as $,f as S,j as y,h as u,t as k,v as dn,Z as vn,a as Zr,A as Ht}from"../chunks/B9XzmCUZ.js";import{S as gn,i as pn,d as mn,t as _n,a as yn,m as bn,c as En,b as Pn}from"../chunks/D6lOsQeQ.js";import{N as wn,e as qr}from"../chunks/BRcnb727.js";import"../chunks/DRyxMU8n.js";import{a1 as Cn,a2 as Qr,a3 as In,$ as hr,i as Jr,a4 as Sn,a5 as kn,a6 as $r,a7 as Dn,a8 as An,Q as tn,a9 as Ln,O as xn,aa as Vr,z as Nn,ab as Tn,V as fe,_ as Rr,ac as Fr,a0 as zr}from"../chunks/BZW538Bk.js";import{g as Mn,M as Bn}from"../chunks/DT3N6WES.js";import{d as M,C as Or,S as Se,g as qn,T as Vn,e as Rn,M as Fn,c as zn}from"../chunks/RqbpEnOX.js";import{g as Ce,m as On,n as Wn,k as Hn,o as Yn}from"../chunks/BzXIH_FN.js";import{d as dr,m as Un,t as Gn}from"../chunks/Dd4jVbTU.js";import{a as en}from"../chunks/DKkW8n3a.js";import{b as Kn,d as Xn}from"../chunks/CVYaCuvD.js";function jn(t,{y:e=Jr,x:r=null,r:n,fill:i="#ccc",fillOpacity:h,stroke:s="currentColor",strokeOpacity:o,strokeWidth:m=2,sort:E,...w}={}){const v=r!=null?Qr:In;return Cn(hr(t,v({y1:rn,y2:nn},{x:r,y:e,stroke:s,strokeOpacity:o,...w})),en(t,v({y1:"p25",y2:"p75"},{x:r,y:e,fill:i,fillOpacity:h,...w})),Gn(t,v({y:"p50"},{x:r,y:e,stroke:s,strokeOpacity:o,strokeWidth:m,sort:E,...w})),dr(t,Un({y:Zn},{x:r,y:e,z:r,r:n,stroke:s,strokeOpacity:o,...w})))}function Zn(t){const e=rn(t),r=nn(t);return t.map(n=>n<e||n>r?n:NaN)}function rn(t){const e=ln(t)*2.5-sn(t)*1.5;return Sn(t,r=>r>=e?r:NaN)}function nn(t){const e=sn(t)*2.5-ln(t)*1.5;return kn(t,r=>r<=e?r:NaN)}function ln(t){return $r(t,.25)}function sn(t){return $r(t,.75)}function Qn(t,e,r,n,i){for(var h=i+1;n<=i;){var s=n+i>>>1,o=t[s],m=r!==void 0?r(o,e):o-e;m>=0?(h=s,i=s-1):n=s+1}return h}function Jn(t,e,r,n,i){for(var h=i+1;n<=i;){var s=n+i>>>1,o=t[s],m=r!==void 0?r(o,e):o-e;m>0?(h=s,i=s-1):n=s+1}return h}function $n(t,e,r,n,i){for(var h=n-1;n<=i;){var s=n+i>>>1,o=t[s],m=r!==void 0?r(o,e):o-e;m<0?(h=s,n=s+1):i=s-1}return h}function tl(t,e,r,n,i){for(var h=n-1;n<=i;){var s=n+i>>>1,o=t[s],m=r!==void 0?r(o,e):o-e;m<=0?(h=s,n=s+1):i=s-1}return h}function el(t,e,r,n,i){for(;n<=i;){var h=n+i>>>1,s=t[h],o=r!==void 0?r(s,e):s-e;if(o===0)return h;o<=0?n=h+1:i=h-1}return-1}function ue(t,e,r,n,i,h){return typeof r=="function"?h(t,e,r,n===void 0?0:n|0,i===void 0?t.length-1:i|0):h(t,e,void 0,r===void 0?0:r|0,n===void 0?t.length-1:n|0)}var rl={ge:function(t,e,r,n,i){return ue(t,e,r,n,i,Qn)},gt:function(t,e,r,n,i){return ue(t,e,r,n,i,Jn)},lt:function(t,e,r,n,i){return ue(t,e,r,n,i,$n)},le:function(t,e,r,n,i){return ue(t,e,r,n,i,tl)},eq:function(t,e,r,n,i){return ue(t,e,r,n,i,el)}},ke=rl,ne=0,Yt=1,Ie=2,nl=il;function gr(t,e,r,n,i){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=i,this.count=(e?e.count:0)+(r?r.count:0)+n.length}var he=gr.prototype;function ur(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function on(t,e){var r=le(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function Wr(t,e){var r=t.intervals([]);r.push(e),on(t,r)}function Hr(t,e){var r=t.intervals([]),n=r.indexOf(e);return n<0?ne:(r.splice(n,1),on(t,r),Yt)}he.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};he.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Wr(this,t):this.left.insert(t):this.left=le([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Wr(this,t):this.right.insert(t):this.right=le([t]);else{var r=ke.ge(this.leftPoints,t,pr),n=ke.ge(this.rightPoints,t,mr);this.leftPoints.splice(r,0,t),this.rightPoints.splice(n,0,t)}};he.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return ne;var r=this.right?this.right.count:0;if(4*r>3*(e-1))return Hr(this,t);var n=this.left.remove(t);return n===Ie?(this.left=null,this.count-=1,Yt):(n===Yt&&(this.count-=1),n)}else if(t[0]>this.mid){if(!this.right)return ne;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return Hr(this,t);var n=this.right.remove(t);return n===Ie?(this.right=null,this.count-=1,Yt):(n===Yt&&(this.count-=1),n)}else{if(this.count===1)return this.leftPoints[0]===t?Ie:ne;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var h=this,s=this.left;s.right;)h=s,s=s.right;if(h===this)s.right=this.right;else{var o=this.left,n=this.right;h.count-=s.count,h.right=s.left,s.left=o,s.right=n}ur(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?ur(this,this.left):ur(this,this.right);return Yt}for(var o=ke.ge(this.leftPoints,t,pr);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(var n=ke.ge(this.rightPoints,t,mr);n<this.rightPoints.length&&this.rightPoints[n][1]===t[1];++n)if(this.rightPoints[n]===t)return this.rightPoints.splice(n,1),Yt}return ne}};function an(t,e,r){for(var n=0;n<t.length&&t[n][0]<=e;++n){var i=r(t[n]);if(i)return i}}function cn(t,e,r){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var i=r(t[n]);if(i)return i}}function fn(t,e){for(var r=0;r<t.length;++r){var n=e(t[r]);if(n)return n}}he.queryPoint=function(t,e){if(t<this.mid){if(this.left){var r=this.left.queryPoint(t,e);if(r)return r}return an(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var r=this.right.queryPoint(t,e);if(r)return r}return cn(this.rightPoints,t,e)}else return fn(this.leftPoints,e)};he.queryInterval=function(t,e,r){if(t<this.mid&&this.left){var n=this.left.queryInterval(t,e,r);if(n)return n}if(e>this.mid&&this.right){var n=this.right.queryInterval(t,e,r);if(n)return n}return e<this.mid?an(this.leftPoints,e,r):t>this.mid?cn(this.rightPoints,t,r):fn(this.leftPoints,r)};function ll(t,e){return t-e}function pr(t,e){var r=t[0]-e[0];return r||t[1]-e[1]}function mr(t,e){var r=t[1]-e[1];return r||t[0]-e[0]}function le(t){if(t.length===0)return null;for(var e=[],r=0;r<t.length;++r)e.push(t[r][0],t[r][1]);e.sort(ll);for(var n=e[e.length>>1],i=[],h=[],s=[],r=0;r<t.length;++r){var o=t[r];o[1]<n?i.push(o):n<o[0]?h.push(o):s.push(o)}var m=s,E=s.slice();return m.sort(pr),E.sort(mr),new gr(n,le(i),le(h),m,E)}function vr(t){this.root=t}var ie=vr.prototype;ie.insert=function(t){this.root?this.root.insert(t):this.root=new gr(t[0],null,null,[t],[t])};ie.remove=function(t){if(this.root){var e=this.root.remove(t);return e===Ie&&(this.root=null),e!==ne}return!1};ie.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};ie.queryInterval=function(t,e,r){if(t<=e&&this.root)return this.root.queryInterval(t,e,r)};Object.defineProperty(ie,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(ie,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function il(t){return!t||t.length===0?new vr(null):new vr(le(t))}const sl=Mn(nl),ol=({marginLeft:t})=>[1,t],al=({width:t,marginRight:e})=>[-1,t-e],cl=({width:t,marginLeft:e,marginRight:r})=>[0,(e+t-r)/2];function fl(t){return typeof t=="string"?{anchor:t}:t}function ul(t={},e={}){arguments.length===1&&([t,e]=hl(t));let{anchor:r="left",padding:n=1,r:i=e.r}=fl(t);switch(`${r}`.toLowerCase()){case"left":r=ol;break;case"right":r=al;break;case"middle":r=cl;break;default:throw new Error(`unknown dodge anchor: ${r}`)}return dl("x","y",r,tn(n),i,e)}function hl(t){const{anchor:e,padding:r,...n}=t,{r:i}=n;return[{anchor:e,padding:r,r:i},n]}function dl(t,e,r,n,i,h){if(i!=null&&typeof i!="number"){let{channels:s,sort:o,reverse:m}=h;s=Dn(s),s?.r===void 0&&(h={...h,channels:{...s,r:{value:i,scale:"r"}}}),o===void 0&&m===void 0&&(h.sort={channel:"-r"})}return An(h,function(s,o,m,E,w,v){let{[e]:b,r:D}=m;if(!m[e])throw new Error(`missing channel: ${e}`);({[e]:b}=Ln(m,E,v));const W=D?void 0:i!==void 0?tn(i):this.r!==void 0?this.r:3;D&&(D=xn(D.value,E[D.scale]||Jr,Float64Array));let[H,_t]=r(w);const N=H?gl:vl,I=new Float64Array(b.length),ut=D?B=>D[B]:()=>W;for(let B of o){const tt=sl();B=B.filter(D?T=>Vr(b[T])&&Nn(D[T]):T=>Vr(b[T]));const Y=new Float64Array(2*B.length+2);for(const T of B){const lt=ut(T),yt=H?lt+n:0,U=b[T]-lt,z=b[T]+lt;let it=2;tt.queryInterval(U-n,z+n,([,,O])=>{const K=I[O]-yt,et=b[T]-b[O],bt=n+(D?D[T]+D[O]:2*W),rt=Math.sqrt(bt*bt-et*et);Y[it++]=K-rt,Y[it++]=K+rt});let ht=Y.slice(0,it);H&&(ht=ht.filter(O=>O>=0));t:for(const O of ht.sort(N)){for(let K=0;K<it;K+=2)if(Y[K]+1e-6<O&&O<Y[K+1]-1e-6)continue t;I[T]=O+yt;break}tt.insert([U,z,T])}}H||(H=1);for(const B of o)for(const tt of B)I[tt]=I[tt]*H+_t;return{data:s,facets:o,channels:{[t]:{value:I,source:null},[e]:{value:b,source:m[e]},...D&&{r:{value:D,source:m.r}}}}})}function vl(t,e){return Math.abs(t)-Math.abs(e)}function gl(t,e){return t-e}function Yr(t,e,r){const n=t.slice();return n[38]=e[r],n[39]=e,n[40]=r,n}function Ur(t){let e,r,n=t[4].toLocaleString()+"",i,h;return{c(){e=u("strong"),r=k("£"),i=k(n),h=k(" billion"),this.h()},l(s){e=f(s,"STRONG",{style:!0});var o=g(e);r=S(o,"£"),i=S(o,n),h=S(o," billion"),o.forEach(d),this.h()},h(){mt(e,"font-size","1.1rem")},m(s,o){ft(s,e,o),l(e,r),l(e,i),l(e,h)},p(s,o){o[0]&16&&n!==(n=s[4].toLocaleString()+"")&&Zr(i,n)},d(s){s&&d(e)}}}function Gr(t){let e,r,n,i,h,s,o,m,E=t[4]&&Kr(t);return{c(){e=u("div"),r=u("div"),n=u("img"),h=y(),s=u("span"),o=k(t[11]),m=y(),E&&E.c(),this.h()},l(w){e=f(w,"DIV",{class:!0});var v=g(e);r=f(v,"DIV",{class:!0});var b=g(r);n=f(b,"IMG",{src:!0,alt:!0,class:!0}),h=_(b),s=f(b,"SPAN",{class:!0});var D=g(s);o=S(D,t[11]),D.forEach(d),m=_(b),E&&E.l(b),b.forEach(d),v.forEach(d),this.h()},h(){jr(n.src,i=t[12])||c(n,"src",i),c(n,"alt","Icon"),c(n,"class","mini-heading-icon svelte-56tlmx"),c(s,"class","mini-header-text svelte-56tlmx"),c(r,"class","mini-header-content svelte-56tlmx"),c(e,"class","mini-header svelte-56tlmx")},m(w,v){ft(w,e,v),l(e,r),l(r,n),l(r,h),l(r,s),l(s,o),l(r,m),E&&E.m(r,null)},p(w,v){w[4]?E?E.p(w,v):(E=Kr(w),E.c(),E.m(r,null)):E&&(E.d(1),E=null)},d(w){w&&d(e),E&&E.d()}}}function Kr(t){let e,r,n=t[4].toLocaleString()+"",i,h;return{c(){e=u("span"),r=k("UK total: £"),i=k(n),h=k(" billion"),this.h()},l(s){e=f(s,"SPAN",{class:!0});var o=g(e);r=S(o,"UK total: £"),i=S(o,n),h=S(o," billion"),o.forEach(d),this.h()},h(){c(e,"class","mini-header-value svelte-56tlmx")},m(s,o){ft(s,e,o),l(e,r),l(e,i),l(e,h)},p(s,o){o[0]&16&&n!==(n=s[4].toLocaleString()+"")&&Zr(i,n)},d(s){s&&d(e)}}}function pl(t){let e,r="The cost per capita for each 5 year interval towards 2050.";return{c(){e=u("p"),e.textContent=r,this.h()},l(n){e=f(n,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-pe9xxo"&&(e.textContent=r),this.h()},h(){c(e,"class","description svelte-56tlmx")},m(n,i){ft(n,e,i)},d(n){n&&d(e)}}}function ml(t){let e,r="The benefit per capita for each 5 year interval towards 2050.";return{c(){e=u("p"),e.textContent=r,this.h()},l(n){e=f(n,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-i8o6zu"&&(e.textContent=r),this.h()},h(){c(e,"class","description svelte-56tlmx")},m(n,i){ft(n,e,i)},d(n){n&&d(e)}}}function _l(t){let e,r="The total cost per capita for each data zone.";return{c(){e=u("p"),e.textContent=r,this.h()},l(n){e=f(n,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-dn86oi"&&(e.textContent=r),this.h()},h(){c(e,"class","description svelte-56tlmx")},m(n,i){ft(n,e,i)},d(n){n&&d(e)}}}function yl(t){let e,r="The total benefit per capita for each data zone.";return{c(){e=u("p"),e.textContent=r,this.h()},l(n){e=f(n,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-4cme04"&&(e.textContent=r),this.h()},h(){c(e,"class","description svelte-56tlmx")},m(n,i){ft(n,e,i)},d(n){n&&d(e)}}}function Xr(t){let e,r,n=t[38].replaceAll("_"," ")+"",i,h,s,o=t[38],m;const E=()=>t[22](s,o),w=()=>t[22](null,o);return{c(){e=u("div"),r=u("h3"),i=k(n),h=y(),s=u("div"),m=y(),this.h()},l(v){e=f(v,"DIV",{class:!0});var b=g(e);r=f(b,"H3",{class:!0,style:!0});var D=g(r);i=S(D,n),D.forEach(d),h=_(b),s=f(b,"DIV",{class:!0}),g(s).forEach(d),m=_(b),b.forEach(d),this.h()},h(){c(r,"class","component-title"),mt(r,"text-align","center"),c(s,"class","plot"),c(e,"class","plot-container")},m(v,b){ft(v,e,b),l(e,r),l(r,i),l(e,h),l(e,s),E(),l(e,m)},p(v,b){t=v,o!==t[38]&&(w(),o=t[38],E())},d(v){v&&d(e),w()}}}function bl(t){let e,r,n,i,h,s,o,m="Co-Benefit Report",E,w,v,b,D,W,H,_t,N,I,ut,B,tt,Y,T,lt,yt,U,z,it,ht,O,K,et,bt,rt,se,Ut,st,nt,a,A,C,X,oe=t[11].toLowerCase()+"",Gt,ae,dt,Lt,ot,P="",G,ce,Kt,Et,De,xt,_r=t[11].toLowerCase()+"",Ae,Le,xe,de,Pt,yr="",Ne,Te,Me,at,Nt,Tt,Be,qe,Ve,Mt,br="Scroll for zooming in and out.",Re,vt,Er="",Fe,ct,j,wt,ze,Bt,Pr=t[11]?.toLowerCase()+"",Oe,We,He,Ye,Ue,Ct,wr='<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represents modeled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic factors are using categorical values where x-axis is non-liner:  EPC, Tenure, Typology, Fuel type, Gas flag, Number of cars.</p>',Ge,Z,qt,Cr="Legend:",Ke,Xe,je,Xt,Ir="The scatter plots are shaded by nation.",Ze,J,Vt,jt,Qe,Je,Rt,Zt,$e,tr,Ft,Qt,er,rr,zt,Jt,nr,lr,Ot,It,St;e=new wn({});let V=t[4]&&Ur(t),R=t[6]&&Gr(t);function Sr(p,L){return p[4]>0?ml:pl}let ve=Sr(t),gt=ve(t);function kr(p,L){return p[4]>0?yl:_l}let ge=kr(t),pt=ge(t),$t=qr(Se),q=[];for(let p=0;p<$t.length;p+=1)q[p]=Xr(Yr(t,$t,p));return{c(){Pn(e.$$.fragment),r=y(),n=u("div"),i=u("div"),h=u("div"),s=u("div"),o=u("p"),o.textContent=m,E=y(),w=u("div"),v=u("h1"),b=u("img"),W=y(),H=k(t[11]),_t=y(),N=u("div"),I=u("div"),ut=k("National gain of "),B=u("br"),tt=y(),Y=u("strong"),T=k(t[11]),lt=y(),yt=u("br"),U=k(`
              in reaching NetZero `),z=u("br"),it=k(`
              by 2050 is: `),ht=u("br"),O=y(),V&&V.c(),K=y(),et=u("div"),bt=y(),rt=u("div"),se=y(),R&&R.c(),Ut=y(),st=u("div"),nt=u("div"),a=u("div"),A=u("h3"),C=k("Total "),X=u("span"),Gt=k(oe),ae=k(" (£k) to 2050"),dt=y(),gt.c(),Lt=y(),ot=u("div"),ot.innerHTML=P,G=y(),ce=u("br"),Kt=y(),Et=u("h3"),De=k("Distribution of "),xt=u("span"),Ae=k(_r),Le=k(" across UK data zones."),xe=y(),pt.c(),de=y(),Pt=u("div"),Pt.innerHTML=yr,Ne=y(),Te=u("br"),Me=y(),at=u("div"),Nt=u("h3"),Tt=u("span"),Be=k(t[11]),qe=k(" on a map of the UK"),Ve=y(),Mt=u("p"),Mt.textContent=br,Re=y(),vt=u("div"),vt.innerHTML=Er,Fe=y(),ct=u("div"),j=u("div"),wt=u("h3"),ze=k("Mapping the impact of "),Bt=u("span"),Oe=k(Pr),We=k(" across UK local authorities according to socio-economic factors"),He=y(),Ye=u("br"),Ue=y(),Ct=u("div"),Ct.innerHTML=wr,Ge=y(),Z=u("div"),qt=u("strong"),qt.textContent=Cr,Ke=y(),Xe=u("br"),je=y(),Xt=u("span"),Xt.textContent=Ir,Ze=y(),J=u("ul"),Vt=u("li"),jt=u("span"),Qe=k(`
                            Scotland`),Je=y(),Rt=u("li"),Zt=u("span"),$e=k(`
                            Northern Ireland`),tr=y(),Ft=u("li"),Qt=u("span"),er=k("England"),rr=y(),zt=u("li"),Jt=u("span"),nr=k("Wales"),lr=y(),Ot=u("div"),It=u("div");for(let p=0;p<q.length;p+=1)q[p].c();this.h()},l(p){En(e.$$.fragment,p),r=_(p),n=f(p,"DIV",{class:!0});var L=g(n);i=f(L,"DIV",{class:!0});var x=g(i);h=f(x,"DIV",{class:!0});var Wt=g(h);s=f(Wt,"DIV",{class:!0});var pe=g(s);o=f(pe,"P",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-1flv0v9"&&(o.textContent=m),E=_(pe),w=f(pe,"DIV",{class:!0});var Dr=g(w);v=f(Dr,"H1",{class:!0});var me=g(v);b=f(me,"IMG",{src:!0,alt:!0,class:!0}),W=_(me),H=S(me,t[11]),me.forEach(d),Dr.forEach(d),pe.forEach(d),_t=_(Wt),N=f(Wt,"DIV",{class:!0});var te=g(N);I=f(te,"DIV",{class:!0});var Q=g(I);ut=S(Q,"National gain of "),B=f(Q,"BR",{}),tt=_(Q),Y=f(Q,"STRONG",{style:!0});var Ar=g(Y);T=S(Ar,t[11]),Ar.forEach(d),lt=_(Q),yt=f(Q,"BR",{}),U=S(Q,`
              in reaching NetZero `),z=f(Q,"BR",{}),it=S(Q,`
              by 2050 is: `),ht=f(Q,"BR",{}),O=_(Q),V&&V.l(Q),Q.forEach(d),K=_(te),et=f(te,"DIV",{class:!0}),g(et).forEach(d),bt=_(te),rt=f(te,"DIV",{class:!0}),g(rt).forEach(d),te.forEach(d),Wt.forEach(d),x.forEach(d),se=_(L),R&&R.l(L),Ut=_(L),st=f(L,"DIV",{class:!0});var _e=g(st);nt=f(_e,"DIV",{id:!0,class:!0});var ye=g(nt);a=f(ye,"DIV",{class:!0});var F=g(a);A=f(F,"H3",{class:!0});var be=g(A);C=S(be,"Total "),X=f(be,"SPAN",{style:!0});var Lr=g(X);Gt=S(Lr,oe),Lr.forEach(d),ae=S(be," (£k) to 2050"),be.forEach(d),dt=_(F),gt.l(F),Lt=_(F),ot=f(F,"DIV",{class:!0,"data-svelte-h":!0}),$(ot)!=="svelte-l1ce0t"&&(ot.innerHTML=P),G=_(F),ce=f(F,"BR",{}),Kt=_(F),Et=f(F,"H3",{class:!0});var Ee=g(Et);De=S(Ee,"Distribution of "),xt=f(Ee,"SPAN",{style:!0});var xr=g(xt);Ae=S(xr,_r),xr.forEach(d),Le=S(Ee," across UK data zones."),Ee.forEach(d),xe=_(F),pt.l(F),de=_(F),Pt=f(F,"DIV",{class:!0,"data-svelte-h":!0}),$(Pt)!=="svelte-1xqwcwc"&&(Pt.innerHTML=yr),Ne=_(F),Te=f(F,"BR",{}),F.forEach(d),Me=_(ye),at=f(ye,"DIV",{class:!0});var ee=g(at);Nt=f(ee,"H3",{class:!0});var ir=g(Nt);Tt=f(ir,"SPAN",{style:!0});var Nr=g(Tt);Be=S(Nr,t[11]),Nr.forEach(d),qe=S(ir," on a map of the UK"),ir.forEach(d),Ve=_(ee),Mt=f(ee,"P",{class:!0,"data-svelte-h":!0}),$(Mt)!=="svelte-1ask2se"&&(Mt.textContent=br),Re=_(ee),vt=f(ee,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),$(vt)!=="svelte-ipahrb"&&(vt.innerHTML=Er),ee.forEach(d),ye.forEach(d),Fe=_(_e),ct=f(_e,"DIV",{id:!0,class:!0,style:!0});var Pe=g(ct);j=f(Pe,"DIV",{id:!0,class:!0});var kt=g(j);wt=f(kt,"H3",{class:!0});var we=g(wt);ze=S(we,"Mapping the impact of "),Bt=f(we,"SPAN",{style:!0});var Tr=g(Bt);Oe=S(Tr,Pr),Tr.forEach(d),We=S(we," across UK local authorities according to socio-economic factors"),we.forEach(d),He=_(kt),Ye=f(kt,"BR",{}),Ue=_(kt),Ct=f(kt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),$(Ct)!=="svelte-yfftza"&&(Ct.innerHTML=wr),Ge=_(kt),Z=f(kt,"DIV",{id:!0,class:!0});var Dt=g(Z);qt=f(Dt,"STRONG",{style:!0,"data-svelte-h":!0}),$(qt)!=="svelte-xb363n"&&(qt.textContent=Cr),Ke=_(Dt),Xe=f(Dt,"BR",{}),je=_(Dt),Xt=f(Dt,"SPAN",{"data-svelte-h":!0}),$(Xt)!=="svelte-ddxsq2"&&(Xt.textContent=Ir),Ze=_(Dt),J=f(Dt,"UL",{class:!0});var At=g(J);Vt=f(At,"LI",{class:!0});var sr=g(Vt);jt=f(sr,"SPAN",{class:!0,style:!0}),g(jt).forEach(d),Qe=S(sr,`
                            Scotland`),sr.forEach(d),Je=_(At),Rt=f(At,"LI",{class:!0});var or=g(Rt);Zt=f(or,"SPAN",{class:!0,style:!0}),g(Zt).forEach(d),$e=S(or,`
                            Northern Ireland`),or.forEach(d),tr=_(At),Ft=f(At,"LI",{class:!0});var ar=g(Ft);Qt=f(ar,"SPAN",{class:!0,style:!0}),g(Qt).forEach(d),er=S(ar,"England"),ar.forEach(d),rr=_(At),zt=f(At,"LI",{class:!0});var cr=g(zt);Jt=f(cr,"SPAN",{class:!0,style:!0}),g(Jt).forEach(d),nr=S(cr,"Wales"),cr.forEach(d),At.forEach(d),Dt.forEach(d),kt.forEach(d),lr=_(Pe),Ot=f(Pe,"DIV",{id:!0,class:!0});var Mr=g(Ot);It=f(Mr,"DIV",{id:!0,class:!0});var Br=g(It);for(let fr=0;fr<q.length;fr+=1)q[fr].l(Br);Br.forEach(d),Mr.forEach(d),Pe.forEach(d),_e.forEach(d),L.forEach(d),this.h()},h(){c(o,"class","page-subtitle svelte-56tlmx"),jr(b.src,D=t[12])||c(b,"src",D),c(b,"alt","Icon"),c(b,"class","heading-icon svelte-56tlmx"),c(v,"class","page-title svelte-56tlmx"),c(w,"class","title-container"),c(s,"class","header-text svelte-56tlmx"),mt(Y,"font-size","1.2rem"),c(I,"class","waffle-label svelte-56tlmx"),c(et,"class","waffle-el"),c(rt,"class","waffle-bg svelte-56tlmx"),c(N,"class","header-waffle-wrapper svelte-56tlmx"),c(h,"class","header-content svelte-56tlmx"),c(i,"class","section header svelte-56tlmx"),c(X,"style",t[9]),c(A,"class","component-title"),c(ot,"class","plot"),c(xt,"style",t[9]),c(Et,"class","component-title"),c(Pt,"class","plot"),c(a,"class","component singlevis"),c(Tt,"style",t[9]),c(Nt,"class","component-title"),c(Mt,"class","description svelte-56tlmx"),c(vt,"id","map"),c(vt,"class","svelte-56tlmx"),c(at,"class","component column"),c(nt,"id","vis-block"),c(nt,"class","svelte-56tlmx"),c(Bt,"style",t[9]),c(wt,"class","component-title"),c(Ct,"id","se-disclaimer"),c(Ct,"class","disclaimer-box svelte-56tlmx"),mt(qt,"margin-bottom","1rem"),c(jt,"class","legend-color svelte-56tlmx"),mt(jt,"background-color",M(t[10])[1]),c(Vt,"class","svelte-56tlmx"),c(Zt,"class","legend-color svelte-56tlmx"),mt(Zt,"background-color",M(t[10])[2]),c(Rt,"class","svelte-56tlmx"),c(Qt,"class","legend-color svelte-56tlmx"),mt(Qt,"background-color",M(t[10])[3]),c(Ft,"class","svelte-56tlmx"),c(Jt,"class","legend-color svelte-56tlmx"),mt(Jt,"background-color",M(t[10])[4]),c(zt,"class","svelte-56tlmx"),c(J,"class","legend-list svelte-56tlmx"),c(Z,"id","se-legend"),c(Z,"class","legend-box svelte-56tlmx"),c(j,"id","se-title"),c(j,"class","svelte-56tlmx"),c(It,"id","multiple-plots"),c(It,"class","svelte-56tlmx"),c(Ot,"id","multiple-comp"),c(Ot,"class","svelte-56tlmx"),c(ct,"id","se-block"),c(ct,"class","component svelte-56tlmx"),mt(ct,"margin-left","1rem"),c(st,"class","section"),c(n,"class","page-container")},m(p,L){bn(e,p,L),ft(p,r,L),ft(p,n,L),l(n,i),l(i,h),l(h,s),l(s,o),l(s,E),l(s,w),l(w,v),l(v,b),l(v,W),l(v,H),l(h,_t),l(h,N),l(N,I),l(I,ut),l(I,B),l(I,tt),l(I,Y),l(Y,T),l(I,lt),l(I,yt),l(I,U),l(I,z),l(I,it),l(I,ht),l(I,O),V&&V.m(I,null),l(N,K),l(N,et),t[17](et),l(N,bt),l(N,rt),t[18](rt),l(n,se),R&&R.m(n,null),l(n,Ut),l(n,st),l(st,nt),l(nt,a),l(a,A),l(A,C),l(A,X),l(X,Gt),l(A,ae),l(a,dt),gt.m(a,null),l(a,Lt),l(a,ot),t[19](ot),l(a,G),l(a,ce),l(a,Kt),l(a,Et),l(Et,De),l(Et,xt),l(xt,Ae),l(Et,Le),l(a,xe),pt.m(a,null),l(a,de),l(a,Pt),t[20](Pt),l(a,Ne),l(a,Te),l(nt,Me),l(nt,at),l(at,Nt),l(Nt,Tt),l(Tt,Be),l(Nt,qe),l(at,Ve),l(at,Mt),l(at,Re),l(at,vt),t[21](vt),l(st,Fe),l(st,ct),l(ct,j),l(j,wt),l(wt,ze),l(wt,Bt),l(Bt,Oe),l(wt,We),l(j,He),l(j,Ye),l(j,Ue),l(j,Ct),l(j,Ge),l(j,Z),l(Z,qt),l(Z,Ke),l(Z,Xe),l(Z,je),l(Z,Xt),l(Z,Ze),l(Z,J),l(J,Vt),l(Vt,jt),l(Vt,Qe),l(J,Je),l(J,Rt),l(Rt,Zt),l(Rt,$e),l(J,tr),l(J,Ft),l(Ft,Qt),l(Ft,er),l(J,rr),l(J,zt),l(zt,Jt),l(zt,nr),l(ct,lr),l(ct,Ot),l(Ot,It);for(let x=0;x<q.length;x+=1)q[x]&&q[x].m(It,null);t[23](n),St=!0},p(p,L){if(p[4]?V?V.p(p,L):(V=Ur(p),V.c(),V.m(I,null)):V&&(V.d(1),V=null),p[6]?R?R.p(p,L):(R=Gr(p),R.c(),R.m(n,Ut)):R&&(R.d(1),R=null),(!St||L[0]&512)&&c(X,"style",p[9]),ve!==(ve=Sr(p))&&(gt.d(1),gt=ve(p),gt&&(gt.c(),gt.m(a,Lt))),(!St||L[0]&512)&&c(xt,"style",p[9]),ge!==(ge=kr(p))&&(pt.d(1),pt=ge(p),pt&&(pt.c(),pt.m(a,de))),(!St||L[0]&512)&&c(Tt,"style",p[9]),(!St||L[0]&512)&&c(Bt,"style",p[9]),L[0]&2){$t=qr(Se);let x;for(x=0;x<$t.length;x+=1){const Wt=Yr(p,$t,x);q[x]?q[x].p(Wt,L):(q[x]=Xr(Wt),q[x].c(),q[x].m(It,null))}for(;x<q.length;x+=1)q[x].d(1);q.length=$t.length}},i(p){St||(yn(e.$$.fragment,p),St=!0)},o(p){_n(e.$$.fragment,p),St=!1},d(p){p&&(d(r),d(n)),mn(e,p),V&&V.d(),t[17](null),t[18](null),R&&R.d(),gt.d(),t[19](null),pt.d(),t[20](null),t[21](null),hn(q,p),t[23](null)}}}let re=400;function El(t,e,r){let n,i,h,s,o,m={},E="barchart",{data:w}=e;const v=w.coBenefit,b=Or.find(a=>a.id===v)?.label??v;let D,W,H,_t,N,I=!1,ut,B,tt;yt().then(()=>{ut=new Bn(W,"LAD",B,"total",!1,"LAD",!1),ut.initMap();let a=ut.legend();tt.append(a)});let Y=qn(v),T=!1;function lt(){const a=window.scrollY;r(6,T=a>250)}dn(()=>{window.addEventListener("scroll",lt)}),vn(()=>{window.removeEventListener("scroll",lt)});async function yt(){D=await Ce(On(v)),H=await Ce(Wn(v)),N=await Ce(Hn()),N=N.sort((a,A)=>A.total-a.total),console.log("coben waffle data",N),console.log("coben type",v),W=await Ce(Yn(v)),console.log(22,W),Se.forEach(a=>{H[a]=+H[a]}),r(4,_t=Tn(D,a=>a.total/1e3).toFixed(3)),r(15,I=!0)}let U,z;function it(a,A){if(!U)return;const C=20,X=15,oe=Math.floor(a/C),Gt=X*oe,ae=N.reduce((P,G)=>P+G.total,0),dt=[];for(const P of N){const G=Math.round(Math.abs(P.total)/ae*Gt),ce=P.total<0;for(let Kt=0;Kt<G;Kt++)dt.push({type:P.co_benefit_type,negative:ce})}for(;dt.length<Gt;)dt.push({type:"empty"});dt.sort((P,G)=>P.type==="empty"?1:G.type==="empty"?-1:P.negative&&!G.negative?1:!P.negative&&G.negative?-1:0);const Lt=dt.map((P,G)=>({x:G%X,y:Math.floor(G/X),...P})),ot=fe({width:C*X,height:C*oe,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:Or.map(P=>P.id),range:zn,unknown:"#eee",legend:!1},marks:[zr(Lt.filter(P=>!P.negative),{x:P=>P.x*C,y:P=>P.y*C,fill:"type",fillOpacity:P=>A&&P.type!==A?.15:1}),zr(Lt.filter(P=>P.negative),{x:P=>P.x*C,y:P=>P.y*C,stroke:"type",strokeOpacity:P=>A&&P.type!==A?.15:1,strokeWidth:1,fill:"none"})]});z&&(r(8,z.style.width=`${C*X}px`,z),r(8,z.style.height=`${a}px`,z)),r(7,U.innerHTML="",U),U.append(ot)}function ht(){s?.append(fe({height:re/1.2,...Fn,marginLeft:80,marginTop:40,marginRight:40,y:{label:"Datazones Frequency"},x:{label:"£/capita",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"18px"},marks:[Kn(W,Xn({y:"count"},{x:"total",fill:M(v)[0],tip:!0,fillOpacity:.5,stroke:M(v)[0],strokeWidth:3})),Fr({anchor:"left",label:"Datazone frequency",labelArrow:"none",labelAnchor:"center"}),hr([0])]}))}function O(){let a=D.flatMap(A=>Vn.map(C=>({time:C,value:A[C],total:A.total,scenario:A.scenario})));o?.append(fe({height:re/1.2,marginLeft:90,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"18px"},x:{type:"band",tickFormat:A=>A.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{label:"Cost Benefit £/Capita",grid:!0},marks:[en(a,Qr({y:"sum"},{x:"time",y:"value",fill:M(v)[0],tip:!0,fillOpacity:.8,insetLeft:15,insetRight:15})),Fr({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"})]}))}function K(){Se.forEach(a=>{let A;Rn.includes(a)?A=fe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:re/1.2,width:re,marginLeft:60,marginBottom:60,marginRight:10,marginTop:20,y:{label:"£/capita",labelArrow:"none"},color:{legend:!0},marks:[dr(W.filter(C=>C.SEFMAME==a),ul("middle",{fx:"SE",y:"total",r:1,padding:-2,fill:C=>C.LAD.startsWith("S")?M(v)[1]:C.LAD.startsWith("N")?M(v)[2]:C.LAD.startsWith("E")?M(v)[3]:M(v)[4]})),jn(W.filter(C=>C.SEFMAME==a),{fx:"SE",y:"total",stroke:M(v)[0],fill:M(v)[4],r:0,fillOpacity:.3}),Rr([0],{stroke:"#333",strokeWidth:.75})]}):A=fe({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:re/1.4,width:re/1.2,marginLeft:60,marginBottom:60,marginRight:20,marginTop:20,x:{label:null},y:{label:"£/capita",labelArrow:"none"},color:{legend:!0},marks:[dr(W.filter(C=>C.SEFMAME==a),{x:"SE",y:"total",fill:C=>C.LAD.startsWith("S")?M(v)[1]:C.LAD.startsWith("N")?M(v)[2]:C.LAD.startsWith("E")?M(v)[3]:M(v)[4],r:2,fillOpacity:1}),Rr([0],{stroke:"#333",strokeWidth:.75}),hr([0],{stroke:"#333",strokeWidth:.75})]}),m[a]?.append(A)})}function et(a){Ht[a?"unshift":"push"](()=>{U=a,r(7,U)})}function bt(a){Ht[a?"unshift":"push"](()=>{z=a,r(8,z)})}function rt(a){Ht[a?"unshift":"push"](()=>{o=a,r(0,o)})}function se(a){Ht[a?"unshift":"push"](()=>{s=a,r(3,s)})}function Ut(a){Ht[a?"unshift":"push"](()=>{B=a,r(5,B)})}function st(a,A){Ht[a?"unshift":"push"](()=>{m[A]=a,r(1,m)})}function nt(a){Ht[a?"unshift":"push"](()=>{h=a,r(2,h)})}return t.$$set=a=>{"data"in a&&r(13,w=a.data)},t.$$.update=()=>{t.$$.dirty[0]&49155&&(o?.firstChild?.remove(),Object.values(m).forEach(a=>{a.firstChild?.remove()}),I&&(ht(),O(),K(),it(300,v))),t.$$.dirty[0]&65536&&r(9,i=`color: ${n}; font-weight: bold; font-size: 22px;`)},r(16,n=M(v)[0]),[o,m,h,s,_t,B,T,U,z,i,v,b,Y,w,E,I,n,et,bt,rt,se,Ut,st,nt]}class Tl extends gn{constructor(e){super(),pn(this,e,El,bl,un,{data:13},null,[-1,-1])}}export{Tl as component};
