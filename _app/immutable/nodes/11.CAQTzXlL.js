import{s as qn,d as g,v as Wn,w as a,i as ve,b as i,B as Hn,F as At,g as y,c as f,e as v,p as ot,f as D,j as _,h as c,t as C,r as zn,a as xn,A as Ot}from"../chunks/DsiPdP4J.js";import{S as Xn,i as Yn,d as Un,t as Gn,a as jn,m as Kn,c as Zn,b as Qn}from"../chunks/BBJTKZ5Q.js";import{N as Jn,e as An}from"../chunks/DBMomcd4.js";import"../chunks/DRyxMU8n.js";import{O as $n,P as tr,Q as Nn,R as er,S as nr,o as rr,T as In,p as ir,U as sr,H as te,V as he,N as Sn,W as wn,X as lr,Y as Dn}from"../chunks/B-csFKs7.js";import{g as or,M as ar}from"../chunks/gr-j2Mee.js";import{a as q,S as pe,g as fr,T as cr,b as ur,M as hr,c as dr,C as gr}from"../chunks/CY_g8wcW.js";import{g as de,l as vr,m as pr,k as mr,n as yr}from"../chunks/BddKlxjk.js";import{d as Cn}from"../chunks/BKccPpJD.js";import{a as _r}from"../chunks/Dg6gmsLM.js";import{a as br,b as Er}from"../chunks/FuHNd5id.js";function Pr(t,e,n,r,s){for(var u=s+1;r<=s;){var l=r+s>>>1,o=t[l],b=n!==void 0?n(o,e):o-e;b>=0?(u=l,s=l-1):r=l+1}return u}function Ar(t,e,n,r,s){for(var u=s+1;r<=s;){var l=r+s>>>1,o=t[l],b=n!==void 0?n(o,e):o-e;b>0?(u=l,s=l-1):r=l+1}return u}function Ir(t,e,n,r,s){for(var u=r-1;r<=s;){var l=r+s>>>1,o=t[l],b=n!==void 0?n(o,e):o-e;b<0?(u=l,r=l+1):s=l-1}return u}function Sr(t,e,n,r,s){for(var u=r-1;r<=s;){var l=r+s>>>1,o=t[l],b=n!==void 0?n(o,e):o-e;b<=0?(u=l,r=l+1):s=l-1}return u}function wr(t,e,n,r,s){for(;r<=s;){var u=r+s>>>1,l=t[u],o=n!==void 0?n(l,e):l-e;if(o===0)return u;o<=0?r=u+1:s=u-1}return-1}function ee(t,e,n,r,s,u){return typeof n=="function"?u(t,e,n,r===void 0?0:r|0,s===void 0?t.length-1:s|0):u(t,e,void 0,n===void 0?0:n|0,r===void 0?t.length-1:r|0)}var Dr={ge:function(t,e,n,r,s){return ee(t,e,n,r,s,Pr)},gt:function(t,e,n,r,s){return ee(t,e,n,r,s,Ar)},lt:function(t,e,n,r,s){return ee(t,e,n,r,s,Ir)},le:function(t,e,n,r,s){return ee(t,e,n,r,s,Sr)},eq:function(t,e,n,r,s){return ee(t,e,n,r,s,wr)}},me=Dr,Kt=0,Vt=1,ge=2,Cr=kr;function sn(t,e,n,r,s){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=s,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var ne=sn.prototype;function nn(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function Rn(t,e){var n=Zt(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function Ln(t,e){var n=t.intervals([]);n.push(e),Rn(t,n)}function kn(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?Kt:(n.splice(r,1),Rn(t,n),Vt)}ne.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};ne.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Ln(this,t):this.left.insert(t):this.left=Zt([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Ln(this,t):this.right.insert(t):this.right=Zt([t]);else{var n=me.ge(this.leftPoints,t,ln),r=me.ge(this.rightPoints,t,on);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}};ne.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return Kt;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return kn(this,t);var r=this.left.remove(t);return r===ge?(this.left=null,this.count-=1,Vt):(r===Vt&&(this.count-=1),r)}else if(t[0]>this.mid){if(!this.right)return Kt;var s=this.left?this.left.count:0;if(4*s>3*(e-1))return kn(this,t);var r=this.right.remove(t);return r===ge?(this.right=null,this.count-=1,Vt):(r===Vt&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===t?ge:Kt;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var u=this,l=this.left;l.right;)u=l,l=l.right;if(u===this)l.right=this.right;else{var o=this.left,r=this.right;u.count-=l.count,u.right=l.left,l.left=o,l.right=r}nn(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?nn(this,this.left):nn(this,this.right);return Vt}for(var o=me.ge(this.leftPoints,t,ln);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(var r=me.ge(this.rightPoints,t,on);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),Vt}return Kt}};function On(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var s=n(t[r]);if(s)return s}}function Vn(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var s=n(t[r]);if(s)return s}}function Fn(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}ne.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return On(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return Vn(this.rightPoints,t,e)}else return Fn(this.leftPoints,e)};ne.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,e,n);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(t,e,n);if(r)return r}return e<this.mid?On(this.leftPoints,e,n):t>this.mid?Vn(this.rightPoints,t,n):Fn(this.leftPoints,n)};function Lr(t,e){return t-e}function ln(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function on(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function Zt(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(Lr);for(var r=e[e.length>>1],s=[],u=[],l=[],n=0;n<t.length;++n){var o=t[n];o[1]<r?s.push(o):r<o[0]?u.push(o):l.push(o)}var b=l,W=l.slice();return b.sort(ln),W.sort(on),new sn(r,Zt(s),Zt(u),b,W)}function rn(t){this.root=t}var Qt=rn.prototype;Qt.insert=function(t){this.root?this.root.insert(t):this.root=new sn(t[0],null,null,[t],[t])};Qt.remove=function(t){if(this.root){var e=this.root.remove(t);return e===ge&&(this.root=null),e!==Kt}return!1};Qt.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};Qt.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)};Object.defineProperty(Qt,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Qt,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function kr(t){return!t||t.length===0?new rn(null):new rn(Zt(t))}const Tr=or(Cr),Mr=({marginLeft:t})=>[1,t],Br=({width:t,marginRight:e})=>[-1,t-e],Nr=({width:t,marginLeft:e,marginRight:n})=>[0,(e+t-n)/2];function Rr(t){return typeof t=="string"?{anchor:t}:t}function Or(t={},e={}){arguments.length===1&&([t,e]=Vr(t));let{anchor:n="left",padding:r=1,r:s=e.r}=Rr(t);switch(`${n}`.toLowerCase()){case"left":n=Mr;break;case"right":n=Br;break;case"middle":n=Nr;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return Fr("x","y",n,Nn(r),s,e)}function Vr(t){const{anchor:e,padding:n,...r}=t,{r:s}=r;return[{anchor:e,padding:n,r:s},r]}function Fr(t,e,n,r,s,u){if(s!=null&&typeof s!="number"){let{channels:l,sort:o,reverse:b}=u;l=$n(l),l?.r===void 0&&(u={...u,channels:{...l,r:{value:s,scale:"r"}}}),o===void 0&&b===void 0&&(u.sort={channel:"-r"})}return tr(u,function(l,o,b,W,V,p){let{[e]:P,r:S}=b;if(!b[e])throw new Error(`missing channel: ${e}`);({[e]:P}=er(b,W,p));const $=S?void 0:s!==void 0?Nn(s):this.r!==void 0?this.r:3;S&&(S=nr(S.value,W[S.scale]||rr,Float64Array));let[x,K]=n(V);const M=x?Wr:qr,A=new Float64Array(P.length),tt=S?H=>S[H]:()=>$;for(let H of o){const Z=Tr();H=H.filter(S?w=>In(P[w])&&ir(S[w]):w=>In(P[w]));const z=new Float64Array(2*H.length+2);for(const w of H){const B=tt(w),ut=x?B+r:0,ht=P[w]-B,dt=P[w]+B;let et=2;Z.queryInterval(ht-r,dt+r,([,,F])=>{const X=A[F]-ut,Q=P[w]-P[F],gt=r+(S?S[w]+S[F]:2*$),J=Math.sqrt(gt*gt-Q*Q);z[et++]=X-J,z[et++]=X+J});let at=z.slice(0,et);x&&(at=at.filter(F=>F>=0));t:for(const F of at.sort(M)){for(let X=0;X<et;X+=2)if(z[X]+1e-6<F&&F<z[X+1]-1e-6)continue t;A[w]=F+ut;break}Z.insert([ht,dt,w])}}x||(x=1);for(const H of o)for(const Z of H)A[Z]=A[Z]*x+K;return{data:l,facets:o,channels:{[t]:{value:A,source:null},[e]:{value:P,source:b[e]},...S&&{r:{value:S,source:b.r}}}}})}function qr(t,e){return Math.abs(t)-Math.abs(e)}function Wr(t,e){return t-e}function Tn(t,e,n){const r=t.slice();return r[35]=e[n],r[36]=e,r[37]=n,r}function Mn(t){let e,n,r=t[4].toLocaleString()+"",s,u;return{c(){e=c("strong"),n=C("£"),s=C(r),u=C(" billion"),this.h()},l(l){e=f(l,"STRONG",{style:!0});var o=v(e);n=D(o,"£"),s=D(o,r),u=D(o," billion"),o.forEach(g),this.h()},h(){At(e,"font-size","1.1rem")},m(l,o){ve(l,e,o),i(e,n),i(e,s),i(e,u)},p(l,o){o[0]&16&&r!==(r=l[4].toLocaleString()+"")&&xn(s,r)},d(l){l&&g(e)}}}function Bn(t){let e,n,r=t[35].replaceAll("_"," ")+"",s,u,l,o=t[35],b;const W=()=>t[20](l,o),V=()=>t[20](null,o);return{c(){e=c("div"),n=c("h3"),s=C(r),u=_(),l=c("div"),b=_(),this.h()},l(p){e=f(p,"DIV",{class:!0});var P=v(e);n=f(P,"H3",{class:!0,style:!0});var S=v(n);s=D(S,r),S.forEach(g),u=y(P),l=f(P,"DIV",{class:!0}),v(l).forEach(g),b=y(P),P.forEach(g),this.h()},h(){a(n,"class","component-title"),At(n,"text-align","center"),a(l,"class","plot"),a(e,"class","plot-container")},m(p,P){ve(p,e,P),i(e,n),i(n,s),i(e,u),i(e,l),W(),i(e,b)},p(p,P){t=p,o!==t[35]&&(V(),o=t[35],W())},d(p){p&&g(e),V()}}}function Hr(t){let e,n,r,s,u,l,o,b="Co-Benefit Report",W,V,p,P,S,$,x,K,M,A,tt,H,Z,z,w,B,ut,ht,dt,et,at,F,X,Q,gt,J,Jt,h,I,d,Y,nt,Ft,$t,ft,rt,re="The total? cost benefit per capita for each 5 year interval.",E,k,ie="",qt,ye,_e,vt,be,It,Ee,Pe,Ae,St,an="The total cost benefit per capita for each LSOA.",Ie,pt,fn="",Se,we,De,it,wt,Dt,Ce,Le,ke,Ct,cn="Scroll for zooming in and out.",Te,ct,un="",Me,st,U,mt,Be,Lt,Ne,Re,Oe,Ve,Fe,yt,hn="<strong>Disclaimer:</strong> This map represents modeled associations and should not be interpreted as direct causal relationships.",qe,G,kt,dn="Legend:",We,He,ze,Wt,gn="The scatter plots are shaded by nations.",xe,lt,Tt,Ht,Xe,Ye,Mt,zt,Ue,Ge,Bt,xt,je,Ke,Nt,_t,bt;e=new Jn({});let N=t[4]&&Mn(t),Xt=An(pe),T=[];for(let m=0;m<Xt.length;m+=1)T[m]=Bn(Tn(t,Xt,m));return{c(){Qn(e.$$.fragment),n=_(),r=c("div"),s=c("div"),u=c("div"),l=c("div"),o=c("p"),o.textContent=b,W=_(),V=c("div"),p=c("h1"),P=c("img"),$=_(),x=C(t[9]),K=_(),M=c("div"),A=c("div"),tt=C("National gain of "),H=c("br"),Z=_(),z=c("strong"),w=C(t[9]),B=_(),ut=c("br"),ht=C(`
              in reaching NetZero `),dt=c("br"),et=C(`
              by 2050 is: `),at=c("br"),F=_(),N&&N.c(),X=_(),Q=c("div"),gt=_(),J=c("div"),Jt=_(),h=c("div"),I=c("div"),d=c("div"),Y=c("h3"),nt=c("span"),Ft=C(t[9]),$t=C(" Total Cost Benefit Over Time"),ft=_(),rt=c("p"),rt.textContent=re,E=_(),k=c("div"),k.innerHTML=ie,qt=_(),ye=c("br"),_e=_(),vt=c("h3"),be=C("Distribution of "),It=c("span"),Ee=C(t[9]),Pe=C(` Total Cost
                    Benefit by LSOA`),Ae=_(),St=c("p"),St.textContent=an,Ie=_(),pt=c("div"),pt.innerHTML=fn,Se=_(),we=c("br"),De=_(),it=c("div"),wt=c("h3"),Dt=c("span"),Ce=C(t[9]),Le=C(" on UK Map"),ke=_(),Ct=c("p"),Ct.textContent=cn,Te=_(),ct=c("div"),ct.innerHTML=un,Me=_(),st=c("div"),U=c("div"),mt=c("h3"),Be=C("Mapping the impact of "),Lt=c("span"),Ne=C(t[9]),Re=C(" across UK local authorities acorrding to socio-economic factors"),Oe=_(),Ve=c("br"),Fe=_(),yt=c("div"),yt.innerHTML=hn,qe=_(),G=c("div"),kt=c("strong"),kt.textContent=dn,We=_(),He=c("br"),ze=_(),Wt=c("span"),Wt.textContent=gn,xe=_(),lt=c("ul"),Tt=c("li"),Ht=c("span"),Xe=C(`
                            Scotland`),Ye=_(),Mt=c("li"),zt=c("span"),Ue=C(`
                            Northern Ireland`),Ge=_(),Bt=c("li"),xt=c("span"),je=C("England/Wales"),Ke=_(),Nt=c("div"),_t=c("div");for(let m=0;m<T.length;m+=1)T[m].c();this.h()},l(m){Zn(e.$$.fragment,m),n=y(m),r=f(m,"DIV",{class:!0});var R=v(r);s=f(R,"DIV",{class:!0});var L=v(s);u=f(L,"DIV",{class:!0});var Rt=v(u);l=f(Rt,"DIV",{class:!0});var se=v(l);o=f(se,"P",{class:!0,"data-svelte-h":!0}),ot(o)!=="svelte-1flv0v9"&&(o.textContent=b),W=y(se),V=f(se,"DIV",{class:!0});var vn=v(V);p=f(vn,"H1",{class:!0});var le=v(p);P=f(le,"IMG",{src:!0,alt:!0,class:!0}),$=y(le),x=D(le,t[9]),le.forEach(g),vn.forEach(g),se.forEach(g),K=y(Rt),M=f(Rt,"DIV",{class:!0});var Yt=v(M);A=f(Yt,"DIV",{class:!0});var j=v(A);tt=D(j,"National gain of "),H=f(j,"BR",{}),Z=y(j),z=f(j,"STRONG",{style:!0});var pn=v(z);w=D(pn,t[9]),pn.forEach(g),B=y(j),ut=f(j,"BR",{}),ht=D(j,`
              in reaching NetZero `),dt=f(j,"BR",{}),et=D(j,`
              by 2050 is: `),at=f(j,"BR",{}),F=y(j),N&&N.l(j),j.forEach(g),X=y(Yt),Q=f(Yt,"DIV",{class:!0}),v(Q).forEach(g),gt=y(Yt),J=f(Yt,"DIV",{class:!0}),v(J).forEach(g),Yt.forEach(g),Rt.forEach(g),L.forEach(g),Jt=y(R),h=f(R,"DIV",{class:!0});var oe=v(h);I=f(oe,"DIV",{id:!0,class:!0});var ae=v(I);d=f(ae,"DIV",{class:!0});var O=v(d);Y=f(O,"H3",{class:!0});var Ze=v(Y);nt=f(Ze,"SPAN",{style:!0});var mn=v(nt);Ft=D(mn,t[9]),mn.forEach(g),$t=D(Ze," Total Cost Benefit Over Time"),Ze.forEach(g),ft=y(O),rt=f(O,"P",{class:!0,"data-svelte-h":!0}),ot(rt)!=="svelte-p4didb"&&(rt.textContent=re),E=y(O),k=f(O,"DIV",{class:!0,"data-svelte-h":!0}),ot(k)!=="svelte-l1ce0t"&&(k.innerHTML=ie),qt=y(O),ye=f(O,"BR",{}),_e=y(O),vt=f(O,"H3",{class:!0});var fe=v(vt);be=D(fe,"Distribution of "),It=f(fe,"SPAN",{style:!0});var yn=v(It);Ee=D(yn,t[9]),yn.forEach(g),Pe=D(fe,` Total Cost
                    Benefit by LSOA`),fe.forEach(g),Ae=y(O),St=f(O,"P",{class:!0,"data-svelte-h":!0}),ot(St)!=="svelte-ae39jc"&&(St.textContent=an),Ie=y(O),pt=f(O,"DIV",{class:!0,"data-svelte-h":!0}),ot(pt)!=="svelte-1xqwcwc"&&(pt.innerHTML=fn),Se=y(O),we=f(O,"BR",{}),O.forEach(g),De=y(ae),it=f(ae,"DIV",{class:!0});var Ut=v(it);wt=f(Ut,"H3",{class:!0});var Qe=v(wt);Dt=f(Qe,"SPAN",{style:!0});var _n=v(Dt);Ce=D(_n,t[9]),_n.forEach(g),Le=D(Qe," on UK Map"),Qe.forEach(g),ke=y(Ut),Ct=f(Ut,"P",{class:!0,"data-svelte-h":!0}),ot(Ct)!=="svelte-1ask2se"&&(Ct.textContent=cn),Te=y(Ut),ct=f(Ut,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),ot(ct)!=="svelte-ipahrb"&&(ct.innerHTML=un),Ut.forEach(g),ae.forEach(g),Me=y(oe),st=f(oe,"DIV",{id:!0,class:!0,style:!0});var ce=v(st);U=f(ce,"DIV",{id:!0,class:!0});var Et=v(U);mt=f(Et,"H3",{class:!0});var ue=v(mt);Be=D(ue,"Mapping the impact of "),Lt=f(ue,"SPAN",{style:!0});var bn=v(Lt);Ne=D(bn,t[9]),bn.forEach(g),Re=D(ue," across UK local authorities acorrding to socio-economic factors"),ue.forEach(g),Oe=y(Et),Ve=f(Et,"BR",{}),Fe=y(Et),yt=f(Et,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),ot(yt)!=="svelte-vn28w0"&&(yt.innerHTML=hn),qe=y(Et),G=f(Et,"DIV",{id:!0,class:!0});var Pt=v(G);kt=f(Pt,"STRONG",{style:!0,"data-svelte-h":!0}),ot(kt)!=="svelte-xb363n"&&(kt.textContent=dn),We=y(Pt),He=f(Pt,"BR",{}),ze=y(Pt),Wt=f(Pt,"SPAN",{"data-svelte-h":!0}),ot(Wt)!=="svelte-gtsn9"&&(Wt.textContent=gn),xe=y(Pt),lt=f(Pt,"UL",{class:!0});var Gt=v(lt);Tt=f(Gt,"LI",{class:!0});var Je=v(Tt);Ht=f(Je,"SPAN",{class:!0,style:!0}),v(Ht).forEach(g),Xe=D(Je,`
                            Scotland`),Je.forEach(g),Ye=y(Gt),Mt=f(Gt,"LI",{class:!0});var $e=v(Mt);zt=f($e,"SPAN",{class:!0,style:!0}),v(zt).forEach(g),Ue=D($e,`
                            Northern Ireland`),$e.forEach(g),Ge=y(Gt),Bt=f(Gt,"LI",{class:!0});var tn=v(Bt);xt=f(tn,"SPAN",{class:!0,style:!0}),v(xt).forEach(g),je=D(tn,"England/Wales"),tn.forEach(g),Gt.forEach(g),Pt.forEach(g),Et.forEach(g),Ke=y(ce),Nt=f(ce,"DIV",{id:!0,class:!0});var En=v(Nt);_t=f(En,"DIV",{id:!0,class:!0});var Pn=v(_t);for(let en=0;en<T.length;en+=1)T[en].l(Pn);Pn.forEach(g),En.forEach(g),ce.forEach(g),oe.forEach(g),R.forEach(g),this.h()},h(){a(o,"class","page-subtitle svelte-gnyyc8"),Hn(P.src,S=t[10])||a(P,"src",S),a(P,"alt","Icon"),a(P,"class","heading-icon svelte-gnyyc8"),a(p,"class","page-title svelte-gnyyc8"),a(V,"class","title-container"),a(l,"class","header-text svelte-gnyyc8"),At(z,"font-size","1.2rem"),a(A,"class","waffle-label svelte-gnyyc8"),a(Q,"class","waffle-el"),a(J,"class","waffle-bg svelte-gnyyc8"),a(M,"class","header-waffle-wrapper svelte-gnyyc8"),a(u,"class","header-content svelte-gnyyc8"),a(s,"class","section header svelte-gnyyc8"),a(nt,"style",t[8]),a(Y,"class","component-title"),a(rt,"class","description svelte-gnyyc8"),a(k,"class","plot"),a(It,"style",t[8]),a(vt,"class","component-title"),a(St,"class","description svelte-gnyyc8"),a(pt,"class","plot"),a(d,"class","component singlevis"),a(Dt,"style",t[8]),a(wt,"class","component-title"),a(Ct,"class","description svelte-gnyyc8"),a(ct,"id","map"),a(ct,"class","svelte-gnyyc8"),a(it,"class","component column"),a(I,"id","vis-block"),a(I,"class","svelte-gnyyc8"),a(Lt,"style",t[8]),a(mt,"class","component-title"),a(yt,"id","se-disclaimer"),a(yt,"class","disclaimer-box svelte-gnyyc8"),At(kt,"margin-bottom","1rem"),a(Ht,"class","legend-color svelte-gnyyc8"),At(Ht,"background-color",q(t[9])[1]),a(Tt,"class","svelte-gnyyc8"),a(zt,"class","legend-color svelte-gnyyc8"),At(zt,"background-color",q(t[9])[2]),a(Mt,"class","svelte-gnyyc8"),a(xt,"class","legend-color svelte-gnyyc8"),At(xt,"background-color",q(t[9])[3]),a(Bt,"class","svelte-gnyyc8"),a(lt,"class","legend-list svelte-gnyyc8"),a(G,"id","se-legend"),a(G,"class","legend-box svelte-gnyyc8"),a(U,"id","se-title"),a(U,"class","svelte-gnyyc8"),a(_t,"id","multiple-plots"),a(_t,"class","svelte-gnyyc8"),a(Nt,"id","multiple-comp"),a(Nt,"class","svelte-gnyyc8"),a(st,"id","se-block"),a(st,"class","component svelte-gnyyc8"),At(st,"margin-left","1rem"),a(h,"class","section"),a(r,"class","page-container")},m(m,R){Kn(e,m,R),ve(m,n,R),ve(m,r,R),i(r,s),i(s,u),i(u,l),i(l,o),i(l,W),i(l,V),i(V,p),i(p,P),i(p,$),i(p,x),i(u,K),i(u,M),i(M,A),i(A,tt),i(A,H),i(A,Z),i(A,z),i(z,w),i(A,B),i(A,ut),i(A,ht),i(A,dt),i(A,et),i(A,at),i(A,F),N&&N.m(A,null),i(M,X),i(M,Q),t[15](Q),i(M,gt),i(M,J),t[16](J),i(r,Jt),i(r,h),i(h,I),i(I,d),i(d,Y),i(Y,nt),i(nt,Ft),i(Y,$t),i(d,ft),i(d,rt),i(d,E),i(d,k),t[17](k),i(d,qt),i(d,ye),i(d,_e),i(d,vt),i(vt,be),i(vt,It),i(It,Ee),i(vt,Pe),i(d,Ae),i(d,St),i(d,Ie),i(d,pt),t[18](pt),i(d,Se),i(d,we),i(I,De),i(I,it),i(it,wt),i(wt,Dt),i(Dt,Ce),i(wt,Le),i(it,ke),i(it,Ct),i(it,Te),i(it,ct),t[19](ct),i(h,Me),i(h,st),i(st,U),i(U,mt),i(mt,Be),i(mt,Lt),i(Lt,Ne),i(mt,Re),i(U,Oe),i(U,Ve),i(U,Fe),i(U,yt),i(U,qe),i(U,G),i(G,kt),i(G,We),i(G,He),i(G,ze),i(G,Wt),i(G,xe),i(G,lt),i(lt,Tt),i(Tt,Ht),i(Tt,Xe),i(lt,Ye),i(lt,Mt),i(Mt,zt),i(Mt,Ue),i(lt,Ge),i(lt,Bt),i(Bt,xt),i(Bt,je),i(st,Ke),i(st,Nt),i(Nt,_t);for(let L=0;L<T.length;L+=1)T[L]&&T[L].m(_t,null);t[21](r),bt=!0},p(m,R){if(m[4]?N?N.p(m,R):(N=Mn(m),N.c(),N.m(A,null)):N&&(N.d(1),N=null),(!bt||R[0]&256)&&a(nt,"style",m[8]),(!bt||R[0]&256)&&a(It,"style",m[8]),(!bt||R[0]&256)&&a(Dt,"style",m[8]),(!bt||R[0]&256)&&a(Lt,"style",m[8]),R[0]&2){Xt=An(pe);let L;for(L=0;L<Xt.length;L+=1){const Rt=Tn(m,Xt,L);T[L]?T[L].p(Rt,R):(T[L]=Bn(Rt),T[L].c(),T[L].m(_t,null))}for(;L<T.length;L+=1)T[L].d(1);T.length=Xt.length}},i(m){bt||(jn(e.$$.fragment,m),bt=!0)},o(m){Gn(e.$$.fragment,m),bt=!1},d(m){m&&(g(n),g(r)),Un(e,m),N&&N.d(),t[15](null),t[16](null),t[17](null),t[18](null),t[19](null),Wn(T,m),t[21](null)}}}let jt=400;function zr(t,e,n){let r,s,u,l,o,b={},W="barchart",{data:V}=e;const p=V.coBenefit;let P,S,$,x,K,M=!1,A,tt,H;z().then(()=>{A=new ar(S,"LAD",tt,"total",!1,"LAD"),A.initMap();let h=A.legend();H.append(h)});let Z=fr(p);zn(()=>{});async function z(){P=await de(vr(p)),$=await de(pr(p)),K=await de(mr()),K=K.sort((h,I)=>I.total-h.total),console.log("coben waffle data",K),console.log("coben type",p),S=await de(yr(p)),console.log(22,S),pe.forEach(h=>{$[h]=+$[h]}),n(4,x=sr(P,h=>h.total/1e3).toFixed(1)),n(13,M=!0)}let w,B;function ut(h,I){if(!w)return;const d=20,Y=15,nt=Math.floor(h/d),Ft=Y*nt,$t=K.reduce((E,k)=>E+k.total,0),ft=[];for(const E of K){const k=Math.round(Math.abs(E.total)/$t*Ft),ie=E.total<0;for(let qt=0;qt<k;qt++)ft.push({type:E.co_benefit_type,negative:ie})}for(;ft.length<Ft;)ft.push({type:"empty"});ft.sort((E,k)=>E.type==="empty"?1:k.type==="empty"?-1:E.negative&&!k.negative?1:!E.negative&&k.negative?-1:0);const rt=ft.map((E,k)=>({x:k%Y,y:Math.floor(k/Y),...E})),re=te({width:d*Y,height:d*nt,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:gr,range:dr,unknown:"#eee",legend:!1},marks:[Dn(rt.filter(E=>!E.negative),{x:E=>E.x*d,y:E=>E.y*d,fill:"type",fillOpacity:E=>I&&E.type!==I?.15:1}),Dn(rt.filter(E=>E.negative),{x:E=>E.x*d,y:E=>E.y*d,stroke:"type",strokeOpacity:E=>I&&E.type!==I?.15:1,strokeWidth:1,fill:"none"})]});B&&(n(7,B.style.width=`${d*Y}px`,B),n(7,B.style.height=`${h}px`,B)),n(6,w.innerHTML="",w),w.append(re)}function ht(){l?.append(te({height:jt/1.2,...hr,marginLeft:80,marginTop:40,marginRight:40,y:{label:"Datazones Frequency"},x:{label:"£/capita",labelArrow:"none",labelAnchor:"center"},style:{fontSize:"18px"},marks:[br(S,Er({y:"count"},{x:"total",fill:q(p)[0],tip:!0,fillOpacity:.5,stroke:q(p)[0],strokeWidth:3})),he({anchor:"left",label:"Datazone frequency",labelArrow:"none",labelAnchor:"center"}),wn([0])]}))}function dt(){let h=P.flatMap(I=>cr.map(d=>({time:d,value:I[d],total:I.total,scenario:I.scenario})));o?.append(te({height:jt/1.2,marginLeft:80,marginRight:40,marginBottom:60,marginTop:40,style:{fontSize:"18px"},x:{type:"band",tickFormat:I=>I.replace(/^Y/,"").replace("_","-"),label:"Year Intervals"},y:{label:"Cost Benefit £/Capita",grid:!0},marks:[_r(h,lr({y:"sum"},{x:"time",y:"value",fill:q(p)[0],tip:!0,fillOpacity:.8,insetLeft:15,insetRight:15})),he({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"})]}))}function et(){pe.forEach(h=>{let I;ur.includes(h)?I=te({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:jt/1.2,width:jt,marginLeft:80,marginBottom:60,marginRight:10,marginTop:20,color:{legend:!0},marks:[Cn(S.filter(d=>d.SEFMAME==h),Or("middle",{fx:"SE",y:"total",r:1.5,padding:-2,fill:d=>d.LAD.startsWith("S")?q(p)[1]:d.LAD.startsWith("N")?q(p)[2]:d.LAD.startsWith("E")?q(p)[3]:q(p)[4]})),he({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"}),Sn([0],{stroke:"#333",strokeWidth:.75})]}):I=te({style:{fontSize:"14px",textAnchor:"middle",fill:"#333"},height:jt/1.4,width:jt/1.2,marginLeft:80,marginBottom:60,marginRight:20,marginTop:20,x:{label:null},y:{},color:{legend:!0},marks:[Cn(S.filter(d=>d.SEFMAME==h),{x:"SE",y:"total",fill:d=>d.LAD.startsWith("S")?q(p)[1]:d.LAD.startsWith("N")?q(p)[2]:d.LAD.startsWith("E")?q(p)[3]:q(p)[4],r:2,fillOpacity:1}),he({anchor:"left",grid:!0,label:"£/capita",labelArrow:"none",labelAnchor:"center"}),Sn([0],{stroke:"#333",strokeWidth:.75}),wn([0],{stroke:"#333",strokeWidth:.75})]}),b[h]?.append(I)})}function at(h){Ot[h?"unshift":"push"](()=>{w=h,n(6,w)})}function F(h){Ot[h?"unshift":"push"](()=>{B=h,n(7,B)})}function X(h){Ot[h?"unshift":"push"](()=>{o=h,n(0,o)})}function Q(h){Ot[h?"unshift":"push"](()=>{l=h,n(3,l)})}function gt(h){Ot[h?"unshift":"push"](()=>{tt=h,n(5,tt)})}function J(h,I){Ot[h?"unshift":"push"](()=>{b[I]=h,n(1,b)})}function Jt(h){Ot[h?"unshift":"push"](()=>{u=h,n(2,u)})}return t.$$set=h=>{"data"in h&&n(11,V=h.data)},t.$$.update=()=>{t.$$.dirty[0]&12291&&(o?.firstChild?.remove(),Object.values(b).forEach(h=>{h.firstChild?.remove()}),M&&(ht(),dt(),et(),ut(300,p))),t.$$.dirty[0]&16384&&n(8,s=`color: ${r}; font-weight: bold; font-size: 22px;`)},n(14,r=q(p)[0]),[o,b,u,l,x,tt,w,B,s,p,Z,V,W,M,r,at,F,X,Q,gt,J,Jt]}class ti extends Xn{constructor(e){super(),Yn(this,e,zr,Hr,qn,{data:11},null,[-1,-1])}}export{ti as component};
