import{s as ua,a as w,e as u,t as T,g as A,c as f,b as z,p as Y,d as S,f as y,q as c,B as ql,i as ye,h as l,y as xt,j as tt,w as fa,z as da,v as ha,V as xn,W as In,A as Qe}from"../chunks/scheduler.B9T0ItC_.js";import{S as va,i as pa,c as ma,b as ga,m as ba,t as ya,a as _a,d as Ca}from"../chunks/index.BVM93j1J.js";import{N as Ea,e as Tn}from"../chunks/NavigationBar.Dr7XlQLH.js";import"../chunks/transform.Cxf8x_5z.js";import{am as za,al as Qn,an as Jn,a4 as Gt,i as wa,a as Aa,M as $n,H as ea,Q as Da,l as ta,n as la,d as na,ao as ka,o as aa,ap as La,aq as Ma,S as sa,T as Zt,q as xa,B as Ia,a9 as Ta,aa as Sa,ar as Va,as as Pa,F as Ba,P as Na,at as oa,Y as ln,Z as Fa,au as Ha,a3 as Ra,ac as ra,av as Oa,U as De,a6 as Se,ae as ke,ad as Sn,aw as Vn,X as Pn,V as Bn,ax as ja}from"../chunks/index.CqwntdJ0.js";import{M as Ua,a as Wa}from"../chunks/map.DkxRPIdY.js";import{S as tn,V as ia,A as $e,C as Nn,h as Ya,r as Ga,M as Je,c as Xl,f as Za,b as Kl,i as qa,j as Xa,T as Ql,e as Ka}from"../chunks/globals.DVxIEOX4.js";import{g as Le,q as Fn,r as Qa,d as Hn,s as Ja,t as Rn,u as $a,v as es}from"../chunks/duckdb.DPH-CMG7.js";import{b as Jl,a as it}from"../chunks/bar.DhIxBOxy.js";import{a as ts,d as ls}from"../chunks/map.DwrK_CFQ.js";import{t as ns,e as as,m as ss,a as On,s as os,b as $l,d as jn}from"../chunks/area.BIxGMRa7.js";const rs=is(cs);function is(e){return function(t,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:s,width:o,height:r}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((r=Math.floor(r!==void 0?r:s.length/o))>=0))throw new RangeError("invalid height");if(!o||!r||!n&&!a)return t;const p=n&&e(n),g=a&&e(a),i=s.slice();return p&&g?(kt(p,i,s,o,r),kt(p,s,i,o,r),kt(p,i,s,o,r),Lt(g,s,i,o,r),Lt(g,i,s,o,r),Lt(g,s,i,o,r)):p?(kt(p,s,i,o,r),kt(p,i,s,o,r),kt(p,s,i,o,r)):g&&(Lt(g,s,i,o,r),Lt(g,i,s,o,r),Lt(g,s,i,o,r)),t}}function kt(e,t,n,a,s){for(let o=0,r=a*s;o<r;)e(t,n,o,o+=a,1)}function Lt(e,t,n,a,s){for(let o=0,r=a*s;o<a;++o)e(t,n,o,o+r,a)}function cs(e){const t=Math.floor(e);if(t===e)return us(e);const n=e-t,a=2*e+1;return(s,o,r,p,g)=>{if(!((p-=g)>=r))return;let i=t*o[r];const h=g*t,_=h+g;for(let v=r,C=r+h;v<C;v+=g)i+=o[Math.min(p,v)];for(let v=r,C=p;v<=C;v+=g)i+=o[Math.min(p,v+h)],s[v]=(i+n*(o[Math.max(r,v-_)]+o[Math.min(p,v+_)]))/a,i-=o[Math.max(r,v-h)]}}function us(e){const t=2*e+1;return(n,a,s,o,r)=>{if(!((o-=r)>=s))return;let p=e*a[s];const g=r*e;for(let i=s,h=s+g;i<h;i+=r)p+=a[Math.min(o,i)];for(let i=s,h=o;i<=h;i+=r)p+=a[Math.min(o,i+g)],n[i]=p/t,p-=a[Math.max(s,i-g)]}}function fs(e,t,n){let a;for(;;){const s=za(e,t,n);if(s===a||s===0||!isFinite(s))return[e,t];s>0?(e=Math.floor(e/s)*s,t=Math.ceil(t/s)*s):s<0&&(e=Math.ceil(e*s)/s,t=Math.floor(t*s)/s),a=s}}var ds=Array.prototype,ca=ds.slice;function hs(e,t){return e-t}function vs(e){for(var t=0,n=e.length,a=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)a+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return a}const et=e=>()=>e;function ps(e,t){for(var n=-1,a=t.length,s;++n<a;)if(s=ms(e,t[n]))return s;return 0}function ms(e,t){for(var n=t[0],a=t[1],s=-1,o=0,r=e.length,p=r-1;o<r;p=o++){var g=e[o],i=g[0],h=g[1],_=e[p],v=_[0],C=_[1];if(gs(g,_,t))return 0;h>a!=C>a&&n<(v-i)*(a-h)/(C-h)+i&&(s=-s)}return s}function gs(e,t,n){var a;return bs(e,t,n)&&ys(e[a=+(e[0]===t[0])],n[a],t[a])}function bs(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function ys(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function _s(){}var Ve=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Un(){var e=1,t=1,n=ns,a=g;function s(i){var h=n(i);if(Array.isArray(h))h=h.slice().sort(hs);else{const _=Qn(i,Cs);for(h=Jn(...fs(_[0],_[1],h),h);h[h.length-1]>=_[1];)h.pop();for(;h[1]<_[0];)h.shift()}return h.map(_=>o(i,_))}function o(i,h){const _=h==null?NaN:+h;if(isNaN(_))throw new Error(`invalid value: ${h}`);var v=[],C=[];return r(i,_,function(D){a(D,i,_),vs(D)>0?v.push([D]):C.push(D)}),C.forEach(function(D){for(var L=0,b=v.length,k;L<b;++L)if(ps((k=v[L])[0],D)!==-1){k.push(D);return}}),{type:"MultiPolygon",value:h,coordinates:v}}function r(i,h,_){var v=new Array,C=new Array,D,L,b,k,d,I;for(D=L=-1,k=ct(i[0],h),Ve[k<<1].forEach(M);++D<e-1;)b=k,k=ct(i[D+1],h),Ve[b|k<<1].forEach(M);for(Ve[k<<0].forEach(M);++L<t-1;){for(D=-1,k=ct(i[L*e+e],h),d=ct(i[L*e],h),Ve[k<<1|d<<2].forEach(M);++D<e-1;)b=k,k=ct(i[L*e+e+D+1],h),I=d,d=ct(i[L*e+D+1],h),Ve[b|k<<1|d<<2|I<<3].forEach(M);Ve[k|d<<3].forEach(M)}for(D=-1,d=i[L*e]>=h,Ve[d<<2].forEach(M);++D<e-1;)I=d,d=ct(i[L*e+D+1],h),Ve[d<<2|I<<3].forEach(M);Ve[d<<3].forEach(M);function M(N){var P=[N[0][0]+D,N[0][1]+L],x=[N[1][0]+D,N[1][1]+L],V=p(P),U=p(x),E,O;(E=C[V])?(O=v[U])?(delete C[E.end],delete v[O.start],E===O?(E.ring.push(x),_(E.ring)):v[E.start]=C[O.end]={start:E.start,end:O.end,ring:E.ring.concat(O.ring)}):(delete C[E.end],E.ring.push(x),C[E.end=U]=E):(E=v[U])?(O=C[V])?(delete v[E.start],delete C[O.end],E===O?(E.ring.push(x),_(E.ring)):v[O.start]=C[E.end]={start:O.start,end:E.end,ring:O.ring.concat(E.ring)}):(delete v[E.start],E.ring.unshift(P),v[E.start=V]=E):v[V]=C[U]={start:V,end:U,ring:[P,x]}}}function p(i){return i[0]*2+i[1]*(e+1)*4}function g(i,h,_){i.forEach(function(v){var C=v[0],D=v[1],L=C|0,b=D|0,k=en(h[b*e+L]);C>0&&C<e&&L===C&&(v[0]=Wn(C,en(h[b*e+L-1]),k,_)),D>0&&D<t&&b===D&&(v[1]=Wn(D,en(h[(b-1)*e+L]),k,_))})}return s.contour=o,s.size=function(i){if(!arguments.length)return[e,t];var h=Math.floor(i[0]),_=Math.floor(i[1]);if(!(h>=0&&_>=0))throw new Error("invalid size");return e=h,t=_,s},s.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?et(ca.call(i)):et(i),s):n},s.smooth=function(i){return arguments.length?(a=i?g:_s,s):a===g},s}function Cs(e){return isFinite(e)?e:NaN}function ct(e,t){return e==null?!1:+e>=t}function en(e){return e==null||isNaN(e=+e)?-1/0:e}function Wn(e,t,n,a){const s=a-t,o=n-t,r=isFinite(s)||isFinite(o)?s/o:Math.sign(s)/Math.sign(o);return isNaN(r)?e:e+r-.5}function Es(e){return e[0]}function zs(e){return e[1]}function ws(){return 1}function As(){var e=Es,t=zs,n=ws,a=960,s=500,o=20,r=2,p=o*3,g=a+p*2>>r,i=s+p*2>>r,h=et(20);function _(d){var I=new Float32Array(g*i),M=Math.pow(2,-r),N=-1;for(const B of d){var P=(e(B,++N,d)+p)*M,x=(t(B,N,d)+p)*M,V=+n(B,N,d);if(V&&P>=0&&P<g&&x>=0&&x<i){var U=Math.floor(P),E=Math.floor(x),O=P-U-.5,G=x-E-.5;I[U+E*g]+=(1-O)*(1-G)*V,I[U+1+E*g]+=O*(1-G)*V,I[U+1+(E+1)*g]+=O*G*V,I[U+(E+1)*g]+=(1-O)*G*V}}return rs({data:I,width:g,height:i},o*M),I}function v(d){var I=_(d),M=h(I),N=Math.pow(2,2*r);return Array.isArray(M)||(M=Jn(Number.MIN_VALUE,Gt(I)/N,M)),Un().size([g,i]).thresholds(M.map(P=>P*N))(I).map((P,x)=>(P.value=+M[x],C(P)))}v.contours=function(d){var I=_(d),M=Un().size([g,i]),N=Math.pow(2,2*r),P=x=>{x=+x;var V=C(M.contour(I,x*N));return V.value=x,V};return Object.defineProperty(P,"max",{get:()=>Gt(I)/N}),P};function C(d){return d.coordinates.forEach(D),d}function D(d){d.forEach(L)}function L(d){d.forEach(b)}function b(d){d[0]=d[0]*Math.pow(2,r)-p,d[1]=d[1]*Math.pow(2,r)-p}function k(){return p=o*3,g=a+p*2>>r,i=s+p*2>>r,v}return v.x=function(d){return arguments.length?(e=typeof d=="function"?d:et(+d),v):e},v.y=function(d){return arguments.length?(t=typeof d=="function"?d:et(+d),v):t},v.weight=function(d){return arguments.length?(n=typeof d=="function"?d:et(+d),v):n},v.size=function(d){if(!arguments.length)return[a,s];var I=+d[0],M=+d[1];if(!(I>=0&&M>=0))throw new Error("invalid size");return a=I,s=M,k()},v.cellSize=function(d){if(!arguments.length)return 1<<r;if(!((d=+d)>=1))throw new Error("invalid cell size");return r=Math.floor(Math.log(d)/Math.LN2),k()},v.thresholds=function(d){return arguments.length?(h=typeof d=="function"?d:Array.isArray(d)?et(ca.call(d)):et(d),v):h},v.bandwidth=function(d){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((d=+d)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*d*d+1)-1)/2,k()},v}const Ds={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ks extends $n{constructor(t,n={}){const{x:a,y:s,z:o,curve:r,tension:p}=n;super(t,{x:{value:a,scale:"x"},y:{value:s,scale:"y"},z:{value:ea(n),optional:!0}},n,Ds),this.z=o,this.curve=ss(r,p),Da(this,n)}filter(t){return t}project(t,n,a){this.curve!==On&&super.project(t,n,a)}render(t,n,a,s,o){const{x:r,y:p}=a,{curve:g}=this;return ta("svg:g",o).call(la,this,s,o).call(na,this,n).call(i=>i.selectAll().data(ka(t,[r,p],this,a)).enter().append("path").call(aa,this).call(La,this,a).call(Ma,this,a,o).attr("d",g===On&&o.projection?Ls(o.projection,r,p):os().curve(g).defined(h=>h>=0).x(h=>r[h]).y(h=>p[h]))).node()}}function Ls(e,t,n){const a=sa(e);return t=Zt(t),n=Zt(n),s=>{let o=[];const r=[o];for(const p of s)p===-1?(o=[],r.push(o)):o.push([t[p],n[p]]);return a({type:"MultiLineString",coordinates:r})}}function Ms(e,{x:t=wa,y:n=Aa,...a}={}){return new ks(e,as({...a,x:t,y:n}))}const xs={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Is extends $n{constructor(t,{x:n,y:a,z:s,weight:o,fill:r,stroke:p,...g}={}){const i=Yn(r)&&(r="currentColor",!0),h=Yn(p)&&(p="currentColor",!0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:ea({z:s,fill:r,stroke:p}),optional:!0},weight:{value:o,optional:!0}},Vs({...g,fill:r,stroke:p},i,h),xs),i&&(this.fill=void 0),h&&(this.stroke=void 0),this.z=s}filter(t){return t}render(t,n,a,s,o){const{contours:r}=a,p=sa();return ta("svg:g",o).call(la,this,s,o).call(na,this,{}).call(g=>g.selectAll().data(t).enter().append("path").call(aa,this).call(xa,this,a).attr("d",i=>p(r[i]))).node()}}function Ts(e,{x:t,y:n,...a}={}){return[t,n]=Ia(t,n),new Is(e,{...a,x:t,y:n})}const Ss=new Set(["x","y","z","weight"]);function Vs(e,t,n){let{bandwidth:s,thresholds:o}=e;return s=s===void 0?20:+s,o=o===void 0?20:typeof o?.[Symbol.iterator]=="function"?Zt(o):+o,Ta(e,function(r,p,g,i,h,_){const v=g.weight?Zt(g.weight.value):null,C=g.z?.value,{z:D}=this,[L,b]=Ba(this,h),{width:k,height:d}=h,{x:I,y:M}=Sa(g,i,_),N=Object.fromEntries(Object.entries(g).filter(([B])=>!Ss.has(B)).map(([B,H])=>[B,{...H,value:[]}])),P=t&&[],x=n&&[],V=As().x(I?B=>I[B]:L).y(M?B=>M[B]:b).weight(v?B=>v[B]:1).size([k,d]).bandwidth(s),U=[];for(const B of p){const H=[];U.push(H);for(const W of C?Va(B,C,D):[B]){const q=V.contours(W);H.push([W,q])}}let E=o;if(!(E instanceof Pa)){let B=0;for(const H of U)for(const[,W]of H){const q=W.max;q>B&&(B=q)}E=Float64Array.from({length:o-1},(H,W)=>B*100*(W+1)/o)}const O=[],G=[];for(const B of U){const H=[];O.push(H);for(const[W,q]of B)for(const ae of E){H.push(G.length),G.push(q(ae/100)),P&&P.push(ae),x&&x.push(ae);for(const $ in N)N[$].value.push(g[$].value[W[0]])}}return P&&P.push(0),x&&x.push(0),{data:r,facets:O,channels:{...N,...P&&{fill:{value:P,scale:"color"}},...x&&{stroke:{value:x,scale:"color"}},contours:{value:G}}}})}function Yn(e){return/^density$/i.test(e)}function Gn(e,t){return arguments.length===1&&({basis:e,...t}=e),ts(Ps(e),t)}function Ps(e){if(e===void 0)return Zn;if(typeof e=="function")return qt(Na(e));if(/^p\d{2}$/i.test(e))return Mt(Oa(e));switch(`${e}`.toLowerCase()){case"deviation":return Fs;case"first":return Zn;case"last":return Ns;case"max":return Hs;case"mean":return Rs;case"median":return Os;case"min":return js;case"sum":return Us;case"extent":return Bs}throw new Error(`invalid basis: ${e}`)}function qt(e){return{mapIndex(t,n,a){const s=+e(t,n);for(const o of t)a[o]=n[o]===null?NaN:n[o]/s}}}function Mt(e){return qt((t,n)=>e(t,a=>n[a]))}const Bs={mapIndex(e,t,n){const[a,s]=Qn(e,r=>t[r]),o=s-a;for(const r of e)n[r]=t[r]===null?NaN:(t[r]-a)/o}},Zn=qt((e,t)=>{for(let n=0;n<e.length;++n){const a=t[e[n]];if(oa(a))return a}}),Ns=qt((e,t)=>{for(let n=e.length-1;n>=0;--n){const a=t[e[n]];if(oa(a))return a}}),Fs={mapIndex(e,t,n){const a=ln(e,o=>t[o]),s=Fa(e,o=>t[o]);for(const o of e)n[o]=t[o]===null?NaN:s?(t[o]-a)/s:0}},Hs=Mt(Gt),Rs=Mt(ln),Os=Mt(Ha),js=Mt(Ra),Us=Mt(ra);function qn(e,t,n){const a=e.slice();return a[47]=t[n],a[48]=t,a[49]=n,a}function Xn(e){let t,n,a,s,o=e[13](e[7],e[9])+"",r,p,g,i=e[7].toLocaleString()+"",h,_,v,C="billion",D,L,b,k,d,I=e[13](e[7],1e6)+"",M,N,P,x=e[8].toLocaleString()+"",V,U,E,O="thousand",G;function B(j,F){return j[7]>0?Ys:Ws}let H=B(e),W=H(e);function q(j,F){return j[7]>0?Zs:Gs}let ae=q(e),$=ae(e);return{c(){t=u("div"),n=u("div"),a=u("div"),s=new xn(!1),r=w(),p=u("span"),g=T("£"),h=T(i),_=w(),v=u("span"),v.textContent=C,D=w(),W.c(),L=w(),b=u("div"),k=u("div"),d=new xn(!1),M=w(),N=u("span"),P=T("£"),V=T(x),U=w(),E=u("span"),E.textContent=O,G=w(),$.c(),this.h()},l(j){t=f(j,"DIV",{class:!0});var F=z(t);n=f(F,"DIV",{class:!0});var X=z(n);a=f(X,"DIV",{class:!0});var K=z(a);s=In(K,!1),r=A(K),p=f(K,"SPAN",{class:!0});var ge=z(p);g=S(ge,"£"),h=S(ge,i),ge.forEach(y),_=A(K),v=f(K,"SPAN",{class:!0,"data-svelte-h":!0}),Y(v)!=="svelte-tlhydp"&&(v.textContent=C),K.forEach(y),D=A(X),W.l(X),X.forEach(y),L=A(F),b=f(F,"DIV",{class:!0});var oe=z(b);k=f(oe,"DIV",{class:!0});var ee=z(k);d=In(ee,!1),M=A(ee),N=f(ee,"SPAN",{class:!0});var ie=z(N);P=S(ie,"£"),V=S(ie,x),ie.forEach(y),U=A(ee),E=f(ee,"SPAN",{class:!0,"data-svelte-h":!0}),Y(E)!=="svelte-ewwwhc"&&(E.textContent=O),ee.forEach(y),G=A(oe),$.l(oe),oe.forEach(y),F.forEach(y),this.h()},h(){s.a=r,c(p,"class","waffle-big svelte-u02o4z"),c(v,"class","small svelte-u02o4z"),c(a,"class","waffle-value svelte-u02o4z"),c(n,"class","waffle-stat svelte-u02o4z"),d.a=M,c(N,"class","waffle-big svelte-u02o4z"),c(E,"class","small svelte-u02o4z"),c(k,"class","waffle-value svelte-u02o4z"),c(b,"class","waffle-stat svelte-u02o4z"),c(t,"class","waffle-stats")},m(j,F){ye(j,t,F),l(t,n),l(n,a),s.m(o,a),l(a,r),l(a,p),l(p,g),l(p,h),l(a,_),l(a,v),l(n,D),W.m(n,null),l(t,L),l(t,b),l(b,k),d.m(I,k),l(k,M),l(k,N),l(N,P),l(N,V),l(k,U),l(k,E),l(b,G),$.m(b,null)},p(j,F){F[0]&640&&o!==(o=j[13](j[7],j[9])+"")&&s.p(o),F[0]&128&&i!==(i=j[7].toLocaleString()+"")&&tt(h,i),H!==(H=B(j))&&(W.d(1),W=H(j),W&&(W.c(),W.m(n,null))),F[0]&128&&I!==(I=j[13](j[7],1e6)+"")&&d.p(I),F[0]&256&&x!==(x=j[8].toLocaleString()+"")&&tt(V,x),ae!==(ae=q(j))&&($.d(1),$=ae(j),$&&($.c(),$.m(b,null)))},d(j){j&&y(t),W.d(),$.d()}}}function Ws(e){let t,n="Local area costs";return{c(){t=u("div"),t.textContent=n,this.h()},l(a){t=f(a,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-mnkeh9"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){ye(a,t,s)},d(a){a&&y(t)}}}function Ys(e){let t,n="Local area benefits";return{c(){t=u("div"),t.textContent=n,this.h()},l(a){t=f(a,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-bu718d"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){ye(a,t,s)},d(a){a&&y(t)}}}function Gs(e){let t,n="Per capita costs";return{c(){t=u("div"),t.textContent=n,this.h()},l(a){t=f(a,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-6pmcl0"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){ye(a,t,s)},d(a){a&&y(t)}}}function Zs(e){let t,n="Per capita benefits";return{c(){t=u("div"),t.textContent=n,this.h()},l(a){t=f(a,"DIV",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-g1rvwk"&&(t.textContent=n),this.h()},h(){c(t,"class","waffle-caption svelte-u02o4z")},m(a,s){ye(a,t,s)},d(a){a&&y(t)}}}function qs(e){let t,n,a,s,o,r,p,g,i=`The histogram shows the number of data zones distributed across
                                    different household social economic factors.`,h,_,v="",C=e[47],D,L,b,k,d,I=e[47].replaceAll("_"," ")+"",M,N,P,x,V,U=e[12][e[11]]+"",E,O,G,B,H,W="";const q=()=>e[26](_,C),ae=()=>e[26](null,C),$=()=>e[27](H,C),j=()=>e[27](null,C);return{c(){t=u("div"),n=u("h3"),a=T("Data Zones Distribution (vs. "),s=u("span"),o=T(e[6]),r=T(" average)"),p=w(),g=u("p"),g.textContent=i,h=w(),_=u("div"),_.innerHTML=v,D=w(),L=u("div"),b=u("div"),k=u("h3"),d=T("Co-benefits Recieved by Data Zones across "),M=T(I),N=T(`
                                        Values`),P=w(),x=u("p"),V=T(`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in `),E=T(U),O=T("."),G=w(),B=u("div"),H=u("div"),H.innerHTML=W,this.h()},l(F){t=f(F,"DIV",{class:!0});var X=z(t);n=f(X,"H3",{class:!0});var K=z(n);a=S(K,"Data Zones Distribution (vs. "),s=f(K,"SPAN",{class:!0});var ge=z(s);o=S(ge,e[6]),ge.forEach(y),r=S(K," average)"),K.forEach(y),p=A(X),g=f(X,"P",{class:!0,"data-svelte-h":!0}),Y(g)!=="svelte-113heo4"&&(g.textContent=i),h=A(X),_=f(X,"DIV",{class:!0,"data-svelte-h":!0}),Y(_)!=="svelte-1shkadq"&&(_.innerHTML=v),X.forEach(y),D=A(F),L=f(F,"DIV",{class:!0});var oe=z(L);b=f(oe,"DIV",{});var ee=z(b);k=f(ee,"H3",{class:!0});var ie=z(k);d=S(ie,"Co-benefits Recieved by Data Zones across "),M=S(ie,I),N=S(ie,`
                                        Values`),ie.forEach(y),P=A(ee),x=f(ee,"P",{class:!0});var re=z(x);V=S(re,`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in `),E=S(re,U),O=S(re,"."),re.forEach(y),ee.forEach(y),G=A(oe),B=f(oe,"DIV",{});var m=z(B);H=f(m,"DIV",{class:!0,"data-svelte-h":!0}),Y(H)!=="svelte-1vji5u3"&&(H.innerHTML=W),m.forEach(y),oe.forEach(y),this.h()},h(){c(s,"class","nation-label svelte-u02o4z"),c(n,"class","component-title"),c(g,"class","description short"),c(_,"class","plot"),c(t,"class","component"),c(k,"class","component-title"),c(x,"class","description short"),c(H,"class","plot"),c(L,"class","component")},m(F,X){ye(F,t,X),l(t,n),l(n,a),l(n,s),l(s,o),l(n,r),l(t,p),l(t,g),l(t,h),l(t,_),q(),ye(F,D,X),ye(F,L,X),l(L,b),l(b,k),l(k,d),l(k,M),l(k,N),l(b,P),l(b,x),l(x,V),l(x,E),l(x,O),l(L,G),l(L,B),l(B,H),$()},p(F,X){e=F,X[0]&64&&tt(o,e[6]),C!==e[47]&&(ae(),C=e[47],q()),C!==e[47]&&(j(),C=e[47],$())},d(F){F&&(y(t),y(D),y(L)),ae(),j()}}}function Kn(e){let t,n,a=e[47].replaceAll("_"," ")+"",s,o,r,p;function g(_,v){return qs}let h=g()(e);return{c(){t=u("div"),n=u("h2"),s=T(a),o=w(),r=u("div"),h.c(),p=w(),this.h()},l(_){t=f(_,"DIV",{});var v=z(t);n=f(v,"H2",{});var C=z(n);s=S(C,a),C.forEach(y),o=A(v),r=f(v,"DIV",{class:!0});var D=z(r);h.l(D),D.forEach(y),p=A(v),v.forEach(y),this.h()},h(){c(r,"class","row")},m(_,v){ye(_,t,v),l(t,n),l(n,s),l(t,o),l(t,r),h.m(r,null),l(t,p)},p(_,v){h.p(_,v)},d(_){_&&y(t),h.d()}}}function Xs(e){let t,n,a,s,o,r,p="Data Report",g,i,h=e[12][e[11]]+"",_,v,C,D="Explore how this local authority will benefit from achieving Net Zero and learn about the characteristics of its households.",L,b,k,d,I,M,N="UK",P,x,V,U,E,O="England",G,B,H,W,q,ae="Wales",$,j,F,X,K,ge="Scotland",oe,ee,ie,re,m="Northern Ireland",Q,ce,Me,de,xe,le=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s 
                Sixth Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ue,he,ve,Be,Xt,ft,It,Kt,Qt,_e,Jt,nn=e[12][e[11]]+"",$t,el,dt,Tt,tl,ll,Ne,an="",nl,pe,Fe,al,sn=e[12][e[11]]+"",sl,ol,rl,lt,on=e[12][e[11]]+"",il,cl,ul,nt,rn="*Scroll for zooming in and out",fl,Ie,cn="",dl,Ce,at,un='<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of co-benefits.</p>',hl,me,He,vl,ht,St,pl,ml,Ee,gl,fn=e[12][e[11]]+"",bl,yl,vt,Vt,_l,Cl,El,zl,ze,Re,pt,wl,dn=e[12][e[11]]+"",Al,Dl,Oe,mt,kl,gt,Pt,Ll,bt,je,hn="",Ml,we,fe,Ue,xl,vn=e[12][e[11]]+"",Il,Tl,Sl,Vl,Pl,We,pn=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <span>The stacked area plot is coloured by co-benefit:</span> <br/><br/> <ul class="legend-list svelte-u02o4z"><li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #D3A029"></span>
                        Diet change</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #48773E"></span>
                        Physical activity</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #183668"></span>
                        Dampness</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #00AED9"></span>
                        Excess cold</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #E11484"></span>
                        Noise</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #71C35D"></span>
                        Air quality</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #8F1838"></span>
                        Congestion</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #EF402B"></span>
                        Excess heat</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #F36D25"></span>
                        Road safety</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #F99D26"></span>
                        Road repairs</li> <li class="svelte-u02o4z"><span class="legend-color svelte-u02o4z" style="background-color: #C31F33"></span>
                        Hassle costs</li></ul>`,Bl,Ye,mn=`<p style="margin: 0 0 0.5rem 0;"><strong>Some areas too small:</strong> Due to the nature of the co-benefits some values are very small in comparison 
                    to larger values so therefore are not visable on this plot.</p> <p style="margin: 0 0 0.5rem 0;">*Hover over areas for more information.</p>`,Nl,yt,Fl,Ge,Ae,st,gn="Households",Hl,ot,bn=e[12][e[11]]+"",Rl,Ol,jl,rt,yn=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.`,Ul,Ze,Te,Wl,_n;t=new Ea({});let se=e[7]&&Xn(e),_t=Tn(tn),ne=[];for(let R=0;R<_t.length;R+=1)ne[R]=Kn(qn(e,_t,R));return{c(){ma(t.$$.fragment),n=w(),a=u("div"),s=u("div"),o=u("div"),r=u("p"),r.textContent=p,g=w(),i=u("h1"),_=T(h),v=w(),C=u("p"),C.textContent=D,L=w(),b=u("div"),k=T(`Compare this Local Authority District (LAD) against:
                `),d=u("input"),I=w(),M=u("label"),M.textContent=N,P=u("br"),x=w(),V=u("input"),U=w(),E=u("label"),E.textContent=O,G=u("br"),B=w(),H=u("input"),W=w(),q=u("label"),q.textContent=ae,$=u("br"),j=w(),F=u("input"),X=w(),K=u("label"),K.textContent=ge,oe=w(),ee=u("input"),ie=w(),re=u("label"),re.textContent=m,Q=w(),ce=u("div"),se&&se.c(),Me=w(),de=u("div"),xe=u("div"),xe.innerHTML=le,ue=w(),he=u("div"),ve=u("div"),Be=u("h3"),Xt=T("11 types of co-benefit values (vs. "),ft=u("span"),It=T(e[6]),Kt=T(" Average)"),Qt=w(),_e=u("p"),Jt=T("Co-benefit values for "),$t=T(nn),el=T(` compared to average value of benefits recieved across all local 
                    authorities in `),dt=u("span"),Tt=T(e[6]),tl=T(" (grey)."),ll=w(),Ne=u("div"),Ne.innerHTML=an,nl=w(),pe=u("div"),Fe=u("h3"),al=T("Where is "),sl=T(sn),ol=T("?"),rl=w(),lt=u("p"),il=T(on),cl=T(" has been highlighted in red on this UK map."),ul=w(),nt=u("p"),nt.textContent=rn,fl=w(),Ie=u("div"),Ie.innerHTML=cn,dl=w(),Ce=u("div"),at=u("div"),at.innerHTML=un,hl=w(),me=u("div"),He=u("h3"),vl=T("Total co-benefit distribution from 2025-2049 (vs. "),ht=u("span"),St=T(e[6]),pl=T(" Average)"),ml=w(),Ee=u("p"),gl=T("Aggregated values from 2025-2049 in "),bl=T(fn),yl=T(" compared to average value of benefits recieved across all local authorities in "),vt=u("span"),Vt=T(e[6]),_l=T("."),Cl=w(),El=u("br"),zl=w(),ze=u("ul"),Re=u("li"),pt=u("span"),wl=w(),Al=T(dn),Dl=w(),Oe=u("li"),mt=u("span"),kl=w(),gt=u("span"),Pt=T(e[6]),Ll=w(),bt=u("div"),je=u("div"),je.innerHTML=hn,Ml=w(),we=u("div"),fe=u("div"),Ue=u("h3"),xl=T("Co-benefit gain/loss for "),Il=T(vn),Tl=T(" over 5 year intervals"),Sl=w(),Vl=u("br"),Pl=w(),We=u("div"),We.innerHTML=pn,Bl=w(),Ye=u("div"),Ye.innerHTML=mn,Nl=w(),yt=u("div"),Fl=w(),Ge=u("div"),Ae=u("div"),st=u("p"),st.textContent=gn,Hl=w(),ot=u("h2"),Rl=T(bn),Ol=T(" social-economic factors"),jl=w(),rt=u("p"),rt.textContent=yn,Ul=w(),Ze=u("div");for(let R=0;R<ne.length;R+=1)ne[R].c();this.h()},l(R){ga(t.$$.fragment,R),n=A(R),a=f(R,"DIV",{class:!0});var te=z(a);s=f(te,"DIV",{class:!0});var J=z(s);o=f(J,"DIV",{});var be=z(o);r=f(be,"P",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1gxb8h1"&&(r.textContent=p),g=A(be),i=f(be,"H1",{class:!0});var Cn=z(i);_=S(Cn,h),Cn.forEach(y),v=A(be),C=f(be,"P",{class:!0,"data-svelte-h":!0}),Y(C)!=="svelte-1ibp7y6"&&(C.textContent=D),L=A(be),b=f(be,"DIV",{class:!0});var Z=z(b);k=S(Z,`Compare this Local Authority District (LAD) against:
                `),d=f(Z,"INPUT",{type:!0,name:!0}),I=A(Z),M=f(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(M)!=="svelte-1yhxhao"&&(M.textContent=N),P=f(Z,"BR",{}),x=A(Z),V=f(Z,"INPUT",{type:!0,name:!0}),U=A(Z),E=f(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(E)!=="svelte-11zyrfp"&&(E.textContent=O),G=f(Z,"BR",{}),B=A(Z),H=f(Z,"INPUT",{type:!0,name:!0}),W=A(Z),q=f(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(q)!=="svelte-18hrmu4"&&(q.textContent=ae),$=f(Z,"BR",{}),j=A(Z),F=f(Z,"INPUT",{type:!0,name:!0}),X=A(Z),K=f(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(K)!=="svelte-16xf1ji"&&(K.textContent=ge),oe=A(Z),ee=f(Z,"INPUT",{type:!0,name:!0}),ie=A(Z),re=f(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(re)!=="svelte-g19yfx"&&(re.textContent=m),Z.forEach(y),be.forEach(y),Q=A(J),ce=f(J,"DIV",{});var En=z(ce);se&&se.l(En),En.forEach(y),J.forEach(y),Me=A(te),de=f(te,"DIV",{class:!0});var Bt=z(de);xe=f(Bt,"DIV",{class:!0,"data-svelte-h":!0}),Y(xe)!=="svelte-1v0ngpc"&&(xe.innerHTML=le),ue=A(Bt),he=f(Bt,"DIV",{id:!0,class:!0});var Nt=z(he);ve=f(Nt,"DIV",{class:!0});var Ct=z(ve);Be=f(Ct,"H3",{class:!0});var Ft=z(Be);Xt=S(Ft,"11 types of co-benefit values (vs. "),ft=f(Ft,"SPAN",{class:!0});var zn=z(ft);It=S(zn,e[6]),zn.forEach(y),Kt=S(Ft," Average)"),Ft.forEach(y),Qt=A(Ct),_e=f(Ct,"P",{class:!0});var Et=z(_e);Jt=S(Et,"Co-benefit values for "),$t=S(Et,nn),el=S(Et,` compared to average value of benefits recieved across all local 
                    authorities in `),dt=f(Et,"SPAN",{class:!0});var wn=z(dt);Tt=S(wn,e[6]),wn.forEach(y),tl=S(Et," (grey)."),Et.forEach(y),ll=A(Ct),Ne=f(Ct,"DIV",{class:!0,"data-svelte-h":!0}),Y(Ne)!=="svelte-1gmwtaj"&&(Ne.innerHTML=an),Ct.forEach(y),nl=A(Nt),pe=f(Nt,"DIV",{class:!0});var qe=z(pe);Fe=f(qe,"H3",{class:!0});var Ht=z(Fe);al=S(Ht,"Where is "),sl=S(Ht,sn),ol=S(Ht,"?"),Ht.forEach(y),rl=A(qe),lt=f(qe,"P",{class:!0});var Yl=z(lt);il=S(Yl,on),cl=S(Yl," has been highlighted in red on this UK map."),Yl.forEach(y),ul=A(qe),nt=f(qe,"P",{class:!0,"data-svelte-h":!0}),Y(nt)!=="svelte-vsj698"&&(nt.textContent=rn),fl=A(qe),Ie=f(qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(Ie)!=="svelte-13ehpmu"&&(Ie.innerHTML=cn),qe.forEach(y),Nt.forEach(y),Bt.forEach(y),dl=A(te),Ce=f(te,"DIV",{class:!0});var zt=z(Ce);at=f(zt,"DIV",{class:!0,"data-svelte-h":!0}),Y(at)!=="svelte-1orla9a"&&(at.innerHTML=un),hl=A(zt),me=f(zt,"DIV",{class:!0});var Xe=z(me);He=f(Xe,"H3",{class:!0});var Rt=z(He);vl=S(Rt,"Total co-benefit distribution from 2025-2049 (vs. "),ht=f(Rt,"SPAN",{class:!0});var An=z(ht);St=S(An,e[6]),An.forEach(y),pl=S(Rt," Average)"),Rt.forEach(y),ml=A(Xe),Ee=f(Xe,"P",{class:!0});var wt=z(Ee);gl=S(wt,"Aggregated values from 2025-2049 in "),bl=S(wt,fn),yl=S(wt," compared to average value of benefits recieved across all local authorities in "),vt=f(wt,"SPAN",{class:!0});var Dn=z(vt);Vt=S(Dn,e[6]),Dn.forEach(y),_l=S(wt,"."),wt.forEach(y),Cl=A(Xe),El=f(Xe,"BR",{}),zl=A(Xe),ze=f(Xe,"UL",{class:!0});var At=z(ze);Re=f(At,"LI",{class:!0});var Ot=z(Re);pt=f(Ot,"SPAN",{class:!0,style:!0}),z(pt).forEach(y),wl=A(Ot),Al=S(Ot,dn),Ot.forEach(y),Dl=A(At),Oe=f(At,"LI",{class:!0});var jt=z(Oe);mt=f(jt,"SPAN",{class:!0,style:!0}),z(mt).forEach(y),kl=A(jt),gt=f(jt,"SPAN",{class:!0});var kn=z(gt);Pt=S(kn,e[6]),kn.forEach(y),jt.forEach(y),Ll=A(At),bt=f(At,"DIV",{class:!0});var Ln=z(bt);je=f(Ln,"DIV",{class:!0,"data-svelte-h":!0}),Y(je)!=="svelte-vuq0y7"&&(je.innerHTML=hn),Ln.forEach(y),At.forEach(y),Xe.forEach(y),Ml=A(zt),we=f(zt,"DIV",{id:!0,class:!0,style:!0});var Ut=z(we);fe=f(Ut,"DIV",{id:!0,class:!0});var Ke=z(fe);Ue=f(Ke,"H3",{class:!0});var Wt=z(Ue);xl=S(Wt,"Co-benefit gain/loss for "),Il=S(Wt,vn),Tl=S(Wt," over 5 year intervals"),Wt.forEach(y),Sl=A(Ke),Vl=f(Ke,"BR",{}),Pl=A(Ke),We=f(Ke,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(We)!=="svelte-s69gpy"&&(We.innerHTML=pn),Bl=A(Ke),Ye=f(Ke,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(Ye)!=="svelte-h7a03z"&&(Ye.innerHTML=mn),Ke.forEach(y),Nl=A(Ut),yt=f(Ut,"DIV",{class:!0}),z(yt).forEach(y),Ut.forEach(y),zt.forEach(y),Fl=A(te),Ge=f(te,"DIV",{class:!0});var Yt=z(Ge);Ae=f(Yt,"DIV",{class:!0});var Dt=z(Ae);st=f(Dt,"P",{class:!0,"data-svelte-h":!0}),Y(st)!=="svelte-ceroz1"&&(st.textContent=gn),Hl=A(Dt),ot=f(Dt,"H2",{class:!0});var Gl=z(ot);Rl=S(Gl,bn),Ol=S(Gl," social-economic factors"),Gl.forEach(y),jl=A(Dt),rt=f(Dt,"P",{class:!0,"data-svelte-h":!0}),Y(rt)!=="svelte-1u75598"&&(rt.textContent=yn),Dt.forEach(y),Ul=A(Yt),Ze=f(Yt,"DIV",{id:!0,class:!0});var Mn=z(Ze);for(let Zl=0;Zl<ne.length;Zl+=1)ne[Zl].l(Mn);Mn.forEach(y),Yt.forEach(y),te.forEach(y),this.h()},h(){c(r,"class","page-subtitle"),c(i,"class","page-title"),c(C,"class","description"),c(d,"type","radio"),c(d,"name","compare"),d.value="UK",d.checked=!0,c(M,"class","nation-label svelte-u02o4z"),c(M,"for","html"),c(V,"type","radio"),c(V,"name","compare"),V.value="England",c(E,"class","nation-label svelte-u02o4z"),c(E,"for","html"),c(H,"type","radio"),c(H,"name","compare"),H.value="Wales",c(q,"class","nation-label svelte-u02o4z"),c(q,"for","html"),c(F,"type","radio"),c(F,"name","compare"),F.value="Scotland",c(K,"class","nation-label svelte-u02o4z"),c(K,"for","javascript"),c(ee,"type","radio"),c(ee,"name","compare"),ee.value="NI",c(re,"class","nation-label svelte-u02o4z"),c(re,"for","javascript"),c(b,"class","radio-set"),c(s,"class","section header header-row svelte-u02o4z"),c(xe,"class","section-header"),c(ft,"class","nation-label svelte-u02o4z"),c(Be,"class","component-title"),c(dt,"class","nation-label svelte-u02o4z"),c(_e,"class","description"),c(Ne,"class","plot"),c(ve,"class","component column"),c(Fe,"class","component-title"),c(lt,"class","description"),c(nt,"class","description"),c(Ie,"id","map"),c(Ie,"class","svelte-u02o4z"),c(pe,"class","component column"),c(he,"id","vis-block"),c(he,"class","svelte-u02o4z"),c(de,"class","section"),c(at,"class","section-header"),c(ht,"class","nation-label svelte-u02o4z"),c(He,"class","component-title"),c(vt,"class","nation-label svelte-u02o4z"),c(Ee,"class","description"),c(pt,"class","legend-color svelte-u02o4z"),ql(pt,"background-color",ia),c(Re,"class","svelte-u02o4z"),c(mt,"class","legend-color svelte-u02o4z"),ql(mt,"background-color",$e),c(gt,"class","nation-label svelte-u02o4z"),c(Oe,"class","svelte-u02o4z"),c(je,"class","plot"),c(bt,"class","row"),c(ze,"class","legend-list svelte-u02o4z"),c(me,"class","component singlevis"),c(Ue,"class","component-title"),c(We,"id","main-legend"),c(We,"class","legend-box svelte-u02o4z"),c(Ye,"id","main-disclaimer"),c(Ye,"class","disclaimer-box svelte-u02o4z"),c(fe,"id","main-title"),c(fe,"class","svelte-u02o4z"),c(yt,"class","plot"),c(we,"id","main-block"),c(we,"class","component svelte-u02o4z"),ql(we,"margin-left","0.5rem"),c(Ce,"class","section"),c(st,"class","section-subtitle"),c(ot,"class","section-title"),c(rt,"class","description"),c(Ae,"class","section-header"),c(Ze,"id","multiple-comp"),c(Ze,"class","svelte-u02o4z"),c(Ge,"class","section"),c(a,"class","page-container")},m(R,te){ba(t,R,te),ye(R,n,te),ye(R,a,te),l(a,s),l(s,o),l(o,r),l(o,g),l(o,i),l(i,_),l(o,v),l(o,C),l(o,L),l(o,b),l(b,k),l(b,d),l(b,I),l(b,M),l(b,P),l(b,x),l(b,V),l(b,U),l(b,E),l(b,G),l(b,B),l(b,H),l(b,W),l(b,q),l(b,$),l(b,j),l(b,F),l(b,X),l(b,K),l(b,oe),l(b,ee),l(b,ie),l(b,re),l(s,Q),l(s,ce),se&&se.m(ce,null),l(a,Me),l(a,de),l(de,xe),l(de,ue),l(de,he),l(he,ve),l(ve,Be),l(Be,Xt),l(Be,ft),l(ft,It),l(Be,Kt),l(ve,Qt),l(ve,_e),l(_e,Jt),l(_e,$t),l(_e,el),l(_e,dt),l(dt,Tt),l(_e,tl),l(ve,ll),l(ve,Ne),e[21](Ne),l(he,nl),l(he,pe),l(pe,Fe),l(Fe,al),l(Fe,sl),l(Fe,ol),l(pe,rl),l(pe,lt),l(lt,il),l(lt,cl),l(pe,ul),l(pe,nt),l(pe,fl),l(pe,Ie),e[22](Ie),l(a,dl),l(a,Ce),l(Ce,at),l(Ce,hl),l(Ce,me),l(me,He),l(He,vl),l(He,ht),l(ht,St),l(He,pl),l(me,ml),l(me,Ee),l(Ee,gl),l(Ee,bl),l(Ee,yl),l(Ee,vt),l(vt,Vt),l(Ee,_l),l(me,Cl),l(me,El),l(me,zl),l(me,ze),l(ze,Re),l(Re,pt),l(Re,wl),l(Re,Al),l(ze,Dl),l(ze,Oe),l(Oe,mt),l(Oe,kl),l(Oe,gt),l(gt,Pt),l(ze,Ll),l(ze,bt),l(bt,je),e[23](je),l(Ce,Ml),l(Ce,we),l(we,fe),l(fe,Ue),l(Ue,xl),l(Ue,Il),l(Ue,Tl),l(fe,Sl),l(fe,Vl),l(fe,Pl),l(fe,We),l(fe,Bl),l(fe,Ye),l(we,Nl),l(we,yt),e[24](yt),l(a,Fl),l(a,Ge),l(Ge,Ae),l(Ae,st),l(Ae,Hl),l(Ae,ot),l(ot,Rl),l(ot,Ol),l(Ae,jl),l(Ae,rt),l(Ge,Ul),l(Ge,Ze);for(let J=0;J<ne.length;J+=1)ne[J]&&ne[J].m(Ze,null);e[28](a),Te=!0,Wl||(_n=[xt(d,"change",e[14]),xt(V,"change",e[14]),xt(H,"change",e[14]),xt(F,"change",e[14]),xt(ee,"change",e[14])],Wl=!0)},p(R,te){if(R[7]?se?se.p(R,te):(se=Xn(R),se.c(),se.m(ce,null)):se&&(se.d(1),se=null),(!Te||te[0]&64)&&tt(It,R[6]),(!Te||te[0]&64)&&tt(Tt,R[6]),(!Te||te[0]&64)&&tt(St,R[6]),(!Te||te[0]&64)&&tt(Vt,R[6]),(!Te||te[0]&64)&&tt(Pt,R[6]),te[0]&6232){_t=Tn(tn);let J;for(J=0;J<_t.length;J+=1){const be=qn(R,_t,J);ne[J]?ne[J].p(be,te):(ne[J]=Kn(be),ne[J].c(),ne[J].m(Ze,null))}for(;J<ne.length;J+=1)ne[J].d(1);ne.length=_t.length}},i(R){Te||(ya(t.$$.fragment,R),Te=!0)},o(R){_a(t.$$.fragment,R),Te=!1},d(R){R&&(y(n),y(a)),Ca(t,R),se&&se.d(),e[21](null),e[22](null),e[23](null),e[24](null),fa(ne,R),e[28](null),Wl=!1,da(_n)}}}let Pe=400;function ut(e){const t=e.querySelector("figure");t&&t.remove();const n=e.querySelector("svg");n&&n.remove()}function Ks(e,t,n){let a,s,o,r,p={},g={},i={},h={},_="barchart",{data:v}=t;const C=v.LAD;let D="UK",L,b,k,d,I,M,N,P,x,V=!1;async function U(){n(17,L=await Le(Fn())),await Le(Qa()),n(18,b=await Le(Hn([]))),k=await Le(Ja(Nn.map(m=>m.id))),n(19,d=await Le(Rn())),I=await Le($a(C)),M=await Le(es(C)),n(7,N=(ra(I,m=>m.total)/1e3).toFixed(3)),n(8,P=(ln(I,m=>m.totalPerCapita)*1e3).toFixed(3)),n(9,x=Gt(b,m=>m.val)/1e3),n(20,V=!0),Ga(a)}U();const E=v.LADToName;let O,G;ha(()=>{Ya(a),O=new Ua(C,"LAD",G,"val",!0),O.initMap(!1)});function B(m,Q){return De({width:80,height:20,margin:0,x:{domain:[0,Q],axis:null},marks:[Jl([m],{x:Me=>Me,y:0,fill:"#ccc"})]}).outerHTML}function H(){{let m=De({height:Pe/1.4,...Je,x:{type:"band"},style:{fontSize:"18px"},marks:[it(b,Se({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),it(I,Se({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const Q=ke(m).selectAll("g[aria-label='bar']");ke(Q.nodes()[0]);const ce=ke(Q.nodes()[1]);ce.selectAll("rect").each(function(){}),ce.remove()},1e3)}}function W(){s?.append(De({height:Pe*1.4,width:811,...Je,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Xl.range(),domain:Xl.domain()},marks:[it(d,Se({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:$e,sort:{x:"y",reverse:!0},tip:!0})),it(M,Se({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:m=>Xl(m.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),Sn({label:"Total Co-Benefit (£million)",labelAnchor:"center"}),Vn({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Pn([0],{stroke:"#333",strokeWidth:.75})]}))}function q(){tn.forEach(m=>{let Q;Za.includes(m)?Q=De({height:Pe/2,...Je,marginLeft:100,x:{grid:!0,label:Kl(m),tickFormat:de=>Math.floor(de)},style:{fontSize:"18px"},color:{legend:!0},marks:[it(L,Gn(Se({y:"count"},{x:m,dx:20,fill:$e}))),it(I,Gn(Se({y:"count"},{x:m,dx:-20})))]}):Q=De({height:Pe/2,...Je,x:{label:Kl(m)},style:{fontSize:"18px"},marks:[$l(I,jn({y:"proportion"},{x:m,tip:!0,fill:$e,stroke:$e,fillOpacity:.2,strokeWidth:3})),$l(L,jn({y:"proportion"},{x:m,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),g[m]?.append(void 0),p[m]?.append(Q);let Me=De({height:Pe/2,...Je,x:{label:Kl(m)},style:{fontSize:"18px"},color:{range:["#e6e6e6",$e]},marks:[Ts(Wa(L,3e4),{x:m,y:"total",fill:"density",thresholds:10}),ls(I,{x:m,y:"total",fill:"black",r:2}),Sn({label:"Datazone Co-Benefit (£)"}),Vn({anchor:"bottom"})]});i[m]&&n(4,i[m].innerHTML="",i),i[m]?.append(Me)})}function ae(){for(let m of qa){let Q=De({height:Pe,width:410,...Je,marginRight:0,marginLeft:100,marks:[Jl(k,Bn({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Xa/2,fill:$e,tip:!0})),Jl(M,Bn({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});h[m]?.append(Q)}}function $(){let m=I.flatMap(le=>Ql.map(ue=>({time:ue,value:le[ue],scenario:le.scenario,zone:"local"}))),Q=L.flatMap(le=>Ql.map(ue=>({time:ue,value:le[ue],scenario:le.scenario,zone:"UK"}))),ce=m.concat(Q),Me=De({height:Pe,width:800,...Je,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[$e,ia],legend:!1},marks:[it(ce,Se({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),ja({anchor:"bottom",tickFormat:le=>le.replace(/^Y/,"").replace("_","-"),label:"Years"})]});o?.append(Me),ke(o).select("g[aria-label='bar']").selectAll("g").each(function(le,ue){const he=ke(this).selectAll("rect").nodes()[0],ve=ke(he).attr("transform")||"";ke(he).attr("transform",`${ve} translate(-20, 0)`),ke(this).selectAll("rect").nodes()[0].getAttribute("height"),ke(this).selectAll("rect").nodes()[1].getAttribute("height"),ke(this).selectAll("rect")}),De({height:Pe,width:800,...Je,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[Ms(ce,Se({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let de=M.flatMap(le=>Ql.map(ue=>({time:ue,value:le[ue],cobenefit:le.co_benefit_type}))),xe=De({height:Pe*3,width:2500,marginRight:0,marginTop:40,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"30px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1},x:{label:"Years",tickFormat:le=>le.replace(/^Y/,"").split("_")[1]},color:{legend:!1,range:Ka,domain:Nn.map(le=>le.id)},marks:[$l(de,Se({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"]})),Pn([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});r?.append(xe)}async function j(m){n(6,D=m.currentTarget.value),n(19,d=await Le(Rn("total",D))),n(18,b=await Le(Hn([],D))),n(17,L=await Le(Fn(D)))}function F(m){Qe[m?"unshift":"push"](()=>{s=m,n(0,s)})}function X(m){Qe[m?"unshift":"push"](()=>{G=m,n(10,G)})}function K(m){Qe[m?"unshift":"push"](()=>{o=m,n(1,o)})}function ge(m){Qe[m?"unshift":"push"](()=>{r=m,n(2,r)})}function oe(m,Q){Qe[m?"unshift":"push"](()=>{p[Q]=m,n(3,p)})}function ee(m,Q){Qe[m?"unshift":"push"](()=>{p[Q]=m,n(3,p)})}function ie(m,Q){Qe[m?"unshift":"push"](()=>{i[Q]=m,n(4,i)})}function re(m){Qe[m?"unshift":"push"](()=>{a=m,n(5,a)})}return e.$$set=m=>{"data"in m&&n(15,v=m.data)},e.$$.update=()=>{e.$$.dirty[0]&2031623&&(s&&ut(s),o&&ut(o),r&&ut(r),V&&d&&b&&L&&(H(),W(),$())),e.$$.dirty[0]&1048600&&(Object.values(p).forEach(m=>{m&&ut(m)}),Object.values(g).forEach(m=>{m&&ut(m)}),Object.values(i).forEach(m=>{m&&ut(m)}),V&&q()),e.$$.dirty[0]&1048576&&(Object.values(h).forEach(m=>{m&&ut(m)}),V&&ae())},[s,o,r,p,i,a,D,N,P,x,G,C,E,B,j,v,_,L,b,d,V,F,X,K,ge,oe,ee,ie,re]}class io extends va{constructor(t){super(),pa(this,t,Ks,Xs,ua,{data:15},null,[-1,-1])}}export{io as component};
