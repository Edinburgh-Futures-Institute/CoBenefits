import{s as ft,a as $,g as q,i as x,f as A,r as ut,e as v,c as g,b as T,p as N,q as D,h as f,v as rt,n as it,t as M,d as S,j as ct}from"../chunks/scheduler.BVm0POKv.js";import{S as ht,i as _t,c as K,b as Q,m as X,t as tt,a as et,d as lt}from"../chunks/index.C_bTuQvQ.js";import{N as dt,e as R}from"../chunks/NavigationBar.DJf97Zba.js";import{b as E}from"../chunks/paths.CAlsdRjH.js";import{g as mt,c as pt}from"../chunks/duckdb.msf5nPxV.js";import"../chunks/transform.Db-NgJu-.js";import{F as vt}from"../chunks/Footer.CgmEqsx_.js";import{c as U}from"../chunks/dsv.XhNTmijJ.js";function at(u,t,l){const a=u.slice();return a[10]=t[l],a}function nt(u,t,l){const a=u.slice();return a[13]=t[l],a}function gt(u){let t,l,a="Browse by nation",o,n,c="Click on a nation for a detailed report.",L,s,e=`<a class="sef-link svelte-16qau9g" href="${E}/nation?nation=England" target="_blank">England</a>`,r,i,b=`<a class="sef-link svelte-16qau9g" href="${E}/nation?nation=NI" target="_blank">Northern Ireland</a>`,_,C,w=`<a class="sef-link svelte-16qau9g" href="${E}/nation?nation=Scotland" target="_blank">Scotland</a>`,W,d,y=`<a class="sef-link svelte-16qau9g" href="${E}/nation?nation=Wales" target="_blank">Wales</a>`,B,V,j,O,F,H,Y="Browse by local authority",G,I,z="Open the tabs and then click on a local authority for a detailed report.",Z,P=R(u[2]),k=[];for(let p=0;p<P.length;p+=1)k[p]=ot(at(u,P,p));return{c(){t=v("main"),l=v("h1"),l.textContent=a,o=$(),n=v("p"),n.textContent=c,L=$(),s=v("div"),s.innerHTML=e,r=$(),i=v("div"),i.innerHTML=b,_=$(),C=v("div"),C.innerHTML=w,W=$(),d=v("div"),d.innerHTML=y,B=$(),V=v("br"),j=$(),O=v("br"),F=$(),H=v("h1"),H.textContent=Y,G=$(),I=v("p"),I.textContent=z,Z=$();for(let p=0;p<k.length;p+=1)k[p].c();this.h()},l(p){t=g(p,"MAIN",{class:!0});var h=T(t);l=g(h,"H1",{"data-svelte-h":!0}),N(l)!=="svelte-9p8fnq"&&(l.textContent=a),o=q(h),n=g(h,"P",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-1lqwkbx"&&(n.textContent=c),L=q(h),s=g(h,"DIV",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-9t3y58"&&(s.innerHTML=e),r=q(h),i=g(h,"DIV",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-1birb2o"&&(i.innerHTML=b),_=q(h),C=g(h,"DIV",{class:!0,"data-svelte-h":!0}),N(C)!=="svelte-5o99nm"&&(C.innerHTML=w),W=q(h),d=g(h,"DIV",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-3snel8"&&(d.innerHTML=y),B=q(h),V=g(h,"BR",{}),j=q(h),O=g(h,"BR",{}),F=q(h),H=g(h,"H1",{"data-svelte-h":!0}),N(H)!=="svelte-1bh1rjd"&&(H.textContent=Y),G=q(h),I=g(h,"P",{class:!0,"data-svelte-h":!0}),N(I)!=="svelte-1ildy7h"&&(I.textContent=z),Z=q(h);for(let m=0;m<k.length;m+=1)k[m].l(h);h.forEach(A),this.h()},h(){D(n,"class","svelte-16qau9g"),D(s,"class","sef-link-wrapper svelte-16qau9g"),D(i,"class","sef-link-wrapper svelte-16qau9g"),D(C,"class","sef-link-wrapper svelte-16qau9g"),D(d,"class","sef-link-wrapper svelte-16qau9g"),D(I,"class","svelte-16qau9g"),D(t,"class","svelte-16qau9g")},m(p,h){x(p,t,h),f(t,l),f(t,o),f(t,n),f(t,L),f(t,s),f(t,r),f(t,i),f(t,_),f(t,C),f(t,W),f(t,d),f(t,B),f(t,V),f(t,j),f(t,O),f(t,F),f(t,H),f(t,G),f(t,I),f(t,Z);for(let m=0;m<k.length;m+=1)k[m]&&k[m].m(t,null)},p(p,h){if(h&6){P=R(p[2]);let m;for(m=0;m<P.length;m+=1){const J=at(p,P,m);k[m]?k[m].p(J,h):(k[m]=ot(J),k[m].c(),k[m].m(t,null))}for(;m<k.length;m+=1)k[m].d(1);k.length=P.length}},d(p){p&&A(t),rt(k,p)}}}function bt(u){let t,l="Loading local authoritiesâ€¦";return{c(){t=v("p"),t.textContent=l,this.h()},l(a){t=g(a,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-12l6vp8"&&(t.textContent=l),this.h()},h(){D(t,"class","svelte-16qau9g")},m(a,o){x(a,t,o)},p:it,d(a){a&&A(t)}}}function kt(u){let t,l=u[10]+"",a,o,n=u[1][u[10]].length+"",c,L;return{c(){t=v("p"),a=M(l),o=M(" ("),c=M(n),L=M(")"),this.h()},l(s){t=g(s,"P",{class:!0});var e=T(t);a=S(e,l),o=S(e," ("),c=S(e,n),L=S(e,")"),e.forEach(A),this.h()},h(){D(t,"class","svelte-16qau9g")},m(s,e){x(s,t,e),f(t,a),f(t,o),f(t,c),f(t,L)},p(s,e){e&2&&n!==(n=s[1][s[10]].length+"")&&ct(c,n)},d(s){s&&A(t)}}}function Lt(u){let t,l=u[10]+"",a,o;return{c(){t=v("p"),a=M(l),o=M(" (317)"),this.h()},l(n){t=g(n,"P",{class:!0});var c=T(t);a=S(c,l),o=S(c," (317)"),c.forEach(A),this.h()},h(){D(t,"class","svelte-16qau9g")},m(n,c){x(n,t,c),f(t,a),f(t,o)},p:it,d(n){n&&A(t)}}}function st(u){let t,l=u[13].name+"",a,o;return{c(){t=v("a"),a=M(l),this.h()},l(n){t=g(n,"A",{class:!0,href:!0});var c=T(t);a=S(c,l),c.forEach(A),this.h()},h(){D(t,"class","lad-link svelte-16qau9g"),D(t,"href",o=E+"/location?location="+u[13].code)},m(n,c){x(n,t,c),f(t,a)},p(n,c){c&2&&l!==(l=n[13].name+"")&&ct(a,l),c&2&&o!==(o=E+"/location?location="+n[13].code)&&D(t,"href",o)},d(n){n&&A(t)}}}function ot(u){let t,l,a,o,n;function c(i,b){return i[10]=="England"?Lt:kt}let s=c(u)(u),e=R(u[1][u[10]]),r=[];for(let i=0;i<e.length;i+=1)r[i]=st(nt(u,e,i));return{c(){t=v("details"),l=v("summary"),s.c(),a=$(),o=v("div");for(let i=0;i<r.length;i+=1)r[i].c();n=$(),this.h()},l(i){t=g(i,"DETAILS",{class:!0});var b=T(t);l=g(b,"SUMMARY",{class:!0});var _=T(l);s.l(_),_.forEach(A),a=q(b),o=g(b,"DIV",{class:!0});var C=T(o);for(let w=0;w<r.length;w+=1)r[w].l(C);C.forEach(A),n=q(b),b.forEach(A),this.h()},h(){D(l,"class","svelte-16qau9g"),D(o,"class","lad-grid svelte-16qau9g"),D(t,"class","svelte-16qau9g")},m(i,b){x(i,t,b),f(t,l),s.m(l,null),f(t,a),f(t,o);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(o,null);f(t,n)},p(i,b){if(s.p(i,b),b&6){e=R(i[1][i[10]]);let _;for(_=0;_<e.length;_+=1){const C=nt(i,e,_);r[_]?r[_].p(C,b):(r[_]=st(C),r[_].c(),r[_].m(o,null))}for(;_<r.length;_+=1)r[_].d(1);r.length=e.length}},d(i){i&&A(t),s.d(),rt(r,i)}}}function Dt(u){let t,l,a,o,n;t=new dt({});function c(e,r){return e[0].length===0?bt:gt}let L=c(u),s=L(u);return o=new vt({}),{c(){K(t.$$.fragment),l=$(),s.c(),a=$(),K(o.$$.fragment)},l(e){Q(t.$$.fragment,e),l=q(e),s.l(e),a=q(e),Q(o.$$.fragment,e)},m(e,r){X(t,e,r),x(e,l,r),s.m(e,r),x(e,a,r),X(o,e,r),n=!0},p(e,[r]){L===(L=c(e))&&s?s.p(e,r):(s.d(1),s=L(e),s&&(s.c(),s.m(a.parentNode,a)))},i(e){n||(tt(t.$$.fragment,e),tt(o.$$.fragment,e),n=!0)},o(e){et(t.$$.fragment,e),et(o.$$.fragment,e),n=!1},d(e){e&&(A(l),A(a)),lt(t,e),s.d(e),lt(o,e)}}}function Ct(u,t,l){const a=`${E}/LAD/Eng_Wales_LSOA_LADs.csv`,o=`${E}/LAD/NI_DZ_LAD.csv`,n=`${E}/LAD/Scotland_DZ_LA.csv`;let c={},L={},s=[],e={},r=["England","Northern Ireland","Scotland","Wales"];const i={NI:"Northern Ireland",England:"England",Wales:"Wales",Scotland:"Scotland"};async function b(){const _=await U(a);for(let d of _)c[d.LAD22CD]=d.LAD22NM;const C=await U(o);for(let d of C)c[d.LGD2014_code]=d.LGD2014_name;const w=await U(n);for(let d of w)c[d.LA_Code]=d.LA_Name;const W=await mt(pt());for(let d of W){const y=i[d.Nation]||d.Nation;L[d.LAD]=y}l(0,s=Object.entries(c).map(([d,y])=>({code:d,name:y,nation:L[d]}))),l(1,e={});for(let d of r)l(1,e[d]=s.filter(y=>y.nation===d).sort((y,B)=>y.name.localeCompare(B.name)),e)}return ut(async()=>{await b()}),[s,e,r]}class It extends ht{constructor(t){super(),_t(this,t,Ct,Dt,ft,{})}}export{It as component};
