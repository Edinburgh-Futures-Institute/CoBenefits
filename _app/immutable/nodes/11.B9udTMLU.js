import{s as tr,a as D,e as b,t as ct,g as z,c as C,b as P,p as O,d as ut,f as B,q as g,B as ye,i as Wt,h as f,v as ie,z as er,w as nr,x as rr,y as wt}from"../chunks/scheduler.NCp-wYW6.js";import{S as ar,i as sr,c as or,b as lr,m as ir,t as cr,a as ur,d as fr}from"../chunks/index.C55kfEDL.js";import{N as hr,e as _n}from"../chunks/NavigationBar.umLcDZa4.js";import{n as dr}from"../chunks/transform.Cz5Y6iUM.js";import{ao as pr,aj as Ce,ap as Un,w as Ze,d as Me,O as qn,i as Wn,a as Yn,M as Qe,U as $e,a2 as vr,l as tn,n as en,aq as mr,o as _e,ar as Xe,as as gr,a4 as Kn,a5 as we,q as yr,at as br,au as Cr,av as Gn,aw as _r,S as wr,ax as Mr,ae as Zn,A as Xn,ay as xr,$ as Er,az as Jn,a8 as ce,a9 as kr,aA as Ar,v as Lr,aB as Dr,B as ot,y as mt,aa as gt,C as zr,aC as Tr,a6 as wn,D as Mn}from"../chunks/index.Bed_awgu.js";import{M as Br,g as Ir}from"../chunks/map.Zo2QzpJN.js";import{S as Je,N as ne,C as xn,M as lt,b as En,A as be,f as Nr,h as kn,T as We,V as Vr,e as Sr}from"../chunks/globals.CGdpDOex.js";import{g as yt,q as An,r as Pr,s as Ln,c as Hr,t as Dn,u as Or,v as Fr}from"../chunks/duckdb.CLqChu-O.js";import{A as Rr,b as jt,a as zn}from"../chunks/bar.Cg4HY5ly.js";import{a as jr,b as Ye,d as Ur}from"../chunks/tick.1wznNsnR.js";import{t as qr,e as Qn,m as Wr,d as Tn,s as Yr,f as Kr,a as Ke,b as Bn}from"../chunks/area.CUloC0gn.js";const Gr=Zr(Xr);function Zr(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:s,width:a,height:i}=e;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((i=Math.floor(i!==void 0?i:s.length/a))>=0))throw new RangeError("invalid height");if(!a||!i||!n&&!r)return e;const u=n&&t(n),c=r&&t(r),l=s.slice();return u&&c?(te(u,l,s,a,i),te(u,s,l,a,i),te(u,l,s,a,i),ee(c,s,l,a,i),ee(c,l,s,a,i),ee(c,s,l,a,i)):u?(te(u,s,l,a,i),te(u,l,s,a,i),te(u,s,l,a,i)):c&&(ee(c,s,l,a,i),ee(c,l,s,a,i),ee(c,s,l,a,i)),e}}function te(t,e,n,r,s){for(let a=0,i=r*s;a<i;)t(e,n,a,a+=r,1)}function ee(t,e,n,r,s){for(let a=0,i=r*s;a<r;++a)t(e,n,a,a+i,r)}function Xr(t){const e=Math.floor(t);if(e===t)return Jr(t);const n=t-e,r=2*t+1;return(s,a,i,u,c)=>{if(!((u-=c)>=i))return;let l=e*a[i];const o=c*e,m=o+c;for(let h=i,d=i+o;h<d;h+=c)l+=a[Math.min(u,h)];for(let h=i,d=u;h<=d;h+=c)l+=a[Math.min(u,h+o)],s[h]=(l+n*(a[Math.max(i,h-m)]+a[Math.min(u,h+m)]))/r,l-=a[Math.max(i,h-o)]}}function Jr(t){const e=2*t+1;return(n,r,s,a,i)=>{if(!((a-=i)>=s))return;let u=t*r[s];const c=i*t;for(let l=s,o=s+c;l<o;l+=i)u+=r[Math.min(a,l)];for(let l=s,o=a;l<=o;l+=i)u+=r[Math.min(a,l+c)],n[l]=u/e,u-=r[Math.max(s,l-c)]}}function Qr(t,e,n){let r;for(;;){const s=pr(t,e,n);if(s===r||s===0||!isFinite(s))return[t,e];s>0?(t=Math.floor(t/s)*s,e=Math.ceil(e/s)*s):s<0&&(t=Math.ceil(t*s)/s,e=Math.floor(e*s)/s),r=s}}var $r=Array.prototype,$n=$r.slice;function ta(t,e){return t-e}function ea(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}const Bt=t=>()=>t;function na(t,e){for(var n=-1,r=e.length,s;++n<r;)if(s=ra(t,e[n]))return s;return 0}function ra(t,e){for(var n=e[0],r=e[1],s=-1,a=0,i=t.length,u=i-1;a<i;u=a++){var c=t[a],l=c[0],o=c[1],m=t[u],h=m[0],d=m[1];if(aa(c,m,e))return 0;o>r!=d>r&&n<(h-l)*(r-o)/(d-o)+l&&(s=-s)}return s}function aa(t,e,n){var r;return sa(t,e,n)&&oa(t[r=+(t[0]===e[0])],n[r],e[r])}function sa(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function oa(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function la(){}var Mt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function In(){var t=1,e=1,n=qr,r=c;function s(l){var o=n(l);if(Array.isArray(o))o=o.slice().sort(ta);else{const m=Ce(l,ia);for(o=Un(...Qr(m[0],m[1],o),o);o[o.length-1]>=m[1];)o.pop();for(;o[1]<m[0];)o.shift()}return o.map(m=>a(l,m))}function a(l,o){const m=o==null?NaN:+o;if(isNaN(m))throw new Error(`invalid value: ${o}`);var h=[],d=[];return i(l,m,function(_){r(_,l,m),ea(_)>0?h.push([_]):d.push(_)}),d.forEach(function(_){for(var y=0,A=h.length,x;y<A;++y)if(na((x=h[y])[0],_)!==-1){x.push(_);return}}),{type:"MultiPolygon",value:o,coordinates:h}}function i(l,o,m){var h=new Array,d=new Array,_,y,A,x,v,M;for(_=y=-1,x=Ut(l[0],o),Mt[x<<1].forEach(E);++_<t-1;)A=x,x=Ut(l[_+1],o),Mt[A|x<<1].forEach(E);for(Mt[x<<0].forEach(E);++y<e-1;){for(_=-1,x=Ut(l[y*t+t],o),v=Ut(l[y*t],o),Mt[x<<1|v<<2].forEach(E);++_<t-1;)A=x,x=Ut(l[y*t+t+_+1],o),M=v,v=Ut(l[y*t+_+1],o),Mt[A|x<<1|v<<2|M<<3].forEach(E);Mt[x|v<<3].forEach(E)}for(_=-1,v=l[y*t]>=o,Mt[v<<2].forEach(E);++_<t-1;)M=v,v=Ut(l[y*t+_+1],o),Mt[v<<2|M<<3].forEach(E);Mt[v<<3].forEach(E);function E(V){var k=[V[0][0]+_,V[0][1]+y],L=[V[1][0]+_,V[1][1]+y],F=u(k),I=u(L),w,S;(w=d[F])?(S=h[I])?(delete d[w.end],delete h[S.start],w===S?(w.ring.push(L),m(w.ring)):h[w.start]=d[S.end]={start:w.start,end:S.end,ring:w.ring.concat(S.ring)}):(delete d[w.end],w.ring.push(L),d[w.end=I]=w):(w=h[I])?(S=d[F])?(delete h[w.start],delete d[S.end],w===S?(w.ring.push(L),m(w.ring)):h[S.start]=d[w.end]={start:S.start,end:w.end,ring:S.ring.concat(w.ring)}):(delete h[w.start],w.ring.unshift(k),h[w.start=F]=w):h[F]=d[I]={start:F,end:I,ring:[k,L]}}}function u(l){return l[0]*2+l[1]*(t+1)*4}function c(l,o,m){l.forEach(function(h){var d=h[0],_=h[1],y=d|0,A=_|0,x=Ge(o[A*t+y]);d>0&&d<t&&y===d&&(h[0]=Nn(d,Ge(o[A*t+y-1]),x,m)),_>0&&_<e&&A===_&&(h[1]=Nn(_,Ge(o[(A-1)*t+y]),x,m))})}return s.contour=a,s.size=function(l){if(!arguments.length)return[t,e];var o=Math.floor(l[0]),m=Math.floor(l[1]);if(!(o>=0&&m>=0))throw new Error("invalid size");return t=o,e=m,s},s.thresholds=function(l){return arguments.length?(n=typeof l=="function"?l:Array.isArray(l)?Bt($n.call(l)):Bt(l),s):n},s.smooth=function(l){return arguments.length?(r=l?c:la,s):r===c},s}function ia(t){return isFinite(t)?t:NaN}function Ut(t,e){return t==null?!1:+t>=e}function Ge(t){return t==null||isNaN(t=+t)?-1/0:t}function Nn(t,e,n,r){const s=r-e,a=n-e,i=isFinite(s)||isFinite(a)?s/a:Math.sign(s)/Math.sign(a);return isNaN(i)?t:t+i-.5}function ca(t){return t[0]}function ua(t){return t[1]}function fa(){return 1}function ha(){var t=ca,e=ua,n=fa,r=960,s=500,a=20,i=2,u=a*3,c=r+u*2>>i,l=s+u*2>>i,o=Bt(20);function m(v){var M=new Float32Array(c*l),E=Math.pow(2,-i),V=-1;for(const T of v){var k=(t(T,++V,v)+u)*E,L=(e(T,V,v)+u)*E,F=+n(T,V,v);if(F&&k>=0&&k<c&&L>=0&&L<l){var I=Math.floor(k),w=Math.floor(L),S=k-I-.5,Y=L-w-.5;M[I+w*c]+=(1-S)*(1-Y)*F,M[I+1+w*c]+=S*(1-Y)*F,M[I+1+(w+1)*c]+=S*Y*F,M[I+(w+1)*c]+=(1-S)*Y*F}}return Gr({data:M,width:c,height:l},a*E),M}function h(v){var M=m(v),E=o(M),V=Math.pow(2,2*i);return Array.isArray(E)||(E=Un(Number.MIN_VALUE,Ze(M)/V,E)),In().size([c,l]).thresholds(E.map(k=>k*V))(M).map((k,L)=>(k.value=+E[L],d(k)))}h.contours=function(v){var M=m(v),E=In().size([c,l]),V=Math.pow(2,2*i),k=L=>{L=+L;var F=d(E.contour(M,L*V));return F.value=L,F};return Object.defineProperty(k,"max",{get:()=>Ze(M)/V}),k};function d(v){return v.coordinates.forEach(_),v}function _(v){v.forEach(y)}function y(v){v.forEach(A)}function A(v){v[0]=v[0]*Math.pow(2,i)-u,v[1]=v[1]*Math.pow(2,i)-u}function x(){return u=a*3,c=r+u*2>>i,l=s+u*2>>i,h}return h.x=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),h):t},h.y=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),h):e},h.weight=function(v){return arguments.length?(n=typeof v=="function"?v:Bt(+v),h):n},h.size=function(v){if(!arguments.length)return[r,s];var M=+v[0],E=+v[1];if(!(M>=0&&E>=0))throw new Error("invalid size");return r=M,s=E,x()},h.cellSize=function(v){if(!arguments.length)return 1<<i;if(!((v=+v)>=1))throw new Error("invalid cell size");return i=Math.floor(Math.log(v)/Math.LN2),x()},h.thresholds=function(v){return arguments.length?(o=typeof v=="function"?v:Array.isArray(v)?Bt($n.call(v)):Bt(v),h):o},h.bandwidth=function(v){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((v=+v)>=0))throw new Error("invalid bandwidth");return a=(Math.sqrt(4*v*v+1)-1)/2,x()},h}const da={ariaLabel:"cell"};class pa extends Rr{constructor(e,{x:n,y:r,...s}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},s,da)}_transform(e,n){e.call(Me,n,{},0,0)}}function Vn(t,{x:e,y:n,...r}={}){return[e,n]=qn(e,n),new pa(t,{...r,x:e,y:n})}const va={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ma extends Qe{constructor(e,n={}){const{x:r,y:s,z:a,curve:i,tension:u}=n;super(e,{x:{value:r,scale:"x"},y:{value:s,scale:"y"},z:{value:$e(n),optional:!0}},n,va),this.z=a,this.curve=Wr(i,u),vr(this,n)}filter(e){return e}project(e,n,r){this.curve!==Tn&&super.project(e,n,r)}render(e,n,r,s,a){const{x:i,y:u}=r,{curve:c}=this;return tn("svg:g",a).call(en,this,s,a).call(Me,this,n).call(l=>l.selectAll().data(mr(e,[i,u],this,r)).enter().append("path").call(_e,this).call(Xe,this,r).call(gr,this,r,a).attr("d",c===Tn&&a.projection?ga(a.projection,i,u):Yr().curve(c).defined(o=>o>=0).x(o=>i[o]).y(o=>u[o]))).node()}}function ga(t,e,n){const r=Kn(t);return e=we(e),n=we(n),s=>{let a=[];const i=[a];for(const u of s)u===-1?(a=[],i.push(a)):a.push([e[u],n[u]]);return r({type:"MultiLineString",coordinates:i})}}function ya(t,{x:e=Wn,y:n=Yn,...r}={}){return new ma(t,Qn({...r,x:e,y:n}))}const ba={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Ca extends Qe{constructor(e,{x:n,y:r,z:s,weight:a,fill:i,stroke:u,...c}={}){const l=Sn(i)&&(i="currentColor",!0),o=Sn(u)&&(u="currentColor",!0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},z:{value:$e({z:s,fill:i,stroke:u}),optional:!0},weight:{value:a,optional:!0}},Ma({...c,fill:i,stroke:u},l,o),ba),l&&(this.fill=void 0),o&&(this.stroke=void 0),this.z=s}filter(e){return e}render(e,n,r,s,a){const{contours:i}=r,u=Kn();return tn("svg:g",a).call(en,this,s,a).call(Me,this,{}).call(c=>c.selectAll().data(e).enter().append("path").call(_e,this).call(yr,this,r).attr("d",l=>u(i[l]))).node()}}function _a(t,{x:e,y:n,...r}={}){return[e,n]=qn(e,n),new Ca(t,{...r,x:e,y:n})}const wa=new Set(["x","y","z","weight"]);function Ma(t,e,n){let{bandwidth:s,thresholds:a}=t;return s=s===void 0?20:+s,a=a===void 0?20:typeof a?.[Symbol.iterator]=="function"?we(a):+a,br(t,function(i,u,c,l,o,m){const h=c.weight?we(c.weight.value):null,d=c.z?.value,{z:_}=this,[y,A]=wr(this,o),{width:x,height:v}=o,{x:M,y:E}=Cr(c,l,m),V=Object.fromEntries(Object.entries(c).filter(([T])=>!wa.has(T)).map(([T,q])=>[T,{...q,value:[]}])),k=e&&[],L=n&&[],F=ha().x(M?T=>M[T]:y).y(E?T=>E[T]:A).weight(h?T=>h[T]:1).size([x,v]).bandwidth(s),I=[];for(const T of u){const q=[];I.push(q);for(const U of d?Gn(T,d,_):[T]){const Q=F.contours(U);q.push([U,Q])}}let w=a;if(!(w instanceof _r)){let T=0;for(const q of I)for(const[,U]of q){const Q=U.max;Q>T&&(T=Q)}w=Float64Array.from({length:a-1},(q,U)=>T*100*(U+1)/a)}const S=[],Y=[];for(const T of I){const q=[];S.push(q);for(const[U,Q]of T)for(const rt of w){q.push(Y.length),Y.push(Q(rt/100)),k&&k.push(rt),L&&L.push(rt);for(const j in V)V[j].value.push(c[j].value[U[0]])}}return k&&k.push(0),L&&L.push(0),{data:i,facets:S,channels:{...V,...k&&{fill:{value:k,scale:"color"}},...L&&{stroke:{value:L,scale:"color"}},contours:{value:Y}}}})}function Sn(t){return/^density$/i.test(t)}function xa(t,e,n){var r=1e-8,s=e-1,a=n-1,i=0,u,c,l,o,m,h,d,_,y,A,x;if(t<=0)return 0;if(t>=1)return 1;for(e>=1&&n>=1?(l=t<.5?t:1-t,o=Math.sqrt(-2*Math.log(l)),d=(2.30753+o*.27061)/(1+o*(.99229+o*.04481))-o,t<.5&&(d=-d),_=(d*d-3)/6,y=2/(1/(2*e-1)+1/(2*n-1)),A=d*Math.sqrt(_+y)/y-(1/(2*n-1)-1/(2*e-1))*(_+5/6-2/(3*y)),d=e/(e+n*Math.exp(2*A))):(u=Math.log(e/(e+n)),c=Math.log(n/(e+n)),o=Math.exp(e*u)/e,m=Math.exp(n*c)/n,A=o+m,t<o/A?d=Math.pow(e*A*t,1/e):d=1-Math.pow(n*A*(1-t),1/n)),x=-re(e)-re(n)+re(e+n);i<10;i++){if(d===0||d===1)return d;if(h=Ea(d,e,n)-t,o=Math.exp(s*Math.log(d)+a*Math.log(1-d)+x),m=h/o,d-=o=m/(1-.5*Math.min(1,m*(s/d-a/(1-d)))),d<=0&&(d=.5*(d+o)),d>=1&&(d=.5*(d+o+1)),Math.abs(o)<r*d&&i>0)break}return d}function Ea(t,e,n){var r=t===0||t===1?0:Math.exp(re(e+n)-re(e)-re(n)+e*Math.log(t)+n*Math.log(1-t));return t<0||t>1?!1:t<(e+1)/(e+n+2)?r*Pn(t,e,n)/e:1-r*Pn(1-t,n,e)/n}function Pn(t,e,n){var r=1e-30,s=1,a=e+n,i=e+1,u=e-1,c=1,l=1-a*t/i,o,m,h,d;for(Math.abs(l)<r&&(l=r),l=1/l,d=l;s<=100&&(o=2*s,m=s*(n-s)*t/((u+o)*(e+o)),l=1+m*l,Math.abs(l)<r&&(l=r),c=1+m/c,Math.abs(c)<r&&(c=r),l=1/l,d*=l*c,m=-(e+s)*(a+s)*t/((e+o)*(i+o)),l=1+m*l,Math.abs(l)<r&&(l=r),c=1+m/c,Math.abs(c)<r&&(c=r),l=1/l,h=l*c,d*=h,!(Math.abs(h-1)<3e-7));s++);return d}function re(t){var e=0,n=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,s,a,i;for(i=(a=s=t)+5.5,i-=(s+.5)*Math.log(i);e<6;e++)r+=n[e]/++a;return Math.log(2.506628274631*r/s)-i}function ka(t,e){var n=xa(2*Math.min(t,1-t),.5*e,.5);return n=Math.sqrt(e*(1-n)/n),t>.5?n:-n}const Aa={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class La extends Qe{constructor(e,n={}){const{x:r,y:s,z:a,ci:i=.95,precision:u=4}=n;if(super(e,{x:{value:r,scale:"x"},y:{value:s,scale:"y"},z:{value:$e(n),optional:!0}},n,Aa),this.z=a,this.ci=+i,this.precision=+u,!(0<=this.ci&&this.ci<1))throw new Error(`invalid ci; not in [0, 1): ${i}`);if(!(this.precision>0))throw new Error(`invalid precision: ${u}`)}render(e,n,r,s,a){const{x:i,y:u,z:c}=r,{ci:l}=this;return tn("svg:g",a).call(en,this,s,a).call(Me,this,n).call(o=>o.selectAll().data(c?Gn(e,c,this.z):[e]).enter().call(m=>m.append("path").attr("fill","none").call(_e,this).call(Xe,this,{...r,fill:null,fillOpacity:null}).attr("d",h=>this._renderLine(h,i,u)).call(l&&!xr(this.fill)?h=>h.select(Da).attr("stroke","none").call(_e,this).call(Xe,this,{...r,stroke:null,strokeOpacity:null,strokeWidth:null}).attr("d",d=>this._renderBand(d,i,u)):()=>{}))).node()}}function Da(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(dr.svg,"path"),this)}class za extends La{constructor(e,n){super(e,n)}_renderBand(e,n,r){const{ci:s,precision:a}=this,[i,u]=Ce(e,o=>n[o]),c=Hn(e,n,r),l=Ba(e,n,r,(1-s)/2,c);return Kr().x(o=>o).y0(o=>l(o,-1)).y1(o=>l(o,1))(Zn(i,u-a/2,a).concat(u))}_renderLine(e,n,r){const[s,a]=Ce(e,u=>n[u]),i=Hn(e,n,r);return`M${s},${i(s)}L${a},${i(a)}`}}function Ta(t,{x:e=Wn,y:n=Yn,stroke:r,fill:s=Mr(r)?"currentColor":r,...a}={}){return new za(t,Qn({...a,x:e,y:n,fill:s,stroke:r}))}function Hn(t,e,n){let r=0,s=0,a=0,i=0;for(const o of t){const m=e[o],h=n[o];r+=m,s+=h,a+=m*h,i+=m*m}const u=t.length,c=(u*a-r*s)/(u*i-r*r),l=(s-c*r)/u;return o=>c*o+l}function Ba(t,e,n,r,s){const a=Xn(t,o=>e[o])/t.length;let i=0,u=0;for(const o of t)i+=(e[o]-a)**2,u+=(n[o]-s(e[o]))**2;const c=Math.sqrt(u/(t.length-2)),l=ka(r,t.length-2);return(o,m)=>{const h=s(o),d=c*Math.sqrt(1/t.length+(o-a)**2/i);return h+m*l*d}}function On(t,e){return arguments.length===1&&({basis:t,...e}=t),jr(Ia(t),e)}function Ia(t){if(t===void 0)return Fn;if(typeof t=="function")return xe(Er(t));if(/^p\d{2}$/i.test(t))return ae(Dr(t));switch(`${t}`.toLowerCase()){case"deviation":return Sa;case"first":return Fn;case"last":return Va;case"max":return Pa;case"mean":return Ha;case"median":return Oa;case"min":return Fa;case"sum":return Ra;case"extent":return Na}throw new Error(`invalid basis: ${t}`)}function xe(t){return{mapIndex(e,n,r){const s=+t(e,n);for(const a of e)r[a]=n[a]===null?NaN:n[a]/s}}}function ae(t){return xe((e,n)=>t(e,r=>n[r]))}const Na={mapIndex(t,e,n){const[r,s]=Ce(t,i=>e[i]),a=s-r;for(const i of t)n[i]=e[i]===null?NaN:(e[i]-r)/a}},Fn=xe((t,e)=>{for(let n=0;n<t.length;++n){const r=e[t[n]];if(Jn(r))return r}}),Va=xe((t,e)=>{for(let n=t.length-1;n>=0;--n){const r=e[t[n]];if(Jn(r))return r}}),Sa={mapIndex(t,e,n){const r=ce(t,a=>e[a]),s=kr(t,a=>e[a]);for(const a of t)n[a]=e[a]===null?NaN:s?(e[a]-r)/s:0}},Pa=ae(Ze),Ha=ae(ce),Oa=ae(Ar),Fa=ae(Lr),Ra=ae(Xn);function Rn(t,e,n){const r=t.slice();return r[46]=e[n],r[47]=e,r[48]=n,r}function ja(t){let e,n,r="Data Zones Distribution (vs. UK average)",s,a,i=`Histogram shows the number of data zones distributed across
                                    different household social economic factors.`,u,c,l="",o=t[46],m,h,d,_,y,A,x,v,M,E=`Density plot refers to UK distribution while the
                                        scattered points refer to data zones in the local authority.`,V,k,L="",F,I,w,S="";const Y=()=>t[24](c,o),T=()=>t[24](null,o),q=()=>t[25](k,o),U=()=>t[25](null,o),Q=()=>t[26](w,o),rt=()=>t[26](null,o);return{c(){e=b("div"),n=b("h3"),n.textContent=r,s=D(),a=b("p"),a.textContent=i,u=D(),c=b("div"),c.innerHTML=l,m=D(),h=b("div"),d=b("div"),_=b("h3"),y=ct("Co-benefits Recieved by Data Zones across "),A=ct(t[46]),x=ct(`
                                        Values`),v=D(),M=b("p"),M.textContent=E,V=D(),k=b("div"),k.innerHTML=L,F=D(),I=b("div"),w=b("div"),w.innerHTML=S,this.h()},l(j){e=C(j,"DIV",{class:!0});var K=P(e);n=C(K,"H3",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1d86f13"&&(n.textContent=r),s=z(K),a=C(K,"P",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-xcsopb"&&(a.textContent=i),u=z(K),c=C(K,"DIV",{class:!0,"data-svelte-h":!0}),O(c)!=="svelte-1gvlz6w"&&(c.innerHTML=l),K.forEach(B),m=z(j),h=C(j,"DIV",{class:!0});var X=P(h);d=C(X,"DIV",{});var st=P(d);_=C(st,"H3",{class:!0});var ft=P(_);y=ut(ft,"Co-benefits Recieved by Data Zones across "),A=ut(ft,t[46]),x=ut(ft,`
                                        Values`),ft.forEach(B),v=z(st),M=C(st,"P",{class:!0,"data-svelte-h":!0}),O(M)!=="svelte-18bgpzu"&&(M.textContent=E),V=z(st),k=C(st,"DIV",{class:!0,"data-svelte-h":!0}),O(k)!=="svelte-aesnqn"&&(k.innerHTML=L),st.forEach(B),F=z(X),I=C(X,"DIV",{});var tt=P(I);w=C(tt,"DIV",{class:!0,"data-svelte-h":!0}),O(w)!=="svelte-xsgztl"&&(w.innerHTML=S),tt.forEach(B),X.forEach(B),this.h()},h(){g(n,"class","component-title"),g(a,"class","description short"),g(c,"class","plot"),g(e,"class","component"),g(_,"class","component-title"),g(M,"class","description short"),g(k,"class","plot"),g(w,"class","plot"),g(h,"class","component")},m(j,K){Wt(j,e,K),f(e,n),f(e,s),f(e,a),f(e,u),f(e,c),Y(),Wt(j,m,K),Wt(j,h,K),f(h,d),f(d,_),f(_,y),f(_,A),f(_,x),f(d,v),f(d,M),f(d,V),f(d,k),q(),f(h,F),f(h,I),f(I,w),Q()},p(j,K){t=j,o!==t[46]&&(T(),o=t[46],Y()),o!==t[46]&&(U(),o=t[46],q()),o!==t[46]&&(rt(),o=t[46],Q())},d(j){j&&(B(e),B(m),B(h)),T(),U(),rt()}}}function Ua(t){let e,n,r="",s=t[46];const a=()=>t[23](n,s),i=()=>t[23](null,s);return{c(){e=b("div"),n=b("div"),n.innerHTML=r,this.h()},l(u){e=C(u,"DIV",{class:!0});var c=P(e);n=C(c,"DIV",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1shkadq"&&(n.innerHTML=r),c.forEach(B),this.h()},h(){g(n,"class","plot"),g(e,"class","component")},m(u,c){Wt(u,e,c),f(e,n),a()},p(u,c){t=u,s!==t[46]&&(i(),s=t[46],a())},d(u){u&&B(e),i()}}}function jn(t){let e,n,r,s,a,i;function u(o,m){return o[7]?Ua:ja}let c=u(t),l=c(t);return{c(){e=b("div"),n=b("h2"),r=ct(t[46]),s=D(),a=b("div"),l.c(),i=D(),this.h()},l(o){e=C(o,"DIV",{});var m=P(e);n=C(m,"H2",{});var h=P(n);r=ut(h,t[46]),h.forEach(B),s=z(m),a=C(m,"DIV",{class:!0});var d=P(a);l.l(d),d.forEach(B),i=z(m),m.forEach(B),this.h()},h(){g(a,"class","row")},m(o,m){Wt(o,e,m),f(e,n),f(n,r),f(e,s),f(e,a),l.m(a,null),f(e,i)},p(o,m){c===(c=u(o))&&l?l.p(o,m):(l.d(1),l=c(o),l&&(l.c(),l.m(a,null)))},d(o){o&&B(e),l.d()}}}function qa(t){let e,n,r,s,a,i="Data Report",u,c,l=t[10][t[9]]+"",o,m,h,d=`Explore how this local authority will benefit from achieving Net Zero and general factors
            of their households.`,_,y,A,x,v,M,E="UK",V,k,L,F,I,w="England/Wales",S,Y,T,q,U,Q="Scotland",rt,j,K,X,st="Northern Ireland",ft,tt,bt,ue=`<p class="section-subtitle">Overview</p> <h2 class="section-title">How much co-benefit values would this area recieve?</h2> <p class="description">We calculate and model 11 types of co-benefits across five different pathyways
                suggested by Climate Change Committee in the Sixth Carbon Budget from 2025-2050 on the level of data
                zones across UK.</p>`,se,p,N,et,Ct="11 Types of Co-Benefits Values (vs. UK Average)",G,ht,nt,at=t[10][t[9]]+"",Yt,oe,Ee,xt,nn="",ke,dt,It,rn=t[10][t[9]]+"",Ae,Le,De,Nt,an="Scroll for zooming in and out.",ze,_t,sn="",Te,pt,Vt,on=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total co-benefits, types of co-benefits,
                and five pathways.</p>`,Be,Et,St,ln="Total Co-benefits Distribution from 2025-2050 (vs. UK Average)",Ie,Kt,kt,cn="",Ne,At,Pt,un=`11 Types of Co-benefits Distribution Following Balance Pathway from
                2025-2050`,Ve,Gt,Zt,Lt,fn="",Se,Dt,$,Ht,hn="Households",Pe,Ot,dn="Social Economic Factors of Households",He,Ft,pn=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits recieved by those data zones.`,Oe,Rt,Fe,zt,vn="Aggregate Plots",Re,Tt,fe,je,mn;e=new hr({});let Xt=_n(Je),Z=[];for(let H=0;H<Xt.length;H+=1)Z[H]=jn(Rn(t,Xt,H));return{c(){or(e.$$.fragment),n=D(),r=b("div"),s=b("div"),a=b("p"),a.textContent=i,u=D(),c=b("h1"),o=ct(l),m=D(),h=b("p"),h.textContent=d,_=D(),y=b("div"),A=ct(`Compare the Local District Area with average of:
            `),x=b("input"),v=D(),M=b("label"),M.textContent=E,V=b("br"),k=D(),L=b("input"),F=D(),I=b("label"),I.textContent=w,S=b("br"),Y=D(),T=b("input"),q=D(),U=b("label"),U.textContent=Q,rt=D(),j=b("input"),K=D(),X=b("label"),X.textContent=st,ft=D(),tt=b("div"),bt=b("div"),bt.innerHTML=ue,se=D(),p=b("div"),N=b("div"),et=b("h3"),et.textContent=Ct,G=D(),ht=b("p"),nt=ct("Co-benefits values in "),Yt=ct(at),oe=ct(` verus average value across all local
                    authorities in UK.`),Ee=D(),xt=b("div"),xt.innerHTML=nn,ke=D(),dt=b("div"),It=b("h3"),Ae=ct(rn),Le=ct(" on UK Map"),De=D(),Nt=b("p"),Nt.textContent=an,ze=D(),_t=b("div"),_t.innerHTML=sn,Te=D(),pt=b("div"),Vt=b("div"),Vt.innerHTML=on,Be=D(),Et=b("div"),St=b("h3"),St.textContent=ln,Ie=D(),Kt=b("div"),kt=b("div"),kt.innerHTML=cn,Ne=D(),At=b("div"),Pt=b("h3"),Pt.textContent=un,Ve=D(),Gt=b("div"),Zt=b("div"),Lt=b("div"),Lt.innerHTML=fn,Se=D(),Dt=b("div"),$=b("div"),Ht=b("p"),Ht.textContent=hn,Pe=D(),Ot=b("h2"),Ot.textContent=dn,He=D(),Ft=b("p"),Ft.textContent=pn,Oe=D(),Rt=b("input"),Fe=D(),zt=b("label"),zt.textContent=vn,Re=D(),Tt=b("div");for(let H=0;H<Z.length;H+=1)Z[H].c();this.h()},l(H){lr(e.$$.fragment,H),n=z(H),r=C(H,"DIV",{class:!0});var J=P(r);s=C(J,"DIV",{class:!0});var R=P(s);a=C(R,"P",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-1gxb8h1"&&(a.textContent=i),u=z(R),c=C(R,"H1",{class:!0});var le=P(c);o=ut(le,l),le.forEach(B),m=z(R),h=C(R,"P",{class:!0,"data-svelte-h":!0}),O(h)!=="svelte-g7xah4"&&(h.textContent=d),_=z(R),y=C(R,"DIV",{class:!0});var W=P(y);A=ut(W,`Compare the Local District Area with average of:
            `),x=C(W,"INPUT",{type:!0,name:!0}),v=z(W),M=C(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),O(M)!=="svelte-18af2yn"&&(M.textContent=E),V=C(W,"BR",{}),k=z(W),L=C(W,"INPUT",{type:!0,name:!0}),F=z(W),I=C(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),O(I)!=="svelte-143ew7m"&&(I.textContent=w),S=C(W,"BR",{}),Y=z(W),T=C(W,"INPUT",{type:!0,name:!0}),q=z(W),U=C(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),O(U)!=="svelte-9bwbr5"&&(U.textContent=Q),rt=z(W),j=C(W,"INPUT",{type:!0,name:!0}),K=z(W),X=C(W,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),O(X)!=="svelte-dsbk13"&&(X.textContent=st),W.forEach(B),R.forEach(B),ft=z(J),tt=C(J,"DIV",{class:!0});var he=P(tt);bt=C(he,"DIV",{class:!0,"data-svelte-h":!0}),O(bt)!=="svelte-ppwlk3"&&(bt.innerHTML=ue),se=z(he),p=C(he,"DIV",{id:!0,class:!0});var de=P(p);N=C(de,"DIV",{class:!0});var Jt=P(N);et=C(Jt,"H3",{class:!0,"data-svelte-h":!0}),O(et)!=="svelte-1o9zf4n"&&(et.textContent=Ct),G=z(Jt),ht=C(Jt,"P",{class:!0});var pe=P(ht);nt=ut(pe,"Co-benefits values in "),Yt=ut(pe,at),oe=ut(pe,` verus average value across all local
                    authorities in UK.`),pe.forEach(B),Ee=z(Jt),xt=C(Jt,"DIV",{class:!0,"data-svelte-h":!0}),O(xt)!=="svelte-1gmwtaj"&&(xt.innerHTML=nn),Jt.forEach(B),ke=z(de),dt=C(de,"DIV",{class:!0});var Qt=P(dt);It=C(Qt,"H3",{class:!0});var Ue=P(It);Ae=ut(Ue,rn),Le=ut(Ue," on UK Map"),Ue.forEach(B),De=z(Qt),Nt=C(Qt,"P",{class:!0,"data-svelte-h":!0}),O(Nt)!=="svelte-1ask2se"&&(Nt.textContent=an),ze=z(Qt),_t=C(Qt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),O(_t)!=="svelte-13ehpmu"&&(_t.innerHTML=sn),Qt.forEach(B),de.forEach(B),he.forEach(B),Te=z(J),pt=C(J,"DIV",{class:!0});var $t=P(pt);Vt=C($t,"DIV",{class:!0,"data-svelte-h":!0}),O(Vt)!=="svelte-a3uzt2"&&(Vt.innerHTML=on),Be=z($t),Et=C($t,"DIV",{class:!0});var ve=P(Et);St=C(ve,"H3",{class:!0,"data-svelte-h":!0}),O(St)!=="svelte-td9req"&&(St.textContent=ln),Ie=z(ve),Kt=C(ve,"DIV",{class:!0});var gn=P(Kt);kt=C(gn,"DIV",{class:!0,"data-svelte-h":!0}),O(kt)!=="svelte-vuq0y7"&&(kt.innerHTML=cn),gn.forEach(B),ve.forEach(B),Ne=z($t),At=C($t,"DIV",{class:!0});var me=P(At);Pt=C(me,"H3",{class:!0,"data-svelte-h":!0}),O(Pt)!=="svelte-199w57s"&&(Pt.textContent=un),Ve=z(me),Gt=C(me,"DIV",{class:!0});var yn=P(Gt);Zt=C(yn,"DIV",{class:!0});var bn=P(Zt);Lt=C(bn,"DIV",{class:!0,"data-svelte-h":!0}),O(Lt)!=="svelte-18dxhf7"&&(Lt.innerHTML=fn),bn.forEach(B),yn.forEach(B),me.forEach(B),$t.forEach(B),Se=z(J),Dt=C(J,"DIV",{class:!0});var ge=P(Dt);$=C(ge,"DIV",{class:!0});var vt=P($);Ht=C(vt,"P",{class:!0,"data-svelte-h":!0}),O(Ht)!=="svelte-ceroz1"&&(Ht.textContent=hn),Pe=z(vt),Ot=C(vt,"H2",{class:!0,"data-svelte-h":!0}),O(Ot)!=="svelte-so6kne"&&(Ot.textContent=dn),He=z(vt),Ft=C(vt,"P",{class:!0,"data-svelte-h":!0}),O(Ft)!=="svelte-1u75598"&&(Ft.textContent=pn),Oe=z(vt),Rt=C(vt,"INPUT",{type:!0}),Fe=z(vt),zt=C(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(zt)!=="svelte-1kwkdzm"&&(zt.textContent=vn),vt.forEach(B),Re=z(ge),Tt=C(ge,"DIV",{id:!0,class:!0});var Cn=P(Tt);for(let qe=0;qe<Z.length;qe+=1)Z[qe].l(Cn);Cn.forEach(B),ge.forEach(B),J.forEach(B),this.h()},h(){g(a,"class","page-subtitle"),g(c,"class","page-title"),g(h,"class","description"),g(x,"type","radio"),g(x,"name","compare"),x.value="UK",x.checked=!0,g(M,"for","html"),ye(M,"color",ne.UK),g(M,"class","svelte-1g0cn2j"),g(L,"type","radio"),g(L,"name","compare"),L.value="Eng/Wales",g(I,"for","html"),ye(I,"color",ne["Eng/Wales"]),g(I,"class","svelte-1g0cn2j"),g(T,"type","radio"),g(T,"name","compare"),T.value="Scotland",g(U,"for","javascript"),ye(U,"color",ne.Scotland),g(U,"class","svelte-1g0cn2j"),g(j,"type","radio"),g(j,"name","compare"),j.value="NI",g(X,"for","javascript"),ye(X,"color",ne.NI),g(X,"class","svelte-1g0cn2j"),g(y,"class","radio-set"),g(s,"class","section header"),g(bt,"class","section-header"),g(et,"class","component-title"),g(ht,"class","description"),g(xt,"class","plot"),g(N,"class","component column"),g(It,"class","component-title"),g(Nt,"class","description"),g(_t,"id","map"),g(_t,"class","svelte-1g0cn2j"),g(dt,"class","component column"),g(p,"id","vis-block"),g(p,"class","svelte-1g0cn2j"),g(tt,"class","section"),g(Vt,"class","section-header"),g(St,"class","component-title"),g(kt,"class","plot"),g(Kt,"class","row"),g(Et,"class","component singlevis"),g(Pt,"class","component-title"),g(Lt,"class","plot"),g(Zt,"class","row"),g(Gt,"class","row"),g(At,"class","component singlevis"),g(pt,"class","section"),g(Ht,"class","section-subtitle"),g(Ot,"class","section-title"),g(Ft,"class","description"),g(Rt,"type","checkbox"),g(zt,"for","checkbox"),g(zt,"class","svelte-1g0cn2j"),g($,"class","section-header"),g(Tt,"id","multiple-comp"),g(Tt,"class","svelte-1g0cn2j"),g(Dt,"class","section"),g(r,"class","page-container")},m(H,J){ir(e,H,J),Wt(H,n,J),Wt(H,r,J),f(r,s),f(s,a),f(s,u),f(s,c),f(c,o),f(s,m),f(s,h),f(s,_),f(s,y),f(y,A),f(y,x),f(y,v),f(y,M),f(y,V),f(y,k),f(y,L),f(y,F),f(y,I),f(y,S),f(y,Y),f(y,T),f(y,q),f(y,U),f(y,rt),f(y,j),f(y,K),f(y,X),f(r,ft),f(r,tt),f(tt,bt),f(tt,se),f(tt,p),f(p,N),f(N,et),f(N,G),f(N,ht),f(ht,nt),f(ht,Yt),f(ht,oe),f(N,Ee),f(N,xt),t[18](xt),f(p,ke),f(p,dt),f(dt,It),f(It,Ae),f(It,Le),f(dt,De),f(dt,Nt),f(dt,ze),f(dt,_t),t[19](_t),f(r,Te),f(r,pt),f(pt,Vt),f(pt,Be),f(pt,Et),f(Et,St),f(Et,Ie),f(Et,Kt),f(Kt,kt),t[20](kt),f(pt,Ne),f(pt,At),f(At,Pt),f(At,Ve),f(At,Gt),f(Gt,Zt),f(Zt,Lt),t[21](Lt),f(r,Se),f(r,Dt),f(Dt,$),f($,Ht),f($,Pe),f($,Ot),f($,He),f($,Ft),f($,Oe),f($,Rt),Rt.checked=t[7],f($,Fe),f($,zt),f(Dt,Re),f(Dt,Tt);for(let R=0;R<Z.length;R+=1)Z[R]&&Z[R].m(Tt,null);t[27](r),fe=!0,je||(mn=[ie(x,"change",t[11]),ie(L,"change",t[11]),ie(T,"change",t[11]),ie(j,"change",t[11]),ie(Rt,"change",t[22])],je=!0)},p(H,J){if(J[0]&128&&(Rt.checked=H[7]),J[0]&184){Xt=_n(Je);let R;for(R=0;R<Xt.length;R+=1){const le=Rn(H,Xt,R);Z[R]?Z[R].p(le,J):(Z[R]=jn(le),Z[R].c(),Z[R].m(Tt,null))}for(;R<Z.length;R+=1)Z[R].d(1);Z.length=Xt.length}},i(H){fe||(cr(e.$$.fragment,H),fe=!0)},o(H){ur(e.$$.fragment,H),fe=!1},d(H){H&&(B(n),B(r)),fr(e,H),t[18](null),t[19](null),t[20](null),t[21](null),er(Z,H),t[27](null),je=!1,nr(mn)}}}let it=400;function qt(t){const e=t.querySelector("figure");e&&e.remove();const n=t.querySelector("svg");n&&n.remove()}function Wa(t,e,n){let r,s,a,i,u={},c={},l={},o={},m="barchart",h=!1,{data:d}=e;const _=d.LAD;let y="UK",A,x,v,M,E,V,k=!1;async function L(){n(14,A=await yt(An())),await yt(Pr()),n(15,x=await yt(Ln([]))),v=await yt(Hr(xn)),n(16,M=await yt(Dn())),E=await yt(Or(_)),V=await yt(Fr(_)),n(17,k=!0)}L();const F=d.LADToName;let I,w;rr(()=>{I=new Br(_,"LAD",w,"val",!0),I.initMap()});function S(){{let p=ot({height:it/1.4,...lt,x:{type:"band"},style:{fontSize:"18px"},marks:[jt(x,mt({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),jt(E,mt({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const N=gt(p).selectAll("g[aria-label='bar']"),et=gt(N.nodes()[0]),Ct=gt(N.nodes()[1]);console.log(2323232323,et.node()),Ct.selectAll("rect").each(function(){console.log(2,this)}),Ct.remove()},1e3)}}function Y(){s?.append(ot({height:it,width:811,MARGINS:lt,x:{type:"band"},marks:[jt(M,mt({y:"mean"},{y:"val",x:"co_benefit_type",dx:kn,fill:ne[y],tip:!0})),jt(V,mt({y:"sum"},{y:"total",x:"co_benefit_type",tip:!0}))]}))}function T(){Je.forEach(p=>{let N;h?(En.includes(p)?N=ot({height:it/3,width:500*2,...lt,style:{fontSize:"18px"},color:{legend:!0,scheme:"greys"},x:{domain:Zn(0,6),ticks:new Set(E.map(G=>G[p]))},marks:[Vn(E,mt({fill:"count"},{x:p,stroke:"black"})),Vn([Math.floor(ce(A.map(G=>G[p])))],{x:G=>G,stroke:"red",fill:null,strokeWidth:2})]}):N=ot({height:it/3,width:500*2,...lt,style:{fontSize:"18px"},color:{legend:!0},marks:[Ye(E,{x:p,tip:!0}),Ye([ce(E.map(G=>G[p]))],{stroke:"blue",strokeWidth:2}),Ye([ce(A.map(G=>G[p]))],{stroke:"red",strokeWidth:2})]}),u[p]?.append(N)):(En.includes(p)?N=ot({height:it/2,width:500,...lt,marginLeft:100,x:{grid:!0,label:p,tickFormat:G=>Math.floor(G)},style:{fontSize:"18px"},color:{legend:!0},marks:[jt(A,On(mt({y:"count"},{x:p,dx:20,fill:be}))),jt(E,On(mt({y:"count"},{x:p})))]}):N=ot({height:it/2,...lt,style:{fontSize:"18px"},marks:[Ke(E,Bn({y:"proportion"},{x:p,tip:!0,fill:be,stroke:be,fillOpacity:.2,strokeWidth:3})),Ke(A,Bn({y:"proportion"},{x:p,tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),c[p]?.append(void 0),u[p]?.append(N));let Ct=ot({height:it/2,...lt,style:{fontSize:"18px"},color:{range:["rgb(227, 248, 255)","lightblue"]},marks:[_a(Ir(A,3e4),{x:p,y:"total",fill:"density",thresholds:10}),Ur(E,{x:p,y:"total",fill:"black",r:2}),Ta(E,{x:p,y:"total"}),zr(),Tr({anchor:"bottom"})]});l[p]?.append(Ct)})}function q(){for(let p of Nr){let N=ot({height:it,width:410,...lt,marginRight:0,marginLeft:100,marks:[zn(v,wn({x:"mean"},{x:"val",y:"co_benefit_type",dy:-kn/2,fill:be,tip:!0})),zn(V,wn({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});o[p]?.append(N)}}function U(){let p=E.flatMap(nt=>We.map(at=>({time:at,value:nt[at],scenario:nt.scenario,zone:"local"}))),N=A.flatMap(nt=>We.map(at=>({time:at,value:nt[at],scenario:nt.scenario,zone:"UK"}))),et=p.concat(N),Ct=ot({height:it,width:800,...lt,paddingLeft:200,marginRight:0,x:{tickSize:0,label:null,ticks:[]},color:{range:[Vr,ne[y]]},marks:[jt(et,mt({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!0,fill:"zone"}))]});a?.append(Ct),gt(a).select("g[aria-label='bar']").selectAll("g").each(function(nt,at){const Yt=gt(this).selectAll("rect").nodes()[0],oe=gt(Yt).attr("transform")||"";gt(Yt).attr("transform",`${oe} translate(-20, 0)`),gt(this).selectAll("rect").nodes()[0].getAttribute("height"),gt(this).selectAll("rect").nodes()[1].getAttribute("height"),gt(this).selectAll("rect")}),ot({height:it,width:800,...lt,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[ya(et,mt({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let G=V.flatMap(nt=>We.map(at=>({time:at,value:nt[at],cobenefit:nt.co_benefit_type}))),ht=ot({height:it,width:1e3,...lt,paddingLeft:200,marginRight:0,insetLeft:10,insetRight:10,insetBottom:30,style:{fontSize:"10px"},y:{tickFormat:".2f",label:"Value (£)"},x:{label:"Year"},color:{legend:!0,range:Sr,domain:xn},marks:[Ke(G,mt({y:"mean"},{x:"time",y:"value",tip:!0,fill:"cobenefit"})),Mn([0],{strokeWidth:8,stroke:"white",opacity:1,strokeLinecap:"round"}),Mn([0],{strokeWidth:2,stroke:"#333333",opacity:1,strokeLinecap:"round"})]});i?.append(ht)}async function Q(p){y=p.currentTarget.value,n(16,M=await yt(Dn("total",y))),n(15,x=await yt(Ln([],y))),n(14,A=await yt(An(y)))}function rt(p){wt[p?"unshift":"push"](()=>{s=p,n(0,s)})}function j(p){wt[p?"unshift":"push"](()=>{w=p,n(8,w)})}function K(p){wt[p?"unshift":"push"](()=>{a=p,n(1,a)})}function X(p){wt[p?"unshift":"push"](()=>{i=p,n(2,i)})}function st(){h=this.checked,n(7,h)}function ft(p,N){wt[p?"unshift":"push"](()=>{u[N]=p,n(3,u)})}function tt(p,N){wt[p?"unshift":"push"](()=>{u[N]=p,n(3,u)})}function bt(p,N){wt[p?"unshift":"push"](()=>{c[N]=p,n(4,c)})}function ue(p,N){wt[p?"unshift":"push"](()=>{l[N]=p,n(5,l)})}function se(p){wt[p?"unshift":"push"](()=>{r=p,n(6,r)})}return t.$$set=p=>{"data"in p&&n(12,d=p.data)},t.$$.update=()=>{t.$$.dirty[0]&253959&&(s&&qt(s),a&&qt(a),i&&qt(i),k&&M&&x&&A&&(console.log("render"),S(),Y(),U())),t.$$.dirty[0]&131128&&(Object.values(u).forEach(p=>{p&&qt(p)}),Object.values(c).forEach(p=>{p&&qt(p)}),Object.values(l).forEach(p=>{p&&qt(p)}),k&&T()),t.$$.dirty[0]&131072&&(Object.values(o).forEach(p=>{p&&qt(p)}),k&&q())},[s,a,i,u,c,l,r,h,w,_,F,Q,d,m,A,x,M,k,rt,j,K,X,st,ft,tt,bt,ue,se]}class rs extends ar{constructor(e){super(),sr(this,e,Wa,qa,tr,{data:12},null,[-1,-1])}}export{rs as component};
