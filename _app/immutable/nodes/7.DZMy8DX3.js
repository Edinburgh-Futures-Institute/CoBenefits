import{s as Tt,d as It,n as yt,r as qt,o as Ft,e as $}from"../chunks/scheduler.tir__IPy.js";import{S as Ht,i as Vt,e as s,b as G,s as C,c as o,d as k,f as W,g as y,h as z,m as A,n as d,j as Lt,k as e,p as Bt,q as Et,o as At}from"../chunks/index.bU9Y8Vjw.js";import{e as Ct}from"../chunks/each.-gASlQSi.js";import"../chunks/transform.Bxaw71Wc.js";import{p as tt,g as zt,m as St,d as kt}from"../chunks/index.BB3F7tZ8.js";import{M as Pt}from"../chunks/map.uejBa_Ta.js";import{S as ht,a as wt}from"../chunks/globals.xEjTdJsR.js";import{b as Rt,a as ct,c as jt}from"../chunks/bar.D3N66If3.js";import{a as xt,l as Yt}from"../chunks/link.25rXnMMH.js";function Mt(a,n,i){const c=a.slice();return c[19]=n[i],c[20]=n,c[21]=i,c}function Dt(a){let n,i="",c=a[19];const v=()=>a[12](n,c),_=()=>a[12](null,c);return{c(){n=s("div"),n.innerHTML=i,this.h()},l(h){n=o(h,"DIV",{class:!0,"data-svelte-h":!0}),A(n)!=="svelte-18okkjt"&&(n.innerHTML=i),this.h()},h(){d(n,"class","plot")},m(h,p){Lt(h,n,p),v()},p(h,p){a=h,c!==a[19]&&(_(),c=a[19],v())},d(h){h&&y(n),_()}}}function Nt(a){let n,i,c,v,_,h,p,x,M,b,l,D,F,j,Y,S,N,L,J="Barchart",O,U,t,T,f,ut="Distribution",et,H,mt="",ft,at,V,P,pt="Map",nt,I,vt="",it,q,w,gt="Socio Economic Factors",lt,B,rt,_t,R=Ct(ht),u=[];for(let m=0;m<R.length;m+=1)u[m]=Dt(Mt(a,R,m));return{c(){n=s("div"),i=s("div"),c=s("h1"),v=G(a[5]),_=C(),h=s("p"),p=G(a[5]),x=G(" is ..."),M=C(),b=s("div"),l=s("div"),D=s("h3"),F=G(a[5]),j=G(" datazone distribution"),Y=C(),S=s("input"),N=C(),L=s("label"),L.textContent=J,O=s("br"),U=C(),t=s("input"),T=C(),f=s("label"),f.textContent=ut,et=C(),H=s("div"),H.innerHTML=mt,at=C(),V=s("div"),P=s("h3"),P.textContent=pt,nt=C(),I=s("div"),I.innerHTML=vt,it=C(),q=s("div"),w=s("h3"),w.textContent=gt,lt=C(),B=s("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){n=o(m,"DIV",{class:!0});var E=k(n);i=o(E,"DIV",{class:!0});var r=k(i);c=o(r,"H1",{});var X=k(c);v=W(X,a[5]),X.forEach(y),_=z(r),h=o(r,"P",{});var st=k(h);p=W(st,a[5]),x=W(st," is ..."),st.forEach(y),r.forEach(y),M=z(E),b=o(E,"DIV",{id:!0,class:!0});var K=k(b);l=o(K,"DIV",{class:!0});var g=k(l);D=o(g,"H3",{});var ot=k(D);F=W(ot,a[5]),j=W(ot," datazone distribution"),ot.forEach(y),Y=z(g),S=o(g,"INPUT",{type:!0,name:!0}),N=z(g),L=o(g,"LABEL",{for:!0,"data-svelte-h":!0}),A(L)!=="svelte-1hwbt9c"&&(L.textContent=J),O=o(g,"BR",{}),U=z(g),t=o(g,"INPUT",{type:!0,name:!0}),T=z(g),f=o(g,"LABEL",{for:!0,"data-svelte-h":!0}),A(f)!=="svelte-27dm33"&&(f.textContent=ut),et=z(g),H=o(g,"DIV",{class:!0,"data-svelte-h":!0}),A(H)!=="svelte-111cum5"&&(H.innerHTML=mt),g.forEach(y),at=z(K),V=o(K,"DIV",{class:!0});var Q=k(V);P=o(Q,"H3",{"data-svelte-h":!0}),A(P)!=="svelte-vcuthw"&&(P.textContent=pt),nt=z(Q),I=o(Q,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),A(I)!=="svelte-1ej9vmv"&&(I.innerHTML=vt),Q.forEach(y),K.forEach(y),it=z(E),q=o(E,"DIV",{id:!0,class:!0});var Z=k(q);w=o(Z,"H3",{"data-svelte-h":!0}),A(w)!=="svelte-zqlelw"&&(w.textContent=gt),lt=z(Z),B=o(Z,"DIV",{id:!0,class:!0});var bt=k(B);for(let dt=0;dt<u.length;dt+=1)u[dt].l(bt);bt.forEach(y),Z.forEach(y),E.forEach(y),this.h()},h(){d(i,"class","component"),d(S,"type","radio"),d(S,"name","visType"),S.value="barchart",S.checked=!0,d(L,"for","html"),d(t,"type","radio"),d(t,"name","visType"),t.value="distribution",d(f,"for","javascript"),d(H,"class","plot"),d(l,"class","component column"),It(()=>a[10].call(l)),d(I,"id","map"),d(I,"class","svelte-1qzzqci"),d(V,"class","component column"),d(b,"id","vis-block"),d(b,"class","svelte-1qzzqci"),d(B,"id","multiple-plots"),d(B,"class","svelte-1qzzqci"),d(q,"id","multiple-comp"),d(q,"class","component svelte-1qzzqci"),d(n,"class","page-container")},m(m,E){Lt(m,n,E),e(n,i),e(i,c),e(c,v),e(i,_),e(i,h),e(h,p),e(h,x),e(n,M),e(n,b),e(b,l),e(l,D),e(D,F),e(D,j),e(l,Y),e(l,S),e(l,N),e(l,L),e(l,O),e(l,U),e(l,t),e(l,T),e(l,f),e(l,et),e(l,H),a[9](H),ft=Bt(l,a[10].bind(l)),e(b,at),e(b,V),e(V,P),e(V,nt),e(V,I),a[11](I),e(n,it),e(n,q),e(q,w),e(q,lt),e(q,B);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(B,null);a[13](n),rt||(_t=[Et(S,"change",a[6]),Et(t,"change",a[6])],rt=!0)},p(m,[E]){if(E&2){R=Ct(ht);let r;for(r=0;r<R.length;r+=1){const X=Mt(m,R,r);u[r]?u[r].p(X,E):(u[r]=Dt(X),u[r].c(),u[r].m(B,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=R.length}},i:yt,o:yt,d(m){m&&y(n),a[9](null),ft(),a[11](null),At(u,m),a[13](null),rt=!1,qt(_t)}}}function Ot(a,n,i){let c,v,_={},h="barchart",p,{data:x}=n;const M=x.data,b=x.SEFData,l=x.coBenefit;let D,F;Ft(()=>{D=new Pt(M,F),D.initMap()});function j(){h=="barchart"?v?.append(tt({height:p,marginLeft:60,marginRight:60,marginBottom:60,y:{type:"band"},style:{fontSize:"18px"},marks:[jt(M,zt({x:"mean"},{x:"total",y:"scenario"})),Yt(M,zt({x1:t=>St(t)-kt(t),x2:t=>St(t)+kt(t)},{x:"total",y:"scenario",stroke:"gray",strokeWidth:3}))]})):h=="distribution"&&v?.append(tt({height:p,marginLeft:60,marginRight:60,y:{label:"Datazones Frequency"},style:{fontSize:"18px"},facet:{data:M,y:"scenario"},marks:[xt(M,ct({y:"count"},{x:"total",tip:!0}))]}))}function Y(){ht.forEach(t=>{let T;wt.includes(t)?T=tt({height:p/2,width:330,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:t,type:"band",tickFormat:f=>Math.floor(f)},style:{fontSize:"18px"},color:{legend:!0},marks:[Rt(b.filter(f=>f.SEFMAME==t),ct({y:"mean"},{x:f=>Math.floor(f.SE).toString(),y:"total"}))]}):T=tt({height:p/2,width:330,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:t},style:{fontSize:"18px"},color:{legend:!0},marks:[xt(b.filter(f=>f.SEFMAME==t),ct({y:"mean"},{x:"SE",y:"total"}))]}),_[t]?.append(T)})}function S(t){i(8,h=t.currentTarget.value)}function N(t){$[t?"unshift":"push"](()=>{v=t,i(0,v)})}function L(){p=this.clientHeight,i(3,p)}function J(t){$[t?"unshift":"push"](()=>{F=t,i(4,F)})}function O(t,T){$[t?"unshift":"push"](()=>{_[T]=t,i(1,_)})}function U(t){$[t?"unshift":"push"](()=>{c=t,i(2,c)})}return a.$$set=t=>{"data"in t&&i(7,x=t.data)},a.$$.update=()=>{a.$$.dirty&259&&(v?.firstChild?.remove(),Object.values(_).forEach(t=>{t.firstChild?.remove()}),j(),Y())},[v,_,c,p,F,l,S,x,h,N,L,J,O,U]}class te extends Ht{constructor(n){super(),Vt(this,n,Ot,Nt,Tt,{data:7})}}export{te as component};
