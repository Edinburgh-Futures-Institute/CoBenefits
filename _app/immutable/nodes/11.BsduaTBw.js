import{s as $e,e as r,a as H,t as se,c,b as v,g as S,d as oe,f,q as u,i as Z,h as s,Z as kt,w as He,n as je,E as Lt,_ as ll,x as xe,j as _e,p as ne,D as Ce,v as ht,r as Ee,H as al,C as Pt,A as nl,Q as il,$ as Ft,a0 as sl,y as ol,z as rl,B as Je}from"../chunks/scheduler.CM2kgFFE.js";import{S as pt,i as bt,c as dt,b as _t,m as mt,t as Be,a as Me,e as Mt,d as vt,g as Ot}from"../chunks/index.BdkIKoLm.js";import{e as we,N as cl}from"../chunks/NavigationBar.RMTwuz63.js";import{b as Ye}from"../chunks/paths.DCupILFy.js";import"../chunks/entry.XuBO363b.js";import{G as gt,K as fl,O as Ut}from"../chunks/index.Cf31Cquo.js";import{g as Bt,a as wt,i as ul,r as hl,s as dl,t as _l,f as ml}from"../chunks/globals.BLAqNn5N.js";import{a as Tt}from"../chunks/bar.55DeQ-Cj.js";import{p as vl,t as gl}from"../chunks/percentage.Cu08Svdw.js";import{p as pl}from"../chunks/per_capita.COcMrZFY.js";import{g as ut,e as bl,f as Cl,i as yl,r as Dl}from"../chunks/duckdb.Bvhm73l5.js";import"../chunks/transform.BNP73y-7.js";function Rt(a,e,t){const l=a.slice();return l[10]=e[t],l}function Gt(a){let e,t=we(a[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=jt(Rt(a,t,n));return{c(){e=r("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"UL",{class:!0});var i=v(e);for(let o=0;o<l.length;o+=1)l[o].l(i);i.forEach(f),this.h()},h(){u(e,"class","suggestions svelte-1kj8esc")},m(n,i){Z(n,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,i){if(i&12){t=we(n[2]);let o;for(o=0;o<t.length;o+=1){const h=Rt(n,t,o);l[o]?l[o].p(h,i):(l[o]=jt(h),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&f(e),xe(l,n)}}}function jt(a){let e,t=a[10][1]+"",l,n,i;function o(){return a[7](a[10])}return{c(){e=r("li"),l=se(t),this.h()},l(h){e=c(h,"LI",{class:!0});var d=v(e);l=oe(d,t),d.forEach(f),this.h()},h(){u(e,"class","svelte-1kj8esc")},m(h,d){Z(h,e,d),s(e,l),n||(i=He(e,"click",o),n=!0)},p(h,d){a=h,d&4&&t!==(t=a[10][1]+"")&&_e(l,t)},d(h){h&&f(e),n=!1,i()}}}function El(a){let e,t,l,n,i,o,h,d,C,E,m=a[2].length&&Gt(a);return{c(){e=r("div"),t=r("div"),l=r("input"),n=H(),i=r("button"),o=se("See Report"),d=H(),m&&m.c(),this.h()},l(y){e=c(y,"DIV",{class:!0});var g=v(e);t=c(g,"DIV",{class:!0});var p=v(t);l=c(p,"INPUT",{type:!0,placeholder:!0,autocomplete:!0,class:!0}),n=S(p),i=c(p,"BUTTON",{type:!0,class:!0});var I=v(i);o=oe(I,"See Report"),I.forEach(f),p.forEach(f),d=S(g),m&&m.l(g),g.forEach(f),this.h()},h(){u(l,"type","text"),u(l,"placeholder","Type local authority name to search..."),u(l,"autocomplete","off"),u(l,"class","svelte-1kj8esc"),u(i,"type","button"),u(i,"class","search-btn svelte-1kj8esc"),i.disabled=h=!a[1],u(t,"class","input-group svelte-1kj8esc"),u(e,"class","autocomplete svelte-1kj8esc")},m(y,g){Z(y,e,g),s(e,t),s(t,l),kt(l,a[0]),s(t,n),s(t,i),s(i,o),s(e,d),m&&m.m(e,null),C||(E=[He(l,"input",a[6]),He(i,"click",a[4])],C=!0)},p(y,[g]){g&1&&l.value!==y[0]&&kt(l,y[0]),g&2&&h!==(h=!y[1])&&(i.disabled=h),y[2].length?m?m.p(y,g):(m=Gt(y),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:je,o:je,d(y){y&&f(e),m&&m.d(),C=!1,Lt(E)}}}function Vl(a,e,t){let l;const n=ll();let{items:i}=e,o="",h=null;const d=Object.entries(i);function C([g,p]){t(0,o=p),t(1,h=g),n("select",g)}function E(){h&&n("search",h)}function m(){o=this.value,t(0,o)}const y=g=>C(g);return a.$$set=g=>{"items"in g&&t(5,i=g.items)},a.$$.update=()=>{a.$$.dirty&1&&t(2,l=o?d.filter(([g,p])=>p.toLowerCase().includes(o.toLowerCase())).slice(0,10):[])},[o,h,l,C,E,i,m,y]}class kl extends pt{constructor(e){super(),bt(this,e,Vl,El,$e,{items:5})}}function qt(a,e,t){const l=a.slice();return l[11]=e[t],l}function zt(a){let e,t=(a[6]==="total"?a[8](a[11].total_value,a[1],a[2],a[11].co_benefit_type,a[5]):a[8](a[11].value_per_capita,a[3],a[4],a[11].co_benefit_type,a[5]))+"",l;return{c(){e=new al(!1),l=Pt(),this.h()},l(n){e=nl(n,!1),l=Pt(),this.h()},h(){e.a=l},m(n,i){e.m(t,n,i),Z(n,l,i)},p(n,i){i&127&&t!==(t=(n[6]==="total"?n[8](n[11].total_value,n[1],n[2],n[11].co_benefit_type,n[5]):n[8](n[11].value_per_capita,n[3],n[4],n[11].co_benefit_type,n[5]))+"")&&e.p(t)},d(n){n&&(f(l),e.d())}}}function Bl(a){let e,t=a[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Z(n,e,i),s(e,l)},p(n,i){i&1&&t!==(t=n[11].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function wl(a){let e,t=a[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Z(n,e,i),s(e,l)},p(n,i){i&1&&t!==(t=n[11].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Wt(a){let e,t,l,n,i,o,h,d=a[7](a[11].co_benefit_type)+"",C,E,m,y,g,p=a[6],I,T,V,b=zt(a);function _(N,A){return N[6]==="total"?wl:Bl}let F=_(a),M=F(a);return{c(){e=r("tr"),t=r("td"),l=r("div"),n=r("img"),o=H(),h=r("a"),C=se(d),m=H(),y=r("td"),g=r("div"),b.c(),I=H(),T=r("td"),M.c(),V=H(),this.h()},l(N){e=c(N,"TR",{});var A=v(e);t=c(A,"TD",{});var z=v(t);l=c(z,"DIV",{class:!0});var W=v(l);n=c(W,"IMG",{src:!0,alt:!0,class:!0}),o=S(W),h=c(W,"A",{href:!0,target:!0});var q=v(h);C=oe(q,d),q.forEach(f),W.forEach(f),z.forEach(f),m=S(A),y=c(A,"TD",{});var j=v(y);g=c(j,"DIV",{class:!0});var w=v(g);b.l(w),w.forEach(f),j.forEach(f),I=S(A),T=c(A,"TD",{});var K=v(T);M.l(K),K.forEach(f),V=S(A),A.forEach(f),this.h()},h(){Ee(n.src,i=Bt(a[11].co_benefit_type))||u(n,"src",i),u(n,"alt","Icon"),u(n,"class","in-table-icon"),u(h,"href",E=Ye+"/cobenefit?cobenefit="+a[11].co_benefit_type),u(h,"target","_blank"),u(l,"class","coben-content"),u(g,"class","bar-cell")},m(N,A){Z(N,e,A),s(e,t),s(t,l),s(l,n),s(l,o),s(l,h),s(h,C),s(e,m),s(e,y),s(y,g),b.m(g,null),s(e,I),s(e,T),M.m(T,null),s(e,V)},p(N,A){A&1&&!Ee(n.src,i=Bt(N[11].co_benefit_type))&&u(n,"src",i),A&1&&d!==(d=N[7](N[11].co_benefit_type)+"")&&_e(C,d),A&1&&E!==(E=Ye+"/cobenefit?cobenefit="+N[11].co_benefit_type)&&u(h,"href",E),A&64&&$e(p,p=N[6])?(b.d(1),b=zt(N),b.c(),b.m(g,null)):b.p(N,A),F===(F=_(N))&&M?M.p(N,A):(M.d(1),M=F(N),M&&(M.c(),M.m(T,null)))},d(N){N&&f(e),b.d(N),M.d()}}}function Tl(a){let e,t,l,n="Total",i,o,h="Per Capita",d,C,E,m,y,g="Name",p,I,T=a[6]==="total"?"Total":"Per Capita",V,b,_,F=a[6]==="total"?"£, billion":"£",M,N,A,z,W,q=we(a[0]),j=[];for(let w=0;w<q.length;w+=1)j[w]=Wt(qt(a,q,w));return{c(){e=r("div"),t=r("div"),l=r("button"),l.textContent=n,i=H(),o=r("button"),o.textContent=h,d=H(),C=r("table"),E=r("thead"),m=r("tr"),y=r("th"),y.textContent=g,p=H(),I=r("th"),V=se(T),b=H(),_=r("th"),M=se(F),N=H(),A=r("tbody");for(let w=0;w<j.length;w+=1)j[w].c();this.h()},l(w){e=c(w,"DIV",{class:!0});var K=v(e);t=c(K,"DIV",{class:!0});var O=v(t);l=c(O,"BUTTON",{"data-svelte-h":!0}),ne(l)!=="svelte-15mf98g"&&(l.textContent=n),i=S(O),o=c(O,"BUTTON",{"data-svelte-h":!0}),ne(o)!=="svelte-1ts3a4f"&&(o.textContent=h),O.forEach(f),K.forEach(f),d=S(w),C=c(w,"TABLE",{class:!0});var J=v(C);E=c(J,"THEAD",{});var U=v(E);m=c(U,"TR",{});var Y=v(m);y=c(Y,"TH",{"data-svelte-h":!0}),ne(y)!=="svelte-13ju7y1"&&(y.textContent=g),p=S(Y),I=c(Y,"TH",{style:!0});var R=v(I);V=oe(R,T),R.forEach(f),b=S(Y),_=c(Y,"TH",{style:!0});var B=v(_);M=oe(B,F),B.forEach(f),Y.forEach(f),U.forEach(f),N=S(J),A=c(J,"TBODY",{});var G=v(A);for(let k=0;k<j.length;k+=1)j[k].l(G);G.forEach(f),J.forEach(f),this.h()},h(){Ce(l,"selected",a[6]==="total"),Ce(o,"selected",a[6]==="per_capita"),u(t,"class","button-group"),u(e,"class","controls"),ht(I,"width","180px"),ht(_,"width","80px"),u(C,"class","data-table")},m(w,K){Z(w,e,K),s(e,t),s(t,l),s(t,i),s(t,o),Z(w,d,K),Z(w,C,K),s(C,E),s(E,m),s(m,y),s(m,p),s(m,I),s(I,V),s(m,b),s(m,_),s(_,M),s(C,N),s(C,A);for(let O=0;O<j.length;O+=1)j[O]&&j[O].m(A,null);z||(W=[He(l,"click",a[9]),He(o,"click",a[10])],z=!0)},p(w,[K]){if(K&64&&Ce(l,"selected",w[6]==="total"),K&64&&Ce(o,"selected",w[6]==="per_capita"),K&64&&T!==(T=w[6]==="total"?"Total":"Per Capita")&&_e(V,T),K&64&&F!==(F=w[6]==="total"?"£, billion":"£")&&_e(M,F),K&511){q=we(w[0]);let O;for(O=0;O<q.length;O+=1){const J=qt(w,q,O);j[O]?j[O].p(J,K):(j[O]=Wt(J),j[O].c(),j[O].m(A,null))}for(;O<j.length;O+=1)j[O].d(1);j.length=q.length}},i:je,o:je,d(w){w&&(f(e),f(d),f(C)),xe(j,w),z=!1,Lt(W)}}}function Ll(a,e,t){let{aggregationPerCapitaPerBenefit:l}=e,{minCoBenefValue:n}=e,{maxCoBenefValue:i}=e,{minHHCoBenefValue:o}=e,{maxHHCoBenefValue:h}=e,{COBENEFS_SCALE:d}=e;function C(p){return wt.find(I=>I.id===p)?.label??p}let E="total";function m(p,I,T,V,b){const _=b(V);return gt({width:100,height:20,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,x:{domain:[I,T],axis:null},marks:[fl([0],{stroke:"#3C3C3C"}),Tt([p],{x:M=>M,y:0,fill:_})]}).outerHTML}const y=()=>t(6,E="total"),g=()=>t(6,E="per_capita");return a.$$set=p=>{"aggregationPerCapitaPerBenefit"in p&&t(0,l=p.aggregationPerCapitaPerBenefit),"minCoBenefValue"in p&&t(1,n=p.minCoBenefValue),"maxCoBenefValue"in p&&t(2,i=p.maxCoBenefValue),"minHHCoBenefValue"in p&&t(3,o=p.minHHCoBenefValue),"maxHHCoBenefValue"in p&&t(4,h=p.maxHHCoBenefValue),"COBENEFS_SCALE"in p&&t(5,d=p.COBENEFS_SCALE)},[l,n,i,o,h,d,E,C,m,y,g]}class Hl extends pt{constructor(e){super(),bt(this,e,Ll,Tl,$e,{aggregationPerCapitaPerBenefit:0,minCoBenefValue:1,maxCoBenefValue:2,minHHCoBenefValue:3,maxHHCoBenefValue:4,COBENEFS_SCALE:5})}}function Kt(a,e,t){const l=a.slice();return l[16]=e[t],l}function Xt(a,e,t){const l=a.slice();return l[19]=e[t],l}function Yt(a){let e,t=a[19].label+"",l;return{c(){e=r("option"),l=se(t),this.h()},l(n){e=c(n,"OPTION",{});var i=v(e);l=oe(i,t),i.forEach(f),this.h()},h(){e.__value=a[19].value,kt(e,e.__value)},m(n,i){Z(n,e,i),s(e,l)},p:je,d(n){n&&f(e)}}}function Sl(a){let e,t=a[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Z(n,e,i),s(e,l)},p(n,i){i&2&&t!==(t=n[16].value_per_capita.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Al(a){let e,t=a[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"",l;return{c(){e=r("span"),l=se(t)},l(n){e=c(n,"SPAN",{});var i=v(e);l=oe(i,t),i.forEach(f)},m(n,i){Z(n,e,i),s(e,l)},p(n,i){i&2&&t!==(t=n[16].total_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+"")&&_e(l,t)},d(n){n&&f(e)}}}function Zt(a){let e,t,l,n=(a[5][a[16].LAD]??a[16].LAD)+"",i,o,h,d,C,E,m=(a[2]==="total"?a[9](a[16].total_value,a[3]):a[10](a[16].value_per_capita,a[4]))+"",y,g,p;function I(b,_){return b[2]==="total"?Al:Sl}let T=I(a),V=T(a);return{c(){e=r("tr"),t=r("td"),l=r("a"),i=se(n),h=H(),d=r("td"),C=r("div"),E=new al(!1),y=H(),g=r("td"),V.c(),p=H(),this.h()},l(b){e=c(b,"TR",{});var _=v(e);t=c(_,"TD",{});var F=v(t);l=c(F,"A",{href:!0,target:!0});var M=v(l);i=oe(M,n),M.forEach(f),F.forEach(f),h=S(_),d=c(_,"TD",{});var N=v(d);C=c(N,"DIV",{class:!0});var A=v(C);E=nl(A,!1),A.forEach(f),N.forEach(f),y=S(_),g=c(_,"TD",{});var z=v(g);V.l(z),z.forEach(f),p=S(_),_.forEach(f),this.h()},h(){u(l,"href",o=Ye+"/location?location="+a[16].LAD),u(l,"target","_blank"),E.a=null,u(C,"class","bar-cell")},m(b,_){Z(b,e,_),s(e,t),s(t,l),s(l,i),s(e,h),s(e,d),s(d,C),E.m(m,C),s(e,y),s(e,g),V.m(g,null),s(e,p)},p(b,_){_&34&&n!==(n=(b[5][b[16].LAD]??b[16].LAD)+"")&&_e(i,n),_&2&&o!==(o=Ye+"/location?location="+b[16].LAD)&&u(l,"href",o),_&30&&m!==(m=(b[2]==="total"?b[9](b[16].total_value,b[3]):b[10](b[16].value_per_capita,b[4]))+"")&&E.p(m),T===(T=I(b))&&V?V.p(b,_):(V.d(1),V=T(b),V&&(V.c(),V.m(g,null)))},d(b){b&&f(e),V.d()}}}function Il(a){let e,t,l="Nation:",n,i,o,h,d,C="Total",E,m,y="Per Capita",g,p,I,T,V,b='Name <span style="font-weight:300; color: #545454">(Top 12 in display)</span>',_,F,M=a[2]==="total"?"Total":"Per Capita",N,A,z,W=a[2]==="total"?"£, billion":"£",q,j,w,K,O,J=we(a[7]),U=[];for(let B=0;B<J.length;B+=1)U[B]=Yt(Xt(a,J,B));let Y=we(a[1]),R=[];for(let B=0;B<Y.length;B+=1)R[B]=Zt(Kt(a,Y,B));return{c(){e=r("div"),t=r("label"),t.textContent=l,n=H(),i=r("select");for(let B=0;B<U.length;B+=1)U[B].c();o=H(),h=r("div"),d=r("button"),d.textContent=C,E=H(),m=r("button"),m.textContent=y,g=H(),p=r("table"),I=r("thead"),T=r("tr"),V=r("th"),V.innerHTML=b,_=H(),F=r("th"),N=se(M),A=H(),z=r("th"),q=se(W),j=H(),w=r("tbody");for(let B=0;B<R.length;B+=1)R[B].c();this.h()},l(B){e=c(B,"DIV",{class:!0});var G=v(e);t=c(G,"LABEL",{"data-svelte-h":!0}),ne(t)!=="svelte-1ecnfnj"&&(t.textContent=l),n=S(G),i=c(G,"SELECT",{});var k=v(i);for(let ge=0;ge<U.length;ge+=1)U[ge].l(k);k.forEach(f),o=S(G),h=c(G,"DIV",{class:!0});var te=v(h);d=c(te,"BUTTON",{"data-svelte-h":!0}),ne(d)!=="svelte-2dev6e"&&(d.textContent=C),E=S(te),m=c(te,"BUTTON",{"data-svelte-h":!0}),ne(m)!=="svelte-1q4fgxf"&&(m.textContent=y),te.forEach(f),G.forEach(f),g=S(B),p=c(B,"TABLE",{class:!0});var Ve=v(p);I=c(Ve,"THEAD",{});var ye=v(I);T=c(ye,"TR",{});var ve=v(T);V=c(ve,"TH",{"data-svelte-h":!0}),ne(V)!=="svelte-1homman"&&(V.innerHTML=b),_=S(ve),F=c(ve,"TH",{style:!0});var Se=v(F);N=oe(Se,M),Se.forEach(f),A=S(ve),z=c(ve,"TH",{style:!0});var Ae=v(z);q=oe(Ae,W),Ae.forEach(f),ve.forEach(f),ye.forEach(f),j=S(Ve),w=c(Ve,"TBODY",{});var De=v(w);for(let ge=0;ge<R.length;ge+=1)R[ge].l(De);De.forEach(f),Ve.forEach(f),this.h()},h(){a[0]===void 0&&il(()=>a[13].call(i)),Ce(d,"selected",a[2]==="total"),Ce(m,"selected",a[2]==="per_capita"),u(h,"class","button-group"),u(e,"class","controls"),ht(F,"width","120px"),ht(z,"width","80px"),u(p,"class","data-table")},m(B,G){Z(B,e,G),s(e,t),s(e,n),s(e,i);for(let k=0;k<U.length;k+=1)U[k]&&U[k].m(i,null);Ft(i,a[0],!0),s(e,o),s(e,h),s(h,d),s(h,E),s(h,m),Z(B,g,G),Z(B,p,G),s(p,I),s(I,T),s(T,V),s(T,_),s(T,F),s(F,N),s(T,A),s(T,z),s(z,q),s(p,j),s(p,w);for(let k=0;k<R.length;k+=1)R[k]&&R[k].m(w,null);K||(O=[He(i,"change",a[13]),He(i,"change",a[8]),He(d,"click",a[14]),He(m,"click",a[15])],K=!0)},p(B,[G]){if(G&128){J=we(B[7]);let k;for(k=0;k<J.length;k+=1){const te=Xt(B,J,k);U[k]?U[k].p(te,G):(U[k]=Yt(te),U[k].c(),U[k].m(i,null))}for(;k<U.length;k+=1)U[k].d(1);U.length=J.length}if(G&129&&Ft(i,B[0]),G&4&&Ce(d,"selected",B[2]==="total"),G&4&&Ce(m,"selected",B[2]==="per_capita"),G&4&&M!==(M=B[2]==="total"?"Total":"Per Capita")&&_e(N,M),G&4&&W!==(W=B[2]==="total"?"£, billion":"£")&&_e(q,W),G&1598){Y=we(B[1]);let k;for(k=0;k<Y.length;k+=1){const te=Kt(B,Y,k);R[k]?R[k].p(te,G):(R[k]=Zt(te),R[k].c(),R[k].m(w,null))}for(;k<R.length;k+=1)R[k].d(1);R.length=Y.length}},i:je,o:je,d(B){B&&(f(e),f(g),f(p)),xe(U,B),xe(R,B),K=!1,Lt(O)}}}function Nl(a,e,t){const l=ll();let{ladData:n=[]}=e,{region:i}=e,{sortBy:o}=e,{maxLADValue:h}=e,{maxHHLADValue:d}=e,{LADToName:C={}}=e,{viewMode:E="total"}=e,{selectedRegion:m="All"}=e;const y=[{label:"All",value:"All"},{label:"England",value:"England"},{label:"Wales",value:"Wales"},{label:"Scotland",value:"Scotland"},{label:"Northern Ireland",value:"NI"}];function g(_){l("filterChange",{region:_.target.value,sortBy:o})}function p(_,F){return gt({width:80,height:20,margin:0,x:{domain:[0,F],axis:null},marks:[Tt([_],{x:N=>N,y:0,fill:"#ccc"})]}).outerHTML}function I(_,F){return gt({width:80,height:20,margin:0,x:{domain:[0,F],axis:null},marks:[Tt([_],{x:N=>N,y:0,fill:"#ccc"})]}).outerHTML}function T(){i=sl(this),t(0,i),t(7,y)}const V=()=>l("filterChange",{region:i,sortBy:"total"}),b=()=>l("filterChange",{region:i,sortBy:"per_capita"});return a.$$set=_=>{"ladData"in _&&t(1,n=_.ladData),"region"in _&&t(0,i=_.region),"sortBy"in _&&t(2,o=_.sortBy),"maxLADValue"in _&&t(3,h=_.maxLADValue),"maxHHLADValue"in _&&t(4,d=_.maxHHLADValue),"LADToName"in _&&t(5,C=_.LADToName),"viewMode"in _&&t(11,E=_.viewMode),"selectedRegion"in _&&t(12,m=_.selectedRegion)},[i,n,o,h,d,C,l,y,g,p,I,E,m,T,V,b]}class Pl extends pt{constructor(e){super(),bt(this,e,Nl,Il,$e,{ladData:1,region:0,sortBy:2,maxLADValue:3,maxHHLADValue:4,LADToName:5,viewMode:11,selectedRegion:12})}}function Qt(a,e,t){const l=a.slice();return l[47]=e[t],l[49]=t,l}function Jt(a){let e,t,l,n,i,o,h;return{c(){e=r("div"),t=r("img"),i=H(),o=r("img"),this.h()},l(d){e=c(d,"DIV",{class:!0});var C=v(e);t=c(C,"IMG",{class:!0,src:!0,alt:!0}),i=S(C),o=c(C,"IMG",{class:!0,src:!0,alt:!0}),C.forEach(f),this.h()},h(){u(t,"class","slide-image"),Ee(t.src,l=a[47].image)||u(t,"src",l),u(t,"alt",n=a[47].label),u(o,"class","slide-map svelte-1ye7cnd"),Ee(o.src,h=a[47].mapImage)||u(o,"src",h),u(o,"alt","Map overlay"),u(e,"class","hero-slide svelte-1ye7cnd"),Ce(e,"active",a[49]===a[23]),Ce(e,"previous",a[49]===a[24])},m(d,C){Z(d,e,C),s(e,t),s(e,i),s(e,o)},p(d,C){C[0]&1048576&&!Ee(t.src,l=d[47].image)&&u(t,"src",l),C[0]&1048576&&n!==(n=d[47].label)&&u(t,"alt",n),C[0]&1048576&&!Ee(o.src,h=d[47].mapImage)&&u(o,"src",h),C[0]&8388608&&Ce(e,"active",d[49]===d[23]),C[0]&16777216&&Ce(e,"previous",d[49]===d[24])},d(d){d&&f(e)}}}function xt(a){let e,t,l;return{c(){e=r("div"),t=r("img"),this.h()},l(n){e=c(n,"DIV",{class:!0});var i=v(e);t=c(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(f),this.h()},h(){Ee(t.src,l=a[19])||u(t,"src",l),u(t,"alt","Icon"),u(t,"class","svelte-1ye7cnd"),u(e,"class","waffle-icon svelte-1ye7cnd")},m(n,i){Z(n,e,i),s(e,t)},p(n,i){i[0]&524288&&!Ee(t.src,l=n[19])&&u(t,"src",l)},d(n){n&&f(e)}}}function Fl(a){let e,t="National costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-o12owz"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Z(l,e,n)},d(l){l&&f(e)}}}function Ml(a){let e,t="National benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-10ytukz"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Z(l,e,n)},d(l){l&&f(e)}}}function Ol(a){let e,t="Per capita costs";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-6pmcl0"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Z(l,e,n)},d(l){l&&f(e)}}}function Ul(a){let e,t="Per capita benefits";return{c(){e=r("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-g1rvwk"&&(e.textContent=t),this.h()},h(){u(e,"class","waffle-caption svelte-1ye7cnd")},m(l,n){Z(l,e,n)},d(l){l&&f(e)}}}function $t(a){let e,t,l,n,i,o,h,d,C,E,m="%",y,g,p="Contribution";return{c(){e=r("div"),t=r("div"),l=r("img"),i=H(),o=r("div"),h=r("span"),d=se(a[18]),C=H(),E=r("span"),E.textContent=m,y=H(),g=r("div"),g.textContent=p,this.h()},l(I){e=c(I,"DIV",{class:!0});var T=v(e);t=c(T,"DIV",{class:!0});var V=v(t);l=c(V,"IMG",{class:!0,src:!0,alt:!0}),i=S(V),o=c(V,"DIV",{class:!0});var b=v(o);h=c(b,"SPAN",{class:!0});var _=v(h);d=oe(_,a[18]),_.forEach(f),C=S(b),E=c(b,"SPAN",{class:!0,"data-svelte-h":!0}),ne(E)!=="svelte-jxggz7"&&(E.textContent=m),b.forEach(f),V.forEach(f),y=S(T),g=c(T,"DIV",{class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1ahdmih"&&(g.textContent=p),T.forEach(f),this.h()},h(){u(l,"class","aggregation-icon-small svelte-1ye7cnd"),Ee(l.src,n=vl)||u(l,"src",n),u(l,"alt","icon"),u(h,"class","waffle-big svelte-1ye7cnd"),u(E,"class","small svelte-1ye7cnd"),u(o,"class","waffle-value svelte-1ye7cnd"),u(t,"class","waffle-value-container svelte-1ye7cnd"),u(g,"class","waffle-caption svelte-1ye7cnd"),u(e,"class","waffle-stat svelte-1ye7cnd")},m(I,T){Z(I,e,T),s(e,t),s(t,l),s(t,i),s(t,o),s(o,h),s(h,d),s(o,C),s(o,E),s(e,y),s(e,g)},p(I,T){T[0]&262144&&_e(d,I[18])},d(I){I&&f(e)}}}function el(a){let e,t;return e=new Pl({props:{ladData:a[7],region:a[8],sortBy:a[9],maxLADValue:a[10],maxHHLADValue:a[11],LADToName:a[25]}}),e.$on("filterChange",a[26]),{c(){dt(e.$$.fragment)},l(l){_t(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p(l,n){const i={};n[0]&128&&(i.ladData=l[7]),n[0]&256&&(i.region=l[8]),n[0]&512&&(i.sortBy=l[9]),n[0]&1024&&(i.maxLADValue=l[10]),n[0]&2048&&(i.maxHHLADValue=l[11]),e.$set(i)},i(l){t||(Be(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){vt(e,l)}}}function tl(a){let e,t;return e=new Hl({props:{aggregationPerCapitaPerBenefit:a[1],minCoBenefValue:a[3],maxCoBenefValue:a[2],minHHCoBenefValue:a[4],maxHHCoBenefValue:a[5],COBENEFS_SCALE:ul}}),{c(){dt(e.$$.fragment)},l(l){_t(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p(l,n){const i={};n[0]&2&&(i.aggregationPerCapitaPerBenefit=l[1]),n[0]&8&&(i.minCoBenefValue=l[3]),n[0]&4&&(i.maxCoBenefValue=l[2]),n[0]&16&&(i.minHHCoBenefValue=l[4]),n[0]&32&&(i.maxHHCoBenefValue=l[5]),e.$set(i)},i(l){t||(Be(e.$$.fragment,l),t=!0)},o(l){Me(e.$$.fragment,l),t=!1},d(l){vt(e,l)}}}function Rl(a){let e,t,l,n,i,o,h,d=`<img src="${Ye}/atlas-logos/logo-colored-waffle-png.png" alt="Logo" height="0px"/> <h1 class="hero-title svelte-1ye7cnd">The Co-Benefits of Reaching <br/> Net Zero in the UK</h1> <p class="hero-description svelte-1ye7cnd">Climate actions lower greenhouse gas (GHG) emissions but the gains for society reach further. The
                    CO-BENS project models 11 additional benefits based on actions recommended by the Climate Change
                    Committee (CCC) in its Seventh Carbon Budget (2025) across 45,000 communities and regions within the
                    UK.<br/></p> <p class="hero-description svelte-1ye7cnd">Explore how, when and for whom benefits emerge to further understand connections between a wide
                    range of
                    social, economic and environmental priorities, and drive more effective decision-making.</p> <p class="hero-description svelte-1ye7cnd">To understand more about the analysis or if you would like bespoke co-benefit modelling please get
                    in
                    touch by emailing <a href="mailto:cobens@ed.ac.uk">cobens@ed.ac.uk</a></p>`,C,E,m,y,g,p,I,T,V,b,_,F,M,N,A,z,W,q,j,w,K="billion",O,J,U,Y,R,B,G,k,te,Ve,ye,ve,Se,Ae,De,ge,Oe,Ze,D,ie,re="Find My Place",me,de,pe,X,x,fe,Ie="Explore by Local Authority",P,$,Ne="Click to see local authority data report.",Pe,Qe,be,ke,Fe="Explore by Co-Benefit",Ct,Ue,Ht="Click to see each co-benefit data report.",yt,Re;t=new cl({});let qe=we(a[20]),ce=[];for(let L=0;L<qe.length;L+=1)ce[L]=Jt(Qt(a,qe,L));let ue=a[19]&&xt(a);function St(L,Q){return L[16]>0?Ml:Fl}let et=St(a),Te=et(a);function At(L,Q){return L[17]>0?Ul:Ol}let tt=At(a),Le=tt(a),he=a[22]!==null&&$t(a);de=new kl({props:{items:a[25]}}),de.$on("search",a[33]);let le=!a[6]&&el(a),ae=!a[6]&&tl(a);return{c(){e=r("div"),dt(t.$$.fragment),l=H(),n=r("section");for(let L=0;L<ce.length;L+=1)ce[L].c();i=H(),o=r("div"),h=r("div"),h.innerHTML=d,C=H(),E=r("div"),m=r("div"),y=r("div"),ue&&ue.c(),g=H(),p=r("div"),I=se(a[15]),T=H(),V=r("div"),b=r("div"),_=r("div"),F=r("img"),N=H(),A=r("div"),z=r("span"),W=se("£"),q=se(a[16]),j=H(),w=r("span"),w.textContent=K,O=H(),Te.c(),J=H(),U=r("div"),Y=r("div"),R=r("img"),G=H(),k=r("div"),te=r("span"),Ve=se("£"),ye=se(a[17]),ve=H(),Le.c(),Se=H(),he&&he.c(),Ae=H(),De=r("div"),ge=H(),Oe=r("div"),Ze=H(),D=r("section"),ie=r("h1"),ie.textContent=re,me=H(),dt(de.$$.fragment),pe=H(),X=r("section"),x=r("div"),fe=r("h2"),fe.textContent=Ie,P=H(),$=r("p"),$.textContent=Ne,Pe=H(),le&&le.c(),Qe=H(),be=r("div"),ke=r("h2"),ke.textContent=Fe,Ct=H(),Ue=r("p"),Ue.textContent=Ht,yt=H(),ae&&ae.c(),this.h()},l(L){e=c(L,"DIV",{});var Q=v(e);_t(t.$$.fragment,Q),l=S(Q),n=c(Q,"SECTION",{class:!0});var ee=v(n);for(let Vt=0;Vt<ce.length;Vt+=1)ce[Vt].l(ee);i=S(ee),o=c(ee,"DIV",{class:!0});var Ge=v(o);h=c(Ge,"DIV",{class:!0,"data-svelte-h":!0}),ne(h)!=="svelte-8289tn"&&(h.innerHTML=d),C=S(Ge),E=c(Ge,"DIV",{class:!0});var ze=v(E);m=c(ze,"DIV",{class:!0});var lt=v(m);y=c(lt,"DIV",{class:!0});var at=v(y);ue&&ue.l(at),g=S(at),p=c(at,"DIV",{class:!0});var It=v(p);I=oe(It,a[15]),It.forEach(f),at.forEach(f),T=S(lt),V=c(lt,"DIV",{class:!0});var We=v(V);b=c(We,"DIV",{class:!0});var nt=v(b);_=c(nt,"DIV",{class:!0});var it=v(_);F=c(it,"IMG",{class:!0,src:!0,alt:!0}),N=S(it),A=c(it,"DIV",{class:!0});var st=v(A);z=c(st,"SPAN",{class:!0});var Dt=v(z);W=oe(Dt,"£"),q=oe(Dt,a[16]),Dt.forEach(f),j=S(st),w=c(st,"SPAN",{class:!0,"data-svelte-h":!0}),ne(w)!=="svelte-tlhydp"&&(w.textContent=K),st.forEach(f),it.forEach(f),O=S(nt),Te.l(nt),nt.forEach(f),J=S(We),U=c(We,"DIV",{class:!0});var ot=v(U);Y=c(ot,"DIV",{class:!0});var rt=v(Y);R=c(rt,"IMG",{class:!0,src:!0,alt:!0}),G=S(rt),k=c(rt,"DIV",{class:!0});var Nt=v(k);te=c(Nt,"SPAN",{class:!0});var Et=v(te);Ve=oe(Et,"£"),ye=oe(Et,a[17]),Et.forEach(f),Nt.forEach(f),rt.forEach(f),ve=S(ot),Le.l(ot),ot.forEach(f),Se=S(We),he&&he.l(We),We.forEach(f),lt.forEach(f),Ae=S(ze),De=c(ze,"DIV",{class:!0}),v(De).forEach(f),ge=S(ze),Oe=c(ze,"DIV",{}),v(Oe).forEach(f),ze.forEach(f),Ge.forEach(f),ee.forEach(f),Ze=S(Q),D=c(Q,"SECTION",{class:!0});var ct=v(D);ie=c(ct,"H1",{class:!0,"data-svelte-h":!0}),ne(ie)!=="svelte-byubde"&&(ie.textContent=re),me=S(ct),_t(de.$$.fragment,ct),ct.forEach(f),pe=S(Q),X=c(Q,"SECTION",{class:!0});var ft=v(X);x=c(ft,"DIV",{class:!0});var Ke=v(x);fe=c(Ke,"H2",{class:!0,"data-svelte-h":!0}),ne(fe)!=="svelte-pgup4c"&&(fe.textContent=Ie),P=S(Ke),$=c(Ke,"P",{class:!0,"data-svelte-h":!0}),ne($)!=="svelte-owmq24"&&($.textContent=Ne),Pe=S(Ke),le&&le.l(Ke),Ke.forEach(f),Qe=S(ft),be=c(ft,"DIV",{class:!0});var Xe=v(be);ke=c(Xe,"H2",{class:!0,"data-svelte-h":!0}),ne(ke)!=="svelte-9nk5va"&&(ke.textContent=Fe),Ct=S(Xe),Ue=c(Xe,"P",{class:!0,"data-svelte-h":!0}),ne(Ue)!=="svelte-4140on"&&(Ue.textContent=Ht),yt=S(Xe),ae&&ae.l(Xe),Xe.forEach(f),ft.forEach(f),Q.forEach(f),this.h()},h(){u(h,"class","hero-text svelte-1ye7cnd"),u(p,"class","waffle-title svelte-1ye7cnd"),u(y,"class","waffle-header svelte-1ye7cnd"),u(F,"class","aggregation-icon-small svelte-1ye7cnd"),Ee(F.src,M=gl)||u(F,"src",M),u(F,"alt","icon"),u(z,"class","waffle-big svelte-1ye7cnd"),u(w,"class","small svelte-1ye7cnd"),u(A,"class","waffle-value svelte-1ye7cnd"),u(_,"class","waffle-value-container svelte-1ye7cnd"),u(b,"class","waffle-stat svelte-1ye7cnd"),u(R,"class","aggregation-icon-small svelte-1ye7cnd"),Ee(R.src,B=pl)||u(R,"src",B),u(R,"alt","icon"),u(te,"class","waffle-big svelte-1ye7cnd"),u(k,"class","waffle-value svelte-1ye7cnd"),u(Y,"class","waffle-value-container svelte-1ye7cnd"),u(U,"class","waffle-stat svelte-1ye7cnd"),u(V,"class","waffle-stats svelte-1ye7cnd"),u(m,"class","waffle-label svelte-1ye7cnd"),u(De,"class","waffle-bg svelte-1ye7cnd"),u(E,"class","waffle-overlay svelte-1ye7cnd"),u(o,"class","hero-content svelte-1ye7cnd"),u(n,"class","hero-container svelte-1ye7cnd"),u(ie,"class","svelte-1ye7cnd"),u(D,"class","search-section svelte-1ye7cnd"),u(fe,"class","svelte-1ye7cnd"),u($,"class","svelte-1ye7cnd"),u(x,"class","side-box svelte-1ye7cnd"),u(ke,"class","svelte-1ye7cnd"),u(Ue,"class","svelte-1ye7cnd"),u(be,"class","side-box svelte-1ye7cnd"),u(X,"class","side-by-side-section svelte-1ye7cnd")},m(L,Q){Z(L,e,Q),mt(t,e,null),s(e,l),s(e,n);for(let ee=0;ee<ce.length;ee+=1)ce[ee]&&ce[ee].m(n,null);s(n,i),s(n,o),s(o,h),s(o,C),s(o,E),s(E,m),s(m,y),ue&&ue.m(y,null),s(y,g),s(y,p),s(p,I),s(m,T),s(m,V),s(V,b),s(b,_),s(_,F),s(_,N),s(_,A),s(A,z),s(z,W),s(z,q),s(A,j),s(A,w),s(b,O),Te.m(b,null),s(V,J),s(V,U),s(U,Y),s(Y,R),s(Y,G),s(Y,k),s(k,te),s(te,Ve),s(te,ye),s(U,ve),Le.m(U,null),s(V,Se),he&&he.m(V,null),a[29](m),s(E,Ae),s(E,De),a[30](De),s(E,ge),s(E,Oe),a[31](Oe),a[32](n),s(e,Ze),s(e,D),s(D,ie),s(D,me),mt(de,D,null),s(e,pe),s(e,X),s(X,x),s(x,fe),s(x,P),s(x,$),s(x,Pe),le&&le.m(x,null),s(X,Qe),s(X,be),s(be,ke),s(be,Ct),s(be,Ue),s(be,yt),ae&&ae.m(be,null),a[34](e),Re=!0},p(L,Q){if(Q[0]&26214400){qe=we(L[20]);let ee;for(ee=0;ee<qe.length;ee+=1){const Ge=Qt(L,qe,ee);ce[ee]?ce[ee].p(Ge,Q):(ce[ee]=Jt(Ge),ce[ee].c(),ce[ee].m(n,i))}for(;ee<ce.length;ee+=1)ce[ee].d(1);ce.length=qe.length}L[19]?ue?ue.p(L,Q):(ue=xt(L),ue.c(),ue.m(y,g)):ue&&(ue.d(1),ue=null),(!Re||Q[0]&32768)&&_e(I,L[15]),(!Re||Q[0]&65536)&&_e(q,L[16]),et!==(et=St(L))&&(Te.d(1),Te=et(L),Te&&(Te.c(),Te.m(b,null))),(!Re||Q[0]&131072)&&_e(ye,L[17]),tt!==(tt=At(L))&&(Le.d(1),Le=tt(L),Le&&(Le.c(),Le.m(U,null))),L[22]!==null?he?he.p(L,Q):(he=$t(L),he.c(),he.m(V,null)):he&&(he.d(1),he=null),L[6]?le&&(Ot(),Me(le,1,1,()=>{le=null}),Mt()):le?(le.p(L,Q),Q[0]&64&&Be(le,1)):(le=el(L),le.c(),Be(le,1),le.m(x,null)),L[6]?ae&&(Ot(),Me(ae,1,1,()=>{ae=null}),Mt()):ae?(ae.p(L,Q),Q[0]&64&&Be(ae,1)):(ae=tl(L),ae.c(),Be(ae,1),ae.m(be,null))},i(L){Re||(Be(t.$$.fragment,L),Be(de.$$.fragment,L),Be(le),Be(ae),Re=!0)},o(L){Me(t.$$.fragment,L),Me(de.$$.fragment,L),Me(le),Me(ae),Re=!1},d(L){L&&f(e),vt(t),xe(ce,L),ue&&ue.d(),Te.d(),Le.d(),he&&he.d(),a[29](null),a[30](null),a[31](null),a[32](null),vt(de),le&&le.d(),ae&&ae.d(),a[34](null)}}}function Gl(a,e,t){let{data:l}=e,n=l.LADToName,i,o,h,d,C,E,m,y,g,p=!0;async function I(){o=await ut(bl()),t(1,h=await ut(Cl())),d=await ut(yl()),o=[...o].sort((D,ie)=>ie.total-D.total),t(1,h=[...h].sort((D,ie)=>ie.total_value-D.total_value)),console.log("aggregationPerCapitaPerBenefit",h),C=d[0].total_value_per_capita,t(2,E=Math.max(...h.map(D=>D.total_value))),t(3,m=Math.min(...h.map(D=>D.total_value))),t(4,y=Math.min(...h.map(D=>D.value_per_capita))),t(5,g=Math.max(...h.map(D=>D.value_per_capita))),t(6,p=!1)}let T=[],V="All",b="total",_=0,F=0;async function M(){const D=Dl({region:V,sortBy:b}),ie=await ut(D);t(7,T=ie),t(10,_=Math.max(...ie.map(re=>re.total_value))),t(11,F=Math.max(...ie.map(re=>re.value_per_capita)))}function N(D){t(8,V=D.detail.region),t(9,b=D.detail.sortBy),M()}let A,z=[],W=null,q,j,w,K,O="",J,U=null,Y=[],R,B=null,G=0,k=0,te;function Ve(D){const ie=A.filter(X=>X.type!=="empty").map(X=>X.type),re=Array.from(new Set(ie)),me=o.reduce((X,x)=>X+x.total,0),de=[{type:null,label:"Total Co-Benefits",icon:null,totalValue:me.toFixed(2),perCapitaValue:C.toFixed(2),percentValue:"100%"},...re.map(X=>{const fe=wt.find(Fe=>Fe.id===X)?.label??X;let Ie=Bt(X);const P=o.find(Fe=>Fe.co_benefit_type===X),$=h.find(Fe=>Fe.co_benefit_type===X),Ne=P?.total??0,Pe=$?.value_per_capita??0,Qe=Ne.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),be=Pe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),ke=me>0?(Ne/me*100).toFixed(2):0;return console.log("percentage",X,Ne,me,ke),{type:X,label:fe,icon:Ie,totalValue:Qe,perCapitaValue:be,percentValue:ke}})];setInterval(()=>{t(24,k=G),t(23,G=(G+1)%de.length);const{type:X,label:x,icon:fe,totalValue:Ie,perCapitaValue:P,percentValue:$}=de[G];t(22,B=X),t(15,w=x),t(16,K=Ie),t(17,O=P),t(18,J=$),t(19,U=fe),ye(D,X)},5e3);const pe=de[0];t(22,B=pe.type),t(15,w=pe.label),t(16,K=pe.totalValue),t(17,O=pe.perCapitaValue),t(18,J=pe.percentValue),ye(D,pe.type),console.log("update display",Y)}function ye(D,ie){if(!W)return;t(12,W.innerHTML="",W);const re=20,me=15,de=Math.floor(D/re),pe=me*de,X=o.reduce((P,$)=>P+$.total,0),x=[];for(const P of o){const $=Math.round(Math.abs(P.total)/X*pe),Ne=P.total<0;for(let Pe=0;Pe<$;Pe++)x.push({type:P.co_benefit_type,negative:Ne})}for(;x.length<pe;)x.push({type:"empty"});x.sort((P,$)=>P.type==="empty"?1:$.type==="empty"?-1:P.negative&&!$.negative?1:!P.negative&&$.negative?-1:0),A=x.map((P,$)=>({x:$%me,y:Math.floor($/me),...P})),z=Array.from(new Set(A.map(P=>P.type).filter(P=>P!=="empty"))),t(20,Y=_l(z));const fe=ie??null,Ie=gt({width:re*me,height:re*de,margin:0,x:{axis:null},y:{axis:null},color:{type:"ordinal",domain:wt.map(P=>P.id),range:ml,unknown:"#eee",legend:!1},marks:[Ut(A.filter(P=>!P.negative),{x:P=>P.x*re,y:P=>P.y*re,fill:"type",fillOpacity:P=>fe&&P.type!==fe?.15:1}),Ut(A.filter(P=>P.negative),{x:P=>P.x*re,y:P=>P.y*re,stroke:"type",strokeOpacity:P=>fe&&P.type!==fe?.15:1,strokeWidth:1,fill:"none"})]});q&&(t(13,q.style.width=`${re*me}px`,q),t(13,q.style.height=`${D}px`,q)),t(12,W.innerHTML="",W),W.append(Ie)}function ve(D){window.open(`${Ye}/location?location=${D}`,"_blank")}ol(()=>{hl(i),I().then(()=>{M();const D=R.getBoundingClientRect().height;ye(D),Ve(D),dl(i)})}),rl(()=>{clearInterval(te)});function Se(D){Je[D?"unshift":"push"](()=>{j=D,t(14,j)})}function Ae(D){Je[D?"unshift":"push"](()=>{q=D,t(13,q)})}function De(D){Je[D?"unshift":"push"](()=>{W=D,t(12,W)})}function ge(D){Je[D?"unshift":"push"](()=>{R=D,t(21,R)})}const Oe=D=>ve(D.detail);function Ze(D){Je[D?"unshift":"push"](()=>{i=D,t(0,i)})}return a.$$set=D=>{"data"in D&&t(28,l=D.data)},a.$$.update=()=>{a.$$.dirty[0]&268435456},[i,h,E,m,y,g,p,T,V,b,_,F,W,q,j,w,K,O,J,U,Y,R,B,G,k,n,N,ve,l,Se,Ae,De,ge,Oe,Ze]}class ea extends pt{constructor(e){super(),bt(this,e,Gl,Rl,$e,{data:28},null,[-1,-1])}}export{ea as component};
