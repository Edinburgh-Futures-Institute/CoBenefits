import{s as Ne,a as L,e as o,g as A,c as i,b as x,p as U,f as _,q as t,x as ue,i as ee,h as a,y as K,z as Te,v as Me,A as fe,w as ke,t as De,d as xe,n as Pe,B as Ve,C as Ie}from"../chunks/scheduler.B9T0ItC_.js";import{S as Ue,i as Fe,c as we,b as Oe,m as He,t as qe,a as ze,d as je}from"../chunks/index.BVM93j1J.js";import{N as Ge,e as de}from"../chunks/NavigationBar.Dr7XlQLH.js";import"../chunks/transform.Cxf8x_5z.js";import"../chunks/index.CqwntdJ0.js";import{M as Ye}from"../chunks/map.DkxRPIdY.js";import{g as ie,d as be,e as Ce,f as Re,h as Je}from"../chunks/duckdb.DPH-CMG7.js";import{C as ve,a as Ke,S as ye,b as Ze,g as Be}from"../chunks/globals.DVxIEOX4.js";function Ee(c,e,l){const s=c.slice();return s[30]=e[l],s}function Le(c,e,l){const s=c.slice();return s[27]=e[l],s}function Qe(c){let e,l,s="Social Economic Factor",p,g,C=de(ye),u=[];for(let d=0;d<C.length;d+=1)u[d]=Ae(Ee(c,C,d));return{c(){e=o("div"),l=o("h2"),l.textContent=s,p=L(),g=o("div");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=i(d,"DIV",{class:!0});var n=x(e);l=i(n,"H2",{"data-svelte-h":!0}),U(l)!=="svelte-1ld89ev"&&(l.textContent=s),p=A(n),g=i(n,"DIV",{id:!0,class:!0});var f=x(g);for(let h=0;h<u.length;h+=1)u[h].l(f);f.forEach(_),n.forEach(_),this.h()},h(){t(g,"id","time"),t(g,"class","svelte-1fc578l"),t(e,"class","tabcontent svelte-1fc578l")},m(d,n){ee(d,e,n),a(e,l),a(e,p),a(e,g);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(g,null)},p(d,n){if(n[0]&514){C=de(ye);let f;for(f=0;f<C.length;f+=1){const h=Ee(d,C,f);u[f]?u[f].p(h,n):(u[f]=Ae(h),u[f].c(),u[f].m(g,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=C.length}},d(d){d&&_(e),ke(u,d)}}}function We(c){let e,l,s,p="Co-Benefits",g,C,u,d,n="Time",f,h,b,I,k,S="Total",B,E,M,j,V="2025-2029",q,N,G,Y,F="2030-2034",ae,R,r,T,w="2035-2039",X,te,Z,H,se="2040-2044",$,le,Q,z,re="2045-2049",oe,ce,J=de(ve.concat({id:"total",label:"Total"})),m=[];for(let v=0;v<J.length;v+=1)m[v]=Se(Le(c,J,v));return{c(){e=o("div"),l=o("div"),s=o("h2"),s.textContent=p,g=L();for(let v=0;v<m.length;v+=1)m[v].c();C=L(),u=o("div"),d=o("h2"),d.textContent=n,f=L(),h=o("div"),b=o("label"),I=o("input"),k=o("span"),k.textContent=S,B=L(),E=o("label"),M=o("input"),j=o("span"),j.textContent=V,q=L(),N=o("label"),G=o("input"),Y=o("span"),Y.textContent=F,ae=L(),R=o("label"),r=o("input"),T=o("span"),T.textContent=w,X=L(),te=o("label"),Z=o("input"),H=o("span"),H.textContent=se,$=L(),le=o("label"),Q=o("input"),z=o("span"),z.textContent=re,this.h()},l(v){e=i(v,"DIV",{class:!0});var D=x(e);l=i(D,"DIV",{class:!0});var y=x(l);s=i(y,"H2",{"data-svelte-h":!0}),U(s)!=="svelte-uglilz"&&(s.textContent=p),g=A(y);for(let ge=0;ge<m.length;ge+=1)m[ge].l(y);y.forEach(_),C=A(D),u=i(D,"DIV",{class:!0});var O=x(u);d=i(O,"H2",{"data-svelte-h":!0}),U(d)!=="svelte-hletp"&&(d.textContent=n),f=A(O),h=i(O,"DIV",{id:!0,class:!0});var P=x(h);b=i(P,"LABEL",{class:!0});var ne=x(b);I=i(ne,"INPUT",{type:!0,name:!0,class:!0}),k=i(ne,"SPAN",{class:!0,"data-svelte-h":!0}),U(k)!=="svelte-2fqrek"&&(k.textContent=S),ne.forEach(_),B=A(P),E=i(P,"LABEL",{class:!0});var W=x(E);M=i(W,"INPUT",{type:!0,name:!0,class:!0}),j=i(W,"SPAN",{class:!0,"data-svelte-h":!0}),U(j)!=="svelte-177152l"&&(j.textContent=V),W.forEach(_),q=A(P),N=i(P,"LABEL",{class:!0});var he=x(N);G=i(he,"INPUT",{type:!0,name:!0,class:!0}),Y=i(he,"SPAN",{class:!0,"data-svelte-h":!0}),U(Y)!=="svelte-sne3j9"&&(Y.textContent=F),he.forEach(_),ae=A(P),R=i(P,"LABEL",{class:!0});var pe=x(R);r=i(pe,"INPUT",{type:!0,name:!0,class:!0}),T=i(pe,"SPAN",{class:!0,"data-svelte-h":!0}),U(T)!=="svelte-13ifhof"&&(T.textContent=w),pe.forEach(_),X=A(P),te=i(P,"LABEL",{class:!0});var me=x(te);Z=i(me,"INPUT",{type:!0,name:!0,class:!0}),H=i(me,"SPAN",{class:!0,"data-svelte-h":!0}),U(H)!=="svelte-1pug1mv"&&(H.textContent=se),me.forEach(_),$=A(P),le=i(P,"LABEL",{class:!0});var _e=x(le);Q=i(_e,"INPUT",{type:!0,name:!0,class:!0}),z=i(_e,"SPAN",{class:!0,"data-svelte-h":!0}),U(z)!=="svelte-3f05xd"&&(z.textContent=re),_e.forEach(_),P.forEach(_),O.forEach(_),D.forEach(_),this.h()},h(){t(l,"class","component"),t(I,"type","radio"),t(I,"name","toggle"),I.value="total",I.checked=!0,t(I,"class","svelte-1fc578l"),t(k,"class","svelte-1fc578l"),t(b,"class","time-radio svelte-1fc578l"),t(M,"type","radio"),t(M,"name","toggle"),M.value="Y2025_2029",t(M,"class","svelte-1fc578l"),t(j,"class","svelte-1fc578l"),t(E,"class","time-radio svelte-1fc578l"),t(G,"type","radio"),t(G,"name","toggle"),G.value="Y2030_2034",t(G,"class","svelte-1fc578l"),t(Y,"class","svelte-1fc578l"),t(N,"class","time-radio svelte-1fc578l"),t(r,"type","radio"),t(r,"name","toggle"),r.value="Y2035_2039",t(r,"class","svelte-1fc578l"),t(T,"class","svelte-1fc578l"),t(R,"class","time-radio svelte-1fc578l"),t(Z,"type","radio"),t(Z,"name","toggle"),Z.value="Y2040_2044",t(Z,"class","svelte-1fc578l"),t(H,"class","svelte-1fc578l"),t(te,"class","time-radio svelte-1fc578l"),t(Q,"type","radio"),t(Q,"name","toggle"),Q.value="Y2045_2049",t(Q,"class","svelte-1fc578l"),t(z,"class","svelte-1fc578l"),t(le,"class","time-radio svelte-1fc578l"),t(h,"id","time"),t(h,"class","svelte-1fc578l"),t(u,"class","component"),t(e,"class","tabcontent svelte-1fc578l")},m(v,D){ee(v,e,D),a(e,l),a(l,s),a(l,g);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(l,null);a(e,C),a(e,u),a(u,d),a(u,f),a(u,h),a(h,b),a(b,I),a(b,k),a(h,B),a(h,E),a(E,M),a(E,j),a(h,q),a(h,N),a(N,G),a(N,Y),a(h,ae),a(h,R),a(R,r),a(R,T),a(h,X),a(h,te),a(te,Z),a(te,H),a(h,$),a(h,le),a(le,Q),a(le,z),oe||(ce=[K(I,"change",c[7]),K(M,"change",c[7]),K(G,"change",c[7]),K(r,"change",c[7]),K(Z,"change",c[7]),K(Q,"change",c[7])],oe=!0)},p(v,D){if(D[0]&64){J=de(ve.concat({id:"total",label:"Total"}));let y;for(y=0;y<J.length;y+=1){const O=Le(v,J,y);m[y]?m[y].p(O,D):(m[y]=Se(O),m[y].c(),m[y].m(l,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=J.length}},d(v){v&&_(e),ke(m,v),oe=!1,Te(ce)}}}function Ae(c){let e,l,s,p,g,C,u,d;return{c(){e=o("input"),s=L(),p=o("label"),g=De(c[30]),C=o("br"),this.h()},l(n){e=i(n,"INPUT",{type:!0,id:!0,name:!0,class:!0}),s=A(n),p=i(n,"LABEL",{for:!0});var f=x(p);g=xe(f,c[30]),f.forEach(_),C=i(n,"BR",{}),this.h()},h(){t(e,"type","radio"),t(e,"id","html"),t(e,"name","fav_language"),e.value=c[30],e.checked=l=c[30]==c[1],t(e,"class","svelte-1fc578l"),t(p,"for","html")},m(n,f){ee(n,e,f),ee(n,s,f),ee(n,p,f),a(p,g),ee(n,C,f),u||(d=K(e,"change",c[9]),u=!0)},p(n,f){f[0]&2&&l!==(l=n[30]==n[1])&&(e.checked=l)},d(n){n&&(_(e),_(s),_(p),_(C)),u=!1,d()}}}function Xe(c){let e,l;return{c(){e=o("img"),this.h()},l(s){e=i(s,"IMG",{style:!0,class:!0,src:!0}),this.h()},h(){Ve(e,"opacity","0"),t(e,"class","icon svelte-1fc578l"),Ie(e.src,l=Be("Air quality"))||t(e,"src",l)},m(s,p){ee(s,e,p)},d(s){s&&_(e)}}}function $e(c){let e,l;return{c(){e=o("img"),this.h()},l(s){e=i(s,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){t(e,"alt","cobenefit icon"),t(e,"class","icon svelte-1fc578l"),Ie(e.src,l=Be(c[27].id))||t(e,"src",l)},m(s,p){ee(s,e,p)},d(s){s&&_(e)}}}function Se(c){let e,l,s,p,g,C=c[27].label+"",u,d,n,f,h,b;function I(B,E){return B[27].id!="total"?$e:Xe}let S=I(c)(c);return{c(){e=o("div"),S.c(),l=L(),s=o("input"),p=L(),g=o("label"),u=De(C),d=L(),n=o("br"),f=L(),this.h()},l(B){e=i(B,"DIV",{class:!0});var E=x(e);S.l(E),l=A(E),s=i(E,"INPUT",{type:!0,name:!0}),p=A(E),g=i(E,"LABEL",{for:!0});var M=x(g);u=xe(M,C),M.forEach(_),d=A(E),n=i(E,"BR",{}),f=A(E),E.forEach(_),this.h()},h(){t(s,"type","radio"),t(s,"name","cobenef"),s.value=c[27].id,s.checked=!0,t(g,"for","css"),t(e,"class","checkbox-div svelte-1fc578l")},m(B,E){ee(B,e,E),S.m(e,null),a(e,l),a(e,s),a(e,p),a(e,g),a(g,u),a(e,d),a(e,n),a(e,f),h||(b=K(s,"change",c[6]),h=!0)},p:Pe,d(B){B&&_(e),S.d(),h=!1,b()}}}function et(c){let e,l,s,p,g=`<h2>Map</h2> <p>This interactive map allows to explore both the co-benefit values and the socio-economic factor at the local
            authorities and datazones levels.</p>`,C,u,d,n,f="",h,b,I="",k,S,B="Export",E,M,j,V,q,N,G="CoBenefits",Y,F,ae=`Socio-Economic
                    Factors`,R,r,T,w,X,te="Local Authorities",Z,H,se,$,le="Data Zones",Q,z,re,oe;e=new Ge({});function ce(v,D){if(v[0]=="Cobenefit")return We;if(v[0]=="SEF")return Qe}let J=ce(c),m=J&&J(c);return{c(){we(e.$$.fragment),l=L(),s=o("div"),p=o("div"),p.innerHTML=g,C=L(),u=o("div"),d=o("div"),n=o("div"),n.innerHTML=f,h=L(),b=o("div"),b.innerHTML=I,k=L(),S=o("button"),S.textContent=B,E=L(),M=o("div"),j=L(),V=o("div"),q=o("div"),N=o("button"),N.textContent=G,Y=L(),F=o("button"),F.textContent=ae,R=L(),r=o("div"),T=o("input"),w=L(),X=o("label"),X.textContent=te,Z=L(),H=o("input"),se=L(),$=o("label"),$.textContent=le,Q=L(),m&&m.c(),this.h()},l(v){Oe(e.$$.fragment,v),l=A(v),s=i(v,"DIV",{class:!0});var D=x(s);p=i(D,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),U(p)!=="svelte-kh4rrc"&&(p.innerHTML=g),C=A(D),u=i(D,"DIV",{id:!0,class:!0});var y=x(u);d=i(y,"DIV",{class:!0,id:!0});var O=x(d);n=i(O,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1ej9vmv"&&(n.innerHTML=f),h=A(O),b=i(O,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(b)!=="svelte-1j653gg"&&(b.innerHTML=I),k=A(O),S=i(O,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),U(S)!=="svelte-zgluur"&&(S.textContent=B),E=A(O),M=i(O,"DIV",{id:!0,class:!0}),x(M).forEach(_),O.forEach(_),j=A(y),V=i(y,"DIV",{class:!0,id:!0});var P=x(V);q=i(P,"DIV",{class:!0});var ne=x(q);N=i(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),U(N)!=="svelte-14nmzoo"&&(N.textContent=G),Y=A(ne),F=i(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),U(F)!=="svelte-xxvynj"&&(F.textContent=ae),ne.forEach(_),R=A(P),r=i(P,"DIV",{class:!0});var W=x(r);T=i(W,"INPUT",{type:!0,name:!0}),w=A(W),X=i(W,"LABEL",{for:!0,"data-svelte-h":!0}),U(X)!=="svelte-p8irzv"&&(X.textContent=te),Z=A(W),H=i(W,"INPUT",{type:!0,name:!0}),se=A(W),$=i(W,"LABEL",{for:!0,"data-svelte-h":!0}),U($)!=="svelte-1ytveqc"&&($.textContent=le),W.forEach(_),Q=A(P),m&&m.l(P),P.forEach(_),y.forEach(_),D.forEach(_),this.h()},h(){t(p,"class","component"),t(p,"id","heaser"),t(n,"id","map"),t(n,"class","svelte-1fc578l"),t(b,"id","map-legend"),t(b,"class","svelte-1fc578l"),t(S,"id","export-button"),t(S,"class","svelte-1fc578l"),t(M,"id","tooltip"),t(M,"class","tooltip svelte-1fc578l"),t(d,"class","component column svelte-1fc578l"),t(d,"id","mapComp"),t(N,"class","tablinks svelte-1fc578l"),N.value="Cobenefit",ue(N,"active",c[0]=="Cobenefit"),t(F,"class","tablinks svelte-1fc578l"),F.value="SEF",ue(F,"active",c[0]=="SEF"),t(q,"class","tab svelte-1fc578l"),t(T,"type","radio"),t(T,"name","granularity"),T.value="LAD",T.checked=!0,t(X,"for","LAD"),t(H,"type","radio"),t(H,"name","granularity"),H.value="LSOA",t($,"for","LSOA"),t(r,"class","component"),t(V,"class","component column svelte-1fc578l"),t(V,"id","control-panel"),t(u,"id","map-row"),t(u,"class","row svelte-1fc578l"),t(s,"class","page-container svelte-1fc578l")},m(v,D){He(e,v,D),ee(v,l,D),ee(v,s,D),a(s,p),a(s,C),a(s,u),a(u,d),a(d,n),c[18](n),a(d,h),a(d,b),c[19](b),a(d,k),a(d,S),c[20](S),a(d,E),a(d,M),a(u,j),a(u,V),a(V,q),a(q,N),a(q,Y),a(q,F),a(V,R),a(V,r),a(r,T),a(r,w),a(r,X),a(r,Z),a(r,H),a(r,se),a(r,$),a(V,Q),m&&m.m(V,null),c[21](s),z=!0,re||(oe=[K(S,"click",tt),K(N,"click",c[8]),K(F,"click",c[8]),K(T,"change",c[10]),K(H,"change",c[10])],re=!0)},p(v,D){(!z||D[0]&1)&&ue(N,"active",v[0]=="Cobenefit"),(!z||D[0]&1)&&ue(F,"active",v[0]=="SEF"),J===(J=ce(v))&&m?m.p(v,D):(m&&m.d(1),m=J&&J(v),m&&(m.c(),m.m(V,null)))},i(v){z||(qe(e.$$.fragment,v),z=!0)},o(v){ze(e.$$.fragment,v),z=!1},d(v){v&&(_(l),_(s)),je(e,v),c[18](null),c[19](null),c[20](null),m&&m.d(),c[21](null),re=!1,Te(oe)}}}function tt(){const e=document.getElementsByClassName("maplibregl-canvas")[0].toDataURL("image/png");var l=document.createElement("a");l.download="map.png",l.href=e,l.dataset.downloadurl=["image/png",l.download,l.href].join(":"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function lt(c,e,l){let{data:s}=e,p,g,C,u,d,n,f="Cobenefit",h="BNZ",b=ve.map(r=>r.id),I="total",k="LAD",S="EPC",B;function E(){C=n.legend(M()),l(4,u.innerHTML="",u),u.append(C)}function M(){if(f=="SEF")return`${S} (${Ze(S)})`;if(f=="Cobenefit")return"Cobenefits (Millions of £)"}Me(async()=>{let r;k=="LAD"?r=await ie(be(Array.from(b),"UK",I)):k=="LSOA"&&(r=await ie(Ce(Array.from(b),h,I))),l(12,n=new Ye(r,k,g,"val",!0,"Lookup_Value",!0)),n.initMap(),C=n.legend(),u.append(C)});const j=r=>{const T=r.currentTarget.value;T=="total"?l(14,b=ve.map(w=>w.id)):l(14,b=[T])},V=r=>{const T=r.currentTarget.value;l(15,I=T)};function q(r,T){l(0,f=r.currentTarget.value)}const N=r=>{l(1,S=r.currentTarget.value)},G=r=>{n.removeLayers(),n.removeSources(),l(16,k=r.currentTarget.value),l(12,n.granularity=k,n),k=="LSOA"?l(12,n.border=!1,n):l(12,n.border=!0,n)};function Y(r){fe[r?"unshift":"push"](()=>{g=r,l(3,g)})}function F(r){fe[r?"unshift":"push"](()=>{u=r,l(4,u)})}function ae(r){fe[r?"unshift":"push"](()=>{d=r,l(5,d)})}function R(r){fe[r?"unshift":"push"](()=>{p=r,l(2,p)})}return c.$$set=r=>{"data"in r&&l(11,s=r.data)},c.$$.update=()=>{c.$$.dirty[0]&258051&&n?.loaded&&(f=="Cobenefit"?k=="LAD"?l(17,B=ie(be(Array.from(b),"UK",I))):k=="LSOA"&&l(17,B=ie(Ce(Array.from(b),h,I))):l(0,f="SEF")&&(k=="LAD"?l(17,B=ie(Re(S))):k=="LSOA"&&l(17,B=ie(Je(S)))),B.then(r=>{let T=!1;n.map.getStyle().layers.length==0&&(T=!0);let w;f=="Cobenefit"?b.length==1?(w=JSON.parse(JSON.stringify(Ke(b[0]))),w.shift(),w=w.reverse()):w=["red","white","black"]:w=["white","black"],n.update(r,f,T,w),E()}))},[f,S,p,g,u,d,j,V,q,N,G,s,n,h,b,I,k,B,Y,F,ae,R]}class ft extends Ue{constructor(e){super(),Fe(this,e,lt,et,Ne,{data:11},null,[-1,-1])}}export{ft as component};
