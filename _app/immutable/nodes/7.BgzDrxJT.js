import{s as Gt,d as Nt,n as Pt,r as Kt,o as Xt,e as it}from"../chunks/scheduler.BeRBkMKz.js";import{S as Yt,i as Wt,e as i,s as m,t as I,c as n,a as g,m as U,f as _,b as L,d as v,n as l,g as Ut,h as t,o as Rt,p as Jt}from"../chunks/index.Bcj7SUoL.js";import{e as zt}from"../chunks/each.-gASlQSi.js";import"../chunks/transform.Cz5Y6iUM.js";import{l as nt,o as Qt}from"../chunks/index.CQsWoii3.js";import{M as Zt}from"../chunks/map.C0kQpGCl.js";import{S as kt,A as $t,T as te,a as ee,M as ae}from"../chunks/globals.Duo7gXU0.js";import{d as wt}from"../chunks/dot.CRQ6A7ih.js";import{b as le,a as se,c as ie}from"../chunks/bar.BWslpL73.js";function jt(a,s,o){const c=a.slice();return c[19]=s[o],c[20]=s,c[21]=o,c}function qt(a){let s,o="",c=a[19];const C=()=>a[10](s,c),T=()=>a[10](null,c);return{c(){s=i("div"),s.innerHTML=o,this.h()},l(d){s=n(d,"DIV",{class:!0,"data-svelte-h":!0}),U(s)!=="svelte-18okkjt"&&(s.innerHTML=o),this.h()},h(){l(s,"class","plot")},m(d,h){Ut(d,s,h),C()},p(d,h){a=d,c!==a[19]&&(T(),c=a[19],C())},d(d){d&&v(s),T()}}}function ne(a){let s,o,c,C="Co-Benefit Report",T,d,h,J,G,Q,N,b,Z,$,tt,et,x,S,u,e,y,D,rt,F,ot,H,It="Barchart",ct,dt,P,ut,R,Lt="Distribution",ht,K,V,At="",pt,k,z,ft,vt,mt,w,Bt="Scroll for zooming in and out.",gt,A,xt="",_t,B,j,bt,yt,Et,O,Ct,Ft,X=zt(kt),p=[];for(let f=0;f<X.length;f+=1)p[f]=qt(jt(a,X,f));return{c(){s=i("div"),o=i("div"),c=i("p"),c.textContent=C,T=m(),d=i("h1"),h=i("img"),G=m(),Q=I(a[4]),N=m(),b=i("p"),Z=I("Total cost benefit regarding "),$=I(a[4]),tt=I(": [TOTAL]"),et=m(),x=i("div"),S=i("div"),u=i("div"),e=i("h3"),y=I(a[4]),D=I(" Total Cost Benefit Over Time"),rt=m(),F=i("input"),ot=m(),H=i("label"),H.textContent=It,ct=i("br"),dt=m(),P=i("input"),ut=m(),R=i("label"),R.textContent=Lt,ht=m(),K=i("div"),V=i("div"),V.innerHTML=At,pt=m(),k=i("div"),z=i("h3"),ft=I(a[4]),vt=I(" on UK Map"),mt=m(),w=i("p"),w.textContent=Bt,gt=m(),A=i("div"),A.innerHTML=xt,_t=m(),B=i("div"),j=i("h3"),bt=I(a[4]),yt=I(" Cost Benefit by Socio Economic Factors"),Et=m(),O=i("div");for(let f=0;f<p.length;f+=1)p[f].c();this.h()},l(f){s=n(f,"DIV",{class:!0});var M=g(s);o=n(M,"DIV",{class:!0});var r=g(o);c=n(r,"P",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-1flv0v9"&&(c.textContent=C),T=_(r),d=n(r,"H1",{class:!0});var q=g(d);h=n(q,"IMG",{src:!0,alt:!0,class:!0}),G=_(q),Q=L(q,a[4]),q.forEach(v),N=_(r),b=n(r,"P",{class:!0});var at=g(b);Z=L(at,"Total cost benefit regarding "),$=L(at,a[4]),tt=L(at,": [TOTAL]"),at.forEach(v),r.forEach(v),et=_(M),x=n(M,"DIV",{class:!0});var Vt=g(x);S=n(Vt,"DIV",{id:!0,class:!0});var lt=g(S);u=n(lt,"DIV",{class:!0});var E=g(u);e=n(E,"H3",{class:!0});var Tt=g(e);y=L(Tt,a[4]),D=L(Tt," Total Cost Benefit Over Time"),Tt.forEach(v),rt=_(E),F=n(E,"INPUT",{type:!0,name:!0}),ot=_(E),H=n(E,"LABEL",{for:!0,"data-svelte-h":!0}),U(H)!=="svelte-1hwbt9c"&&(H.textContent=It),ct=n(E,"BR",{}),dt=_(E),P=n(E,"INPUT",{type:!0,name:!0}),ut=_(E),R=n(E,"LABEL",{for:!0,"data-svelte-h":!0}),U(R)!=="svelte-27dm33"&&(R.textContent=Lt),ht=_(E),K=n(E,"DIV",{class:!0});var Ot=g(K);V=n(Ot,"DIV",{class:!0,"data-svelte-h":!0}),U(V)!=="svelte-1nzb2m5"&&(V.innerHTML=At),Ot.forEach(v),E.forEach(v),pt=_(lt),k=n(lt,"DIV",{class:!0});var Y=g(k);z=n(Y,"H3",{class:!0});var Dt=g(z);ft=L(Dt,a[4]),vt=L(Dt," on UK Map"),Dt.forEach(v),mt=_(Y),w=n(Y,"P",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-1ask2se"&&(w.textContent=Bt),gt=_(Y),A=n(Y,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),U(A)!=="svelte-1ej9vmv"&&(A.innerHTML=xt),Y.forEach(v),lt.forEach(v),Vt.forEach(v),_t=_(M),B=n(M,"DIV",{id:!0,class:!0});var st=g(B);j=n(st,"H3",{class:!0});var St=g(j);bt=L(St,a[4]),yt=L(St," Cost Benefit by Socio Economic Factors"),St.forEach(v),Et=_(st),O=n(st,"DIV",{id:!0,class:!0});var Ht=g(O);for(let Mt=0;Mt<p.length;Mt+=1)p[Mt].l(Ht);Ht.forEach(v),st.forEach(v),M.forEach(v),this.h()},h(){l(c,"class","page-subtitle"),Nt(h.src,J=$t)||l(h,"src",J),l(h,"alt","Icon"),l(h,"class","heading-icon svelte-1hrrvdo"),l(d,"class","page-title"),l(b,"class","description"),l(o,"class","section header"),l(e,"class","component-title"),l(F,"type","radio"),l(F,"name","visType"),F.value="barchart",F.checked=!0,l(H,"for","html"),l(P,"type","radio"),l(P,"name","visType"),P.value="distribution",l(R,"for","javascript"),l(V,"class","plot"),l(K,"class","component row"),l(u,"class","component singlevis"),l(z,"class","component-title"),l(w,"class","description"),l(A,"id","map"),l(A,"class","svelte-1hrrvdo"),l(k,"class","component column"),l(S,"id","vis-block"),l(S,"class","svelte-1hrrvdo"),l(x,"class","section"),l(j,"class","component-title"),l(O,"id","multiple-plots"),l(O,"class","svelte-1hrrvdo"),l(B,"id","multiple-comp"),l(B,"class","component svelte-1hrrvdo"),l(s,"class","page-container")},m(f,M){Ut(f,s,M),t(s,o),t(o,c),t(o,T),t(o,d),t(d,h),t(d,G),t(d,Q),t(o,N),t(o,b),t(b,Z),t(b,$),t(b,tt),t(s,et),t(s,x),t(x,S),t(S,u),t(u,e),t(e,y),t(e,D),t(u,rt),t(u,F),t(u,ot),t(u,H),t(u,ct),t(u,dt),t(u,P),t(u,ut),t(u,R),t(u,ht),t(u,K),t(K,V),a[8](V),t(S,pt),t(S,k),t(k,z),t(z,ft),t(z,vt),t(k,mt),t(k,w),t(k,gt),t(k,A),a[9](A),t(s,_t),t(s,B),t(B,j),t(j,bt),t(j,yt),t(B,Et),t(B,O);for(let r=0;r<p.length;r+=1)p[r]&&p[r].m(O,null);a[11](s),Ct||(Ft=[Rt(F,"change",a[5]),Rt(P,"change",a[5])],Ct=!0)},p(f,[M]){if(M&2){X=zt(kt);let r;for(r=0;r<X.length;r+=1){const q=jt(f,X,r);p[r]?p[r].p(q,M):(p[r]=qt(q),p[r].c(),p[r].m(O,null))}for(;r<p.length;r+=1)p[r].d(1);p.length=X.length}},i:Pt,o:Pt,d(f){f&&v(s),a[8](null),a[9](null),Jt(p,f),a[11](null),Ct=!1,Kt(Ft)}}}let W=400;function re(a,s,o){let c,C,T={},d="barchart",{data:h}=s;const J=h.data,G=h.SEFData,Q=h.coBenefit;h.LAD;let N,b;Xt(()=>{N=new Zt(J,"LSOA",b,"total"),N.initMap()});function Z(){let e=J.flatMap(y=>te.map(D=>({time:D,value:y[D],total:y.total,scenario:y.scenario})));d=="barchart"?C?.append(nt({height:W/1.4,...ae,style:{fontSize:"18px"},x:{type:"band"},marks:[le(e,Qt({y:"mean"},{x:"time",y:"value",fill:"#71C35D",tip:!0,fillOpacity:.8,ry1:5,insetLeft:15,insetRight:15}))]})):d=="distribution"&&C?.append(nt({height:W/1.4,marginLeft:60,marginRight:60,y:{label:"Datazones Frequency"},style:{fontSize:"18px"},marks:[se(e,ie({y:"count"},{x:"total",fill:"#71C35D",tip:!0,fillOpacity:.5,stroke:"#71C35D",strokeWidth:3}))]}))}function $(){kt.forEach(e=>{let y;ee.includes(e)?y=nt({height:W,width:W,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:e,type:"band",tickFormat:D=>Math.floor(D)},style:{fontSize:"18px"},color:{legend:!0},marks:[wt(G.filter(D=>D.SEFMAME==e),{x:"SE",y:"total",stroke:"#71C35D",r:1,strokeOpacity:.2})]}):y=nt({height:W,width:W,marginLeft:80,marginBottom:60,marginRight:30,marginTop:60,y:{grid:!0,label:"mean value (£)"},x:{grid:!0,label:e},style:{fontSize:"18px"},color:{legend:!0},marks:[wt(G.filter(D=>D.SEFMAME==e),{x:"SE",y:"total",stroke:"#71C35D",r:1,strokeOpacity:.2})]}),T[e]?.append(y)})}function tt(e){o(7,d=e.currentTarget.value)}function et(e){it[e?"unshift":"push"](()=>{C=e,o(0,C)})}function x(e){it[e?"unshift":"push"](()=>{b=e,o(3,b)})}function S(e,y){it[e?"unshift":"push"](()=>{T[y]=e,o(1,T)})}function u(e){it[e?"unshift":"push"](()=>{c=e,o(2,c)})}return a.$$set=e=>{"data"in e&&o(6,h=e.data)},a.$$.update=()=>{a.$$.dirty&131&&(C?.firstChild?.remove(),Object.values(T).forEach(e=>{e.firstChild?.remove()}),Z(),$())},[C,T,c,b,Q,tt,h,d,et,x,S,u]}class ge extends Yt{constructor(s){super(),Wt(this,s,re,ne,Gt,{data:6})}}export{ge as component};
