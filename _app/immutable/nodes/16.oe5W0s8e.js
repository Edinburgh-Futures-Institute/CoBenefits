import{s as vr,a as y,e as r,t as w,H as Al,g as E,c as o,b,p as K,d as A,f as p,A as xl,q as s,v as ke,i as Le,h as e,w as Cl,j as ge,x as Ns,E as pr,y as mr,z as br,n as gr,B as Lt}from"../chunks/scheduler.CM2kgFFE.js";import{S as _r,i as yr,c as Er,b as Cr,m as wr,t as Ar,a as xr,d as kr}from"../chunks/index.BdkIKoLm.js";import{N as Lr,e as Fn}from"../chunks/NavigationBar.RMTwuz63.js";import"../chunks/transform.BNP73y-7.js";import{_ as nr,$ as sr,a4 as Xn,q as Dr,r as Sr,M as rr,aH as or,S as Tr,c as ir,b as cr,d as ur,aI as jr,e as fr,aJ as Ir,aK as Mr,U as dr,V as ra,h as Pr,i as qr,aL as Nr,aM as zr,aN as Vr,aO as Br,l as Hr,F as Rr,X as Un,G as qe,K as Or,Q as ta,J as Gn,R as it,N as Re,H as zs,W as Vs,aP as Fr}from"../chunks/index.Cf31Cquo.js";import{b as Zn}from"../chunks/paths.DCupILFy.js";import"../chunks/entry.XuBO363b.js";import{M as Ur,g as Bs}from"../chunks/mapUK.THE0Yttl.js";import{V as St,A as _e,i as na,a as sa,c as Hs,s as Gr,r as Wr,M as $e,S as Kr,d as Rs,e as la,h as Os,u as Yr,v as Xr,T as Wn,f as Zr}from"../chunks/globals.BLAqNn5N.js";import{g as Oe,s as Fs,t as Jr,k as Us,u as Qr,v as Gs,w as $r,x as eo,r as to}from"../chunks/duckdb.Bvhm73l5.js";import{a as Kn,b as Ft}from"../chunks/bar.55DeQ-Cj.js";import{m as lo,c as Ws,s as ao,a as wl}from"../chunks/area.Dpv9b8HZ.js";import{t as no,m as so,b as aa}from"../chunks/bin.DMXN4KNH.js";import{n as ro}from"../chunks/nice.CkxMAkq4.js";import{d as Ks}from"../chunks/dot.Ceg8fW3p.js";const oo=io(co);function io(t){return function(l,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!n&&!a)return l;const v=n&&t(n),C=a&&t(a),f=u.slice();return v&&C?(_l(v,f,u,i,c),_l(v,u,f,i,c),_l(v,f,u,i,c),yl(C,u,f,i,c),yl(C,f,u,i,c),yl(C,u,f,i,c)):v?(_l(v,u,f,i,c),_l(v,f,u,i,c),_l(v,u,f,i,c)):C&&(yl(C,u,f,i,c),yl(C,f,u,i,c),yl(C,u,f,i,c)),l}}function _l(t,l,n,a,u){for(let i=0,c=a*u;i<c;)t(l,n,i,i+=a,1)}function yl(t,l,n,a,u){for(let i=0,c=a*u;i<a;++i)t(l,n,i,i+c,a)}function co(t){const l=Math.floor(t);if(l===t)return uo(t);const n=t-l,a=2*t+1;return(u,i,c,v,C)=>{if(!((v-=C)>=c))return;let f=l*i[c];const h=C*l,k=h+C;for(let _=c,D=c+h;_<D;_+=C)f+=i[Math.min(v,_)];for(let _=c,D=v;_<=D;_+=C)f+=i[Math.min(v,_+h)],u[_]=(f+n*(i[Math.max(c,_-k)]+i[Math.min(v,_+k)]))/a,f-=i[Math.max(c,_-h)]}}function uo(t){const l=2*t+1;return(n,a,u,i,c)=>{if(!((i-=c)>=u))return;let v=t*a[u];const C=c*t;for(let f=u,h=u+C;f<h;f+=c)v+=a[Math.min(i,f)];for(let f=u,h=i;f<=h;f+=c)v+=a[Math.min(i,f+C)],n[f]=v/l,v-=a[Math.max(u,f-C)]}}var fo=Array.prototype,hr=fo.slice;function ho(t,l){return t-l}function vo(t){for(var l=0,n=t.length,a=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++l<n;)a+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return a}const Dt=t=>()=>t;function po(t,l){for(var n=-1,a=l.length,u;++n<a;)if(u=mo(t,l[n]))return u;return 0}function mo(t,l){for(var n=l[0],a=l[1],u=-1,i=0,c=t.length,v=c-1;i<c;v=i++){var C=t[i],f=C[0],h=C[1],k=t[v],_=k[0],D=k[1];if(bo(C,k,l))return 0;h>a!=D>a&&n<(_-f)*(a-h)/(D-h)+f&&(u=-u)}return u}function bo(t,l,n){var a;return go(t,l,n)&&_o(t[a=+(t[0]===l[0])],n[a],l[a])}function go(t,l,n){return(l[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(l[1]-t[1])}function _o(t,l,n){return t<=l&&l<=n||n<=l&&l<=t}function yo(){}var ct=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ys(){var t=1,l=1,n=no,a=C;function u(f){var h=n(f);if(Array.isArray(h))h=h.slice().sort(ho);else{const k=nr(f,Eo);for(h=sr(...ro(k[0],k[1],h),h);h[h.length-1]>=k[1];)h.pop();for(;h[1]<k[0];)h.shift()}return h.map(k=>i(f,k))}function i(f,h){const k=h==null?NaN:+h;if(isNaN(k))throw new Error(`invalid value: ${h}`);var _=[],D=[];return c(f,k,function(L){a(L,f,k),vo(L)>0?_.push([L]):D.push(L)}),D.forEach(function(L){for(var x=0,I=_.length,g;x<I;++x)if(po((g=_[x])[0],L)!==-1){g.push(L);return}}),{type:"MultiPolygon",value:h,coordinates:_}}function c(f,h,k){var _=new Array,D=new Array,L,x,I,g,m,S;for(L=x=-1,g=Ut(f[0],h),ct[g<<1].forEach(j);++L<t-1;)I=g,g=Ut(f[L+1],h),ct[I|g<<1].forEach(j);for(ct[g<<0].forEach(j);++x<l-1;){for(L=-1,g=Ut(f[x*t+t],h),m=Ut(f[x*t],h),ct[g<<1|m<<2].forEach(j);++L<t-1;)I=g,g=Ut(f[x*t+t+L+1],h),S=m,m=Ut(f[x*t+L+1],h),ct[I|g<<1|m<<2|S<<3].forEach(j);ct[g|m<<3].forEach(j)}for(L=-1,m=f[x*t]>=h,ct[m<<2].forEach(j);++L<t-1;)S=m,m=Ut(f[x*t+L+1],h),ct[m<<2|S<<3].forEach(j);ct[m<<3].forEach(j);function j(P){var B=[P[0][0]+L,P[0][1]+x],q=[P[1][0]+L,P[1][1]+x],G=v(B),H=v(q),M,N;(M=D[G])?(N=_[H])?(delete D[M.end],delete _[N.start],M===N?(M.ring.push(q),k(M.ring)):_[M.start]=D[N.end]={start:M.start,end:N.end,ring:M.ring.concat(N.ring)}):(delete D[M.end],M.ring.push(q),D[M.end=H]=M):(M=_[H])?(N=D[G])?(delete _[M.start],delete D[N.end],M===N?(M.ring.push(q),k(M.ring)):_[N.start]=D[M.end]={start:N.start,end:M.end,ring:N.ring.concat(M.ring)}):(delete _[M.start],M.ring.unshift(B),_[M.start=G]=M):_[G]=D[H]={start:G,end:H,ring:[B,q]}}}function v(f){return f[0]*2+f[1]*(t+1)*4}function C(f,h,k){f.forEach(function(_){var D=_[0],L=_[1],x=D|0,I=L|0,g=Yn(h[I*t+x]);D>0&&D<t&&x===D&&(_[0]=Xs(D,Yn(h[I*t+x-1]),g,k)),L>0&&L<l&&I===L&&(_[1]=Xs(L,Yn(h[(I-1)*t+x]),g,k))})}return u.contour=i,u.size=function(f){if(!arguments.length)return[t,l];var h=Math.floor(f[0]),k=Math.floor(f[1]);if(!(h>=0&&k>=0))throw new Error("invalid size");return t=h,l=k,u},u.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?Dt(hr.call(f)):Dt(f),u):n},u.smooth=function(f){return arguments.length?(a=f?C:yo,u):a===C},u}function Eo(t){return isFinite(t)?t:NaN}function Ut(t,l){return t==null?!1:+t>=l}function Yn(t){return t==null||isNaN(t=+t)?-1/0:t}function Xs(t,l,n,a){const u=a-l,i=n-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function Co(t){return t[0]}function wo(t){return t[1]}function Ao(){return 1}function xo(){var t=Co,l=wo,n=Ao,a=960,u=500,i=20,c=2,v=i*3,C=a+v*2>>c,f=u+v*2>>c,h=Dt(20);function k(m){var S=new Float32Array(C*f),j=Math.pow(2,-c),P=-1;for(const z of m){var B=(t(z,++P,m)+v)*j,q=(l(z,P,m)+v)*j,G=+n(z,P,m);if(G&&B>=0&&B<C&&q>=0&&q<f){var H=Math.floor(B),M=Math.floor(q),N=B-H-.5,re=q-M-.5;S[H+M*C]+=(1-N)*(1-re)*G,S[H+1+M*C]+=N*(1-re)*G,S[H+1+(M+1)*C]+=N*re*G,S[H+(M+1)*C]+=(1-N)*re*G}}return oo({data:S,width:C,height:f},i*j),S}function _(m){var S=k(m),j=h(S),P=Math.pow(2,2*c);return Array.isArray(j)||(j=sr(Number.MIN_VALUE,Xn(S)/P,j)),Ys().size([C,f]).thresholds(j.map(B=>B*P))(S).map((B,q)=>(B.value=+j[q],D(B)))}_.contours=function(m){var S=k(m),j=Ys().size([C,f]),P=Math.pow(2,2*c),B=q=>{q=+q;var G=D(j.contour(S,q*P));return G.value=q,G};return Object.defineProperty(B,"max",{get:()=>Xn(S)/P}),B};function D(m){return m.coordinates.forEach(L),m}function L(m){m.forEach(x)}function x(m){m.forEach(I)}function I(m){m[0]=m[0]*Math.pow(2,c)-v,m[1]=m[1]*Math.pow(2,c)-v}function g(){return v=i*3,C=a+v*2>>c,f=u+v*2>>c,_}return _.x=function(m){return arguments.length?(t=typeof m=="function"?m:Dt(+m),_):t},_.y=function(m){return arguments.length?(l=typeof m=="function"?m:Dt(+m),_):l},_.weight=function(m){return arguments.length?(n=typeof m=="function"?m:Dt(+m),_):n},_.size=function(m){if(!arguments.length)return[a,u];var S=+m[0],j=+m[1];if(!(S>=0&&j>=0))throw new Error("invalid size");return a=S,u=j,g()},_.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),g()},_.thresholds=function(m){return arguments.length?(h=typeof m=="function"?m:Array.isArray(m)?Dt(hr.call(m)):Dt(m),_):h},_.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,g()},_}const ko={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Lo extends rr{constructor(l,n={}){const{x:a,y:u,z:i,curve:c,tension:v}=n;super(l,{x:{value:a,scale:"x"},y:{value:u,scale:"y"},z:{value:or(n),optional:!0}},n,ko),this.z=i,this.curve=lo(c,v),Tr(this,n)}filter(l){return l}project(l,n,a){this.curve!==Ws&&super.project(l,n,a)}render(l,n,a,u,i){const{x:c,y:v}=a,{curve:C}=this;return ir("svg:g",i).call(cr,this,u,i).call(ur,this,n).call(f=>f.selectAll().data(jr(l,[c,v],this,a)).enter().append("path").call(fr,this).call(Ir,this,a).call(Mr,this,a,i).attr("d",C===Ws&&i.projection?Do(i.projection,c,v):ao().curve(C).defined(h=>h>=0).x(h=>c[h]).y(h=>v[h]))).node()}}function Do(t,l,n){const a=dr(t);return l=ra(l),n=ra(n),u=>{let i=[];const c=[i];for(const v of u)v===-1?(i=[],c.push(i)):i.push([l[v],n[v]]);return a({type:"MultiLineString",coordinates:c})}}function So(t,{x:l=Dr,y:n=Sr,...a}={}){return new Lo(t,so({...a,x:l,y:n}))}const To={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class jo extends rr{constructor(l,{x:n,y:a,z:u,weight:i,fill:c,stroke:v,...C}={}){const f=Js(c)&&(c="currentColor",!0),h=Js(v)&&(v="currentColor",!0);super(l,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:or({z:u,fill:c,stroke:v}),optional:!0},weight:{value:i,optional:!0}},Mo({...C,fill:c,stroke:v},f,h),To),f&&(this.fill=void 0),h&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,n,a,u,i){const{contours:c}=a,v=dr();return ir("svg:g",i).call(cr,this,u,i).call(ur,this,{}).call(C=>C.selectAll().data(l).enter().append("path").call(fr,this).call(Pr,this,a).attr("d",f=>v(c[f]))).node()}}function Zs(t,{x:l,y:n,...a}={}){return[l,n]=qr(l,n),new jo(t,{...a,x:l,y:n})}const Io=new Set(["x","y","z","weight"]);function Mo(t,l,n){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?ra(i):+i,Nr(t,function(c,v,C,f,h,k){const _=C.weight?ra(C.weight.value):null,D=C.z?.value,{z:L}=this,[x,I]=Hr(this,h),{width:g,height:m}=h,{x:S,y:j}=zr(C,f,k),P=Object.fromEntries(Object.entries(C).filter(([z])=>!Io.has(z)).map(([z,Q])=>[z,{...Q,value:[]}])),B=l&&[],q=n&&[],G=xo().x(S?z=>S[z]:x).y(j?z=>j[z]:I).weight(_?z=>_[z]:1).size([g,m]).bandwidth(u),H=[];for(const z of v){const Q=[];H.push(Q);for(const ae of D?Vr(z,D,L):[z]){const F=G.contours(ae);Q.push([ae,F])}}let M=i;if(!(M instanceof Br)){let z=0;for(const Q of H)for(const[,ae]of Q){const F=ae.max;F>z&&(z=F)}M=Float64Array.from({length:i-1},(Q,ae)=>z*100*(ae+1)/i)}const N=[],re=[];for(const z of H){const Q=[];N.push(Q);for(const[ae,F]of z)for(const ie of M){Q.push(re.length),re.push(F(ie/100)),B&&B.push(ie),q&&q.push(ie);for(const ve in P)P[ve].value.push(C[ve].value[ae[0]])}}return B&&B.push(0),q&&q.push(0),{data:c,facets:N,channels:{...P,...B&&{fill:{value:B,scale:"color"}},...q&&{stroke:{value:q,scale:"color"}},contours:{value:re}}}})}function Js(t){return/^density$/i.test(t)}function Qs(t,l,n){const a=t.slice();return a[56]=l[n],a[57]=l,a[58]=n,a}function Po(t,l,n){const a=t.slice();return a[59]=l[n],a}function $s(t){let l,n,a,u=t[19][t[18]]+"",i,c,v,C=ar(t[16])+"",f,h=t[9]&&er(t);return{c(){l=r("div"),n=r("div"),a=r("span"),i=w(u),c=y(),h&&h.c(),v=w(`\r
              >> `),f=w(C),this.h()},l(k){l=o(k,"DIV",{class:!0});var _=b(l);n=o(_,"DIV",{class:!0});var D=b(n);a=o(D,"SPAN",{class:!0});var L=b(a);i=A(L,u),c=E(L),h&&h.l(L),v=A(L,`\r
              >> `),f=A(L,C),L.forEach(p),D.forEach(p),_.forEach(p),this.h()},h(){s(a,"class","mini-header-text"),s(n,"class","mini-header-content"),s(l,"class","mini-header")},m(k,_){Le(k,l,_),e(l,n),e(n,a),e(a,i),e(a,c),h&&h.m(a,null),e(a,v),e(a,f)},p(k,_){k[9]?h?h.p(k,_):(h=er(k),h.c(),h.m(a,v)):h&&(h.d(1),h=null),_[0]&65536&&C!==(C=ar(k[16])+"")&&ge(f,C)},d(k){k&&p(l),h&&h.d()}}}function er(t){let l,n,a=t[9].toLocaleString()+"",u,i;return{c(){l=r("span"),n=w("(Total: £"),u=w(a),i=w(" billion)"),this.h()},l(c){l=o(c,"SPAN",{class:!0});var v=b(l);n=A(v,"(Total: £"),u=A(v,a),i=A(v," billion)"),v.forEach(p),this.h()},h(){s(l,"class","mini-header-value")},m(c,v){Le(c,l,v),e(l,n),e(l,u),e(l,i)},p(c,v){v[0]&512&&a!==(a=c[9].toLocaleString()+"")&&ge(u,a)},d(c){c&&p(l)}}}function tr(t){let l,n,a,u,i=t[20](t[9],t[11],St)+"",c,v,C,f=t[9].toLocaleString()+"",h,k,_,D="billion",L,x,I,g=t[20](t[13],t[11],_e)+"",m,S,j,P,B,q=t[20](t[10],t[12],St)+"",G,H,M,N=t[10].toLocaleString()+"",re,z,Q,ae,F,ie,ve=t[20](t[14],t[12],_e)+"",ce,Ne,ye,ne,$,ue,fe;function Te(O,le){return O[9]>0?No:qo}let Ee=Te(t),se=Ee(t);function De(O,le){return O[9]>0?Vo:zo}let de=De(t),Ae=de(t);return{c(){l=r("div"),n=r("div"),a=r("div"),u=new Al(!1),c=y(),v=r("span"),C=w("£"),h=w(f),k=y(),_=r("span"),_.textContent=D,L=y(),x=r("div"),I=new Al(!1),m=y(),se.c(),S=y(),j=r("div"),P=r("div"),B=new Al(!1),G=y(),H=r("span"),M=w("£"),re=w(N),z=y(),Q=r("span"),ae=y(),F=r("div"),ie=new Al(!1),ce=y(),Ae.c(),Ne=y(),ye=r("span"),ne=r("i"),$=w("Grey bars indicate average value for "),ue=r("span"),fe=w(t[7]),this.h()},l(O){l=o(O,"DIV",{class:!0});var le=b(l);n=o(le,"DIV",{class:!0});var Ue=b(n);a=o(Ue,"DIV",{class:!0});var he=b(a);u=xl(he,!1),c=E(he),v=o(he,"SPAN",{class:!0});var d=b(v);C=A(d,"£"),h=A(d,f),d.forEach(p),k=E(he),_=o(he,"SPAN",{class:!0,"data-svelte-h":!0}),K(_)!=="svelte-tlhydp"&&(_.textContent=D),he.forEach(p),L=E(Ue),x=o(Ue,"DIV",{class:!0});var R=b(x);I=xl(R,!1),m=E(R),se.l(R),R.forEach(p),Ue.forEach(p),S=E(le),j=o(le,"DIV",{class:!0});var ee=b(j);P=o(ee,"DIV",{class:!0});var X=b(P);B=xl(X,!1),G=E(X),H=o(X,"SPAN",{class:!0});var V=b(H);M=A(V,"£"),re=A(V,N),V.forEach(p),z=E(X),Q=o(X,"SPAN",{class:!0}),b(Q).forEach(p),X.forEach(p),ae=E(ee),F=o(ee,"DIV",{class:!0});var Z=b(F);ie=xl(Z,!1),ce=E(Z),Ae.l(Z),Z.forEach(p),Ne=E(ee),ye=o(ee,"SPAN",{class:!0});var U=b(ye);ne=o(U,"I",{});var oe=b(ne);$=A(oe,"Grey bars indicate average value for "),ue=o(oe,"SPAN",{class:!0});var je=b(ue);fe=A(je,t[7]),je.forEach(p),oe.forEach(p),U.forEach(p),ee.forEach(p),le.forEach(p),this.h()},h(){u.a=c,s(v,"class","waffle-big svelte-j2xbeq"),s(_,"class","small svelte-j2xbeq"),s(a,"class","waffle-value svelte-j2xbeq"),I.a=m,s(x,"class","waffle-value svelte-j2xbeq"),s(n,"class","waffle-stat svelte-j2xbeq"),B.a=G,s(H,"class","waffle-big svelte-j2xbeq"),s(Q,"class","small svelte-j2xbeq"),s(P,"class","waffle-value svelte-j2xbeq"),ie.a=ce,s(F,"class","waffle-value svelte-j2xbeq"),s(ue,"class","nation-label svelte-j2xbeq"),s(ye,"class","waffle-caption svelte-j2xbeq"),s(j,"class","waffle-stat svelte-j2xbeq"),s(l,"class","waffle-stats")},m(O,le){Le(O,l,le),e(l,n),e(n,a),u.m(i,a),e(a,c),e(a,v),e(v,C),e(v,h),e(a,k),e(a,_),e(n,L),e(n,x),I.m(g,x),e(x,m),se.m(x,null),e(l,S),e(l,j),e(j,P),B.m(q,P),e(P,G),e(P,H),e(H,M),e(H,re),e(P,z),e(P,Q),e(j,ae),e(j,F),ie.m(ve,F),e(F,ce),Ae.m(F,null),e(j,Ne),e(j,ye),e(ye,ne),e(ne,$),e(ne,ue),e(ue,fe)},p(O,le){le[0]&2560&&i!==(i=O[20](O[9],O[11],St)+"")&&u.p(i),le[0]&512&&f!==(f=O[9].toLocaleString()+"")&&ge(h,f),le[0]&10240&&g!==(g=O[20](O[13],O[11],_e)+"")&&I.p(g),Ee!==(Ee=Te(O))&&(se.d(1),se=Ee(O),se&&(se.c(),se.m(x,null))),le[0]&5120&&q!==(q=O[20](O[10],O[12],St)+"")&&B.p(q),le[0]&1024&&N!==(N=O[10].toLocaleString()+"")&&ge(re,N),le[0]&20480&&ve!==(ve=O[20](O[14],O[12],_e)+"")&&ie.p(ve),de!==(de=De(O))&&(Ae.d(1),Ae=de(O),Ae&&(Ae.c(),Ae.m(F,null))),le[0]&128&&ge(fe,O[7])},d(O){O&&p(l),se.d(),Ae.d()}}}function qo(t){let l,n="Local area costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-pi7zpb"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Le(a,l,u)},d(a){a&&p(l)}}}function No(t){let l,n="Local area benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-cjpgg1"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Le(a,l,u)},d(a){a&&p(l)}}}function zo(t){let l,n="Per capita costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-k47gg8"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Le(a,l,u)},d(a){a&&p(l)}}}function Vo(t){let l,n="Per capita benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-1jc8yoe"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,u){Le(a,l,u)},d(a){a&&p(l)}}}function Bo(t){let l,n,a,u,i=t[59].label+"",c,v;return{c(){l=r("li"),n=r("span"),a=y(),u=r("a"),c=w(i),v=y(),this.h()},l(C){l=o(C,"LI",{});var f=b(l);n=o(f,"SPAN",{class:!0,style:!0}),b(n).forEach(p),a=E(f),u=o(f,"A",{href:!0,target:!0,class:!0});var h=b(u);c=A(h,i),h.forEach(p),v=E(f),f.forEach(p),this.h()},h(){s(n,"class","legend-color svelte-j2xbeq"),ke(n,"background-color",na(t[59].id)),s(u,"href",Zn+"/cobenefit?cobenefit="+t[59].id),s(u,"target","_blank"),s(u,"class","link")},m(C,f){Le(C,l,f),e(l,n),e(l,a),e(l,u),e(u,c),e(l,v)},p:gr,d(C){C&&p(l)}}}function Ho(t){let l,n,a,u=`Data zones
                                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,i,c,v,C,f,h,k=`The histogram shows the number of data zones\r
                                        distributed\r
                                        across\r
                                        different household social economic factors.`,_,D,L="",x=t[56],I,g,m,S,j,P=t[56].label+"",B,q,G,H,M,N=t[19][t[18]]+"",re,z,Q,ae,F,ie="";const ve=()=>t[33](D,x),ce=()=>t[33](null,x),Ne=()=>t[34](F,x),ye=()=>t[34](null,x);return{c(){l=r("div"),n=r("h3"),a=r("span"),a.innerHTML=u,i=w(`\r
                                            distribution (vs. `),c=r("span"),v=w(t[7]),C=w(" average)"),f=y(),h=r("p"),h.textContent=k,_=y(),D=r("div"),D.innerHTML=L,I=y(),g=r("div"),m=r("div"),S=r("h3"),j=w(`Co-benefits received by data zones\r
                                            across `),B=w(P),q=w(`\r
                                            values`),G=y(),H=r("p"),M=w(`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),re=w(N),z=w("."),Q=y(),ae=r("div"),F=r("div"),F.innerHTML=ie,this.h()},l(ne){l=o(ne,"DIV",{class:!0});var $=b(l);n=o($,"H3",{class:!0});var ue=b(n);a=o(ue,"SPAN",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-zeycni"&&(a.innerHTML=u),i=A(ue,`\r
                                            distribution (vs. `),c=o(ue,"SPAN",{class:!0});var fe=b(c);v=A(fe,t[7]),fe.forEach(p),C=A(ue," average)"),ue.forEach(p),f=E($),h=o($,"P",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-zr1gq8"&&(h.textContent=k),_=E($),D=o($,"DIV",{class:!0,"data-svelte-h":!0}),K(D)!=="svelte-6ldqab"&&(D.innerHTML=L),$.forEach(p),I=E(ne),g=o(ne,"DIV",{class:!0});var Te=b(g);m=o(Te,"DIV",{});var Ee=b(m);S=o(Ee,"H3",{class:!0});var se=b(S);j=A(se,`Co-benefits received by data zones\r
                                            across `),B=A(se,P),q=A(se,`\r
                                            values`),se.forEach(p),G=E(Ee),H=o(Ee,"P",{class:!0});var De=b(H);M=A(De,`Density plot refers to UK distribution while the\r
                                            scattered points refer to data zones in `),re=A(De,N),z=A(De,"."),De.forEach(p),Ee.forEach(p),Q=E(Te),ae=o(Te,"DIV",{});var de=b(ae);F=o(de,"DIV",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-12l832e"&&(F.innerHTML=ie),de.forEach(p),Te.forEach(p),this.h()},h(){s(a,"class","tooltip-term"),s(c,"class","nation-label svelte-j2xbeq"),s(n,"class","component-title"),s(h,"class","description short"),s(D,"class","plot"),s(l,"class","component column svelte-j2xbeq"),s(S,"class","component-title"),s(H,"class","description short"),s(F,"class","plot"),s(g,"class","component column svelte-j2xbeq")},m(ne,$){Le(ne,l,$),e(l,n),e(n,a),e(n,i),e(n,c),e(c,v),e(n,C),e(l,f),e(l,h),e(l,_),e(l,D),ve(),Le(ne,I,$),Le(ne,g,$),e(g,m),e(m,S),e(S,j),e(S,B),e(S,q),e(m,G),e(m,H),e(H,M),e(H,re),e(H,z),e(g,Q),e(g,ae),e(ae,F),Ne()},p(ne,$){t=ne,$[0]&128&&ge(v,t[7]),x!==t[56]&&(ce(),x=t[56],ve()),x!==t[56]&&(ye(),x=t[56],Ne())},d(ne){ne&&(p(l),p(I),p(g)),ce(),ye()}}}function lr(t){let l,n,a,u=t[56].label+"",i,c,v,C=t[56].def+"",f,h,k,_;function D(I,g){return Ho}let x=D()(t);return{c(){l=r("div"),n=r("h2"),a=r("a"),i=w(u),c=y(),v=r("p"),f=w(C),h=y(),k=r("div"),x.c(),_=y(),this.h()},l(I){l=o(I,"DIV",{class:!0});var g=b(l);n=o(g,"H2",{class:!0});var m=b(n);a=o(m,"A",{class:!0,target:!0,href:!0});var S=b(a);i=A(S,u),S.forEach(p),m.forEach(p),c=E(g),v=o(g,"P",{class:!0});var j=b(v);f=A(j,C),j.forEach(p),h=E(g),k=o(g,"DIV",{class:!0});var P=b(k);x.l(P),P.forEach(p),_=E(g),g.forEach(p),this.h()},h(){s(a,"class","link"),s(a,"target","_blank"),s(a,"href",Zn+"/sef?sef="+t[56].id),s(n,"class","column-chart-title svelte-j2xbeq"),s(v,"class","column-chart-caption svelte-j2xbeq"),s(k,"class","row"),s(l,"class","household-column svelte-j2xbeq")},m(I,g){Le(I,l,g),e(l,n),e(n,a),e(a,i),e(l,c),e(l,v),e(v,f),e(l,h),e(l,k),x.m(k,null),e(l,_)},p(I,g){x.p(I,g)},d(I){I&&p(l),x.d()}}}function Ro(t){let l,n,a,u,i,c,v,C="Local Authority Report",f,h,k=t[19][t[18]]+"",_,D,L,x=`Explore how this local authority will benefit from achieving Net Zero and learn about\r
                the characteristics of its households.`,I,g,m,S,j,P,B,q,G="UK",H,M,N,re,z,Q="England",ae,F,ie,ve,ce,Ne="Wales",ye,ne,$,ue,fe,Te="Scotland",Ee,se,De,de,Ae="Northern Ireland",O,le,Ue,he,d,R=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ee,X,V,Z,U,oe,je=`data zone
                                <span class="tooltip-txt">Data zones are standard statitical geographies in UK that  comprise between 400 and 1200 households.</span>`,W,Ie,kl,oa,ia,Ge,ca,Jn=t[19][t[18]]+"",ua,fa,Wt,Ll,da,ha,va,pa,El,Dl=t[21](t[5],t[8])+"",Sl,ut,ma,Kt,Tl,ba,ga,We,_a,Qn=t[19][t[18]]+"",ya,Ea,Yt,jl,Ca,wa,ft,$n="",Aa,Me,dt,xa,es=t[19][t[18]]+"",ka,La,Da,Tt,ts=t[19][t[18]]+"",Sa,Ta,ja,jt,ls="*Scroll for zooming in and out",Ia,et,as="",Ma,tt,It,ns=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Pa,lt,at,nt,ht,qa,Xt,Il,Na,za,ze,Va,ss=t[19][t[18]]+"",Ba,Ha,Zt,Ml,Ra,Oa,Ke,Mt,rs="Legend:",Fa,Ua,Ga,vt,pt,Jt,Wa,os=t[19][t[18]]+"",Ka,Ya,mt,Qt,Xa,$t,Pl,Za,el,Ja,Ve,st,bt,Qa,is=t[19][t[18]]+"",$a,en,tn,gt,cs=`Total gains and losses are shown at five-year\r
                        intervals for each co-benefit. The curve between points is smoothed to show the general\r
                        trends.`,ln,Pe,Pt,us="Legend:",an,nn,sn,qt,rn,tl,on,_t,fs=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,cn,rt,Ye,Nt,ds="Households",un,zt,hs=t[19][t[18]]+"",fn,dn,hn,Vt,vs=`We describe the distribution of household economic factors aggregated on the data\r
                zone level and the different level of co-benefits received by those data zones.`,vn,Xe,Ce,Ze,pn,ps=t[19][t[18]]+"",mn,bn,ql,gn,_n,yn,En,Be,Bt,ms="Legend:",Cn,wn,An,yt,Et,ll,xn,bs=t[19][t[18]]+"",kn,Ln,Ct,al,Dn,Nl,Sn,Se,Ht,gs="Interpreting the charts:",Tn,jn,In,nl,_s=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,Mn,Je,sl,ys="Scatterplot:",Pn,Es=t[19][t[18]]+"",qn,Nn,zl,zn,Vn,wt,Cs=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,Bn,At,we,Hn,ws;l=new Lr({});let me=t[15]&&$s(t),be=t[9]&&tr(t),As=Fn(sa),ot=[];for(let T=0;T<As.length;T+=1)ot[T]=Bo(Po(t,As,T));let rl=Fn(Hs),pe=[];for(let T=0;T<rl.length;T+=1)pe[T]=lr(Qs(t,rl,T));return{c(){Er(l.$$.fragment),n=y(),a=r("div"),me&&me.c(),u=y(),i=r("div"),c=r("div"),v=r("p"),v.textContent=C,f=y(),h=r("h1"),_=w(k),D=y(),L=r("p"),L.textContent=x,I=y(),g=r("div"),m=w("Compare this Local Authority District (LAD) against:"),S=r("br"),j=y(),P=r("input"),B=y(),q=r("label"),q.textContent=G,H=r("br"),M=y(),N=r("input"),re=y(),z=r("label"),z.textContent=Q,ae=r("br"),F=y(),ie=r("input"),ve=y(),ce=r("label"),ce.textContent=Ne,ye=r("br"),ne=y(),$=r("input"),ue=y(),fe=r("label"),fe.textContent=Te,Ee=y(),se=r("input"),De=y(),de=r("label"),de.textContent=Ae,O=y(),le=r("div"),be&&be.c(),Ue=y(),he=r("div"),d=r("div"),d.innerHTML=R,ee=y(),X=r("div"),V=r("div"),Z=r("h3"),U=w(`Distribution of the cobenefit per\r
                        `),oe=r("span"),oe.innerHTML=je,W=w(`\r
                        compared to `),Ie=r("span"),kl=w(t[7]),oa=w(" Average)"),ia=y(),Ge=r("p"),ca=w("Co-benefit values for "),ua=w(Jn),fa=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Wt=r("span"),Ll=w(t[7]),da=w(" (grey)."),ha=y(),va=r("br"),pa=y(),El=new Al(!1),Sl=y(),ut=r("h3"),ma=w("11 types of co-benefit values (vs. "),Kt=r("span"),Tl=w(t[7]),ba=w(" Average)"),ga=y(),We=r("p"),_a=w("Co-benefit values for "),ya=w(Qn),Ea=w(` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Yt=r("span"),jl=w(t[7]),Ca=w(" (grey)."),wa=y(),ft=r("div"),ft.innerHTML=$n,Aa=y(),Me=r("div"),dt=r("h3"),xa=w("Where is "),ka=w(es),La=w("?"),Da=y(),Tt=r("p"),Sa=w(ts),Ta=w(" has been highlighted in dark grey on this UK map."),ja=y(),jt=r("p"),jt.textContent=ls,Ia=y(),et=r("div"),et.innerHTML=as,Ma=y(),tt=r("div"),It=r("div"),It.innerHTML=ns,Pa=y(),lt=r("div"),at=r("div"),nt=r("div"),ht=r("h3"),qa=w("Total co-benefit distribution from 2025-2049 (vs. "),Xt=r("span"),Il=w(t[7]),Na=w(" Average)"),za=y(),ze=r("p"),Va=w(`Aggregated values from 2025-2049\r
                        in `),Ba=w(ss),Ha=w(` compared to average value of benefits received across all local authorities\r
                        in `),Zt=r("span"),Ml=w(t[7]),Ra=w("."),Oa=y(),Ke=r("div"),Mt=r("strong"),Mt.textContent=rs,Fa=y(),Ua=r("br"),Ga=y(),vt=r("ul"),pt=r("li"),Jt=r("span"),Wa=y(),Ka=w(os),Ya=y(),mt=r("li"),Qt=r("span"),Xa=y(),$t=r("span"),Pl=w(t[7]),Za=y(),el=r("div"),Ja=y(),Ve=r("div"),st=r("div"),bt=r("h3"),Qa=w("Co-benefit gain/loss for "),$a=w(is),en=w(" over 5 year intervals"),tn=y(),gt=r("p"),gt.textContent=cs,ln=y(),Pe=r("div"),Pt=r("strong"),Pt.textContent=us,an=y(),nn=r("br"),sn=y(),qt=r("ul");for(let T=0;T<ot.length;T+=1)ot[T].c();rn=y(),tl=r("div"),on=y(),_t=r("div"),_t.innerHTML=fs,cn=y(),rt=r("div"),Ye=r("div"),Nt=r("p"),Nt.textContent=ds,un=y(),zt=r("h2"),fn=w(hs),dn=w(" social-economic factors"),hn=y(),Vt=r("p"),Vt.textContent=vs,vn=y(),Xe=r("div"),Ce=r("div"),Ze=r("h3"),pn=w("Comparing the Socio-Economic factors distributions of "),mn=w(ps),bn=w(`\r
                    and `),ql=w(t[7]),gn=w(", and their correlation with co-benefits."),_n=y(),yn=r("br"),En=y(),Be=r("div"),Bt=r("strong"),Bt.textContent=ms,Cn=y(),wn=r("br"),An=y(),yt=r("ul"),Et=r("li"),ll=r("span"),xn=y(),kn=w(bs),Ln=y(),Ct=r("li"),al=r("span"),Dn=y(),Nl=w(t[7]),Sn=y(),Se=r("div"),Ht=r("strong"),Ht.textContent=gs,Tn=y(),jn=r("br"),In=y(),nl=r("p"),nl.innerHTML=_s,Mn=y(),Je=r("p"),sl=r("strong"),sl.textContent=ys,Pn=w(" Each dot represents a datazone inside "),qn=w(Es),Nn=w(`. The cloud\r
                        shows the distribution for `),zl=w(t[7]),zn=w("."),Vn=y(),wt=r("div"),wt.innerHTML=Cs,Bn=y(),At=r("div");for(let T=0;T<pe.length;T+=1)pe[T].c();this.h()},l(T){Cr(l.$$.fragment,T),n=E(T),a=o(T,"DIV",{class:!0});var Y=b(a);me&&me.l(Y),u=E(Y),i=o(Y,"DIV",{class:!0,id:!0});var J=b(i);c=o(J,"DIV",{});var He=b(c);v=o(He,"P",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-wtex57"&&(v.textContent=C),f=E(He),h=o(He,"H1",{class:!0});var xs=b(h);_=A(xs,k),xs.forEach(p),D=E(He),L=o(He,"P",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-q4fx5o"&&(L.textContent=x),I=E(He),g=o(He,"DIV",{class:!0});var te=b(g);m=A(te,"Compare this Local Authority District (LAD) against:"),S=o(te,"BR",{}),j=E(te),P=o(te,"INPUT",{type:!0,name:!0}),B=E(te),q=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(q)!=="svelte-1yhxhao"&&(q.textContent=G),H=o(te,"BR",{}),M=E(te),N=o(te,"INPUT",{type:!0,name:!0}),re=E(te),z=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(z)!=="svelte-11zyrfp"&&(z.textContent=Q),ae=o(te,"BR",{}),F=E(te),ie=o(te,"INPUT",{type:!0,name:!0}),ve=E(te),ce=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(ce)!=="svelte-18hrmu4"&&(ce.textContent=Ne),ye=o(te,"BR",{}),ne=E(te),$=o(te,"INPUT",{type:!0,name:!0}),ue=E(te),fe=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(fe)!=="svelte-mkxs8y"&&(fe.textContent=Te),Ee=E(te),se=o(te,"INPUT",{type:!0,name:!0}),De=E(te),de=o(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),K(de)!=="svelte-g19yfx"&&(de.textContent=Ae),te.forEach(p),He.forEach(p),O=E(J),le=o(J,"DIV",{});var ks=b(le);be&&be.l(ks),ks.forEach(p),J.forEach(p),Ue=E(Y),he=o(Y,"DIV",{class:!0,id:!0});var Vl=b(he);d=o(Vl,"DIV",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-lw225h"&&(d.innerHTML=R),ee=E(Vl),X=o(Vl,"DIV",{id:!0,class:!0});var Bl=b(X);V=o(Bl,"DIV",{class:!0});var xe=b(V);Z=o(xe,"H3",{class:!0});var ol=b(Z);U=A(ol,`Distribution of the cobenefit per\r
                        `),oe=o(ol,"SPAN",{class:!0,"data-svelte-h":!0}),K(oe)!=="svelte-z1whcf"&&(oe.innerHTML=je),W=A(ol,`\r
                        compared to `),Ie=o(ol,"SPAN",{class:!0});var Ls=b(Ie);kl=A(Ls,t[7]),Ls.forEach(p),oa=A(ol," Average)"),ol.forEach(p),ia=E(xe),Ge=o(xe,"P",{class:!0});var il=b(Ge);ca=A(il,"Co-benefit values for "),ua=A(il,Jn),fa=A(il,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Wt=o(il,"SPAN",{class:!0});var Ds=b(Wt);Ll=A(Ds,t[7]),Ds.forEach(p),da=A(il," (grey)."),il.forEach(p),ha=E(xe),va=o(xe,"BR",{}),pa=E(xe),El=xl(xe,!1),Sl=E(xe),ut=o(xe,"H3",{class:!0});var Hl=b(ut);ma=A(Hl,"11 types of co-benefit values (vs. "),Kt=o(Hl,"SPAN",{class:!0});var Ss=b(Kt);Tl=A(Ss,t[7]),Ss.forEach(p),ba=A(Hl," Average)"),Hl.forEach(p),ga=E(xe),We=o(xe,"P",{class:!0});var cl=b(We);_a=A(cl,"Co-benefit values for "),ya=A(cl,Qn),Ea=A(cl,` compared to average value of benefits\r
                    received across all local\r
                    authorities in `),Yt=o(cl,"SPAN",{class:!0});var Ts=b(Yt);jl=A(Ts,t[7]),Ts.forEach(p),Ca=A(cl," (grey)."),cl.forEach(p),wa=E(xe),ft=o(xe,"DIV",{class:!0,"data-svelte-h":!0}),K(ft)!=="svelte-11dzfub"&&(ft.innerHTML=$n),xe.forEach(p),Aa=E(Bl),Me=o(Bl,"DIV",{class:!0});var xt=b(Me);dt=o(xt,"H3",{class:!0});var Rl=b(dt);xa=A(Rl,"Where is "),ka=A(Rl,es),La=A(Rl,"?"),Rl.forEach(p),Da=E(xt),Tt=o(xt,"P",{class:!0});var Rn=b(Tt);Sa=A(Rn,ts),Ta=A(Rn," has been highlighted in dark grey on this UK map."),Rn.forEach(p),ja=E(xt),jt=o(xt,"P",{class:!0,"data-svelte-h":!0}),K(jt)!=="svelte-vsj698"&&(jt.textContent=ls),Ia=E(xt),et=o(xt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),K(et)!=="svelte-13ehpmu"&&(et.innerHTML=as),xt.forEach(p),Bl.forEach(p),Vl.forEach(p),Ma=E(Y),tt=o(Y,"DIV",{class:!0,id:!0});var Ol=b(tt);It=o(Ol,"DIV",{class:!0,"data-svelte-h":!0}),K(It)!=="svelte-10cbt4"&&(It.innerHTML=ns),Pa=E(Ol),lt=o(Ol,"DIV",{id:!0,class:!0});var Fl=b(lt);at=o(Fl,"DIV",{id:!0,class:!0});var Ul=b(at);nt=o(Ul,"DIV",{});var ul=b(nt);ht=o(ul,"H3",{class:!0});var Gl=b(ht);qa=A(Gl,"Total co-benefit distribution from 2025-2049 (vs. "),Xt=o(Gl,"SPAN",{class:!0});var js=b(Xt);Il=A(js,t[7]),js.forEach(p),Na=A(Gl," Average)"),Gl.forEach(p),za=E(ul),ze=o(ul,"P",{class:!0,style:!0});var fl=b(ze);Va=A(fl,`Aggregated values from 2025-2049\r
                        in `),Ba=A(fl,ss),Ha=A(fl,` compared to average value of benefits received across all local authorities\r
                        in `),Zt=o(fl,"SPAN",{class:!0});var Is=b(Zt);Ml=A(Is,t[7]),Is.forEach(p),Ra=A(fl,"."),fl.forEach(p),Oa=E(ul),Ke=o(ul,"DIV",{class:!0});var dl=b(Ke);Mt=o(dl,"STRONG",{style:!0,"data-svelte-h":!0}),K(Mt)!=="svelte-1fi0dip"&&(Mt.textContent=rs),Fa=E(dl),Ua=o(dl,"BR",{}),Ga=E(dl),vt=o(dl,"UL",{class:!0});var Wl=b(vt);pt=o(Wl,"LI",{class:!0});var Kl=b(pt);Jt=o(Kl,"SPAN",{class:!0,style:!0}),b(Jt).forEach(p),Wa=E(Kl),Ka=A(Kl,os),Kl.forEach(p),Ya=E(Wl),mt=o(Wl,"LI",{class:!0});var Yl=b(mt);Qt=o(Yl,"SPAN",{class:!0,style:!0}),b(Qt).forEach(p),Xa=E(Yl),$t=o(Yl,"SPAN",{class:!0});var Ms=b($t);Pl=A(Ms,t[7]),Ms.forEach(p),Yl.forEach(p),Wl.forEach(p),dl.forEach(p),ul.forEach(p),Za=E(Ul),el=o(Ul,"DIV",{class:!0}),b(el).forEach(p),Ul.forEach(p),Ja=E(Fl),Ve=o(Fl,"DIV",{id:!0,class:!0});var hl=b(Ve);st=o(hl,"DIV",{});var vl=b(st);bt=o(vl,"H3",{class:!0});var Xl=b(bt);Qa=A(Xl,"Co-benefit gain/loss for "),$a=A(Xl,is),en=A(Xl," over 5 year intervals"),Xl.forEach(p),tn=E(vl),gt=o(vl,"P",{class:!0,style:!0,"data-svelte-h":!0}),K(gt)!=="svelte-1na17f1"&&(gt.textContent=cs),ln=E(vl),Pe=o(vl,"DIV",{id:!0,class:!0,style:!0});var pl=b(Pe);Pt=o(pl,"STRONG",{style:!0,"data-svelte-h":!0}),K(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=us),an=E(pl),nn=o(pl,"BR",{}),sn=E(pl),qt=o(pl,"UL",{class:!0,style:!0});var Ps=b(qt);for(let Ot=0;Ot<ot.length;Ot+=1)ot[Ot].l(Ps);Ps.forEach(p),pl.forEach(p),vl.forEach(p),rn=E(hl),tl=o(hl,"DIV",{class:!0}),b(tl).forEach(p),on=E(hl),_t=o(hl,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),K(_t)!=="svelte-1xqy5mf"&&(_t.innerHTML=fs),hl.forEach(p),Fl.forEach(p),Ol.forEach(p),cn=E(Y),rt=o(Y,"DIV",{class:!0,id:!0});var Zl=b(rt);Ye=o(Zl,"DIV",{class:!0});var ml=b(Ye);Nt=o(ml,"P",{class:!0,"data-svelte-h":!0}),K(Nt)!=="svelte-ceroz1"&&(Nt.textContent=ds),un=E(ml),zt=o(ml,"H2",{class:!0});var On=b(zt);fn=A(On,hs),dn=A(On," social-economic factors"),On.forEach(p),hn=E(ml),Vt=o(ml,"P",{class:!0,"data-svelte-h":!0}),K(Vt)!=="svelte-45d07w"&&(Vt.textContent=vs),ml.forEach(p),vn=E(Zl),Xe=o(Zl,"DIV",{id:!0,class:!0,style:!0});var Jl=b(Xe);Ce=o(Jl,"DIV",{id:!0,class:!0});var Qe=b(Ce);Ze=o(Qe,"H3",{class:!0});var bl=b(Ze);pn=A(bl,"Comparing the Socio-Economic factors distributions of "),mn=A(bl,ps),bn=A(bl,`\r
                    and `),ql=A(bl,t[7]),gn=A(bl,", and their correlation with co-benefits."),bl.forEach(p),_n=E(Qe),yn=o(Qe,"BR",{}),En=E(Qe),Be=o(Qe,"DIV",{id:!0,class:!0});var gl=b(Be);Bt=o(gl,"STRONG",{style:!0,"data-svelte-h":!0}),K(Bt)!=="svelte-xb363n"&&(Bt.textContent=ms),Cn=E(gl),wn=o(gl,"BR",{}),An=E(gl),yt=o(gl,"UL",{class:!0});var Ql=b(yt);Et=o(Ql,"LI",{class:!0});var $l=b(Et);ll=o($l,"SPAN",{class:!0,style:!0}),b(ll).forEach(p),xn=E($l),kn=A($l,bs),$l.forEach(p),Ln=E(Ql),Ct=o(Ql,"LI",{class:!0});var ea=b(Ct);al=o(ea,"SPAN",{class:!0,style:!0}),b(al).forEach(p),Dn=E(ea),Nl=A(ea,t[7]),ea.forEach(p),Ql.forEach(p),gl.forEach(p),Sn=E(Qe),Se=o(Qe,"DIV",{id:!0,class:!0});var kt=b(Se);Ht=o(kt,"STRONG",{style:!0,"data-svelte-h":!0}),K(Ht)!=="svelte-ucmfvz"&&(Ht.textContent=gs),Tn=E(kt),jn=o(kt,"BR",{}),In=E(kt),nl=o(kt,"P",{"data-svelte-h":!0}),K(nl)!=="svelte-mm528r"&&(nl.innerHTML=_s),Mn=E(kt),Je=o(kt,"P",{});var Rt=b(Je);sl=o(Rt,"STRONG",{"data-svelte-h":!0}),K(sl)!=="svelte-1ij32sd"&&(sl.textContent=ys),Pn=A(Rt," Each dot represents a datazone inside "),qn=A(Rt,Es),Nn=A(Rt,`. The cloud\r
                        shows the distribution for `),zl=A(Rt,t[7]),zn=A(Rt,"."),Rt.forEach(p),kt.forEach(p),Vn=E(Qe),wt=o(Qe,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),K(wt)!=="svelte-gofjep"&&(wt.innerHTML=Cs),Qe.forEach(p),Bn=E(Jl),At=o(Jl,"DIV",{id:!0,class:!0});var qs=b(At);for(let Ot=0;Ot<pe.length;Ot+=1)pe[Ot].l(qs);qs.forEach(p),Jl.forEach(p),Zl.forEach(p),Y.forEach(p),this.h()},h(){s(v,"class","page-subtitle"),s(h,"class","page-title"),s(L,"class","description"),s(P,"type","radio"),s(P,"name","compare"),P.value="UK",P.checked=!0,s(q,"class","nation-label svelte-j2xbeq"),s(q,"for","html"),s(N,"type","radio"),s(N,"name","compare"),N.value="England",s(z,"class","nation-label svelte-j2xbeq"),s(z,"for","html"),s(ie,"type","radio"),s(ie,"name","compare"),ie.value="Wales",s(ce,"class","nation-label svelte-j2xbeq"),s(ce,"for","html"),s($,"type","radio"),s($,"name","compare"),$.value="Scotland",s(fe,"class","nation-label svelte-j2xbeq"),s(fe,"for","javascript"),s(se,"type","radio"),s(se,"name","compare"),se.value="NI",s(de,"class","nation-label svelte-j2xbeq"),s(de,"for","javascript"),s(g,"class","radio-set"),s(i,"class","section header header-row svelte-j2xbeq"),s(i,"id","head"),s(d,"class","section-header"),s(oe,"class","tooltip-term"),s(Ie,"class","nation-label svelte-j2xbeq"),s(Z,"class","component-title"),s(Wt,"class","nation-label svelte-j2xbeq"),s(Ge,"class","description"),El.a=Sl,s(Kt,"class","nation-label svelte-j2xbeq"),s(ut,"class","component-title"),s(Yt,"class","nation-label svelte-j2xbeq"),s(We,"class","description"),s(ft,"class","plot"),s(V,"class","component column"),s(dt,"class","component-title"),s(Tt,"class","description"),s(jt,"class","description"),s(et,"id","map"),s(et,"class","svelte-j2xbeq"),s(Me,"class","component column"),s(X,"id","vis-block"),s(X,"class","svelte-j2xbeq"),s(he,"class","section"),s(he,"id","overview"),s(It,"class","section-header"),s(Xt,"class","nation-label svelte-j2xbeq"),s(ht,"class","component-title"),s(Zt,"class","nation-label svelte-j2xbeq"),s(ze,"class","description"),ke(ze,"margin-bottom","5px"),ke(Mt,"margin-bottom","0.5rem"),s(Jt,"class","legend-color svelte-j2xbeq"),ke(Jt,"background-color",St),s(pt,"class","svelte-j2xbeq"),s(Qt,"class","legend-color svelte-j2xbeq"),ke(Qt,"background-color",_e),s($t,"class","nation-label svelte-j2xbeq"),s(mt,"class","svelte-j2xbeq"),s(vt,"class","legend-list svelte-j2xbeq"),s(Ke,"class","legend-box svelte-j2xbeq"),s(el,"class","plot side svelte-j2xbeq"),s(at,"id","main-block"),s(at,"class","component column svelte-j2xbeq"),s(bt,"class","component-title"),s(gt,"class","description"),ke(gt,"margin-bottom","5px"),ke(Pt,"margin-bottom","0.5rem"),s(qt,"class","horizontal-legend-list svelte-j2xbeq"),ke(qt,"margin-bottom","5px"),s(Pe,"id","main-legend"),s(Pe,"class","legend-box svelte-j2xbeq"),ke(Pe,"margin-bottom","5px"),s(tl,"class","plot side svelte-j2xbeq"),s(_t,"id","main-disclaimer"),s(_t,"class","disclaimer-box svelte-j2xbeq"),s(Ve,"id","main-block"),s(Ve,"class","component column svelte-j2xbeq"),s(lt,"id","vis-block"),s(lt,"class","svelte-j2xbeq"),s(tt,"class","section"),s(tt,"id","temporal"),s(Nt,"class","section-subtitle"),s(zt,"class","section-title"),s(Vt,"class","description"),s(Ye,"class","section-header"),s(Ze,"class","component-title"),ke(Bt,"margin-bottom","1rem"),s(ll,"class","legend-color svelte-j2xbeq"),ke(ll,"background-color",St),s(Et,"class","svelte-j2xbeq"),s(al,"class","legend-color svelte-j2xbeq"),ke(al,"background-color",_e),s(Ct,"class","svelte-j2xbeq"),s(yt,"class","legend-list svelte-j2xbeq"),s(Be,"id","se-legend"),s(Be,"class","legend-box svelte-j2xbeq"),ke(Ht,"margin-bottom","1rem"),s(Se,"id","se-legend"),s(Se,"class","legend-box svelte-j2xbeq"),s(wt,"id","se-disclaimer"),s(wt,"class","disclaimer-box svelte-j2xbeq"),s(Ce,"id","se-title"),s(Ce,"class","svelte-j2xbeq"),s(At,"id","multiple-comp"),s(At,"class","svelte-j2xbeq"),s(Xe,"id","se-block"),s(Xe,"class","component svelte-j2xbeq"),ke(Xe,"margin-left","1rem"),s(rt,"class","section"),s(rt,"id","households"),s(a,"class","page-container")},m(T,Y){wr(l,T,Y),Le(T,n,Y),Le(T,a,Y),me&&me.m(a,null),e(a,u),e(a,i),e(i,c),e(c,v),e(c,f),e(c,h),e(h,_),e(c,D),e(c,L),e(c,I),e(c,g),e(g,m),e(g,S),e(g,j),e(g,P),e(g,B),e(g,q),e(g,H),e(g,M),e(g,N),e(g,re),e(g,z),e(g,ae),e(g,F),e(g,ie),e(g,ve),e(g,ce),e(g,ye),e(g,ne),e(g,$),e(g,ue),e(g,fe),e(g,Ee),e(g,se),e(g,De),e(g,de),e(i,O),e(i,le),be&&be.m(le,null),e(a,Ue),e(a,he),e(he,d),e(he,ee),e(he,X),e(X,V),e(V,Z),e(Z,U),e(Z,oe),e(Z,W),e(Z,Ie),e(Ie,kl),e(Z,oa),e(V,ia),e(V,Ge),e(Ge,ca),e(Ge,ua),e(Ge,fa),e(Ge,Wt),e(Wt,Ll),e(Ge,da),e(V,ha),e(V,va),e(V,pa),El.m(Dl,V),e(V,Sl),e(V,ut),e(ut,ma),e(ut,Kt),e(Kt,Tl),e(ut,ba),e(V,ga),e(V,We),e(We,_a),e(We,ya),e(We,Ea),e(We,Yt),e(Yt,jl),e(We,Ca),e(V,wa),e(V,ft),t[28](ft),e(X,Aa),e(X,Me),e(Me,dt),e(dt,xa),e(dt,ka),e(dt,La),e(Me,Da),e(Me,Tt),e(Tt,Sa),e(Tt,Ta),e(Me,ja),e(Me,jt),e(Me,Ia),e(Me,et),t[29](et),e(a,Ma),e(a,tt),e(tt,It),e(tt,Pa),e(tt,lt),e(lt,at),e(at,nt),e(nt,ht),e(ht,qa),e(ht,Xt),e(Xt,Il),e(ht,Na),e(nt,za),e(nt,ze),e(ze,Va),e(ze,Ba),e(ze,Ha),e(ze,Zt),e(Zt,Ml),e(ze,Ra),e(nt,Oa),e(nt,Ke),e(Ke,Mt),e(Ke,Fa),e(Ke,Ua),e(Ke,Ga),e(Ke,vt),e(vt,pt),e(pt,Jt),e(pt,Wa),e(pt,Ka),e(vt,Ya),e(vt,mt),e(mt,Qt),e(mt,Xa),e(mt,$t),e($t,Pl),e(at,Za),e(at,el),t[30](el),e(lt,Ja),e(lt,Ve),e(Ve,st),e(st,bt),e(bt,Qa),e(bt,$a),e(bt,en),e(st,tn),e(st,gt),e(st,ln),e(st,Pe),e(Pe,Pt),e(Pe,an),e(Pe,nn),e(Pe,sn),e(Pe,qt);for(let J=0;J<ot.length;J+=1)ot[J]&&ot[J].m(qt,null);e(Ve,rn),e(Ve,tl),t[31](tl),e(Ve,on),e(Ve,_t),e(a,cn),e(a,rt),e(rt,Ye),e(Ye,Nt),e(Ye,un),e(Ye,zt),e(zt,fn),e(zt,dn),e(Ye,hn),e(Ye,Vt),e(rt,vn),e(rt,Xe),e(Xe,Ce),e(Ce,Ze),e(Ze,pn),e(Ze,mn),e(Ze,bn),e(Ze,ql),e(Ze,gn),e(Ce,_n),e(Ce,yn),e(Ce,En),e(Ce,Be),e(Be,Bt),e(Be,Cn),e(Be,wn),e(Be,An),e(Be,yt),e(yt,Et),e(Et,ll),e(Et,xn),e(Et,kn),e(yt,Ln),e(yt,Ct),e(Ct,al),e(Ct,Dn),e(Ct,Nl),e(Ce,Sn),e(Ce,Se),e(Se,Ht),e(Se,Tn),e(Se,jn),e(Se,In),e(Se,nl),e(Se,Mn),e(Se,Je),e(Je,sl),e(Je,Pn),e(Je,qn),e(Je,Nn),e(Je,zl),e(Je,zn),e(Ce,Vn),e(Ce,wt),e(Xe,Bn),e(Xe,At);for(let J=0;J<pe.length;J+=1)pe[J]&&pe[J].m(At,null);t[35](a),we=!0,Hn||(ws=[Cl(P,"change",t[22]),Cl(N,"change",t[22]),Cl(ie,"change",t[22]),Cl($,"change",t[22]),Cl(se,"change",t[22])],Hn=!0)},p(T,Y){if(T[15]?me?me.p(T,Y):(me=$s(T),me.c(),me.m(a,u)):me&&(me.d(1),me=null),T[9]?be?be.p(T,Y):(be=tr(T),be.c(),be.m(le,null)):be&&(be.d(1),be=null),(!we||Y[0]&128)&&ge(kl,T[7]),(!we||Y[0]&128)&&ge(Ll,T[7]),(!we||Y[0]&288)&&Dl!==(Dl=T[21](T[5],T[8])+"")&&El.p(Dl),(!we||Y[0]&128)&&ge(Tl,T[7]),(!we||Y[0]&128)&&ge(jl,T[7]),(!we||Y[0]&128)&&ge(Il,T[7]),(!we||Y[0]&128)&&ge(Ml,T[7]),(!we||Y[0]&128)&&ge(Pl,T[7]),(!we||Y[0]&128)&&ge(ql,T[7]),(!we||Y[0]&128)&&ge(Nl,T[7]),(!we||Y[0]&128)&&ge(zl,T[7]),Y[0]&786584){rl=Fn(Hs);let J;for(J=0;J<rl.length;J+=1){const He=Qs(T,rl,J);pe[J]?pe[J].p(He,Y):(pe[J]=lr(He),pe[J].c(),pe[J].m(At,null))}for(;J<pe.length;J+=1)pe[J].d(1);pe.length=rl.length}},i(T){we||(Ar(l.$$.fragment,T),we=!0)},o(T){xr(l.$$.fragment,T),we=!1},d(T){T&&(p(n),p(a)),kr(l,T),me&&me.d(),be&&be.d(),t[28](null),t[29](null),t[30](null),Ns(ot,T),t[31](null),Ns(pe,T),t[35](null),Hn=!1,pr(ws)}}}let Fe=400;function ar(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Gt(t){const l=t.querySelector("figure");l&&l.remove();const n=t.querySelector("svg");n&&n.remove()}function Oo(t,l,n){let a,u,i,c,v={},C={},f={},h={},k="barchart",{data:_}=l;const D=_.LAD;let L="UK",x,I,g,m,S,j,P,B,q,G,H,M,N=!1;async function re(){n(5,x=await Oe(Fs())),await Oe(Jr()),x.forEach(d=>{d.isPageLAD=d.LAD==D}),n(25,I=await Oe(Us([]))),g=await Oe(Qr(sa.map(d=>d.id))),n(26,m=await Oe(Gs())),n(8,S=await Oe($r(D))),j=await Oe(eo(D)),n(9,P=(Rr(S,d=>d.total)/1e3).toFixed(3)),n(11,q=Xn(I,d=>d.val)/1e3),n(10,B=(Un(S,d=>d.totalPerCapita)*1e6).toFixed(1)),n(12,G=await Oe(to({limit:1,sortBy:"per_capita"}))),n(12,G=G[0].value_per_capita),n(27,N=!0),Gr(a)}re();let z=!1,Q="";const ae=["overview","temporal","households"];function F(){const d=window.scrollY;n(15,z=d>100);for(const R of ae){const ee=document.getElementById(R);if(!ee)continue;const X=ee.getBoundingClientRect();if(X.top<=150&&X.bottom>=150){n(16,Q=R);break}}}const ie=_.LADToName;let ve,ce;mr(()=>(Wr(a),ve=new Ur(D,"LAD",ce,"val",!0,"Lookup_value",!1,null,8),ve.initMap(!1),window.addEventListener("scroll",F),F(),()=>window.removeEventListener("scroll",F))),br(()=>{window.removeEventListener("scroll",F)});function Ne(d,R,ee="black"){return qe({width:80,height:20,margin:0,x:{domain:[0,R],axis:null},marks:[Kn([d],{x:V=>V,y:0,fill:ee})]}).outerHTML}function ye(d,R){if(!d||!R)return;let ee=d.filter(V=>V.total<20);return qe({height:Fe/1.6,...$e,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[wl(ee,aa({y:(V,Z)=>V.length/ee.length/(Z.x2-Z.x1)},{x:"total",fill:_e,stroke:_e,fillOpacity:.3,strokeWidth:2})),wl(R,aa({y:(V,Z)=>V.length/R.length/(Z.x2-Z.x1)},{x:"total",tip:!0,fill:St,stroke:"black",fillOpacity:.3,strokeWidth:2})),Or([0],{stroke:"#1E1E1E",strokeWidth:1}),ta({label:"Distribution of data zones (Normalized)",labelAnchor:"top",labelArrow:!1}),Gn({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function ne(){{let d=qe({height:Fe/1.4,...$e,x:{type:"band"},style:{fontSize:"18px"},marks:[Ft(I,it({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ft(S,it({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const R=Re(d).selectAll("g[aria-label='bar']");Re(R.nodes()[0]);const ee=Re(R.nodes()[1]);ee.selectAll("rect").each(function(){}),ee.remove()},1e3)}}function $(){if(u){let d=qe({height:Fe/1,width:811,...$e,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:na.range(),domain:na.domain()},marks:[Ft(m,it({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:_e,sort:{x:"y",reverse:!0},tip:!0})),Ft(j,it({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:R=>na(R.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),ta({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),Gn({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),zs([0],{stroke:"#333",strokeWidth:.75})]});Re(d).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(R,ee,X)=>{let V=R.target.textContent,Z=sa.find(U=>U.id==V);window.open(`${Zn}/cobenefit?cobenefit=${Z.id}`,"_blank").focus()}),u.append(d)}}function ue(){Kr.forEach(d=>{let R;Rs.includes(d)?R=qe({height:Fe/1.2,...$e,marginLeft:100,marginTop:40,marginBottom:d==="Typology"?100:60,x:{grid:!0,padding:.6,label:la(d),tickFormat:W=>Os[d]?.[W]??W,tickRotate:d==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ft(x,it({y:"proportion"},{x:d,dx:12,fill:_e})),Ft(S,it({y:"proportion"},{x:d,dx:-12}))]}):R=qe({height:Fe/1.2,...$e,x:{label:la(d)},style:{fontSize:"18px"},marks:[wl(S,aa({y:(W,Ie)=>W.length/S.length/(Ie.x2-Ie.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],tip:!0,fill:_e,stroke:_e,fillOpacity:.2,strokeWidth:3})),wl(x,aa({y:(W,Ie)=>W.length/x.length/(Ie.x2-Ie.x1)},{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),C[d]?.append(void 0),v[d]?.append(R);let X=x.map(W=>W.total),V=nr(X);X.sort();var Z=X.length,U=Math.floor(Z*1)-1;let oe=X[U];V[1]=oe+2,V[0]=-5;let je;Rs.includes(d)?je=qe({height:Fe/1.2,...$e,marginBottom:d==="Typology"?100:60,marginLeft:100,x:{label:la(d),type:"point",tickFormat:W=>Os[d]?.[W]??W,tickRotate:d==="Typology"?-20:0},y:{domain:V,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[Zs(Bs(x,15e3),{x:W=>`${W[d]}`,y:"total",fill:"density",bandwidth:3}),Ks(S,{x:W=>`${W[d]}`,y:"total",fill:"black",r:2}),ta({label:"Datazone Co-Benefit (millions £)"})]}):je=qe({height:Fe/1.2,...$e,x:{label:la(d)},y:{domain:V},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[Zs(Bs(x,2e4),{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],y:"total",fill:"density",thresholds:10}),Ks(S,{x:W=>["Under_35","Over_65","Unemployment"].includes(d)?W[d]*100:W[d],y:"total",fill:"black",r:2}),ta({label:"Datazone Co-Benefit (£)"}),Gn({anchor:"bottom"})]}),f[d]&&n(4,f[d].innerHTML="",f),f[d]?.append(je)})}function fe(){for(let d of Yr){let R=qe({height:Fe,width:410,...$e,marginRight:0,marginLeft:100,marks:[Kn(g,Vs({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Xr/2,fill:_e,tip:!0})),Kn(j,Vs({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});h[d]?.append(R)}}function Te(){let d=S.flatMap(U=>Wn.map(oe=>({time:oe,value:U[oe],scenario:U.scenario,zone:"local"}))),R=x.flatMap(U=>Wn.map(oe=>({time:oe,value:U[oe],scenario:U.scenario,zone:"UK"}))),ee=d.concat(R),X=qe({height:Fe,width:800,...$e,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[_e,St],legend:!1},marks:[Ft(ee,it({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Fr({anchor:"bottom",tickFormat:U=>U.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(X),Re(i).select("g[aria-label='bar']").selectAll("g").each(function(U,oe){const je=Re(this).selectAll("rect").nodes()[0],W=Re(je).attr("transform")||"";Re(je).attr("transform",`${W} translate(-20, 0)`),Re(this).selectAll("rect").nodes()[0].getAttribute("height"),Re(this).selectAll("rect").nodes()[1].getAttribute("height"),Re(this).selectAll("rect")}),qe({height:Fe,width:800,...$e,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[So(ee,it({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let V=j.flatMap(U=>Wn.map(oe=>({time:oe,value:U[oe],cobenefit:U.co_benefit_type})));console.log("dataCBs",V);let Z=qe({height:Fe,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([U])=>`Cobenefit ${U.cobenefit}`},x:{label:"Years",tickFormat:U=>U.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:Zr,domain:sa.map(U=>U.id)},marks:[wl(V,it({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:U=>`${(+U).toFixed(3)}`,x:U=>`${U.replace(/^Y/,"").replace("_","-")}`,fill:U=>`${U}`}}})),zs([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(Z)}async function Ee(d){n(7,L=d.currentTarget.value),n(26,m=await Oe(Gs("total",L))),n(25,I=await Oe(Us([],L))),n(5,x=await Oe(Fs(L)))}function se(d){Lt[d?"unshift":"push"](()=>{u=d,n(0,u)})}function De(d){Lt[d?"unshift":"push"](()=>{ce=d,n(17,ce)})}function de(d){Lt[d?"unshift":"push"](()=>{i=d,n(1,i)})}function Ae(d){Lt[d?"unshift":"push"](()=>{c=d,n(2,c)})}function O(d,R){Lt[d?"unshift":"push"](()=>{v[R.id]=d,n(3,v)})}function le(d,R){Lt[d?"unshift":"push"](()=>{v[R.id]=d,n(3,v)})}function Ue(d,R){Lt[d?"unshift":"push"](()=>{f[R.id]=d,n(4,f)})}function he(d){Lt[d?"unshift":"push"](()=>{a=d,n(6,a)})}return t.$$set=d=>{"data"in d&&n(23,_=d.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&I&&(n(13,H=Un(I.map(d=>d.val))/1e3),n(14,M=Un(I.map(d=>d.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(u&&Gt(u),i&&Gt(i),c&&Gt(c),N&&m&&I&&x&&(ne(),$(),Te())),t.$$.dirty[0]&134217752&&(Object.values(v).forEach(d=>{d&&Gt(d)}),Object.values(C).forEach(d=>{d&&Gt(d)}),Object.values(f).forEach(d=>{d&&Gt(d)}),N&&ue()),t.$$.dirty[0]&134217728&&(Object.values(h).forEach(d=>{d&&Gt(d)}),N&&fe())},[u,i,c,v,f,x,a,L,S,P,B,q,G,H,M,z,Q,ce,D,ie,Ne,ye,Ee,_,k,I,m,N,se,De,de,Ae,O,le,Ue,he]}class ni extends _r{constructor(l){super(),yr(this,l,Oo,Ro,vr,{data:23},null,[-1,-1])}}export{ni as component};
