import{s as fr,a as E,e as r,t as w,H as wl,g as C,c as o,b as m,p as Y,d as A,f as p,E as Al,q as s,B as Le,i as Se,h as e,y as El,j as _e,w as qs,z as dr,r as hr,Y as vr,n as pr,A as Dt}from"../chunks/scheduler.C9ZL8GxQ.js";import{S as mr,i as br,c as gr,b as _r,m as yr,t as Er,a as Cr,d as wr}from"../chunks/index.vifww4_P.js";import{N as Ar,e as Rn}from"../chunks/NavigationBar.DFX2jRvL.js";import"../chunks/transform.BNP73y-7.js";import{R as tr,S as lr,W as Wn,i as xr,a as kr,M as ar,ay as nr,F as Dr,l as sr,n as rr,d as or,aT as Lr,o as ir,aU as Sr,aV as jr,H as cr,I as sa,q as Tr,z as Ir,aW as qr,aX as Pr,aY as Mr,aZ as Vr,D as Nr,aK as Br,O as Hn,J as Pe,X as zr,Z as ea,Y as On,aI as ot,aM as ze,N as Ps,K as Ms,a_ as Rr}from"../chunks/index.Dv2sX5N1.js";import{b as Yn}from"../chunks/paths.Cq_ELSMS.js";import"../chunks/entry.CiY_6EH1.js";import{M as Hr,g as Vs}from"../chunks/mapUK.DSbeBHry.js";import{V as St,A as ye,e as aa,C as na,c as Ns,r as Or,n as Fr,M as Je,s as Ur,S as Bs,d as ta,a as zs,t as Gr,u as Wr,T as Fn,p as Yr}from"../chunks/globals.C08mzBm5.js";import{g as Re,r as Rs,s as Kr,d as Hs,t as Xr,u as Os,v as Zr,w as Jr,n as Qr}from"../chunks/duckdb.CFVeiQtA.js";import{b as Un,a as Ft}from"../chunks/bar.COSNh7i-.js";import{m as $r,c as Fs,s as eo,a as Cl}from"../chunks/area.Bi3EIMxi.js";import{t as to,m as lo,b as la}from"../chunks/bin.DlqcRK9K.js";import{n as ao}from"../chunks/nice.C8A-NMIE.js";import{d as Us}from"../chunks/dot.nz9-EEYJ.js";const no=so(ro);function so(t){return function(l,n,a=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:c,width:i,height:u}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((u=Math.floor(u!==void 0?u:c.length/i))>=0))throw new RangeError("invalid height");if(!i||!u||!n&&!a)return l;const h=n&&t(n),_=a&&t(a),f=c.slice();return h&&_?(gl(h,f,c,i,u),gl(h,c,f,i,u),gl(h,f,c,i,u),_l(_,c,f,i,u),_l(_,f,c,i,u),_l(_,c,f,i,u)):h?(gl(h,c,f,i,u),gl(h,f,c,i,u),gl(h,c,f,i,u)):_&&(_l(_,c,f,i,u),_l(_,f,c,i,u),_l(_,c,f,i,u)),l}}function gl(t,l,n,a,c){for(let i=0,u=a*c;i<u;)t(l,n,i,i+=a,1)}function _l(t,l,n,a,c){for(let i=0,u=a*c;i<a;++i)t(l,n,i,i+u,a)}function ro(t){const l=Math.floor(t);if(l===t)return oo(t);const n=t-l,a=2*t+1;return(c,i,u,h,_)=>{if(!((h-=_)>=u))return;let f=l*i[u];const v=_*l,x=v+_;for(let y=u,L=u+v;y<L;y+=_)f+=i[Math.min(h,y)];for(let y=u,L=h;y<=L;y+=_)f+=i[Math.min(h,y+v)],c[y]=(f+n*(i[Math.max(u,y-x)]+i[Math.min(h,y+x)]))/a,f-=i[Math.max(u,y-v)]}}function oo(t){const l=2*t+1;return(n,a,c,i,u)=>{if(!((i-=u)>=c))return;let h=t*a[c];const _=u*t;for(let f=c,v=c+_;f<v;f+=u)h+=a[Math.min(i,f)];for(let f=c,v=i;f<=v;f+=u)h+=a[Math.min(i,f+_)],n[f]=h/l,h-=a[Math.max(c,f-_)]}}var io=Array.prototype,ur=io.slice;function co(t,l){return t-l}function uo(t){for(var l=0,n=t.length,a=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++l<n;)a+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return a}const Lt=t=>()=>t;function fo(t,l){for(var n=-1,a=l.length,c;++n<a;)if(c=ho(t,l[n]))return c;return 0}function ho(t,l){for(var n=l[0],a=l[1],c=-1,i=0,u=t.length,h=u-1;i<u;h=i++){var _=t[i],f=_[0],v=_[1],x=t[h],y=x[0],L=x[1];if(vo(_,x,l))return 0;v>a!=L>a&&n<(y-f)*(a-v)/(L-v)+f&&(c=-c)}return c}function vo(t,l,n){var a;return po(t,l,n)&&mo(t[a=+(t[0]===l[0])],n[a],l[a])}function po(t,l,n){return(l[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(l[1]-t[1])}function mo(t,l,n){return t<=l&&l<=n||n<=l&&l<=t}function bo(){}var it=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Gs(){var t=1,l=1,n=to,a=_;function c(f){var v=n(f);if(Array.isArray(v))v=v.slice().sort(co);else{const x=tr(f,go);for(v=lr(...ao(x[0],x[1],v),v);v[v.length-1]>=x[1];)v.pop();for(;v[1]<x[0];)v.shift()}return v.map(x=>i(f,x))}function i(f,v){const x=v==null?NaN:+v;if(isNaN(x))throw new Error(`invalid value: ${v}`);var y=[],L=[];return u(f,x,function(D){a(D,f,x),uo(D)>0?y.push([D]):L.push(D)}),L.forEach(function(D){for(var k=0,T=y.length,g;k<T;++k)if(fo((g=y[k])[0],D)!==-1){g.push(D);return}}),{type:"MultiPolygon",value:v,coordinates:y}}function u(f,v,x){var y=new Array,L=new Array,D,k,T,g,b,I;for(D=k=-1,g=Ut(f[0],v),it[g<<1].forEach(j);++D<t-1;)T=g,g=Ut(f[D+1],v),it[T|g<<1].forEach(j);for(it[g<<0].forEach(j);++k<l-1;){for(D=-1,g=Ut(f[k*t+t],v),b=Ut(f[k*t],v),it[g<<1|b<<2].forEach(j);++D<t-1;)T=g,g=Ut(f[k*t+t+D+1],v),I=b,b=Ut(f[k*t+D+1],v),it[T|g<<1|b<<2|I<<3].forEach(j);it[g|b<<3].forEach(j)}for(D=-1,b=f[k*t]>=v,it[b<<2].forEach(j);++D<t-1;)I=b,b=Ut(f[k*t+D+1],v),it[b<<2|I<<3].forEach(j);it[b<<3].forEach(j);function j(M){var z=[M[0][0]+D,M[0][1]+k],q=[M[1][0]+D,M[1][1]+k],F=h(z),U=h(q),P,V;(P=L[F])?(V=y[U])?(delete L[P.end],delete y[V.start],P===V?(P.ring.push(q),x(P.ring)):y[P.start]=L[V.end]={start:P.start,end:V.end,ring:P.ring.concat(V.ring)}):(delete L[P.end],P.ring.push(q),L[P.end=U]=P):(P=y[U])?(V=L[F])?(delete y[P.start],delete L[V.end],P===V?(P.ring.push(q),x(P.ring)):y[V.start]=L[P.end]={start:V.start,end:P.end,ring:V.ring.concat(P.ring)}):(delete y[P.start],P.ring.unshift(z),y[P.start=F]=P):y[F]=L[U]={start:F,end:U,ring:[z,q]}}}function h(f){return f[0]*2+f[1]*(t+1)*4}function _(f,v,x){f.forEach(function(y){var L=y[0],D=y[1],k=L|0,T=D|0,g=Gn(v[T*t+k]);L>0&&L<t&&k===L&&(y[0]=Ws(L,Gn(v[T*t+k-1]),g,x)),D>0&&D<l&&T===D&&(y[1]=Ws(D,Gn(v[(T-1)*t+k]),g,x))})}return c.contour=i,c.size=function(f){if(!arguments.length)return[t,l];var v=Math.floor(f[0]),x=Math.floor(f[1]);if(!(v>=0&&x>=0))throw new Error("invalid size");return t=v,l=x,c},c.thresholds=function(f){return arguments.length?(n=typeof f=="function"?f:Array.isArray(f)?Lt(ur.call(f)):Lt(f),c):n},c.smooth=function(f){return arguments.length?(a=f?_:bo,c):a===_},c}function go(t){return isFinite(t)?t:NaN}function Ut(t,l){return t==null?!1:+t>=l}function Gn(t){return t==null||isNaN(t=+t)?-1/0:t}function Ws(t,l,n,a){const c=a-l,i=n-l,u=isFinite(c)||isFinite(i)?c/i:Math.sign(c)/Math.sign(i);return isNaN(u)?t:t+u-.5}function _o(t){return t[0]}function yo(t){return t[1]}function Eo(){return 1}function Co(){var t=_o,l=yo,n=Eo,a=960,c=500,i=20,u=2,h=i*3,_=a+h*2>>u,f=c+h*2>>u,v=Lt(20);function x(b){var I=new Float32Array(_*f),j=Math.pow(2,-u),M=-1;for(const N of b){var z=(t(N,++M,b)+h)*j,q=(l(N,M,b)+h)*j,F=+n(N,M,b);if(F&&z>=0&&z<_&&q>=0&&q<f){var U=Math.floor(z),P=Math.floor(q),V=z-U-.5,ae=q-P-.5;I[U+P*_]+=(1-V)*(1-ae)*F,I[U+1+P*_]+=V*(1-ae)*F,I[U+1+(P+1)*_]+=V*ae*F,I[U+(P+1)*_]+=(1-V)*ae*F}}return no({data:I,width:_,height:f},i*j),I}function y(b){var I=x(b),j=v(I),M=Math.pow(2,2*u);return Array.isArray(j)||(j=lr(Number.MIN_VALUE,Wn(I)/M,j)),Gs().size([_,f]).thresholds(j.map(z=>z*M))(I).map((z,q)=>(z.value=+j[q],L(z)))}y.contours=function(b){var I=x(b),j=Gs().size([_,f]),M=Math.pow(2,2*u),z=q=>{q=+q;var F=L(j.contour(I,q*M));return F.value=q,F};return Object.defineProperty(z,"max",{get:()=>Wn(I)/M}),z};function L(b){return b.coordinates.forEach(D),b}function D(b){b.forEach(k)}function k(b){b.forEach(T)}function T(b){b[0]=b[0]*Math.pow(2,u)-h,b[1]=b[1]*Math.pow(2,u)-h}function g(){return h=i*3,_=a+h*2>>u,f=c+h*2>>u,y}return y.x=function(b){return arguments.length?(t=typeof b=="function"?b:Lt(+b),y):t},y.y=function(b){return arguments.length?(l=typeof b=="function"?b:Lt(+b),y):l},y.weight=function(b){return arguments.length?(n=typeof b=="function"?b:Lt(+b),y):n},y.size=function(b){if(!arguments.length)return[a,c];var I=+b[0],j=+b[1];if(!(I>=0&&j>=0))throw new Error("invalid size");return a=I,c=j,g()},y.cellSize=function(b){if(!arguments.length)return 1<<u;if(!((b=+b)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(b)/Math.LN2),g()},y.thresholds=function(b){return arguments.length?(v=typeof b=="function"?b:Array.isArray(b)?Lt(ur.call(b)):Lt(b),y):v},y.bandwidth=function(b){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((b=+b)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*b*b+1)-1)/2,g()},y}const wo={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Ao extends ar{constructor(l,n={}){const{x:a,y:c,z:i,curve:u,tension:h}=n;super(l,{x:{value:a,scale:"x"},y:{value:c,scale:"y"},z:{value:nr(n),optional:!0}},n,wo),this.z=i,this.curve=$r(u,h),Dr(this,n)}filter(l){return l}project(l,n,a){this.curve!==Fs&&super.project(l,n,a)}render(l,n,a,c,i){const{x:u,y:h}=a,{curve:_}=this;return sr("svg:g",i).call(rr,this,c,i).call(or,this,n).call(f=>f.selectAll().data(Lr(l,[u,h],this,a)).enter().append("path").call(ir,this).call(Sr,this,a).call(jr,this,a,i).attr("d",_===Fs&&i.projection?xo(i.projection,u,h):eo().curve(_).defined(v=>v>=0).x(v=>u[v]).y(v=>h[v]))).node()}}function xo(t,l,n){const a=cr(t);return l=sa(l),n=sa(n),c=>{let i=[];const u=[i];for(const h of c)h===-1?(i=[],u.push(i)):i.push([l[h],n[h]]);return a({type:"MultiLineString",coordinates:u})}}function ko(t,{x:l=xr,y:n=kr,...a}={}){return new Ao(t,lo({...a,x:l,y:n}))}const Do={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Lo extends ar{constructor(l,{x:n,y:a,z:c,weight:i,fill:u,stroke:h,..._}={}){const f=Ks(u)&&(u="currentColor",!0),v=Ks(h)&&(h="currentColor",!0);super(l,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:nr({z:c,fill:u,stroke:h}),optional:!0},weight:{value:i,optional:!0}},jo({..._,fill:u,stroke:h},f,v),Do),f&&(this.fill=void 0),v&&(this.stroke=void 0),this.z=c}filter(l){return l}render(l,n,a,c,i){const{contours:u}=a,h=cr();return sr("svg:g",i).call(rr,this,c,i).call(or,this,{}).call(_=>_.selectAll().data(l).enter().append("path").call(ir,this).call(Tr,this,a).attr("d",f=>h(u[f]))).node()}}function Ys(t,{x:l,y:n,...a}={}){return[l,n]=Ir(l,n),new Lo(t,{...a,x:l,y:n})}const So=new Set(["x","y","z","weight"]);function jo(t,l,n){let{bandwidth:c,thresholds:i}=t;return c=c===void 0?20:+c,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?sa(i):+i,qr(t,function(u,h,_,f,v,x){const y=_.weight?sa(_.weight.value):null,L=_.z?.value,{z:D}=this,[k,T]=Nr(this,v),{width:g,height:b}=v,{x:I,y:j}=Pr(_,f,x),M=Object.fromEntries(Object.entries(_).filter(([N])=>!So.has(N)).map(([N,W])=>[N,{...W,value:[]}])),z=l&&[],q=n&&[],F=Co().x(I?N=>I[N]:k).y(j?N=>j[N]:T).weight(y?N=>y[N]:1).size([g,b]).bandwidth(c),U=[];for(const N of h){const W=[];U.push(W);for(const oe of L?Mr(N,L,D):[N]){const Z=F.contours(oe);W.push([oe,Z])}}let P=i;if(!(P instanceof Vr)){let N=0;for(const W of U)for(const[,oe]of W){const Z=oe.max;Z>N&&(N=Z)}P=Float64Array.from({length:i-1},(W,oe)=>N*100*(oe+1)/i)}const V=[],ae=[];for(const N of U){const W=[];V.push(W);for(const[oe,Z]of N)for(const ne of P){W.push(ae.length),ae.push(Z(ne/100)),z&&z.push(ne),q&&q.push(ne);for(const de in M)M[de].value.push(_[de].value[oe[0]])}}return z&&z.push(0),q&&q.push(0),{data:u,facets:V,channels:{...M,...z&&{fill:{value:z,scale:"color"}},...q&&{stroke:{value:q,scale:"color"}},contours:{value:ae}}}})}function Ks(t){return/^density$/i.test(t)}function Xs(t,l,n){const a=t.slice();return a[56]=l[n],a[57]=l,a[58]=n,a}function To(t,l,n){const a=t.slice();return a[59]=l[n],a}function Zs(t){let l,n,a,c=t[19][t[18]]+"",i,u,h,_=er(t[16])+"",f,v=t[9]&&Js(t);return{c(){l=r("div"),n=r("div"),a=r("span"),i=w(c),u=E(),v&&v.c(),h=w(`
              >> `),f=w(_),this.h()},l(x){l=o(x,"DIV",{class:!0});var y=m(l);n=o(y,"DIV",{class:!0});var L=m(n);a=o(L,"SPAN",{class:!0});var D=m(a);i=A(D,c),u=C(D),v&&v.l(D),h=A(D,`
              >> `),f=A(D,_),D.forEach(p),L.forEach(p),y.forEach(p),this.h()},h(){s(a,"class","mini-header-text"),s(n,"class","mini-header-content"),s(l,"class","mini-header")},m(x,y){Se(x,l,y),e(l,n),e(n,a),e(a,i),e(a,u),v&&v.m(a,null),e(a,h),e(a,f)},p(x,y){x[9]?v?v.p(x,y):(v=Js(x),v.c(),v.m(a,h)):v&&(v.d(1),v=null),y[0]&65536&&_!==(_=er(x[16])+"")&&_e(f,_)},d(x){x&&p(l),v&&v.d()}}}function Js(t){let l,n,a=t[9].toLocaleString()+"",c,i;return{c(){l=r("span"),n=w("(Total: £"),c=w(a),i=w(" billion)"),this.h()},l(u){l=o(u,"SPAN",{class:!0});var h=m(l);n=A(h,"(Total: £"),c=A(h,a),i=A(h," billion)"),h.forEach(p),this.h()},h(){s(l,"class","mini-header-value")},m(u,h){Se(u,l,h),e(l,n),e(l,c),e(l,i)},p(u,h){h[0]&512&&a!==(a=u[9].toLocaleString()+"")&&_e(c,a)},d(u){u&&p(l)}}}function Qs(t){let l,n,a,c,i=t[20](t[9],t[11],St)+"",u,h,_,f=t[9].toLocaleString()+"",v,x,y,L="billion",D,k,T,g=t[20](t[13],t[11],ye)+"",b,I,j,M,z,q=t[20](t[10],t[12],St)+"",F,U,P,V=t[10].toLocaleString()+"",ae,N,W,oe,Z,ne,de=t[20](t[14],t[12],ye)+"",ie,ce,ee,he,me,ve,ue;function Te(H,te){return H[9]>0?qo:Io}let Ee=Te(t),se=Ee(t);function ct(H,te){return H[9]>0?Mo:Po}let Ce=ct(t),xe=Ce(t);return{c(){l=r("div"),n=r("div"),a=r("div"),c=new wl(!1),u=E(),h=r("span"),_=w("£"),v=w(f),x=E(),y=r("span"),y.textContent=L,D=E(),k=r("div"),T=new wl(!1),b=E(),se.c(),I=E(),j=r("div"),M=r("div"),z=new wl(!1),F=E(),U=r("span"),P=w("£"),ae=w(V),N=E(),W=r("span"),oe=E(),Z=r("div"),ne=new wl(!1),ie=E(),xe.c(),ce=E(),ee=r("span"),he=r("i"),me=w("Grey bars indicate average value for "),ve=r("span"),ue=w(t[7]),this.h()},l(H){l=o(H,"DIV",{class:!0});var te=m(l);n=o(te,"DIV",{class:!0});var Oe=m(n);a=o(Oe,"DIV",{class:!0});var fe=m(a);c=Al(fe,!1),u=C(fe),h=o(fe,"SPAN",{class:!0});var d=m(h);_=A(d,"£"),v=A(d,f),d.forEach(p),x=C(fe),y=o(fe,"SPAN",{class:!0,"data-svelte-h":!0}),Y(y)!=="svelte-tlhydp"&&(y.textContent=L),fe.forEach(p),D=C(Oe),k=o(Oe,"DIV",{class:!0});var R=m(k);T=Al(R,!1),b=C(R),se.l(R),R.forEach(p),Oe.forEach(p),I=C(te),j=o(te,"DIV",{class:!0});var Q=m(j);M=o(Q,"DIV",{class:!0});var X=m(M);z=Al(X,!1),F=C(X),U=o(X,"SPAN",{class:!0});var B=m(U);P=A(B,"£"),ae=A(B,V),B.forEach(p),N=C(X),W=o(X,"SPAN",{class:!0}),m(W).forEach(p),X.forEach(p),oe=C(Q),Z=o(Q,"DIV",{class:!0});var le=m(Z);ne=Al(le,!1),ie=C(le),xe.l(le),le.forEach(p),ce=C(Q),ee=o(Q,"SPAN",{class:!0});var O=m(ee);he=o(O,"I",{});var re=m(he);me=A(re,"Grey bars indicate average value for "),ve=o(re,"SPAN",{class:!0});var ke=m(ve);ue=A(ke,t[7]),ke.forEach(p),re.forEach(p),O.forEach(p),Q.forEach(p),te.forEach(p),this.h()},h(){c.a=u,s(h,"class","waffle-big svelte-j2xbeq"),s(y,"class","small svelte-j2xbeq"),s(a,"class","waffle-value svelte-j2xbeq"),T.a=b,s(k,"class","waffle-value svelte-j2xbeq"),s(n,"class","waffle-stat svelte-j2xbeq"),z.a=F,s(U,"class","waffle-big svelte-j2xbeq"),s(W,"class","small svelte-j2xbeq"),s(M,"class","waffle-value svelte-j2xbeq"),ne.a=ie,s(Z,"class","waffle-value svelte-j2xbeq"),s(ve,"class","nation-label svelte-j2xbeq"),s(ee,"class","waffle-caption svelte-j2xbeq"),s(j,"class","waffle-stat svelte-j2xbeq"),s(l,"class","waffle-stats")},m(H,te){Se(H,l,te),e(l,n),e(n,a),c.m(i,a),e(a,u),e(a,h),e(h,_),e(h,v),e(a,x),e(a,y),e(n,D),e(n,k),T.m(g,k),e(k,b),se.m(k,null),e(l,I),e(l,j),e(j,M),z.m(q,M),e(M,F),e(M,U),e(U,P),e(U,ae),e(M,N),e(M,W),e(j,oe),e(j,Z),ne.m(de,Z),e(Z,ie),xe.m(Z,null),e(j,ce),e(j,ee),e(ee,he),e(he,me),e(he,ve),e(ve,ue)},p(H,te){te[0]&2560&&i!==(i=H[20](H[9],H[11],St)+"")&&c.p(i),te[0]&512&&f!==(f=H[9].toLocaleString()+"")&&_e(v,f),te[0]&10240&&g!==(g=H[20](H[13],H[11],ye)+"")&&T.p(g),Ee!==(Ee=Te(H))&&(se.d(1),se=Ee(H),se&&(se.c(),se.m(k,null))),te[0]&5120&&q!==(q=H[20](H[10],H[12],St)+"")&&z.p(q),te[0]&1024&&V!==(V=H[10].toLocaleString()+"")&&_e(ae,V),te[0]&20480&&de!==(de=H[20](H[14],H[12],ye)+"")&&ne.p(de),Ce!==(Ce=ct(H))&&(xe.d(1),xe=Ce(H),xe&&(xe.c(),xe.m(Z,null))),te[0]&128&&_e(ue,H[7])},d(H){H&&p(l),se.d(),xe.d()}}}function Io(t){let l,n="Local area costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-pi7zpb"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,c){Se(a,l,c)},d(a){a&&p(l)}}}function qo(t){let l,n="Local area benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-cjpgg1"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,c){Se(a,l,c)},d(a){a&&p(l)}}}function Po(t){let l,n="Per capita costs";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-k47gg8"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,c){Se(a,l,c)},d(a){a&&p(l)}}}function Mo(t){let l,n="Per capita benefits";return{c(){l=r("span"),l.textContent=n,this.h()},l(a){l=o(a,"SPAN",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1jc8yoe"&&(l.textContent=n),this.h()},h(){s(l,"class","waffle-caption svelte-j2xbeq")},m(a,c){Se(a,l,c)},d(a){a&&p(l)}}}function Vo(t){let l,n,a,c,i=t[59].label+"",u,h;return{c(){l=r("li"),n=r("span"),a=E(),c=r("a"),u=w(i),h=E(),this.h()},l(_){l=o(_,"LI",{});var f=m(l);n=o(f,"SPAN",{class:!0,style:!0}),m(n).forEach(p),a=C(f),c=o(f,"A",{href:!0,target:!0,class:!0});var v=m(c);u=A(v,i),v.forEach(p),h=C(f),f.forEach(p),this.h()},h(){s(n,"class","legend-color svelte-j2xbeq"),Le(n,"background-color",aa(t[59].id)),s(c,"href",Yn+"/cobenefit?cobenefit="+t[59].id),s(c,"target","_blank"),s(c,"class","link")},m(_,f){Se(_,l,f),e(l,n),e(l,a),e(l,c),e(c,u),e(l,h)},p:pr,d(_){_&&p(l)}}}function No(t){let l,n,a,c,i,u,h,_,f=`The histogram shows the number of data zones
                                        distributed
                                        across
                                        different household social economic factors.`,v,x,y="",L=t[56],D,k,T,g,b,I=t[56].label+"",j,M,z,q,F,U=t[19][t[18]]+"",P,V,ae,N,W,oe="";const Z=()=>t[33](x,L),ne=()=>t[33](null,L),de=()=>t[34](W,L),ie=()=>t[34](null,L);return{c(){l=r("div"),n=r("h3"),a=w("Data Zones Distribution (vs. "),c=r("span"),i=w(t[7]),u=w(" average)"),h=E(),_=r("p"),_.textContent=f,v=E(),x=r("div"),x.innerHTML=y,D=E(),k=r("div"),T=r("div"),g=r("h3"),b=w(`Co-benefits Received by Data Zones
                                            across `),j=w(I),M=w(`
                                            Values`),z=E(),q=r("p"),F=w(`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),P=w(U),V=w("."),ae=E(),N=r("div"),W=r("div"),W.innerHTML=oe,this.h()},l(ce){l=o(ce,"DIV",{class:!0});var ee=m(l);n=o(ee,"H3",{class:!0});var he=m(n);a=A(he,"Data Zones Distribution (vs. "),c=o(he,"SPAN",{class:!0});var me=m(c);i=A(me,t[7]),me.forEach(p),u=A(he," average)"),he.forEach(p),h=C(ee),_=o(ee,"P",{class:!0,"data-svelte-h":!0}),Y(_)!=="svelte-zr1gq8"&&(_.textContent=f),v=C(ee),x=o(ee,"DIV",{class:!0,"data-svelte-h":!0}),Y(x)!=="svelte-6ldqab"&&(x.innerHTML=y),ee.forEach(p),D=C(ce),k=o(ce,"DIV",{class:!0});var ve=m(k);T=o(ve,"DIV",{});var ue=m(T);g=o(ue,"H3",{class:!0});var Te=m(g);b=A(Te,`Co-benefits Received by Data Zones
                                            across `),j=A(Te,I),M=A(Te,`
                                            Values`),Te.forEach(p),z=C(ue),q=o(ue,"P",{class:!0});var Ee=m(q);F=A(Ee,`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),P=A(Ee,U),V=A(Ee,"."),Ee.forEach(p),ue.forEach(p),ae=C(ve),N=o(ve,"DIV",{});var se=m(N);W=o(se,"DIV",{class:!0,"data-svelte-h":!0}),Y(W)!=="svelte-12l832e"&&(W.innerHTML=oe),se.forEach(p),ve.forEach(p),this.h()},h(){s(c,"class","nation-label svelte-j2xbeq"),s(n,"class","component-title"),s(_,"class","description short"),s(x,"class","plot"),s(l,"class","component column svelte-j2xbeq"),s(g,"class","component-title"),s(q,"class","description short"),s(W,"class","plot"),s(k,"class","component column svelte-j2xbeq")},m(ce,ee){Se(ce,l,ee),e(l,n),e(n,a),e(n,c),e(c,i),e(n,u),e(l,h),e(l,_),e(l,v),e(l,x),Z(),Se(ce,D,ee),Se(ce,k,ee),e(k,T),e(T,g),e(g,b),e(g,j),e(g,M),e(T,z),e(T,q),e(q,F),e(q,P),e(q,V),e(k,ae),e(k,N),e(N,W),de()},p(ce,ee){t=ce,ee[0]&128&&_e(i,t[7]),L!==t[56]&&(ne(),L=t[56],Z()),L!==t[56]&&(ie(),L=t[56],de())},d(ce){ce&&(p(l),p(D),p(k)),ne(),ie()}}}function $s(t){let l,n,a,c=t[56].label+"",i,u,h,_=t[56].def+"",f,v,x,y;function L(T,g){return No}let k=L()(t);return{c(){l=r("div"),n=r("h2"),a=r("a"),i=w(c),u=E(),h=r("p"),f=w(_),v=E(),x=r("div"),k.c(),y=E(),this.h()},l(T){l=o(T,"DIV",{class:!0});var g=m(l);n=o(g,"H2",{class:!0});var b=m(n);a=o(b,"A",{class:!0,target:!0,href:!0});var I=m(a);i=A(I,c),I.forEach(p),b.forEach(p),u=C(g),h=o(g,"P",{class:!0});var j=m(h);f=A(j,_),j.forEach(p),v=C(g),x=o(g,"DIV",{class:!0});var M=m(x);k.l(M),M.forEach(p),y=C(g),g.forEach(p),this.h()},h(){s(a,"class","link"),s(a,"target","_blank"),s(a,"href",Yn+"/sef?sef="+t[56].id),s(n,"class","column-chart-title svelte-j2xbeq"),s(h,"class","column-chart-caption svelte-j2xbeq"),s(x,"class","row"),s(l,"class","household-column svelte-j2xbeq")},m(T,g){Se(T,l,g),e(l,n),e(n,a),e(a,i),e(l,u),e(l,h),e(h,f),e(l,v),e(l,x),k.m(x,null),e(l,y)},p(T,g){k.p(T,g)},d(T){T&&p(l),k.d()}}}function Bo(t){let l,n,a,c,i,u,h,_="Local Authority Report",f,v,x=t[19][t[18]]+"",y,L,D,k=`Explore how this local authority will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,T,g,b,I,j,M,z,q,F="UK",U,P,V,ae,N,W="England",oe,Z,ne,de,ie,ce="Wales",ee,he,me,ve,ue,Te="Scotland",Ee,se,ct,Ce,xe="Northern Ireland",H,te,Oe,fe,d,R=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,Q,X,B,le,O,re,ke,G,Qe,Fe,ra,Kn=t[19][t[18]]+"",oa,ia,Wt,xl,ca,ua,fa,da,yl,kl=t[21](t[5],t[8])+"",Dl,ut,ha,Yt,Ll,va,pa,Ue,ma,Xn=t[19][t[18]]+"",ba,ga,Kt,Sl,_a,ya,ft,Zn="",Ea,Ie,dt,Ca,Jn=t[19][t[18]]+"",wa,Aa,xa,jt,Qn=t[19][t[18]]+"",ka,Da,La,Tt,$n="*Scroll for zooming in and out",Sa,$e,es="",ja,et,It,ts=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Ta,tt,lt,at,ht,Ia,Xt,jl,qa,Pa,Me,Ma,ls=t[19][t[18]]+"",Va,Na,Zt,Tl,Ba,za,Ge,qt,as="Legend:",Ra,Ha,Oa,vt,pt,Jt,Fa,ns=t[19][t[18]]+"",Ua,Ga,mt,Qt,Wa,$t,Il,Ya,el,Ka,Ve,nt,bt,Xa,ss=t[19][t[18]]+"",Za,Ja,Qa,gt,rs=`Total gains and losses are shown at five-year
                        intervals for each co-benefit. The curve between points is smoothed to show the general
                        trends.`,$a,qe,Pt,os="Legend:",en,tn,ln,Mt,an,tl,nn,_t,is=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,sn,st,We,Vt,cs="Households",rn,Nt,us=t[19][t[18]]+"",on,cn,un,Bt,fs=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits received by those data zones.`,fn,Ye,we,Ke,dn,ds=t[19][t[18]]+"",hn,vn,ql,pn,mn,bn,gn,Ne,zt,hs="Legend:",_n,yn,En,yt,Et,ll,Cn,vs=t[19][t[18]]+"",wn,An,Ct,al,xn,Pl,kn,je,Rt,ps="Interpreting the charts:",Dn,Ln,Sn,nl,ms=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,jn,Xe,sl,bs="Scatterplot:",Tn,gs=t[19][t[18]]+"",In,qn,Ml,Pn,Mn,wt,_s=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,Vn,At,Ae,Nn,ys;l=new Ar({});let be=t[15]&&Zs(t),ge=t[9]&&Qs(t),Es=Rn(na),rt=[];for(let S=0;S<Es.length;S+=1)rt[S]=Vo(To(t,Es,S));let rl=Rn(Ns),pe=[];for(let S=0;S<rl.length;S+=1)pe[S]=$s(Xs(t,rl,S));return{c(){gr(l.$$.fragment),n=E(),a=r("div"),be&&be.c(),c=E(),i=r("div"),u=r("div"),h=r("p"),h.textContent=_,f=E(),v=r("h1"),y=w(x),L=E(),D=r("p"),D.textContent=k,T=E(),g=r("div"),b=w("Compare this Local Authority District (LAD) against:"),I=r("br"),j=E(),M=r("input"),z=E(),q=r("label"),q.textContent=F,U=r("br"),P=E(),V=r("input"),ae=E(),N=r("label"),N.textContent=W,oe=r("br"),Z=E(),ne=r("input"),de=E(),ie=r("label"),ie.textContent=ce,ee=r("br"),he=E(),me=r("input"),ve=E(),ue=r("label"),ue.textContent=Te,Ee=E(),se=r("input"),ct=E(),Ce=r("label"),Ce.textContent=xe,H=E(),te=r("div"),ge&&ge.c(),Oe=E(),fe=r("div"),d=r("div"),d.innerHTML=R,Q=E(),X=r("div"),B=r("div"),le=r("h3"),O=w("Distribution of the cobenefit per datazones compared to "),re=r("span"),ke=w(t[7]),G=w(" Average)"),Qe=E(),Fe=r("p"),ra=w("Co-benefit values for "),oa=w(Kn),ia=w(` compared to average value of benefits
                    received across all local
                    authorities in `),Wt=r("span"),xl=w(t[7]),ca=w(" (grey)."),ua=E(),fa=r("br"),da=E(),yl=new wl(!1),Dl=E(),ut=r("h3"),ha=w("11 types of co-benefit values (vs. "),Yt=r("span"),Ll=w(t[7]),va=w(" Average)"),pa=E(),Ue=r("p"),ma=w("Co-benefit values for "),ba=w(Xn),ga=w(` compared to average value of benefits
                    received across all local
                    authorities in `),Kt=r("span"),Sl=w(t[7]),_a=w(" (grey)."),ya=E(),ft=r("div"),ft.innerHTML=Zn,Ea=E(),Ie=r("div"),dt=r("h3"),Ca=w("Where is "),wa=w(Jn),Aa=w("?"),xa=E(),jt=r("p"),ka=w(Qn),Da=w(" has been highlighted in red on this UK map."),La=E(),Tt=r("p"),Tt.textContent=$n,Sa=E(),$e=r("div"),$e.innerHTML=es,ja=E(),et=r("div"),It=r("div"),It.innerHTML=ts,Ta=E(),tt=r("div"),lt=r("div"),at=r("div"),ht=r("h3"),Ia=w("Total co-benefit distribution from 2025-2049 (vs. "),Xt=r("span"),jl=w(t[7]),qa=w(" Average)"),Pa=E(),Me=r("p"),Ma=w(`Aggregated values from 2025-2049
                        in `),Va=w(ls),Na=w(` compared to average value of benefits received across all local authorities
                        in `),Zt=r("span"),Tl=w(t[7]),Ba=w("."),za=E(),Ge=r("div"),qt=r("strong"),qt.textContent=as,Ra=E(),Ha=r("br"),Oa=E(),vt=r("ul"),pt=r("li"),Jt=r("span"),Fa=E(),Ua=w(ns),Ga=E(),mt=r("li"),Qt=r("span"),Wa=E(),$t=r("span"),Il=w(t[7]),Ya=E(),el=r("div"),Ka=E(),Ve=r("div"),nt=r("div"),bt=r("h3"),Xa=w("Co-benefit gain/loss for "),Za=w(ss),Ja=w(" over 5 year intervals"),Qa=E(),gt=r("p"),gt.textContent=rs,$a=E(),qe=r("div"),Pt=r("strong"),Pt.textContent=os,en=E(),tn=r("br"),ln=E(),Mt=r("ul");for(let S=0;S<rt.length;S+=1)rt[S].c();an=E(),tl=r("div"),nn=E(),_t=r("div"),_t.innerHTML=is,sn=E(),st=r("div"),We=r("div"),Vt=r("p"),Vt.textContent=cs,rn=E(),Nt=r("h2"),on=w(us),cn=w(" social-economic factors"),un=E(),Bt=r("p"),Bt.textContent=fs,fn=E(),Ye=r("div"),we=r("div"),Ke=r("h3"),dn=w("Comparing the Socio-Economic factors distributions of "),hn=w(ds),vn=w(`
                    and `),ql=w(t[7]),pn=w(", and their correlation with co-benefits."),mn=E(),bn=r("br"),gn=E(),Ne=r("div"),zt=r("strong"),zt.textContent=hs,_n=E(),yn=r("br"),En=E(),yt=r("ul"),Et=r("li"),ll=r("span"),Cn=E(),wn=w(vs),An=E(),Ct=r("li"),al=r("span"),xn=E(),Pl=w(t[7]),kn=E(),je=r("div"),Rt=r("strong"),Rt.textContent=ps,Dn=E(),Ln=r("br"),Sn=E(),nl=r("p"),nl.innerHTML=ms,jn=E(),Xe=r("p"),sl=r("strong"),sl.textContent=bs,Tn=w(" Each dot represents a datazone inside "),In=w(gs),qn=w(`. The cloud
                        shows the distribution for `),Ml=w(t[7]),Pn=w("."),Mn=E(),wt=r("div"),wt.innerHTML=_s,Vn=E(),At=r("div");for(let S=0;S<pe.length;S+=1)pe[S].c();this.h()},l(S){_r(l.$$.fragment,S),n=C(S),a=o(S,"DIV",{class:!0});var K=m(a);be&&be.l(K),c=C(K),i=o(K,"DIV",{class:!0,id:!0});var J=m(i);u=o(J,"DIV",{});var Be=m(u);h=o(Be,"P",{class:!0,"data-svelte-h":!0}),Y(h)!=="svelte-wtex57"&&(h.textContent=_),f=C(Be),v=o(Be,"H1",{class:!0});var Cs=m(v);y=A(Cs,x),Cs.forEach(p),L=C(Be),D=o(Be,"P",{class:!0,"data-svelte-h":!0}),Y(D)!=="svelte-q4fx5o"&&(D.textContent=k),T=C(Be),g=o(Be,"DIV",{class:!0});var $=m(g);b=A($,"Compare this Local Authority District (LAD) against:"),I=o($,"BR",{}),j=C($),M=o($,"INPUT",{type:!0,name:!0}),z=C($),q=o($,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(q)!=="svelte-1yhxhao"&&(q.textContent=F),U=o($,"BR",{}),P=C($),V=o($,"INPUT",{type:!0,name:!0}),ae=C($),N=o($,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(N)!=="svelte-11zyrfp"&&(N.textContent=W),oe=o($,"BR",{}),Z=C($),ne=o($,"INPUT",{type:!0,name:!0}),de=C($),ie=o($,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(ie)!=="svelte-18hrmu4"&&(ie.textContent=ce),ee=o($,"BR",{}),he=C($),me=o($,"INPUT",{type:!0,name:!0}),ve=C($),ue=o($,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(ue)!=="svelte-mkxs8y"&&(ue.textContent=Te),Ee=C($),se=o($,"INPUT",{type:!0,name:!0}),ct=C($),Ce=o($,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Y(Ce)!=="svelte-g19yfx"&&(Ce.textContent=xe),$.forEach(p),Be.forEach(p),H=C(J),te=o(J,"DIV",{});var ws=m(te);ge&&ge.l(ws),ws.forEach(p),J.forEach(p),Oe=C(K),fe=o(K,"DIV",{class:!0,id:!0});var Vl=m(fe);d=o(Vl,"DIV",{class:!0,"data-svelte-h":!0}),Y(d)!=="svelte-lw225h"&&(d.innerHTML=R),Q=C(Vl),X=o(Vl,"DIV",{id:!0,class:!0});var Nl=m(X);B=o(Nl,"DIV",{class:!0});var De=m(B);le=o(De,"H3",{class:!0});var Bl=m(le);O=A(Bl,"Distribution of the cobenefit per datazones compared to "),re=o(Bl,"SPAN",{class:!0});var As=m(re);ke=A(As,t[7]),As.forEach(p),G=A(Bl," Average)"),Bl.forEach(p),Qe=C(De),Fe=o(De,"P",{class:!0});var ol=m(Fe);ra=A(ol,"Co-benefit values for "),oa=A(ol,Kn),ia=A(ol,` compared to average value of benefits
                    received across all local
                    authorities in `),Wt=o(ol,"SPAN",{class:!0});var xs=m(Wt);xl=A(xs,t[7]),xs.forEach(p),ca=A(ol," (grey)."),ol.forEach(p),ua=C(De),fa=o(De,"BR",{}),da=C(De),yl=Al(De,!1),Dl=C(De),ut=o(De,"H3",{class:!0});var zl=m(ut);ha=A(zl,"11 types of co-benefit values (vs. "),Yt=o(zl,"SPAN",{class:!0});var ks=m(Yt);Ll=A(ks,t[7]),ks.forEach(p),va=A(zl," Average)"),zl.forEach(p),pa=C(De),Ue=o(De,"P",{class:!0});var il=m(Ue);ma=A(il,"Co-benefit values for "),ba=A(il,Xn),ga=A(il,` compared to average value of benefits
                    received across all local
                    authorities in `),Kt=o(il,"SPAN",{class:!0});var Ds=m(Kt);Sl=A(Ds,t[7]),Ds.forEach(p),_a=A(il," (grey)."),il.forEach(p),ya=C(De),ft=o(De,"DIV",{class:!0,"data-svelte-h":!0}),Y(ft)!=="svelte-11dzfub"&&(ft.innerHTML=Zn),De.forEach(p),Ea=C(Nl),Ie=o(Nl,"DIV",{class:!0});var xt=m(Ie);dt=o(xt,"H3",{class:!0});var Rl=m(dt);Ca=A(Rl,"Where is "),wa=A(Rl,Jn),Aa=A(Rl,"?"),Rl.forEach(p),xa=C(xt),jt=o(xt,"P",{class:!0});var Bn=m(jt);ka=A(Bn,Qn),Da=A(Bn," has been highlighted in red on this UK map."),Bn.forEach(p),La=C(xt),Tt=o(xt,"P",{class:!0,"data-svelte-h":!0}),Y(Tt)!=="svelte-vsj698"&&(Tt.textContent=$n),Sa=C(xt),$e=o(xt,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y($e)!=="svelte-13ehpmu"&&($e.innerHTML=es),xt.forEach(p),Nl.forEach(p),Vl.forEach(p),ja=C(K),et=o(K,"DIV",{class:!0,id:!0});var Hl=m(et);It=o(Hl,"DIV",{class:!0,"data-svelte-h":!0}),Y(It)!=="svelte-10cbt4"&&(It.innerHTML=ts),Ta=C(Hl),tt=o(Hl,"DIV",{id:!0,class:!0});var Ol=m(tt);lt=o(Ol,"DIV",{id:!0,class:!0});var Fl=m(lt);at=o(Fl,"DIV",{});var cl=m(at);ht=o(cl,"H3",{class:!0});var Ul=m(ht);Ia=A(Ul,"Total co-benefit distribution from 2025-2049 (vs. "),Xt=o(Ul,"SPAN",{class:!0});var Ls=m(Xt);jl=A(Ls,t[7]),Ls.forEach(p),qa=A(Ul," Average)"),Ul.forEach(p),Pa=C(cl),Me=o(cl,"P",{class:!0,style:!0});var ul=m(Me);Ma=A(ul,`Aggregated values from 2025-2049
                        in `),Va=A(ul,ls),Na=A(ul,` compared to average value of benefits received across all local authorities
                        in `),Zt=o(ul,"SPAN",{class:!0});var Ss=m(Zt);Tl=A(Ss,t[7]),Ss.forEach(p),Ba=A(ul,"."),ul.forEach(p),za=C(cl),Ge=o(cl,"DIV",{class:!0});var fl=m(Ge);qt=o(fl,"STRONG",{style:!0,"data-svelte-h":!0}),Y(qt)!=="svelte-1fi0dip"&&(qt.textContent=as),Ra=C(fl),Ha=o(fl,"BR",{}),Oa=C(fl),vt=o(fl,"UL",{class:!0});var Gl=m(vt);pt=o(Gl,"LI",{class:!0});var Wl=m(pt);Jt=o(Wl,"SPAN",{class:!0,style:!0}),m(Jt).forEach(p),Fa=C(Wl),Ua=A(Wl,ns),Wl.forEach(p),Ga=C(Gl),mt=o(Gl,"LI",{class:!0});var Yl=m(mt);Qt=o(Yl,"SPAN",{class:!0,style:!0}),m(Qt).forEach(p),Wa=C(Yl),$t=o(Yl,"SPAN",{class:!0});var js=m($t);Il=A(js,t[7]),js.forEach(p),Yl.forEach(p),Gl.forEach(p),fl.forEach(p),cl.forEach(p),Ya=C(Fl),el=o(Fl,"DIV",{class:!0}),m(el).forEach(p),Fl.forEach(p),Ka=C(Ol),Ve=o(Ol,"DIV",{id:!0,class:!0});var dl=m(Ve);nt=o(dl,"DIV",{});var hl=m(nt);bt=o(hl,"H3",{class:!0});var Kl=m(bt);Xa=A(Kl,"Co-benefit gain/loss for "),Za=A(Kl,ss),Ja=A(Kl," over 5 year intervals"),Kl.forEach(p),Qa=C(hl),gt=o(hl,"P",{class:!0,style:!0,"data-svelte-h":!0}),Y(gt)!=="svelte-1na17f1"&&(gt.textContent=rs),$a=C(hl),qe=o(hl,"DIV",{id:!0,class:!0,style:!0});var vl=m(qe);Pt=o(vl,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=os),en=C(vl),tn=o(vl,"BR",{}),ln=C(vl),Mt=o(vl,"UL",{class:!0,style:!0});var Ts=m(Mt);for(let Ot=0;Ot<rt.length;Ot+=1)rt[Ot].l(Ts);Ts.forEach(p),vl.forEach(p),hl.forEach(p),an=C(dl),tl=o(dl,"DIV",{class:!0}),m(tl).forEach(p),nn=C(dl),_t=o(dl,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(_t)!=="svelte-1xqy5mf"&&(_t.innerHTML=is),dl.forEach(p),Ol.forEach(p),Hl.forEach(p),sn=C(K),st=o(K,"DIV",{class:!0,id:!0});var Xl=m(st);We=o(Xl,"DIV",{class:!0});var pl=m(We);Vt=o(pl,"P",{class:!0,"data-svelte-h":!0}),Y(Vt)!=="svelte-ceroz1"&&(Vt.textContent=cs),rn=C(pl),Nt=o(pl,"H2",{class:!0});var zn=m(Nt);on=A(zn,us),cn=A(zn," social-economic factors"),zn.forEach(p),un=C(pl),Bt=o(pl,"P",{class:!0,"data-svelte-h":!0}),Y(Bt)!=="svelte-45d07w"&&(Bt.textContent=fs),pl.forEach(p),fn=C(Xl),Ye=o(Xl,"DIV",{id:!0,class:!0,style:!0});var Zl=m(Ye);we=o(Zl,"DIV",{id:!0,class:!0});var Ze=m(we);Ke=o(Ze,"H3",{class:!0});var ml=m(Ke);dn=A(ml,"Comparing the Socio-Economic factors distributions of "),hn=A(ml,ds),vn=A(ml,`
                    and `),ql=A(ml,t[7]),pn=A(ml,", and their correlation with co-benefits."),ml.forEach(p),mn=C(Ze),bn=o(Ze,"BR",{}),gn=C(Ze),Ne=o(Ze,"DIV",{id:!0,class:!0});var bl=m(Ne);zt=o(bl,"STRONG",{style:!0,"data-svelte-h":!0}),Y(zt)!=="svelte-xb363n"&&(zt.textContent=hs),_n=C(bl),yn=o(bl,"BR",{}),En=C(bl),yt=o(bl,"UL",{class:!0});var Jl=m(yt);Et=o(Jl,"LI",{class:!0});var Ql=m(Et);ll=o(Ql,"SPAN",{class:!0,style:!0}),m(ll).forEach(p),Cn=C(Ql),wn=A(Ql,vs),Ql.forEach(p),An=C(Jl),Ct=o(Jl,"LI",{class:!0});var $l=m(Ct);al=o($l,"SPAN",{class:!0,style:!0}),m(al).forEach(p),xn=C($l),Pl=A($l,t[7]),$l.forEach(p),Jl.forEach(p),bl.forEach(p),kn=C(Ze),je=o(Ze,"DIV",{id:!0,class:!0});var kt=m(je);Rt=o(kt,"STRONG",{style:!0,"data-svelte-h":!0}),Y(Rt)!=="svelte-ucmfvz"&&(Rt.textContent=ps),Dn=C(kt),Ln=o(kt,"BR",{}),Sn=C(kt),nl=o(kt,"P",{"data-svelte-h":!0}),Y(nl)!=="svelte-mm528r"&&(nl.innerHTML=ms),jn=C(kt),Xe=o(kt,"P",{});var Ht=m(Xe);sl=o(Ht,"STRONG",{"data-svelte-h":!0}),Y(sl)!=="svelte-1ij32sd"&&(sl.textContent=bs),Tn=A(Ht," Each dot represents a datazone inside "),In=A(Ht,gs),qn=A(Ht,`. The cloud
                        shows the distribution for `),Ml=A(Ht,t[7]),Pn=A(Ht,"."),Ht.forEach(p),kt.forEach(p),Mn=C(Ze),wt=o(Ze,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Y(wt)!=="svelte-gofjep"&&(wt.innerHTML=_s),Ze.forEach(p),Vn=C(Zl),At=o(Zl,"DIV",{id:!0,class:!0});var Is=m(At);for(let Ot=0;Ot<pe.length;Ot+=1)pe[Ot].l(Is);Is.forEach(p),Zl.forEach(p),Xl.forEach(p),K.forEach(p),this.h()},h(){s(h,"class","page-subtitle"),s(v,"class","page-title"),s(D,"class","description"),s(M,"type","radio"),s(M,"name","compare"),M.value="UK",M.checked=!0,s(q,"class","nation-label svelte-j2xbeq"),s(q,"for","html"),s(V,"type","radio"),s(V,"name","compare"),V.value="England",s(N,"class","nation-label svelte-j2xbeq"),s(N,"for","html"),s(ne,"type","radio"),s(ne,"name","compare"),ne.value="Wales",s(ie,"class","nation-label svelte-j2xbeq"),s(ie,"for","html"),s(me,"type","radio"),s(me,"name","compare"),me.value="Scotland",s(ue,"class","nation-label svelte-j2xbeq"),s(ue,"for","javascript"),s(se,"type","radio"),s(se,"name","compare"),se.value="NI",s(Ce,"class","nation-label svelte-j2xbeq"),s(Ce,"for","javascript"),s(g,"class","radio-set"),s(i,"class","section header header-row svelte-j2xbeq"),s(i,"id","head"),s(d,"class","section-header"),s(re,"class","nation-label svelte-j2xbeq"),s(le,"class","component-title"),s(Wt,"class","nation-label svelte-j2xbeq"),s(Fe,"class","description"),yl.a=Dl,s(Yt,"class","nation-label svelte-j2xbeq"),s(ut,"class","component-title"),s(Kt,"class","nation-label svelte-j2xbeq"),s(Ue,"class","description"),s(ft,"class","plot"),s(B,"class","component column"),s(dt,"class","component-title"),s(jt,"class","description"),s(Tt,"class","description"),s($e,"id","map"),s($e,"class","svelte-j2xbeq"),s(Ie,"class","component column"),s(X,"id","vis-block"),s(X,"class","svelte-j2xbeq"),s(fe,"class","section"),s(fe,"id","overview"),s(It,"class","section-header"),s(Xt,"class","nation-label svelte-j2xbeq"),s(ht,"class","component-title"),s(Zt,"class","nation-label svelte-j2xbeq"),s(Me,"class","description"),Le(Me,"margin-bottom","5px"),Le(qt,"margin-bottom","0.5rem"),s(Jt,"class","legend-color svelte-j2xbeq"),Le(Jt,"background-color",St),s(pt,"class","svelte-j2xbeq"),s(Qt,"class","legend-color svelte-j2xbeq"),Le(Qt,"background-color",ye),s($t,"class","nation-label svelte-j2xbeq"),s(mt,"class","svelte-j2xbeq"),s(vt,"class","legend-list svelte-j2xbeq"),s(Ge,"class","legend-box svelte-j2xbeq"),s(el,"class","plot side svelte-j2xbeq"),s(lt,"id","main-block"),s(lt,"class","component column svelte-j2xbeq"),s(bt,"class","component-title"),s(gt,"class","description"),Le(gt,"margin-bottom","5px"),Le(Pt,"margin-bottom","0.5rem"),s(Mt,"class","horizontal-legend-list svelte-j2xbeq"),Le(Mt,"margin-bottom","5px"),s(qe,"id","main-legend"),s(qe,"class","legend-box svelte-j2xbeq"),Le(qe,"margin-bottom","5px"),s(tl,"class","plot side svelte-j2xbeq"),s(_t,"id","main-disclaimer"),s(_t,"class","disclaimer-box svelte-j2xbeq"),s(Ve,"id","main-block"),s(Ve,"class","component column svelte-j2xbeq"),s(tt,"id","vis-block"),s(tt,"class","svelte-j2xbeq"),s(et,"class","section"),s(et,"id","temporal"),s(Vt,"class","section-subtitle"),s(Nt,"class","section-title"),s(Bt,"class","description"),s(We,"class","section-header"),s(Ke,"class","component-title"),Le(zt,"margin-bottom","1rem"),s(ll,"class","legend-color svelte-j2xbeq"),Le(ll,"background-color",St),s(Et,"class","svelte-j2xbeq"),s(al,"class","legend-color svelte-j2xbeq"),Le(al,"background-color",ye),s(Ct,"class","svelte-j2xbeq"),s(yt,"class","legend-list svelte-j2xbeq"),s(Ne,"id","se-legend"),s(Ne,"class","legend-box svelte-j2xbeq"),Le(Rt,"margin-bottom","1rem"),s(je,"id","se-legend"),s(je,"class","legend-box svelte-j2xbeq"),s(wt,"id","se-disclaimer"),s(wt,"class","disclaimer-box svelte-j2xbeq"),s(we,"id","se-title"),s(we,"class","svelte-j2xbeq"),s(At,"id","multiple-comp"),s(At,"class","svelte-j2xbeq"),s(Ye,"id","se-block"),s(Ye,"class","component svelte-j2xbeq"),Le(Ye,"margin-left","1rem"),s(st,"class","section"),s(st,"id","households"),s(a,"class","page-container")},m(S,K){yr(l,S,K),Se(S,n,K),Se(S,a,K),be&&be.m(a,null),e(a,c),e(a,i),e(i,u),e(u,h),e(u,f),e(u,v),e(v,y),e(u,L),e(u,D),e(u,T),e(u,g),e(g,b),e(g,I),e(g,j),e(g,M),e(g,z),e(g,q),e(g,U),e(g,P),e(g,V),e(g,ae),e(g,N),e(g,oe),e(g,Z),e(g,ne),e(g,de),e(g,ie),e(g,ee),e(g,he),e(g,me),e(g,ve),e(g,ue),e(g,Ee),e(g,se),e(g,ct),e(g,Ce),e(i,H),e(i,te),ge&&ge.m(te,null),e(a,Oe),e(a,fe),e(fe,d),e(fe,Q),e(fe,X),e(X,B),e(B,le),e(le,O),e(le,re),e(re,ke),e(le,G),e(B,Qe),e(B,Fe),e(Fe,ra),e(Fe,oa),e(Fe,ia),e(Fe,Wt),e(Wt,xl),e(Fe,ca),e(B,ua),e(B,fa),e(B,da),yl.m(kl,B),e(B,Dl),e(B,ut),e(ut,ha),e(ut,Yt),e(Yt,Ll),e(ut,va),e(B,pa),e(B,Ue),e(Ue,ma),e(Ue,ba),e(Ue,ga),e(Ue,Kt),e(Kt,Sl),e(Ue,_a),e(B,ya),e(B,ft),t[28](ft),e(X,Ea),e(X,Ie),e(Ie,dt),e(dt,Ca),e(dt,wa),e(dt,Aa),e(Ie,xa),e(Ie,jt),e(jt,ka),e(jt,Da),e(Ie,La),e(Ie,Tt),e(Ie,Sa),e(Ie,$e),t[29]($e),e(a,ja),e(a,et),e(et,It),e(et,Ta),e(et,tt),e(tt,lt),e(lt,at),e(at,ht),e(ht,Ia),e(ht,Xt),e(Xt,jl),e(ht,qa),e(at,Pa),e(at,Me),e(Me,Ma),e(Me,Va),e(Me,Na),e(Me,Zt),e(Zt,Tl),e(Me,Ba),e(at,za),e(at,Ge),e(Ge,qt),e(Ge,Ra),e(Ge,Ha),e(Ge,Oa),e(Ge,vt),e(vt,pt),e(pt,Jt),e(pt,Fa),e(pt,Ua),e(vt,Ga),e(vt,mt),e(mt,Qt),e(mt,Wa),e(mt,$t),e($t,Il),e(lt,Ya),e(lt,el),t[30](el),e(tt,Ka),e(tt,Ve),e(Ve,nt),e(nt,bt),e(bt,Xa),e(bt,Za),e(bt,Ja),e(nt,Qa),e(nt,gt),e(nt,$a),e(nt,qe),e(qe,Pt),e(qe,en),e(qe,tn),e(qe,ln),e(qe,Mt);for(let J=0;J<rt.length;J+=1)rt[J]&&rt[J].m(Mt,null);e(Ve,an),e(Ve,tl),t[31](tl),e(Ve,nn),e(Ve,_t),e(a,sn),e(a,st),e(st,We),e(We,Vt),e(We,rn),e(We,Nt),e(Nt,on),e(Nt,cn),e(We,un),e(We,Bt),e(st,fn),e(st,Ye),e(Ye,we),e(we,Ke),e(Ke,dn),e(Ke,hn),e(Ke,vn),e(Ke,ql),e(Ke,pn),e(we,mn),e(we,bn),e(we,gn),e(we,Ne),e(Ne,zt),e(Ne,_n),e(Ne,yn),e(Ne,En),e(Ne,yt),e(yt,Et),e(Et,ll),e(Et,Cn),e(Et,wn),e(yt,An),e(yt,Ct),e(Ct,al),e(Ct,xn),e(Ct,Pl),e(we,kn),e(we,je),e(je,Rt),e(je,Dn),e(je,Ln),e(je,Sn),e(je,nl),e(je,jn),e(je,Xe),e(Xe,sl),e(Xe,Tn),e(Xe,In),e(Xe,qn),e(Xe,Ml),e(Xe,Pn),e(we,Mn),e(we,wt),e(Ye,Vn),e(Ye,At);for(let J=0;J<pe.length;J+=1)pe[J]&&pe[J].m(At,null);t[35](a),Ae=!0,Nn||(ys=[El(M,"change",t[22]),El(V,"change",t[22]),El(ne,"change",t[22]),El(me,"change",t[22]),El(se,"change",t[22])],Nn=!0)},p(S,K){if(S[15]?be?be.p(S,K):(be=Zs(S),be.c(),be.m(a,c)):be&&(be.d(1),be=null),S[9]?ge?ge.p(S,K):(ge=Qs(S),ge.c(),ge.m(te,null)):ge&&(ge.d(1),ge=null),(!Ae||K[0]&128)&&_e(ke,S[7]),(!Ae||K[0]&128)&&_e(xl,S[7]),(!Ae||K[0]&288)&&kl!==(kl=S[21](S[5],S[8])+"")&&yl.p(kl),(!Ae||K[0]&128)&&_e(Ll,S[7]),(!Ae||K[0]&128)&&_e(Sl,S[7]),(!Ae||K[0]&128)&&_e(jl,S[7]),(!Ae||K[0]&128)&&_e(Tl,S[7]),(!Ae||K[0]&128)&&_e(Il,S[7]),(!Ae||K[0]&128)&&_e(ql,S[7]),(!Ae||K[0]&128)&&_e(Pl,S[7]),(!Ae||K[0]&128)&&_e(Ml,S[7]),K[0]&786584){rl=Rn(Ns);let J;for(J=0;J<rl.length;J+=1){const Be=Xs(S,rl,J);pe[J]?pe[J].p(Be,K):(pe[J]=$s(Be),pe[J].c(),pe[J].m(At,null))}for(;J<pe.length;J+=1)pe[J].d(1);pe.length=rl.length}},i(S){Ae||(Er(l.$$.fragment,S),Ae=!0)},o(S){Cr(l.$$.fragment,S),Ae=!1},d(S){S&&(p(n),p(a)),wr(l,S),be&&be.d(),ge&&ge.d(),t[28](null),t[29](null),t[30](null),qs(rt,S),t[31](null),qs(pe,S),t[35](null),Nn=!1,dr(ys)}}}let He=400;function er(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Gt(t){const l=t.querySelector("figure");l&&l.remove();const n=t.querySelector("svg");n&&n.remove()}function zo(t,l,n){let a,c,i,u,h={},_={},f={},v={},x="barchart",{data:y}=l;const L=y.LAD;let D="UK",k,T,g,b,I,j,M,z,q,F,U,P,V=!1;async function ae(){n(5,k=await Re(Rs())),await Re(Kr()),k.forEach(d=>{d.isPageLAD=d.LAD==L}),n(25,T=await Re(Hs([]))),g=await Re(Xr(na.map(d=>d.id))),n(26,b=await Re(Os())),n(8,I=await Re(Zr(L))),j=await Re(Jr(L)),n(9,M=(Br(I,d=>d.total)/1e3).toFixed(3)),n(11,q=Wn(T,d=>d.val)/1e3),n(10,z=(Hn(I,d=>d.totalPerCapita)*1e6).toFixed(1)),n(12,F=await Re(Qr({limit:1,sortBy:"per_capita"}))),n(12,F=F[0].value_per_capita),n(27,V=!0),Or(a)}ae();let N=!1,W="";const oe=["overview","temporal","households"];function Z(){const d=window.scrollY;n(15,N=d>100);for(const R of oe){const Q=document.getElementById(R);if(!Q)continue;const X=Q.getBoundingClientRect();if(X.top<=150&&X.bottom>=150){n(16,W=R);break}}}const ne=y.LADToName;let de,ie;hr(()=>(Fr(a),de=new Hr(L,"LAD",ie,"val",!0,"Lookup_value",!1,null,8),de.initMap(!1),window.addEventListener("scroll",Z),Z(),()=>window.removeEventListener("scroll",Z))),vr(()=>{window.removeEventListener("scroll",Z)});function ce(d,R,Q="black"){return Pe({width:80,height:20,margin:0,x:{domain:[0,R],axis:null},marks:[Un([d],{x:B=>B,y:0,fill:Q})]}).outerHTML}function ee(d,R){if(!d||!R)return;let Q=d.filter(B=>B.total<20);return Pe({height:He/1.6,...Je,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[Cl(Q,la({y:(B,le)=>B.length/Q.length/(le.x2-le.x1)},{x:"total",fill:ye,stroke:ye,fillOpacity:.3,strokeWidth:2})),Cl(R,la({y:(B,le)=>B.length/R.length/(le.x2-le.x1)},{x:"total",tip:!0,fill:St,stroke:"black",fillOpacity:.3,strokeWidth:2})),zr([0],{stroke:"#1E1E1E",strokeWidth:1}),ea({label:"Frequency of Datazones (Normalized)",labelAnchor:"top",labelArrow:!1}),On({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function he(){{let d=Pe({height:He/1.4,...Je,x:{type:"band"},style:{fontSize:"18px"},marks:[Ft(T,ot({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ft(I,ot({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const R=ze(d).selectAll("g[aria-label='bar']");ze(R.nodes()[0]);const Q=ze(R.nodes()[1]);Q.selectAll("rect").each(function(){}),Q.remove()},1e3)}}function me(){if(c){let d=Pe({height:He/1,width:811,...Je,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:aa.range(),domain:aa.domain()},marks:[Ft(b,ot({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:ye,sort:{x:"y",reverse:!0},tip:!0})),Ft(j,ot({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:R=>aa(R.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),ea({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),On({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Ps([0],{stroke:"#333",strokeWidth:.75})]});ze(d).select('g[aria-label="x-axis tick label"]').selectAll("text").style("cursor","pointer").on("click",(R,Q,X)=>{let B=R.target.textContent,le=na.find(O=>O.id==B);window.open(`${Yn}/cobenefit?cobenefit=${le.id}`,"_blank").focus()}),c.append(d)}}function ve(){Ur.forEach(d=>{let R;Bs.includes(d)?R=Pe({height:He/1.2,...Je,marginLeft:100,marginTop:40,marginBottom:d==="Typology"?100:60,x:{grid:!0,padding:.6,label:ta(d),tickFormat:G=>zs[d]?.[G]??G,tickRotate:d==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ft(k,ot({y:"proportion"},{x:d,dx:12,fill:ye})),Ft(I,ot({y:"proportion"},{x:d,dx:-12}))]}):R=Pe({height:He/1.2,...Je,x:{label:ta(d)},style:{fontSize:"18px"},marks:[Cl(I,la({y:(G,Qe)=>G.length/I.length/(Qe.x2-Qe.x1)},{x:G=>["Under_35","Over_65","Unemployment"].includes(d)?G[d]*100:G[d],tip:!0,fill:ye,stroke:ye,fillOpacity:.2,strokeWidth:3})),Cl(k,la({y:(G,Qe)=>G.length/k.length/(Qe.x2-Qe.x1)},{x:G=>["Under_35","Over_65","Unemployment"].includes(d)?G[d]*100:G[d],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),_[d]?.append(void 0),h[d]?.append(R);let X=k.map(G=>G.total),B=tr(X);X.sort();var le=X.length,O=Math.floor(le*1)-1;let re=X[O];B[1]=re+2,B[0]=-5;let ke;Bs.includes(d)?ke=Pe({height:He/1.2,...Je,marginBottom:d==="Typology"?100:60,marginLeft:100,x:{label:ta(d),type:"point",tickFormat:G=>zs[d]?.[G]??G,tickRotate:d==="Typology"?-20:0},y:{domain:B,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",ye]},marks:[Ys(Vs(k,15e3),{x:G=>`${G[d]}`,y:"total",fill:"density",bandwidth:3}),Us(I,{x:G=>`${G[d]}`,y:"total",fill:"black",r:2}),ea({label:"Datazone Co-Benefit (millions £)"})]}):ke=Pe({height:He/1.2,...Je,x:{label:ta(d)},y:{domain:B},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",ye]},marks:[Ys(Vs(k,2e4),{x:G=>["Under_35","Over_65","Unemployment"].includes(d)?G[d]*100:G[d],y:"total",fill:"density",thresholds:10}),Us(I,{x:G=>["Under_35","Over_65","Unemployment"].includes(d)?G[d]*100:G[d],y:"total",fill:"black",r:2}),ea({label:"Datazone Co-Benefit (£)"}),On({anchor:"bottom"})]}),f[d]&&n(4,f[d].innerHTML="",f),f[d]?.append(ke)})}function ue(){for(let d of Gr){let R=Pe({height:He,width:410,...Je,marginRight:0,marginLeft:100,marks:[Un(g,Ms({x:"mean"},{x:"val",y:"co_benefit_type",dy:-Wr/2,fill:ye,tip:!0})),Un(j,Ms({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});v[d]?.append(R)}}function Te(){let d=I.flatMap(O=>Fn.map(re=>({time:re,value:O[re],scenario:O.scenario,zone:"local"}))),R=k.flatMap(O=>Fn.map(re=>({time:re,value:O[re],scenario:O.scenario,zone:"UK"}))),Q=d.concat(R),X=Pe({height:He,width:800,...Je,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[ye,St],legend:!1},marks:[Ft(Q,ot({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Rr({anchor:"bottom",tickFormat:O=>O.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(X),ze(i).select("g[aria-label='bar']").selectAll("g").each(function(O,re){const ke=ze(this).selectAll("rect").nodes()[0],G=ze(ke).attr("transform")||"";ze(ke).attr("transform",`${G} translate(-20, 0)`),ze(this).selectAll("rect").nodes()[0].getAttribute("height"),ze(this).selectAll("rect").nodes()[1].getAttribute("height"),ze(this).selectAll("rect")}),Pe({height:He,width:800,...Je,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[ko(Q,ot({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let B=j.flatMap(O=>Fn.map(re=>({time:re,value:O[re],cobenefit:O.co_benefit_type})));console.log("dataCBs",B);let le=Pe({height:He,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([O])=>`Cobenefit ${O.cobenefit}`},x:{label:"Years",tickFormat:O=>O.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:Yr,domain:na.map(O=>O.id)},marks:[Cl(B,ot({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:O=>`${(+O).toFixed(3)}`,x:O=>`${O.replace(/^Y/,"").replace("_","-")}`,fill:O=>`${O}`}}})),Ps([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});u?.append(le)}async function Ee(d){n(7,D=d.currentTarget.value),n(26,b=await Re(Os("total",D))),n(25,T=await Re(Hs([],D))),n(5,k=await Re(Rs(D)))}function se(d){Dt[d?"unshift":"push"](()=>{c=d,n(0,c)})}function ct(d){Dt[d?"unshift":"push"](()=>{ie=d,n(17,ie)})}function Ce(d){Dt[d?"unshift":"push"](()=>{i=d,n(1,i)})}function xe(d){Dt[d?"unshift":"push"](()=>{u=d,n(2,u)})}function H(d,R){Dt[d?"unshift":"push"](()=>{h[R.id]=d,n(3,h)})}function te(d,R){Dt[d?"unshift":"push"](()=>{h[R.id]=d,n(3,h)})}function Oe(d,R){Dt[d?"unshift":"push"](()=>{f[R.id]=d,n(4,f)})}function fe(d){Dt[d?"unshift":"push"](()=>{a=d,n(6,a)})}return t.$$set=d=>{"data"in d&&n(23,y=d.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&T&&(n(13,U=Hn(T.map(d=>d.val))/1e3),n(14,P=Hn(T.map(d=>d.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(c&&Gt(c),i&&Gt(i),u&&Gt(u),V&&b&&T&&k&&(he(),me(),Te())),t.$$.dirty[0]&134217752&&(Object.values(h).forEach(d=>{d&&Gt(d)}),Object.values(_).forEach(d=>{d&&Gt(d)}),Object.values(f).forEach(d=>{d&&Gt(d)}),V&&ve()),t.$$.dirty[0]&134217728&&(Object.values(v).forEach(d=>{d&&Gt(d)}),V&&ue())},[c,i,u,h,f,k,a,D,I,M,z,q,F,U,P,N,W,ie,L,ne,ce,ee,Ee,y,x,T,b,V,se,ct,Ce,xe,H,te,Oe,fe]}class ti extends mr{constructor(l){super(),br(this,l,zo,Bo,fr,{data:23},null,[-1,-1])}}export{ti as component};
