import{s as $n,d as v,w as er,x as tr,a as be,i as Te,b as e,z as ml,p as n,C as xe,g as _,c as r,e as g,q,f as w,E as yl,j as E,h as o,t as A,H as bl,r as lr,a0 as ar,A as Dt}from"../chunks/BevTp-kf.js";import{S as sr,i as nr,d as rr,t as or,a as ir,m as cr,c as ur,b as hr}from"../chunks/C7e0BwVj.js";import{N as dr,e as En}from"../chunks/YlWUd1ax.js";import"../chunks/F40_IDQw.js";import{$ as Gn,ad as Wn,ar as Bs,i as fr,a as vr,M as Yn,ax as qn,F as pr,l as Kn,n as Xn,g as Zn,aR as mr,o as Jn,aS as gr,aT as yr,H as Ql,aU as br,q as _r,aV as Er,z as Cr,aW as wr,aX as Ar,aY as kr,E as Dr,aJ as Lr,K as Is,I as Pe,am as Sr,at as Xl,as as Ms,aG as rt,aK as Xe,O as Cn,aZ as Tr,J as wn}from"../chunks/lkIfnYzw.js";import{M as Ir,g as An}from"../chunks/BGA8T-Qu.js";import{f as Mr,V as St,A as _e,S as kn,C as Dn,r as Pr,M as Ze,e as Ps,T as Vs,i as Vr,s as Nr,b as Ln,c as Sn,d as Zl,t as zr}from"../chunks/wS4nFbpC.js";import{g as Fe,r as Tn,s as Br,d as In,t as xr,u as Mn,v as Fr,w as Hr,m as Rr}from"../chunks/Dd5EerOu.js";import{b as Ns,a as Ht}from"../chunks/C_CmdUB-.js";import{m as Or,c as Pn,s as Ur,a as gl}from"../chunks/DfRp9xuZ.js";import{t as jr,m as Gr,b as Jl}from"../chunks/BBmCwvQl.js";import{n as Wr}from"../chunks/C6YfxrbP.js";import{d as Vn}from"../chunks/BPOdavE_.js";const Yr=qr(Kr);function qr(t){return function(l,a,s=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((s=+s)>=0))throw new RangeError("invalid ry");let{data:u,width:i,height:c}=l;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((c=Math.floor(c!==void 0?c:u.length/i))>=0))throw new RangeError("invalid height");if(!i||!c||!a&&!s)return l;const p=a&&t(a),b=s&&t(s),d=u.slice();return p&&b?(fl(p,d,u,i,c),fl(p,u,d,i,c),fl(p,d,u,i,c),vl(b,u,d,i,c),vl(b,d,u,i,c),vl(b,u,d,i,c)):p?(fl(p,u,d,i,c),fl(p,d,u,i,c),fl(p,u,d,i,c)):b&&(vl(b,u,d,i,c),vl(b,d,u,i,c),vl(b,u,d,i,c)),l}}function fl(t,l,a,s,u){for(let i=0,c=s*u;i<c;)t(l,a,i,i+=s,1)}function vl(t,l,a,s,u){for(let i=0,c=s*u;i<s;++i)t(l,a,i,i+c,s)}function Kr(t){const l=Math.floor(t);if(l===t)return Xr(t);const a=t-l,s=2*t+1;return(u,i,c,p,b)=>{if(!((p-=b)>=c))return;let d=l*i[c];const f=b*l,L=f+b;for(let y=c,S=c+f;y<S;y+=b)d+=i[Math.min(p,y)];for(let y=c,S=p;y<=S;y+=b)d+=i[Math.min(p,y+f)],u[y]=(d+a*(i[Math.max(c,y-L)]+i[Math.min(p,y+L)]))/s,d-=i[Math.max(c,y-f)]}}function Xr(t){const l=2*t+1;return(a,s,u,i,c)=>{if(!((i-=c)>=u))return;let p=t*s[u];const b=c*t;for(let d=u,f=u+b;d<f;d+=c)p+=s[Math.min(i,d)];for(let d=u,f=i;d<=f;d+=c)p+=s[Math.min(i,d+b)],a[d]=p/l,p-=s[Math.max(u,d-b)]}}var Zr=Array.prototype,Qn=Zr.slice;function Jr(t,l){return t-l}function Qr(t){for(var l=0,a=t.length,s=t[a-1][1]*t[0][0]-t[a-1][0]*t[0][1];++l<a;)s+=t[l-1][1]*t[l][0]-t[l-1][0]*t[l][1];return s}const Lt=t=>()=>t;function $r(t,l){for(var a=-1,s=l.length,u;++a<s;)if(u=eo(t,l[a]))return u;return 0}function eo(t,l){for(var a=l[0],s=l[1],u=-1,i=0,c=t.length,p=c-1;i<c;p=i++){var b=t[i],d=b[0],f=b[1],L=t[p],y=L[0],S=L[1];if(to(b,L,l))return 0;f>s!=S>s&&a<(y-d)*(s-f)/(S-f)+d&&(u=-u)}return u}function to(t,l,a){var s;return lo(t,l,a)&&ao(t[s=+(t[0]===l[0])],a[s],l[s])}function lo(t,l,a){return(l[0]-t[0])*(a[1]-t[1])===(a[0]-t[0])*(l[1]-t[1])}function ao(t,l,a){return t<=l&&l<=a||a<=l&&l<=t}function so(){}var ot=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Nn(){var t=1,l=1,a=jr,s=b;function u(d){var f=a(d);if(Array.isArray(f))f=f.slice().sort(Jr);else{const L=Gn(d,no);for(f=Wn(...Wr(L[0],L[1],f),f);f[f.length-1]>=L[1];)f.pop();for(;f[1]<L[0];)f.shift()}return f.map(L=>i(d,L))}function i(d,f){const L=f==null?NaN:+f;if(isNaN(L))throw new Error(`invalid value: ${f}`);var y=[],S=[];return c(d,L,function(D){s(D,d,L),Qr(D)>0?y.push([D]):S.push(D)}),S.forEach(function(D){for(var k=0,T=y.length,C;k<T;++k)if($r((C=y[k])[0],D)!==-1){C.push(D);return}}),{type:"MultiPolygon",value:f,coordinates:y}}function c(d,f,L){var y=new Array,S=new Array,D,k,T,C,m,M;for(D=k=-1,C=Rt(d[0],f),ot[C<<1].forEach(I);++D<t-1;)T=C,C=Rt(d[D+1],f),ot[T|C<<1].forEach(I);for(ot[C<<0].forEach(I);++k<l-1;){for(D=-1,C=Rt(d[k*t+t],f),m=Rt(d[k*t],f),ot[C<<1|m<<2].forEach(I);++D<t-1;)T=C,C=Rt(d[k*t+t+D+1],f),M=m,m=Rt(d[k*t+D+1],f),ot[T|C<<1|m<<2|M<<3].forEach(I);ot[C|m<<3].forEach(I)}for(D=-1,m=d[k*t]>=f,ot[m<<2].forEach(I);++D<t-1;)M=m,m=Rt(d[k*t+D+1],f),ot[m<<2|M<<3].forEach(I);ot[m<<3].forEach(I);function I(N){var F=[N[0][0]+D,N[0][1]+k],P=[N[1][0]+D,N[1][1]+k],O=p(F),U=p(P),V,B;(V=S[O])?(B=y[U])?(delete S[V.end],delete y[B.start],V===B?(V.ring.push(P),L(V.ring)):y[V.start]=S[B.end]={start:V.start,end:B.end,ring:V.ring.concat(B.ring)}):(delete S[V.end],V.ring.push(P),S[V.end=U]=V):(V=y[U])?(B=S[O])?(delete y[V.start],delete S[B.end],V===B?(V.ring.push(P),L(V.ring)):y[B.start]=S[V.end]={start:B.start,end:V.end,ring:B.ring.concat(V.ring)}):(delete y[V.start],V.ring.unshift(F),y[V.start=O]=V):y[O]=S[U]={start:O,end:U,ring:[F,P]}}}function p(d){return d[0]*2+d[1]*(t+1)*4}function b(d,f,L){d.forEach(function(y){var S=y[0],D=y[1],k=S|0,T=D|0,C=zs(f[T*t+k]);S>0&&S<t&&k===S&&(y[0]=zn(S,zs(f[T*t+k-1]),C,L)),D>0&&D<l&&T===D&&(y[1]=zn(D,zs(f[(T-1)*t+k]),C,L))})}return u.contour=i,u.size=function(d){if(!arguments.length)return[t,l];var f=Math.floor(d[0]),L=Math.floor(d[1]);if(!(f>=0&&L>=0))throw new Error("invalid size");return t=f,l=L,u},u.thresholds=function(d){return arguments.length?(a=typeof d=="function"?d:Array.isArray(d)?Lt(Qn.call(d)):Lt(d),u):a},u.smooth=function(d){return arguments.length?(s=d?b:so,u):s===b},u}function no(t){return isFinite(t)?t:NaN}function Rt(t,l){return t==null?!1:+t>=l}function zs(t){return t==null||isNaN(t=+t)?-1/0:t}function zn(t,l,a,s){const u=s-l,i=a-l,c=isFinite(u)||isFinite(i)?u/i:Math.sign(u)/Math.sign(i);return isNaN(c)?t:t+c-.5}function ro(t){return t[0]}function oo(t){return t[1]}function io(){return 1}function co(){var t=ro,l=oo,a=io,s=960,u=500,i=20,c=2,p=i*3,b=s+p*2>>c,d=u+p*2>>c,f=Lt(20);function L(m){var M=new Float32Array(b*d),I=Math.pow(2,-c),N=-1;for(const x of m){var F=(t(x,++N,m)+p)*I,P=(l(x,N,m)+p)*I,O=+a(x,N,m);if(O&&F>=0&&F<b&&P>=0&&P<d){var U=Math.floor(F),V=Math.floor(P),B=F-U-.5,te=P-V-.5;M[U+V*b]+=(1-B)*(1-te)*O,M[U+1+V*b]+=B*(1-te)*O,M[U+1+(V+1)*b]+=B*te*O,M[U+(V+1)*b]+=(1-B)*te*O}}return Yr({data:M,width:b,height:d},i*I),M}function y(m){var M=L(m),I=f(M),N=Math.pow(2,2*c);return Array.isArray(I)||(I=Wn(Number.MIN_VALUE,Bs(M)/N,I)),Nn().size([b,d]).thresholds(I.map(F=>F*N))(M).map((F,P)=>(F.value=+I[P],S(F)))}y.contours=function(m){var M=L(m),I=Nn().size([b,d]),N=Math.pow(2,2*c),F=P=>{P=+P;var O=S(I.contour(M,P*N));return O.value=P,O};return Object.defineProperty(F,"max",{get:()=>Bs(M)/N}),F};function S(m){return m.coordinates.forEach(D),m}function D(m){m.forEach(k)}function k(m){m.forEach(T)}function T(m){m[0]=m[0]*Math.pow(2,c)-p,m[1]=m[1]*Math.pow(2,c)-p}function C(){return p=i*3,b=s+p*2>>c,d=u+p*2>>c,y}return y.x=function(m){return arguments.length?(t=typeof m=="function"?m:Lt(+m),y):t},y.y=function(m){return arguments.length?(l=typeof m=="function"?m:Lt(+m),y):l},y.weight=function(m){return arguments.length?(a=typeof m=="function"?m:Lt(+m),y):a},y.size=function(m){if(!arguments.length)return[s,u];var M=+m[0],I=+m[1];if(!(M>=0&&I>=0))throw new Error("invalid size");return s=M,u=I,C()},y.cellSize=function(m){if(!arguments.length)return 1<<c;if(!((m=+m)>=1))throw new Error("invalid cell size");return c=Math.floor(Math.log(m)/Math.LN2),C()},y.thresholds=function(m){return arguments.length?(f=typeof m=="function"?m:Array.isArray(m)?Lt(Qn.call(m)):Lt(m),y):f},y.bandwidth=function(m){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*m*m+1)-1)/2,C()},y}const uo={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ho extends Yn{constructor(l,a={}){const{x:s,y:u,z:i,curve:c,tension:p}=a;super(l,{x:{value:s,scale:"x"},y:{value:u,scale:"y"},z:{value:qn(a),optional:!0}},a,uo),this.z=i,this.curve=Or(c,p),pr(this,a)}filter(l){return l}project(l,a,s){this.curve!==Pn&&super.project(l,a,s)}render(l,a,s,u,i){const{x:c,y:p}=s,{curve:b}=this;return Kn("svg:g",i).call(Xn,this,u,i).call(Zn,this,a).call(d=>d.selectAll().data(mr(l,[c,p],this,s)).enter().append("path").call(Jn,this).call(gr,this,s).call(yr,this,s,i).attr("d",b===Pn&&i.projection?fo(i.path(),c,p):Ur().curve(b).defined(f=>f>=0).x(f=>c[f]).y(f=>p[f]))).node()}}function fo(t,l,a){return l=Ql(l),a=Ql(a),s=>{let u=[];const i=[u];for(const c of s)c===-1?(u=[],i.push(u)):u.push([l[c],a[c]]);return t({type:"MultiLineString",coordinates:i})}}function vo(t,{x:l=vr,y:a=fr,...s}={}){return new ho(t,Gr({...s,x:l,y:a}))}const po={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class mo extends Yn{constructor(l,{x:a,y:s,z:u,weight:i,fill:c,stroke:p,...b}={}){const d=xn(c)&&(c="currentColor",!0),f=xn(p)&&(p="currentColor",!0);super(l,{x:{value:a,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},z:{value:qn({z:u,fill:c,stroke:p}),optional:!0},weight:{value:i,optional:!0}},yo({...b,fill:c,stroke:p},d,f),po),d&&(this.fill=void 0),f&&(this.stroke=void 0),this.z=u}filter(l){return l}render(l,a,s,u,i){const{contours:c}=s,p=br();return Kn("svg:g",i).call(Xn,this,u,i).call(Zn,this,{}).call(b=>b.selectAll().data(l).enter().append("path").call(Jn,this).call(_r,this,s).attr("d",d=>p(c[d]))).node()}}function Bn(t,{x:l,y:a,...s}={}){return[l,a]=Dr(l,a),new mo(t,{...s,x:l,y:a})}const go=new Set(["x","y","z","weight"]);function yo(t,l,a){let{bandwidth:u,thresholds:i}=t;return u=u===void 0?20:+u,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?Ql(i):+i,Er(t,function(c,p,b,d,f,L){const y=b.weight?Ql(b.weight.value):null,S=b.z?.value,{z:D}=this,[k,T]=Cr(this,f),{width:C,height:m}=f,{x:M,y:I}=wr(b,d,L),N=Object.fromEntries(Object.entries(b).filter(([x])=>!go.has(x)).map(([x,Y])=>[x,{...Y,value:[]}])),F=l&&[],P=a&&[],O=co().x(M?x=>M[x]:k).y(I?x=>I[x]:T).weight(y?x=>y[x]:1).size([C,m]).bandwidth(u),U=[];for(const x of p){const Y=[];U.push(Y);for(const oe of S?Ar(x,S,D):[x]){const X=O.contours(oe);Y.push([oe,X])}}let V=i;if(!(V instanceof kr)){let x=0;for(const Y of U)for(const[,oe]of Y){const X=oe.max;X>x&&(x=X)}V=Float64Array.from({length:i-1},(Y,oe)=>x*100*(oe+1)/i)}const B=[],te=[];for(const x of U){const Y=[];B.push(Y);for(const[oe,X]of x)for(const ae of V){Y.push(te.length),te.push(X(ae/100)),F&&F.push(ae),P&&P.push(ae);for(const de in N)N[de].value.push(b[de].value[oe[0]])}}return F&&F.push(0),P&&P.push(0),{data:c,facets:B,channels:{...N,...F&&{fill:{value:F,scale:"color"}},...P&&{stroke:{value:P,scale:"color"}},contours:{value:te}}}})}function xn(t){return/^density$/i.test(t)}function Fn(t,l,a){const s=t.slice();return s[56]=l[a],s[57]=l,s[58]=a,s}function Hn(t){let l,a,s,u=t[19][t[18]]+"",i,c,p,b=jn(t[16])+"",d,f=t[9]&&Rn(t);return{c(){l=o("div"),a=o("div"),s=o("span"),i=A(u),c=E(),f&&f.c(),p=A(`
              >> `),d=A(b),this.h()},l(L){l=r(L,"DIV",{class:!0});var y=g(l);a=r(y,"DIV",{class:!0});var S=g(a);s=r(S,"SPAN",{class:!0});var D=g(s);i=w(D,u),c=_(D),f&&f.l(D),p=w(D,`
              >> `),d=w(D,b),D.forEach(v),S.forEach(v),y.forEach(v),this.h()},h(){n(s,"class","mini-header-text"),n(a,"class","mini-header-content"),n(l,"class","mini-header")},m(L,y){Te(L,l,y),e(l,a),e(a,s),e(s,i),e(s,c),f&&f.m(s,null),e(s,p),e(s,d)},p(L,y){L[9]?f?f.p(L,y):(f=Rn(L),f.c(),f.m(s,p)):f&&(f.d(1),f=null),y[0]&65536&&b!==(b=jn(L[16])+"")&&be(d,b)},d(L){L&&v(l),f&&f.d()}}}function Rn(t){let l,a,s=t[9].toLocaleString()+"",u,i;return{c(){l=o("span"),a=A("(Total: £"),u=A(s),i=A(" billion)"),this.h()},l(c){l=r(c,"SPAN",{class:!0});var p=g(l);a=w(p,"(Total: £"),u=w(p,s),i=w(p," billion)"),p.forEach(v),this.h()},h(){n(l,"class","mini-header-value")},m(c,p){Te(c,l,p),e(l,a),e(l,u),e(l,i)},p(c,p){p[0]&512&&s!==(s=c[9].toLocaleString()+"")&&be(u,s)},d(c){c&&v(l)}}}function On(t){let l,a,s,u,i=t[20](t[9],t[11],St)+"",c,p,b,d=t[9].toLocaleString()+"",f,L,y,S="billion",D,k,T,C=t[20](t[13],t[11],_e)+"",m,M,I,N,F,P=t[20](t[10],t[12],St)+"",O,U,V,B=t[10].toLocaleString()+"",te,x,Y,oe,X,ae,de=t[20](t[14],t[12],_e)+"",ie,ce,Q,fe,me,ve,ue;function Ie(R,$){return R[9]>0?_o:bo}let Ee=Ie(t),se=Ee(t);function it(R,$){return R[9]>0?Co:Eo}let Ce=it(t),ke=Ce(t);return{c(){l=o("div"),a=o("div"),s=o("div"),u=new bl(!1),c=E(),p=o("span"),b=A("£"),f=A(d),L=E(),y=o("span"),y.textContent=S,D=E(),k=o("div"),T=new bl(!1),m=E(),se.c(),M=E(),I=o("div"),N=o("div"),F=new bl(!1),O=E(),U=o("span"),V=A("£"),te=A(B),x=E(),Y=o("span"),oe=E(),X=o("div"),ae=new bl(!1),ie=E(),ke.c(),ce=E(),Q=o("span"),fe=o("i"),me=A("Grey bars indicate average value for "),ve=o("span"),ue=A(t[7]),this.h()},l(R){l=r(R,"DIV",{class:!0});var $=g(l);a=r($,"DIV",{class:!0});var Re=g(a);s=r(Re,"DIV",{class:!0});var he=g(s);u=yl(he,!1),c=_(he),p=r(he,"SPAN",{class:!0});var h=g(p);b=w(h,"£"),f=w(h,d),h.forEach(v),L=_(he),y=r(he,"SPAN",{class:!0,"data-svelte-h":!0}),q(y)!=="svelte-tlhydp"&&(y.textContent=S),he.forEach(v),D=_(Re),k=r(Re,"DIV",{class:!0});var j=g(k);T=yl(j,!1),m=_(j),se.l(j),j.forEach(v),Re.forEach(v),M=_($),I=r($,"DIV",{class:!0});var ee=g(I);N=r(ee,"DIV",{class:!0});var Z=g(N);F=yl(Z,!1),O=_(Z),U=r(Z,"SPAN",{class:!0});var H=g(U);V=w(H,"£"),te=w(H,B),H.forEach(v),x=_(Z),Y=r(Z,"SPAN",{class:!0}),g(Y).forEach(v),Z.forEach(v),oe=_(ee),X=r(ee,"DIV",{class:!0});var le=g(X);ae=yl(le,!1),ie=_(le),ke.l(le),le.forEach(v),ce=_(ee),Q=r(ee,"SPAN",{class:!0});var W=g(Q);fe=r(W,"I",{});var ne=g(fe);me=w(ne,"Grey bars indicate average value for "),ve=r(ne,"SPAN",{class:!0});var De=g(ve);ue=w(De,t[7]),De.forEach(v),ne.forEach(v),W.forEach(v),ee.forEach(v),$.forEach(v),this.h()},h(){u.a=c,n(p,"class","waffle-big svelte-6hymh4"),n(y,"class","small svelte-6hymh4"),n(s,"class","waffle-value svelte-6hymh4"),T.a=m,n(k,"class","waffle-value svelte-6hymh4"),n(a,"class","waffle-stat svelte-6hymh4"),F.a=O,n(U,"class","waffle-big svelte-6hymh4"),n(Y,"class","small svelte-6hymh4"),n(N,"class","waffle-value svelte-6hymh4"),ae.a=ie,n(X,"class","waffle-value svelte-6hymh4"),n(ve,"class","nation-label svelte-6hymh4"),n(Q,"class","waffle-caption svelte-6hymh4"),n(I,"class","waffle-stat svelte-6hymh4"),n(l,"class","waffle-stats")},m(R,$){Te(R,l,$),e(l,a),e(a,s),u.m(i,s),e(s,c),e(s,p),e(p,b),e(p,f),e(s,L),e(s,y),e(a,D),e(a,k),T.m(C,k),e(k,m),se.m(k,null),e(l,M),e(l,I),e(I,N),F.m(P,N),e(N,O),e(N,U),e(U,V),e(U,te),e(N,x),e(N,Y),e(I,oe),e(I,X),ae.m(de,X),e(X,ie),ke.m(X,null),e(I,ce),e(I,Q),e(Q,fe),e(fe,me),e(fe,ve),e(ve,ue)},p(R,$){$[0]&2560&&i!==(i=R[20](R[9],R[11],St)+"")&&u.p(i),$[0]&512&&d!==(d=R[9].toLocaleString()+"")&&be(f,d),$[0]&10240&&C!==(C=R[20](R[13],R[11],_e)+"")&&T.p(C),Ee!==(Ee=Ie(R))&&(se.d(1),se=Ee(R),se&&(se.c(),se.m(k,null))),$[0]&5120&&P!==(P=R[20](R[10],R[12],St)+"")&&F.p(P),$[0]&1024&&B!==(B=R[10].toLocaleString()+"")&&be(te,B),$[0]&20480&&de!==(de=R[20](R[14],R[12],_e)+"")&&ae.p(de),Ce!==(Ce=it(R))&&(ke.d(1),ke=Ce(R),ke&&(ke.c(),ke.m(X,null))),$[0]&128&&be(ue,R[7])},d(R){R&&v(l),se.d(),ke.d()}}}function bo(t){let l,a="Local area costs";return{c(){l=o("span"),l.textContent=a,this.h()},l(s){l=r(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-pi7zpb"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,u){Te(s,l,u)},d(s){s&&v(l)}}}function _o(t){let l,a="Local area benefits";return{c(){l=o("span"),l.textContent=a,this.h()},l(s){l=r(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-cjpgg1"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,u){Te(s,l,u)},d(s){s&&v(l)}}}function Eo(t){let l,a="Per capita costs";return{c(){l=o("span"),l.textContent=a,this.h()},l(s){l=r(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-k47gg8"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,u){Te(s,l,u)},d(s){s&&v(l)}}}function Co(t){let l,a="Per capita benefits";return{c(){l=o("span"),l.textContent=a,this.h()},l(s){l=r(s,"SPAN",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-1jc8yoe"&&(l.textContent=a),this.h()},h(){n(l,"class","waffle-caption svelte-6hymh4")},m(s,u){Te(s,l,u)},d(s){s&&v(l)}}}function wo(t){let l,a,s,u,i,c,p,b,d=`The histogram shows the number of data zones
                                        distributed
                                        across
                                        different household social economic factors.`,f,L,y="",S=t[56],D,k,T,C,m,M=t[56].label+"",I,N,F,P,O,U=t[19][t[18]]+"",V,B,te,x,Y,oe="";const X=()=>t[33](L,S),ae=()=>t[33](null,S),de=()=>t[34](Y,S),ie=()=>t[34](null,S);return{c(){l=o("div"),a=o("h3"),s=A("Data Zones Distribution (vs. "),u=o("span"),i=A(t[7]),c=A(" average)"),p=E(),b=o("p"),b.textContent=d,f=E(),L=o("div"),L.innerHTML=y,D=E(),k=o("div"),T=o("div"),C=o("h3"),m=A(`Co-benefits Received by Data Zones
                                            across `),I=A(M),N=A(`
                                            Values`),F=E(),P=o("p"),O=A(`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),V=A(U),B=A("."),te=E(),x=o("div"),Y=o("div"),Y.innerHTML=oe,this.h()},l(ce){l=r(ce,"DIV",{class:!0});var Q=g(l);a=r(Q,"H3",{class:!0});var fe=g(a);s=w(fe,"Data Zones Distribution (vs. "),u=r(fe,"SPAN",{class:!0});var me=g(u);i=w(me,t[7]),me.forEach(v),c=w(fe," average)"),fe.forEach(v),p=_(Q),b=r(Q,"P",{class:!0,"data-svelte-h":!0}),q(b)!=="svelte-zr1gq8"&&(b.textContent=d),f=_(Q),L=r(Q,"DIV",{class:!0,"data-svelte-h":!0}),q(L)!=="svelte-6ldqab"&&(L.innerHTML=y),Q.forEach(v),D=_(ce),k=r(ce,"DIV",{class:!0});var ve=g(k);T=r(ve,"DIV",{});var ue=g(T);C=r(ue,"H3",{class:!0});var Ie=g(C);m=w(Ie,`Co-benefits Received by Data Zones
                                            across `),I=w(Ie,M),N=w(Ie,`
                                            Values`),Ie.forEach(v),F=_(ue),P=r(ue,"P",{class:!0});var Ee=g(P);O=w(Ee,`Density plot refers to UK distribution while the
                                            scattered points refer to data zones in `),V=w(Ee,U),B=w(Ee,"."),Ee.forEach(v),ue.forEach(v),te=_(ve),x=r(ve,"DIV",{});var se=g(x);Y=r(se,"DIV",{class:!0,"data-svelte-h":!0}),q(Y)!=="svelte-12l832e"&&(Y.innerHTML=oe),se.forEach(v),ve.forEach(v),this.h()},h(){n(u,"class","nation-label svelte-6hymh4"),n(a,"class","component-title"),n(b,"class","description short"),n(L,"class","plot"),n(l,"class","component column svelte-6hymh4"),n(C,"class","component-title"),n(P,"class","description short"),n(Y,"class","plot"),n(k,"class","component column svelte-6hymh4")},m(ce,Q){Te(ce,l,Q),e(l,a),e(a,s),e(a,u),e(u,i),e(a,c),e(l,p),e(l,b),e(l,f),e(l,L),X(),Te(ce,D,Q),Te(ce,k,Q),e(k,T),e(T,C),e(C,m),e(C,I),e(C,N),e(T,F),e(T,P),e(P,O),e(P,V),e(P,B),e(k,te),e(k,x),e(x,Y),de()},p(ce,Q){t=ce,Q[0]&128&&be(i,t[7]),S!==t[56]&&(ae(),S=t[56],X()),S!==t[56]&&(ie(),S=t[56],de())},d(ce){ce&&(v(l),v(D),v(k)),ae(),ie()}}}function Un(t){let l,a,s=t[56].label+"",u,i,c,p=t[56].def+"",b,d,f,L;function y(k,T){return wo}let D=y()(t);return{c(){l=o("div"),a=o("h2"),u=A(s),i=E(),c=o("p"),b=A(p),d=E(),f=o("div"),D.c(),L=E(),this.h()},l(k){l=r(k,"DIV",{class:!0});var T=g(l);a=r(T,"H2",{class:!0});var C=g(a);u=w(C,s),C.forEach(v),i=_(T),c=r(T,"P",{class:!0});var m=g(c);b=w(m,p),m.forEach(v),d=_(T),f=r(T,"DIV",{class:!0});var M=g(f);D.l(M),M.forEach(v),L=_(T),T.forEach(v),this.h()},h(){n(a,"class","column-chart-title svelte-6hymh4"),n(c,"class","column-chart-caption svelte-6hymh4"),n(f,"class","row"),n(l,"class","household-column svelte-6hymh4")},m(k,T){Te(k,l,T),e(l,a),e(a,u),e(l,i),e(l,c),e(c,b),e(l,d),e(l,f),D.m(f,null),e(l,L)},p(k,T){D.p(k,T)},d(k){k&&v(l),D.d()}}}function Ao(t){let l,a,s,u,i,c,p,b="Local Authority Report",d,f,L=t[19][t[18]]+"",y,S,D,k=`Explore how this local authority will benefit from achieving Net Zero and learn about
                the characteristics of its households.`,T,C,m,M,I,N,F,P,O="UK",U,V,B,te,x,Y="England",oe,X,ae,de,ie,ce="Wales",Q,fe,me,ve,ue,Ie="Scotland",Ee,se,it,Ce,ke="Northern Ireland",R,$,Re,he,h,j=`<p class="section-subtitle">Overview</p> <h2 class="section-title">What co-benefits would this area receive?</h2> <p class="description">We model 11 types of co-benefits, based on the Climate Change Committee’s
                Seventh Carbon Budget, from 2025 to 2050 at the data zone level across the UK.</p>`,ee,Z,H,le,W,ne,De,G,Je,Oe,$l,xs=t[19][t[18]]+"",ea,ta,Ut,_l,la,aa,sa,na,pl,El=t[21](t[5],t[8])+"",Cl,ct,ra,jt,wl,oa,ia,Ue,ca,Fs=t[19][t[18]]+"",ua,ha,Gt,Al,da,fa,ut,Hs="",va,Me,ht,pa,Rs=t[19][t[18]]+"",ma,ga,ya,Tt,Os=t[19][t[18]]+"",ba,_a,Ea,It,Us="*Scroll for zooming in and out",Ca,Qe,js="",wa,$e,Mt,Gs=`<p class="section-subtitle">Temporal Trends</p> <h2 class="section-title">How will co-benefits change over time?</h2> <p class="description">Detailed breakdown of temporal trends for total average co-benefits and types of
                co-benefits.</p>`,Aa,et,tt,lt,dt,ka,Wt,kl,Da,La,Ve,Sa,Ws=t[19][t[18]]+"",Ta,Ia,Yt,Dl,Ma,Pa,je,Pt,Ys="Legend:",Va,Na,za,ft,vt,qt,Ba,qs=t[19][t[18]]+"",xa,Fa,pt,Kt,Ha,Xt,Ll,Ra,Zt,Oa,Ne,at,mt,Ua,Ks=t[19][t[18]]+"",ja,Ga,Wa,gt,Xs=`Total gains and losses are shown at five-year
                        intervals for each co-benefit. The curve between points is smoothed to show the general trends.`,Ya,st,Zs=`<strong style="margin-bottom: 0.5rem;">Legend:</strong> <br/> <ul class="horizontal-legend-list svelte-6hymh4" style="margin-bottom:5px"><li><span class="legend-color svelte-6hymh4" style="background-color: #D3A029"></span>
                                Diet change</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #48773E"></span>
                                Physical activity</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #183668"></span>
                                Dampness</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #00AED9"></span>
                                Excess cold</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #E11484"></span>
                                Noise</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #71C35D"></span>
                                Air quality</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #8F1838"></span>
                                Congestion</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #EF402B"></span>
                                Excess heat</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #F36D25"></span>
                                Road safety</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #F99D26"></span>
                                Road repairs</li> <li><span class="legend-color svelte-6hymh4" style="background-color: #C31F33"></span>
                                Hassle costs</li></ul>`,qa,Jt,Ka,yt,Js=`<p style="margin: 0;"><strong>Some areas too small:</strong> Due to the nature of the
                        co-benefits some values are very small in comparison
                        to larger values so therefore are not visable on this plot.</p>`,Xa,nt,Ge,Vt,Qs="Households",Za,Nt,$s=t[19][t[18]]+"",Ja,Qa,$a,zt,en=`We describe the distribution of household economic factors aggregated on the data
                zone level and the different level of co-benefits received by those data zones.`,es,We,we,Ye,ts,tn=t[19][t[18]]+"",ls,as,Sl,ss,ns,rs,os,ze,Bt,ln="Legend:",is,cs,us,bt,_t,Qt,hs,an=t[19][t[18]]+"",ds,fs,Et,$t,vs,Tl,ps,Se,xt,sn="Interpreting the charts:",ms,gs,ys,el,nn=`<strong>Barchart:</strong> Each bar represents the normalized frequency of datazones linked to a
                        given social economic factor value.`,bs,qe,tl,rn="Scatterplot:",_s,on=t[19][t[18]]+"",Es,Cs,Il,ws,As,Ct,cn=`<p style="margin: 0 0 1rem 0;"><strong>Correlation ≠ Causation:</strong> The scatter plots represent
                        modelled associations and should not be interpreted as direct causal relationships.</p> <p style="margin: 0 0 1rem 0;"><strong>Discrete scales:</strong> The first set of socio-economic
                        factors are using categorical values where the x-axis is non-linear: EPC, Tenure, Typology, Fuel
                        type, Gas flag, Number of cars.</p>`,ks,wt,Ae,Ds,un;l=new dr({});let ge=t[15]&&Hn(t),ye=t[9]&&On(t),ll=En(kn),pe=[];for(let z=0;z<ll.length;z+=1)pe[z]=Un(Fn(t,ll,z));return{c(){hr(l.$$.fragment),a=E(),s=o("div"),ge&&ge.c(),u=E(),i=o("div"),c=o("div"),p=o("p"),p.textContent=b,d=E(),f=o("h1"),y=A(L),S=E(),D=o("p"),D.textContent=k,T=E(),C=o("div"),m=A("Compare this Local Authority District (LAD) against:"),M=o("br"),I=E(),N=o("input"),F=E(),P=o("label"),P.textContent=O,U=o("br"),V=E(),B=o("input"),te=E(),x=o("label"),x.textContent=Y,oe=o("br"),X=E(),ae=o("input"),de=E(),ie=o("label"),ie.textContent=ce,Q=o("br"),fe=E(),me=o("input"),ve=E(),ue=o("label"),ue.textContent=Ie,Ee=E(),se=o("input"),it=E(),Ce=o("label"),Ce.textContent=ke,R=E(),$=o("div"),ye&&ye.c(),Re=E(),he=o("div"),h=o("div"),h.innerHTML=j,ee=E(),Z=o("div"),H=o("div"),le=o("h3"),W=A("Distribution of the cobenefit per datazones compared to "),ne=o("span"),De=A(t[7]),G=A(" Average)"),Je=E(),Oe=o("p"),$l=A("Co-benefit values for "),ea=A(xs),ta=A(` compared to average value of benefits
                    received across all local
                    authorities in `),Ut=o("span"),_l=A(t[7]),la=A(" (grey)."),aa=E(),sa=o("br"),na=E(),pl=new bl(!1),Cl=E(),ct=o("h3"),ra=A("11 types of co-benefit values (vs. "),jt=o("span"),wl=A(t[7]),oa=A(" Average)"),ia=E(),Ue=o("p"),ca=A("Co-benefit values for "),ua=A(Fs),ha=A(` compared to average value of benefits
                    received across all local
                    authorities in `),Gt=o("span"),Al=A(t[7]),da=A(" (grey)."),fa=E(),ut=o("div"),ut.innerHTML=Hs,va=E(),Me=o("div"),ht=o("h3"),pa=A("Where is "),ma=A(Rs),ga=A("?"),ya=E(),Tt=o("p"),ba=A(Os),_a=A(" has been highlighted in red on this UK map."),Ea=E(),It=o("p"),It.textContent=Us,Ca=E(),Qe=o("div"),Qe.innerHTML=js,wa=E(),$e=o("div"),Mt=o("div"),Mt.innerHTML=Gs,Aa=E(),et=o("div"),tt=o("div"),lt=o("div"),dt=o("h3"),ka=A("Total co-benefit distribution from 2025-2049 (vs. "),Wt=o("span"),kl=A(t[7]),Da=A(" Average)"),La=E(),Ve=o("p"),Sa=A(`Aggregated values from 2025-2049
                        in `),Ta=A(Ws),Ia=A(` compared to average value of benefits received across all local authorities
                        in `),Yt=o("span"),Dl=A(t[7]),Ma=A("."),Pa=E(),je=o("div"),Pt=o("strong"),Pt.textContent=Ys,Va=E(),Na=o("br"),za=E(),ft=o("ul"),vt=o("li"),qt=o("span"),Ba=E(),xa=A(qs),Fa=E(),pt=o("li"),Kt=o("span"),Ha=E(),Xt=o("span"),Ll=A(t[7]),Ra=E(),Zt=o("div"),Oa=E(),Ne=o("div"),at=o("div"),mt=o("h3"),Ua=A("Co-benefit gain/loss for "),ja=A(Ks),Ga=A(" over 5 year intervals"),Wa=E(),gt=o("p"),gt.textContent=Xs,Ya=E(),st=o("div"),st.innerHTML=Zs,qa=E(),Jt=o("div"),Ka=E(),yt=o("div"),yt.innerHTML=Js,Xa=E(),nt=o("div"),Ge=o("div"),Vt=o("p"),Vt.textContent=Qs,Za=E(),Nt=o("h2"),Ja=A($s),Qa=A(" social-economic factors"),$a=E(),zt=o("p"),zt.textContent=en,es=E(),We=o("div"),we=o("div"),Ye=o("h3"),ts=A("Comparing the Socio-Economic factors distributions of "),ls=A(tn),as=A(`
                    and `),Sl=A(t[7]),ss=A(", and their correlation with co-benefits."),ns=E(),rs=o("br"),os=E(),ze=o("div"),Bt=o("strong"),Bt.textContent=ln,is=E(),cs=o("br"),us=E(),bt=o("ul"),_t=o("li"),Qt=o("span"),hs=E(),ds=A(an),fs=E(),Et=o("li"),$t=o("span"),vs=E(),Tl=A(t[7]),ps=E(),Se=o("div"),xt=o("strong"),xt.textContent=sn,ms=E(),gs=o("br"),ys=E(),el=o("p"),el.innerHTML=nn,bs=E(),qe=o("p"),tl=o("strong"),tl.textContent=rn,_s=A(" Each dot represents a datazone inside "),Es=A(on),Cs=A(`. The cloud
                        shows the distribution for `),Il=A(t[7]),ws=A("."),As=E(),Ct=o("div"),Ct.innerHTML=cn,ks=E(),wt=o("div");for(let z=0;z<pe.length;z+=1)pe[z].c();this.h()},l(z){ur(l.$$.fragment,z),a=_(z),s=r(z,"DIV",{class:!0});var K=g(s);ge&&ge.l(K),u=_(K),i=r(K,"DIV",{class:!0,id:!0});var re=g(i);c=r(re,"DIV",{});var Be=g(c);p=r(Be,"P",{class:!0,"data-svelte-h":!0}),q(p)!=="svelte-wtex57"&&(p.textContent=b),d=_(Be),f=r(Be,"H1",{class:!0});var hn=g(f);y=w(hn,L),hn.forEach(v),S=_(Be),D=r(Be,"P",{class:!0,"data-svelte-h":!0}),q(D)!=="svelte-q4fx5o"&&(D.textContent=k),T=_(Be),C=r(Be,"DIV",{class:!0});var J=g(C);m=w(J,"Compare this Local Authority District (LAD) against:"),M=r(J,"BR",{}),I=_(J),N=r(J,"INPUT",{type:!0,name:!0}),F=_(J),P=r(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(P)!=="svelte-1yhxhao"&&(P.textContent=O),U=r(J,"BR",{}),V=_(J),B=r(J,"INPUT",{type:!0,name:!0}),te=_(J),x=r(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(x)!=="svelte-11zyrfp"&&(x.textContent=Y),oe=r(J,"BR",{}),X=_(J),ae=r(J,"INPUT",{type:!0,name:!0}),de=_(J),ie=r(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(ie)!=="svelte-18hrmu4"&&(ie.textContent=ce),Q=r(J,"BR",{}),fe=_(J),me=r(J,"INPUT",{type:!0,name:!0}),ve=_(J),ue=r(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(ue)!=="svelte-mkxs8y"&&(ue.textContent=Ie),Ee=_(J),se=r(J,"INPUT",{type:!0,name:!0}),it=_(J),Ce=r(J,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),q(Ce)!=="svelte-g19yfx"&&(Ce.textContent=ke),J.forEach(v),Be.forEach(v),R=_(re),$=r(re,"DIV",{});var dn=g($);ye&&ye.l(dn),dn.forEach(v),re.forEach(v),Re=_(K),he=r(K,"DIV",{class:!0,id:!0});var Ml=g(he);h=r(Ml,"DIV",{class:!0,"data-svelte-h":!0}),q(h)!=="svelte-lw225h"&&(h.innerHTML=j),ee=_(Ml),Z=r(Ml,"DIV",{id:!0,class:!0});var Pl=g(Z);H=r(Pl,"DIV",{class:!0});var Le=g(H);le=r(Le,"H3",{class:!0});var Vl=g(le);W=w(Vl,"Distribution of the cobenefit per datazones compared to "),ne=r(Vl,"SPAN",{class:!0});var fn=g(ne);De=w(fn,t[7]),fn.forEach(v),G=w(Vl," Average)"),Vl.forEach(v),Je=_(Le),Oe=r(Le,"P",{class:!0});var al=g(Oe);$l=w(al,"Co-benefit values for "),ea=w(al,xs),ta=w(al,` compared to average value of benefits
                    received across all local
                    authorities in `),Ut=r(al,"SPAN",{class:!0});var vn=g(Ut);_l=w(vn,t[7]),vn.forEach(v),la=w(al," (grey)."),al.forEach(v),aa=_(Le),sa=r(Le,"BR",{}),na=_(Le),pl=yl(Le,!1),Cl=_(Le),ct=r(Le,"H3",{class:!0});var Nl=g(ct);ra=w(Nl,"11 types of co-benefit values (vs. "),jt=r(Nl,"SPAN",{class:!0});var pn=g(jt);wl=w(pn,t[7]),pn.forEach(v),oa=w(Nl," Average)"),Nl.forEach(v),ia=_(Le),Ue=r(Le,"P",{class:!0});var sl=g(Ue);ca=w(sl,"Co-benefit values for "),ua=w(sl,Fs),ha=w(sl,` compared to average value of benefits
                    received across all local
                    authorities in `),Gt=r(sl,"SPAN",{class:!0});var mn=g(Gt);Al=w(mn,t[7]),mn.forEach(v),da=w(sl," (grey)."),sl.forEach(v),fa=_(Le),ut=r(Le,"DIV",{class:!0,"data-svelte-h":!0}),q(ut)!=="svelte-11dzfub"&&(ut.innerHTML=Hs),Le.forEach(v),va=_(Pl),Me=r(Pl,"DIV",{class:!0});var At=g(Me);ht=r(At,"H3",{class:!0});var zl=g(ht);pa=w(zl,"Where is "),ma=w(zl,Rs),ga=w(zl,"?"),zl.forEach(v),ya=_(At),Tt=r(At,"P",{class:!0});var Ls=g(Tt);ba=w(Ls,Os),_a=w(Ls," has been highlighted in red on this UK map."),Ls.forEach(v),Ea=_(At),It=r(At,"P",{class:!0,"data-svelte-h":!0}),q(It)!=="svelte-vsj698"&&(It.textContent=Us),Ca=_(At),Qe=r(At,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),q(Qe)!=="svelte-13ehpmu"&&(Qe.innerHTML=js),At.forEach(v),Pl.forEach(v),Ml.forEach(v),wa=_(K),$e=r(K,"DIV",{class:!0,id:!0});var Bl=g($e);Mt=r(Bl,"DIV",{class:!0,"data-svelte-h":!0}),q(Mt)!=="svelte-10cbt4"&&(Mt.innerHTML=Gs),Aa=_(Bl),et=r(Bl,"DIV",{id:!0,class:!0});var xl=g(et);tt=r(xl,"DIV",{id:!0,class:!0});var Fl=g(tt);lt=r(Fl,"DIV",{});var nl=g(lt);dt=r(nl,"H3",{class:!0});var Hl=g(dt);ka=w(Hl,"Total co-benefit distribution from 2025-2049 (vs. "),Wt=r(Hl,"SPAN",{class:!0});var gn=g(Wt);kl=w(gn,t[7]),gn.forEach(v),Da=w(Hl," Average)"),Hl.forEach(v),La=_(nl),Ve=r(nl,"P",{class:!0,style:!0});var rl=g(Ve);Sa=w(rl,`Aggregated values from 2025-2049
                        in `),Ta=w(rl,Ws),Ia=w(rl,` compared to average value of benefits received across all local authorities
                        in `),Yt=r(rl,"SPAN",{class:!0});var yn=g(Yt);Dl=w(yn,t[7]),yn.forEach(v),Ma=w(rl,"."),rl.forEach(v),Pa=_(nl),je=r(nl,"DIV",{class:!0});var ol=g(je);Pt=r(ol,"STRONG",{style:!0,"data-svelte-h":!0}),q(Pt)!=="svelte-1fi0dip"&&(Pt.textContent=Ys),Va=_(ol),Na=r(ol,"BR",{}),za=_(ol),ft=r(ol,"UL",{class:!0});var Rl=g(ft);vt=r(Rl,"LI",{class:!0});var Ol=g(vt);qt=r(Ol,"SPAN",{class:!0,style:!0}),g(qt).forEach(v),Ba=_(Ol),xa=w(Ol,qs),Ol.forEach(v),Fa=_(Rl),pt=r(Rl,"LI",{class:!0});var Ul=g(pt);Kt=r(Ul,"SPAN",{class:!0,style:!0}),g(Kt).forEach(v),Ha=_(Ul),Xt=r(Ul,"SPAN",{class:!0});var bn=g(Xt);Ll=w(bn,t[7]),bn.forEach(v),Ul.forEach(v),Rl.forEach(v),ol.forEach(v),nl.forEach(v),Ra=_(Fl),Zt=r(Fl,"DIV",{class:!0}),g(Zt).forEach(v),Fl.forEach(v),Oa=_(xl),Ne=r(xl,"DIV",{id:!0,class:!0});var il=g(Ne);at=r(il,"DIV",{});var cl=g(at);mt=r(cl,"H3",{class:!0});var jl=g(mt);Ua=w(jl,"Co-benefit gain/loss for "),ja=w(jl,Ks),Ga=w(jl," over 5 year intervals"),jl.forEach(v),Wa=_(cl),gt=r(cl,"P",{class:!0,style:!0,"data-svelte-h":!0}),q(gt)!=="svelte-1r31owf"&&(gt.textContent=Xs),Ya=_(cl),st=r(cl,"DIV",{id:!0,class:!0,style:!0,"data-svelte-h":!0}),q(st)!=="svelte-1kwbxxa"&&(st.innerHTML=Zs),cl.forEach(v),qa=_(il),Jt=r(il,"DIV",{class:!0}),g(Jt).forEach(v),Ka=_(il),yt=r(il,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),q(yt)!=="svelte-1xqy5mf"&&(yt.innerHTML=Js),il.forEach(v),xl.forEach(v),Bl.forEach(v),Xa=_(K),nt=r(K,"DIV",{class:!0,id:!0});var Gl=g(nt);Ge=r(Gl,"DIV",{class:!0});var ul=g(Ge);Vt=r(ul,"P",{class:!0,"data-svelte-h":!0}),q(Vt)!=="svelte-ceroz1"&&(Vt.textContent=Qs),Za=_(ul),Nt=r(ul,"H2",{class:!0});var Ss=g(Nt);Ja=w(Ss,$s),Qa=w(Ss," social-economic factors"),Ss.forEach(v),$a=_(ul),zt=r(ul,"P",{class:!0,"data-svelte-h":!0}),q(zt)!=="svelte-45d07w"&&(zt.textContent=en),ul.forEach(v),es=_(Gl),We=r(Gl,"DIV",{id:!0,class:!0,style:!0});var Wl=g(We);we=r(Wl,"DIV",{id:!0,class:!0});var Ke=g(we);Ye=r(Ke,"H3",{class:!0});var hl=g(Ye);ts=w(hl,"Comparing the Socio-Economic factors distributions of "),ls=w(hl,tn),as=w(hl,`
                    and `),Sl=w(hl,t[7]),ss=w(hl,", and their correlation with co-benefits."),hl.forEach(v),ns=_(Ke),rs=r(Ke,"BR",{}),os=_(Ke),ze=r(Ke,"DIV",{id:!0,class:!0});var dl=g(ze);Bt=r(dl,"STRONG",{style:!0,"data-svelte-h":!0}),q(Bt)!=="svelte-xb363n"&&(Bt.textContent=ln),is=_(dl),cs=r(dl,"BR",{}),us=_(dl),bt=r(dl,"UL",{class:!0});var Yl=g(bt);_t=r(Yl,"LI",{class:!0});var ql=g(_t);Qt=r(ql,"SPAN",{class:!0,style:!0}),g(Qt).forEach(v),hs=_(ql),ds=w(ql,an),ql.forEach(v),fs=_(Yl),Et=r(Yl,"LI",{class:!0});var Kl=g(Et);$t=r(Kl,"SPAN",{class:!0,style:!0}),g($t).forEach(v),vs=_(Kl),Tl=w(Kl,t[7]),Kl.forEach(v),Yl.forEach(v),dl.forEach(v),ps=_(Ke),Se=r(Ke,"DIV",{id:!0,class:!0});var kt=g(Se);xt=r(kt,"STRONG",{style:!0,"data-svelte-h":!0}),q(xt)!=="svelte-ucmfvz"&&(xt.textContent=sn),ms=_(kt),gs=r(kt,"BR",{}),ys=_(kt),el=r(kt,"P",{"data-svelte-h":!0}),q(el)!=="svelte-mm528r"&&(el.innerHTML=nn),bs=_(kt),qe=r(kt,"P",{});var Ft=g(qe);tl=r(Ft,"STRONG",{"data-svelte-h":!0}),q(tl)!=="svelte-1ij32sd"&&(tl.textContent=rn),_s=w(Ft," Each dot represents a datazone inside "),Es=w(Ft,on),Cs=w(Ft,`. The cloud
                        shows the distribution for `),Il=w(Ft,t[7]),ws=w(Ft,"."),Ft.forEach(v),kt.forEach(v),As=_(Ke),Ct=r(Ke,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),q(Ct)!=="svelte-gofjep"&&(Ct.innerHTML=cn),Ke.forEach(v),ks=_(Wl),wt=r(Wl,"DIV",{id:!0,class:!0});var _n=g(wt);for(let Ts=0;Ts<pe.length;Ts+=1)pe[Ts].l(_n);_n.forEach(v),Wl.forEach(v),Gl.forEach(v),K.forEach(v),this.h()},h(){n(p,"class","page-subtitle"),n(f,"class","page-title"),n(D,"class","description"),n(N,"type","radio"),n(N,"name","compare"),N.value="UK",N.checked=!0,n(P,"class","nation-label svelte-6hymh4"),n(P,"for","html"),n(B,"type","radio"),n(B,"name","compare"),B.value="England",n(x,"class","nation-label svelte-6hymh4"),n(x,"for","html"),n(ae,"type","radio"),n(ae,"name","compare"),ae.value="Wales",n(ie,"class","nation-label svelte-6hymh4"),n(ie,"for","html"),n(me,"type","radio"),n(me,"name","compare"),me.value="Scotland",n(ue,"class","nation-label svelte-6hymh4"),n(ue,"for","javascript"),n(se,"type","radio"),n(se,"name","compare"),se.value="NI",n(Ce,"class","nation-label svelte-6hymh4"),n(Ce,"for","javascript"),n(C,"class","radio-set"),n(i,"class","section header header-row svelte-6hymh4"),n(i,"id","head"),n(h,"class","section-header"),n(ne,"class","nation-label svelte-6hymh4"),n(le,"class","component-title"),n(Ut,"class","nation-label svelte-6hymh4"),n(Oe,"class","description"),pl.a=Cl,n(jt,"class","nation-label svelte-6hymh4"),n(ct,"class","component-title"),n(Gt,"class","nation-label svelte-6hymh4"),n(Ue,"class","description"),n(ut,"class","plot"),n(H,"class","component column"),n(ht,"class","component-title"),n(Tt,"class","description"),n(It,"class","description"),n(Qe,"id","map"),n(Qe,"class","svelte-6hymh4"),n(Me,"class","component column"),n(Z,"id","vis-block"),n(Z,"class","svelte-6hymh4"),n(he,"class","section"),n(he,"id","overview"),n(Mt,"class","section-header"),n(Wt,"class","nation-label svelte-6hymh4"),n(dt,"class","component-title"),n(Yt,"class","nation-label svelte-6hymh4"),n(Ve,"class","description"),xe(Ve,"margin-bottom","5px"),xe(Pt,"margin-bottom","0.5rem"),n(qt,"class","legend-color svelte-6hymh4"),xe(qt,"background-color",St),n(vt,"class","svelte-6hymh4"),n(Kt,"class","legend-color svelte-6hymh4"),xe(Kt,"background-color",_e),n(Xt,"class","nation-label svelte-6hymh4"),n(pt,"class","svelte-6hymh4"),n(ft,"class","legend-list svelte-6hymh4"),n(je,"class","legend-box svelte-6hymh4"),n(Zt,"class","plot side svelte-6hymh4"),n(tt,"id","main-block"),n(tt,"class","component column svelte-6hymh4"),n(mt,"class","component-title"),n(gt,"class","description"),xe(gt,"margin-bottom","5px"),n(st,"id","main-legend"),n(st,"class","legend-box svelte-6hymh4"),xe(st,"margin-bottom","5px"),n(Jt,"class","plot side svelte-6hymh4"),n(yt,"id","main-disclaimer"),n(yt,"class","disclaimer-box svelte-6hymh4"),n(Ne,"id","main-block"),n(Ne,"class","component column svelte-6hymh4"),n(et,"id","vis-block"),n(et,"class","svelte-6hymh4"),n($e,"class","section"),n($e,"id","temporal"),n(Vt,"class","section-subtitle"),n(Nt,"class","section-title"),n(zt,"class","description"),n(Ge,"class","section-header"),n(Ye,"class","component-title"),xe(Bt,"margin-bottom","1rem"),n(Qt,"class","legend-color svelte-6hymh4"),xe(Qt,"background-color",St),n(_t,"class","svelte-6hymh4"),n($t,"class","legend-color svelte-6hymh4"),xe($t,"background-color",_e),n(Et,"class","svelte-6hymh4"),n(bt,"class","legend-list svelte-6hymh4"),n(ze,"id","se-legend"),n(ze,"class","legend-box svelte-6hymh4"),xe(xt,"margin-bottom","1rem"),n(Se,"id","se-legend"),n(Se,"class","legend-box svelte-6hymh4"),n(Ct,"id","se-disclaimer"),n(Ct,"class","disclaimer-box svelte-6hymh4"),n(we,"id","se-title"),n(we,"class","svelte-6hymh4"),n(wt,"id","multiple-comp"),n(wt,"class","svelte-6hymh4"),n(We,"id","se-block"),n(We,"class","component svelte-6hymh4"),xe(We,"margin-left","1rem"),n(nt,"class","section"),n(nt,"id","households"),n(s,"class","page-container")},m(z,K){cr(l,z,K),Te(z,a,K),Te(z,s,K),ge&&ge.m(s,null),e(s,u),e(s,i),e(i,c),e(c,p),e(c,d),e(c,f),e(f,y),e(c,S),e(c,D),e(c,T),e(c,C),e(C,m),e(C,M),e(C,I),e(C,N),e(C,F),e(C,P),e(C,U),e(C,V),e(C,B),e(C,te),e(C,x),e(C,oe),e(C,X),e(C,ae),e(C,de),e(C,ie),e(C,Q),e(C,fe),e(C,me),e(C,ve),e(C,ue),e(C,Ee),e(C,se),e(C,it),e(C,Ce),e(i,R),e(i,$),ye&&ye.m($,null),e(s,Re),e(s,he),e(he,h),e(he,ee),e(he,Z),e(Z,H),e(H,le),e(le,W),e(le,ne),e(ne,De),e(le,G),e(H,Je),e(H,Oe),e(Oe,$l),e(Oe,ea),e(Oe,ta),e(Oe,Ut),e(Ut,_l),e(Oe,la),e(H,aa),e(H,sa),e(H,na),pl.m(El,H),e(H,Cl),e(H,ct),e(ct,ra),e(ct,jt),e(jt,wl),e(ct,oa),e(H,ia),e(H,Ue),e(Ue,ca),e(Ue,ua),e(Ue,ha),e(Ue,Gt),e(Gt,Al),e(Ue,da),e(H,fa),e(H,ut),t[28](ut),e(Z,va),e(Z,Me),e(Me,ht),e(ht,pa),e(ht,ma),e(ht,ga),e(Me,ya),e(Me,Tt),e(Tt,ba),e(Tt,_a),e(Me,Ea),e(Me,It),e(Me,Ca),e(Me,Qe),t[29](Qe),e(s,wa),e(s,$e),e($e,Mt),e($e,Aa),e($e,et),e(et,tt),e(tt,lt),e(lt,dt),e(dt,ka),e(dt,Wt),e(Wt,kl),e(dt,Da),e(lt,La),e(lt,Ve),e(Ve,Sa),e(Ve,Ta),e(Ve,Ia),e(Ve,Yt),e(Yt,Dl),e(Ve,Ma),e(lt,Pa),e(lt,je),e(je,Pt),e(je,Va),e(je,Na),e(je,za),e(je,ft),e(ft,vt),e(vt,qt),e(vt,Ba),e(vt,xa),e(ft,Fa),e(ft,pt),e(pt,Kt),e(pt,Ha),e(pt,Xt),e(Xt,Ll),e(tt,Ra),e(tt,Zt),t[30](Zt),e(et,Oa),e(et,Ne),e(Ne,at),e(at,mt),e(mt,Ua),e(mt,ja),e(mt,Ga),e(at,Wa),e(at,gt),e(at,Ya),e(at,st),e(Ne,qa),e(Ne,Jt),t[31](Jt),e(Ne,Ka),e(Ne,yt),e(s,Xa),e(s,nt),e(nt,Ge),e(Ge,Vt),e(Ge,Za),e(Ge,Nt),e(Nt,Ja),e(Nt,Qa),e(Ge,$a),e(Ge,zt),e(nt,es),e(nt,We),e(We,we),e(we,Ye),e(Ye,ts),e(Ye,ls),e(Ye,as),e(Ye,Sl),e(Ye,ss),e(we,ns),e(we,rs),e(we,os),e(we,ze),e(ze,Bt),e(ze,is),e(ze,cs),e(ze,us),e(ze,bt),e(bt,_t),e(_t,Qt),e(_t,hs),e(_t,ds),e(bt,fs),e(bt,Et),e(Et,$t),e(Et,vs),e(Et,Tl),e(we,ps),e(we,Se),e(Se,xt),e(Se,ms),e(Se,gs),e(Se,ys),e(Se,el),e(Se,bs),e(Se,qe),e(qe,tl),e(qe,_s),e(qe,Es),e(qe,Cs),e(qe,Il),e(qe,ws),e(we,As),e(we,Ct),e(We,ks),e(We,wt);for(let re=0;re<pe.length;re+=1)pe[re]&&pe[re].m(wt,null);t[35](s),Ae=!0,Ds||(un=[ml(N,"change",t[22]),ml(B,"change",t[22]),ml(ae,"change",t[22]),ml(me,"change",t[22]),ml(se,"change",t[22])],Ds=!0)},p(z,K){if(z[15]?ge?ge.p(z,K):(ge=Hn(z),ge.c(),ge.m(s,u)):ge&&(ge.d(1),ge=null),z[9]?ye?ye.p(z,K):(ye=On(z),ye.c(),ye.m($,null)):ye&&(ye.d(1),ye=null),(!Ae||K[0]&128)&&be(De,z[7]),(!Ae||K[0]&128)&&be(_l,z[7]),(!Ae||K[0]&288)&&El!==(El=z[21](z[5],z[8])+"")&&pl.p(El),(!Ae||K[0]&128)&&be(wl,z[7]),(!Ae||K[0]&128)&&be(Al,z[7]),(!Ae||K[0]&128)&&be(kl,z[7]),(!Ae||K[0]&128)&&be(Dl,z[7]),(!Ae||K[0]&128)&&be(Ll,z[7]),(!Ae||K[0]&128)&&be(Sl,z[7]),(!Ae||K[0]&128)&&be(Tl,z[7]),(!Ae||K[0]&128)&&be(Il,z[7]),K[0]&786584){ll=En(kn);let re;for(re=0;re<ll.length;re+=1){const Be=Fn(z,ll,re);pe[re]?pe[re].p(Be,K):(pe[re]=Un(Be),pe[re].c(),pe[re].m(wt,null))}for(;re<pe.length;re+=1)pe[re].d(1);pe.length=ll.length}},i(z){Ae||(ir(l.$$.fragment,z),Ae=!0)},o(z){or(l.$$.fragment,z),Ae=!1},d(z){z&&(v(a),v(s)),rr(l,z),ge&&ge.d(),ye&&ye.d(),t[28](null),t[29](null),t[30](null),t[31](null),er(pe,z),t[35](null),Ds=!1,tr(un)}}}let He=400;function jn(t){return{overview:"Overview",temporal:"Temporal trends",households:"Household benefits"}[t]||""}function Ot(t){const l=t.querySelector("figure");l&&l.remove();const a=t.querySelector("svg");a&&a.remove()}function ko(t,l,a){let s,u,i,c,p={},b={},d={},f={},L="barchart",{data:y}=l;const S=y.LAD;let D="UK",k,T,C,m,M,I,N,F,P,O,U,V,B=!1;async function te(){a(5,k=await Fe(Tn())),await Fe(Br()),k.forEach(h=>{h.isPageLAD=h.LAD==S}),a(25,T=await Fe(In([]))),C=await Fe(xr(Dn.map(h=>h.id))),a(26,m=await Fe(Mn())),a(8,M=await Fe(Fr(S))),I=await Fe(Hr(S)),a(9,N=(Lr(M,h=>h.total)/1e3).toFixed(3)),a(11,P=Bs(T,h=>h.val)/1e3),a(10,F=(Is(M,h=>h.totalPerCapita)*1e6).toFixed(1)),a(12,O=await Fe(Rr({limit:1,sortBy:"per_capita"}))),a(12,O=O[0].value_per_capita),a(27,B=!0),Pr(s)}te();let x=!1,Y="";const oe=["overview","temporal","households"];function X(){const h=window.scrollY;a(15,x=h>100);for(const j of oe){const ee=document.getElementById(j);if(!ee)continue;const Z=ee.getBoundingClientRect();if(Z.top<=150&&Z.bottom>=150){a(16,Y=j);break}}}const ae=y.LADToName;let de,ie;lr(()=>(Mr(s),de=new Ir(S,"LAD",ie,"val",!0,"Lookup_value",!1,null,8),de.initMap(!1),window.addEventListener("scroll",X),X(),()=>window.removeEventListener("scroll",X))),ar(()=>{window.removeEventListener("scroll",X)});function ce(h,j,ee="black"){return Pe({width:80,height:20,margin:0,x:{domain:[0,j],axis:null},marks:[Ns([h],{x:H=>H,y:0,fill:ee})]}).outerHTML}function Q(h,j){if(!h||!j)return;let ee=h.filter(H=>H.total<20);return Pe({height:He/1.6,...Ze,marginBottom:40,marginTop:40,style:{fontSize:"15px"},y:{grid:!0},marks:[gl(ee,Jl({y:(H,le)=>H.length/ee.length/(le.x2-le.x1)},{x:"total",fill:_e,stroke:_e,fillOpacity:.3,strokeWidth:2})),gl(j,Jl({y:(H,le)=>H.length/j.length/(le.x2-le.x1)},{x:"total",tip:!0,fill:St,stroke:"black",fillOpacity:.3,strokeWidth:2})),Sr([0],{stroke:"#1E1E1E",strokeWidth:1}),Xl({label:"Frequency of Datazones (Normalized)",labelAnchor:"top",labelArrow:!1}),Ms({label:"Cobenefit (millions £)",labelAnchor:"center",labelArrow:!1})]}).outerHTML}function fe(){{let h=Pe({height:He/1.4,...Ze,x:{type:"band"},style:{fontSize:"18px"},marks:[Ht(T,rt({y:"mean"},{y:"val",x:"scenario",fill:"lightblue",opacity:.7,dx:20})),Ht(M,rt({y:"sum"},{y:"total",x:"scenario",tip:!0}))]});setTimeout(()=>{const j=Xe(h).selectAll("g[aria-label='bar']");Xe(j.nodes()[0]);const ee=Xe(j.nodes()[1]);ee.selectAll("rect").each(function(){}),ee.remove()},1e3)}}function me(){u?.append(Pe({height:He/1,width:811,...Ze,marginBottom:80,marginTop:30,x:{type:"band",padding:.6},y:{grid:!0},style:{fontSize:"14px"},color:{legend:!1,range:Ps.range(),domain:Ps.domain()},marks:[Ht(m,rt({y:"mean"},{y:"val",x:"co_benefit_type",dx:12,fill:_e,sort:{x:"y",reverse:!0},tip:!0})),Ht(I,rt({y:"sum"},{y:"total",x:"co_benefit_type",dx:-12,fill:h=>Ps(h.co_benefit_type),tip:!0,tipoffset:10,fillOpacity:.8})),Xl({label:"Total Co-Benefit (£million)",labelAnchor:"center",labelArrow:!1}),Ms({label:"Co-Benefit Type",tickRotate:25,labelAnchor:"center",labelArrow:!1}),Cn([0],{stroke:"#333",strokeWidth:.75})]}))}function ve(){Nr.forEach(h=>{let j;Ln.includes(h)?j=Pe({height:He/1.2,...Ze,marginLeft:100,marginTop:40,marginBottom:h==="Typology"?100:60,x:{grid:!0,padding:.6,label:Zl(h),tickFormat:G=>Sn[h]?.[G]??G,tickRotate:h==="Typology"?-20:0},style:{fontSize:"18px"},color:{legend:!0},marks:[Ht(k,rt({y:"proportion"},{x:h,dx:12,fill:_e})),Ht(M,rt({y:"proportion"},{x:h,dx:-12}))]}):j=Pe({height:He/1.2,...Ze,x:{label:Zl(h)},style:{fontSize:"18px"},marks:[gl(M,Jl({y:(G,Je)=>G.length/M.length/(Je.x2-Je.x1)},{x:G=>["Under_35","Over_65","Unemployment"].includes(h)?G[h]*100:G[h],tip:!0,fill:_e,stroke:_e,fillOpacity:.2,strokeWidth:3})),gl(k,Jl({y:(G,Je)=>G.length/k.length/(Je.x2-Je.x1)},{x:G=>["Under_35","Over_65","Unemployment"].includes(h)?G[h]*100:G[h],tip:!0,fill:"black",stroke:"black",fillOpacity:.2,strokeWidth:3}))]}),b[h]?.append(void 0),p[h]?.append(j);let Z=k.map(G=>G.total),H=Gn(Z);Z.sort();var le=Z.length,W=Math.floor(le*1)-1;let ne=Z[W];H[1]=ne+2,H[0]=-5;let De;Ln.includes(h)?De=Pe({height:He/1.2,...Ze,marginBottom:h==="Typology"?100:60,marginLeft:100,x:{label:Zl(h),type:"point",tickFormat:G=>Sn[h]?.[G]??G,tickRotate:h==="Typology"?-20:0},y:{domain:H,grid:!0,label:"Datazones Frequency"},style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[Bn(An(k,15e3),{x:G=>`${G[h]}`,y:"total",fill:"density",bandwidth:3}),Vn(M,{x:G=>`${G[h]}`,y:"total",fill:"black",r:2}),Xl({label:"Datazone Co-Benefit (millions £)"})]}):De=Pe({height:He/1.2,...Ze,x:{label:Zl(h)},y:{domain:H},grid:!0,style:{fontSize:"18px"},color:{range:["#e6e6e6",_e]},marks:[Bn(An(k,2e4),{x:G=>["Under_35","Over_65","Unemployment"].includes(h)?G[h]*100:G[h],y:"total",fill:"density",thresholds:10}),Vn(M,{x:G=>["Under_35","Over_65","Unemployment"].includes(h)?G[h]*100:G[h],y:"total",fill:"black",r:2}),Xl({label:"Datazone Co-Benefit (£)"}),Ms({anchor:"bottom"})]}),d[h]&&a(4,d[h].innerHTML="",d),d[h]?.append(De)})}function ue(){for(let h of zr){let j=Pe({height:He,width:410,...Ze,marginRight:0,marginLeft:100,marks:[Ns(C,wn({x:"mean"},{x:"val",y:"co_benefit_type",dy:-10,fill:_e,tip:!0})),Ns(I,wn({x:"mean"},{x:"total",y:"co_benefit_type",tip:!0}))]});f[h]?.append(j)}}function Ie(){let h=M.flatMap(W=>Vs.map(ne=>({time:ne,value:W[ne],scenario:W.scenario,zone:"local"}))),j=k.flatMap(W=>Vs.map(ne=>({time:ne,value:W[ne],scenario:W.scenario,zone:"UK"}))),ee=h.concat(j),Z=Pe({height:He,width:800,...Ze,marginRight:0,marginLeft:60,marginTop:40,marginBottom:60,style:{fontSize:"18px"},y:{label:"£billion",grid:!0,labelArrow:!1},x:{tickSize:0,label:null,ticks:[],padding:.3},color:{range:[_e,St],legend:!1},marks:[Ht(ee,rt({y:"mean"},{x:"zone",y:"value",fx:"time",tip:!1,fill:"zone"})),Tr({anchor:"bottom",tickFormat:W=>W.replace(/^Y/,"").replace("_","-"),label:"Years"})]});i?.append(Z),Xe(i).select("g[aria-label='bar']").selectAll("g").each(function(W,ne){const De=Xe(this).selectAll("rect").nodes()[0],G=Xe(De).attr("transform")||"";Xe(De).attr("transform",`${G} translate(-20, 0)`),Xe(this).selectAll("rect").nodes()[0].getAttribute("height"),Xe(this).selectAll("rect").nodes()[1].getAttribute("height"),Xe(this).selectAll("rect")}),Pe({height:He,width:800,...Ze,paddingLeft:200,marginRight:0,color:{legend:!0},marks:[vo(ee,rt({y:"mean"},{x:"time",y:"value",tip:!0,stroke:"scenario"}))]});let H=I.flatMap(W=>Vs.map(ne=>({time:ne,value:W[ne],cobenefit:W.co_benefit_type})));console.log("dataCBs",H);let le=Pe({height:He,width:1e3,marginRight:0,marginTop:20,marginLeft:80,marginBottom:80,insetTop:30,style:{fontSize:"20px"},y:{tickFormat:".2f",label:"£billion",ticks:10,labelArrow:!1,title:([W])=>`Cobenefit ${W.cobenefit}`},x:{label:"Years",tickFormat:W=>W.replace(/^Y/,"").replace("_","-")},color:{legend:!1,range:Vr,domain:Dn.map(W=>W.id)},marks:[gl(H,rt({y:"mean"},{x:"time",y:"value",fill:"cobenefit",curve:"basis",order:["Road safety","Congestion","Air quality","Noise","Excess cold","Excess heat","Dampness","Road repairs","Physical activity","Diet change","Hassle costs"],tip:{format:{y:W=>`${(+W).toFixed(3)}`,x:W=>`${W.replace(/^Y/,"").replace("_","-")}`,fill:W=>`${W}`}}})),Cn([0],{strokeWidth:2,stroke:"#333333",opacity:.5,strokeLinecap:"round"})]});c?.append(le)}async function Ee(h){a(7,D=h.currentTarget.value),a(26,m=await Fe(Mn("total",D))),a(25,T=await Fe(In([],D))),a(5,k=await Fe(Tn(D)))}function se(h){Dt[h?"unshift":"push"](()=>{u=h,a(0,u)})}function it(h){Dt[h?"unshift":"push"](()=>{ie=h,a(17,ie)})}function Ce(h){Dt[h?"unshift":"push"](()=>{i=h,a(1,i)})}function ke(h){Dt[h?"unshift":"push"](()=>{c=h,a(2,c)})}function R(h,j){Dt[h?"unshift":"push"](()=>{p[j.id]=h,a(3,p)})}function $(h,j){Dt[h?"unshift":"push"](()=>{p[j.id]=h,a(3,p)})}function Re(h,j){Dt[h?"unshift":"push"](()=>{d[j.id]=h,a(4,d)})}function he(h){Dt[h?"unshift":"push"](()=>{s=h,a(6,s)})}return t.$$set=h=>{"data"in h&&a(23,y=h.data)},t.$$.update=()=>{t.$$.dirty[0]&33554432&&T&&(a(13,U=Is(T.map(h=>h.val))/1e3),a(14,V=Is(T.map(h=>h.value_per_capita))*1e5)),t.$$.dirty[0]&251658279&&(u&&Ot(u),i&&Ot(i),c&&Ot(c),B&&m&&T&&k&&(fe(),me(),Ie())),t.$$.dirty[0]&134217752&&(Object.values(p).forEach(h=>{h&&Ot(h)}),Object.values(b).forEach(h=>{h&&Ot(h)}),Object.values(d).forEach(h=>{h&&Ot(h)}),B&&ve()),t.$$.dirty[0]&134217728&&(Object.values(f).forEach(h=>{h&&Ot(h)}),B&&ue())},[u,i,c,p,d,k,s,D,M,N,F,P,O,U,V,x,Y,ie,S,ae,ce,Q,Ee,y,L,T,m,B,se,it,Ce,ke,R,$,Re,he]}class Ho extends sr{constructor(l){super(),nr(this,l,ko,Ao,$n,{data:23},null,[-1,-1])}}export{Ho as component};
