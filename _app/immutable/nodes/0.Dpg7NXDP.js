import{b as B}from"../chunks/0aX-xDHL.js";import"../chunks/DRyxMU8n.js";import{j as U,f as H}from"../chunks/5WxnA5ph.js";import{k as I,g as h,l as M,m as Z,n as F,o as k,p as z}from"../chunks/Dlvw5TNA.js";import{s as G,a as V,u as W,g as Y,b as q}from"../chunks/lM1_q0kn.js";import{S as J,i as K,k as Q,l as X}from"../chunks/DTv_bg8f.js";var y={},S={},E=34,D=10,b=13;function R(t){return new Function("d","return {"+t.map(function(o,e){return JSON.stringify(o)+": d["+e+'] || ""'}).join(",")+"}")}function x(t,o){var e=R(t);return function(r,a){return o(e(r),a,t)}}function O(t){var o=Object.create(null),e=[];return t.forEach(function(r){for(var a in r)a in o||e.push(o[a]=a)}),e}function c(t,o){var e=t+"",r=e.length;return r<o?new Array(o-r+1).join(0)+e:e}function tt(t){return t<0?"-"+c(-t,6):t>9999?"+"+c(t,6):c(t,4)}function et(t){var o=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":tt(t.getUTCFullYear())+"-"+c(t.getUTCMonth()+1,2)+"-"+c(t.getUTCDate(),2)+(a?"T"+c(o,2)+":"+c(e,2)+":"+c(r,2)+"."+c(a,3)+"Z":r?"T"+c(o,2)+":"+c(e,2)+":"+c(r,2)+"Z":e||o?"T"+c(o,2)+":"+c(e,2)+"Z":"")}function nt(t){var o=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(n,u){var _,f,i=a(n,function(d,A){if(_)return _(d,A-1);f=d,_=u?x(d,u):R(d)});return i.columns=f||[],i}function a(n,u){var _=[],f=n.length,i=0,d=0,A,P=f<=0,m=!1;n.charCodeAt(f-1)===D&&--f,n.charCodeAt(f-1)===b&&--f;function $(){if(P)return S;if(m)return m=!1,y;var v,C=i,g;if(n.charCodeAt(C)===E){for(;i++<f&&n.charCodeAt(i)!==E||n.charCodeAt(++i)===E;);return(v=i)>=f?P=!0:(g=n.charCodeAt(i++))===D?m=!0:g===b&&(m=!0,n.charCodeAt(i)===D&&++i),n.slice(C+1,v-1).replace(/""/g,'"')}for(;i<f;){if((g=n.charCodeAt(v=i++))===D)m=!0;else if(g===b)m=!0,n.charCodeAt(i)===D&&++i;else if(g!==e)continue;return n.slice(C,v)}return P=!0,n.slice(C,f)}for(;(A=$())!==S;){for(var L=[];A!==y&&A!==S;)L.push(A),A=$();u&&(L=u(L,d++))==null||_.push(L)}return _}function p(n,u){return n.map(function(_){return u.map(function(f){return l(_[f])}).join(t)})}function N(n,u){return u==null&&(u=O(n)),[u.map(l).join(t)].concat(p(n,u)).join(`
`)}function T(n,u){return u==null&&(u=O(n)),p(n,u).join(`
`)}function j(n){return n.map(s).join(`
`)}function s(n){return n.map(l).join(t)}function l(n){return n==null?"":n instanceof Date?et(n):o.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:r,parseRows:a,format:N,formatBody:T,formatRows:j,formatRow:s,formatValue:l}}var ot=nt(","),rt=ot.parse;function at(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function st(t,o){return fetch(t,o).then(at)}function ut(t){return function(o,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),st(o,e).then(function(a){return t(a,r)})}}var w=ut(rt);const it="maps/Lower_layer_Super_Output_Areas_2021_EW_BGC_V3_-6823567593069184824.json",ft=`${B}/LAD/Eng_Wales_LSOA_LADs.csv`,ct=`${B}/LAD/NI_DZ_LAD.csv`,lt=`${B}/LAD/Scotland_DZ_LA.csv`;async function pt(){await I();const t=await U(it,s=>s),o=H(t,t.objects["Lower_layer_Super_Output_Areas_2021_EW_BGC_V3_-6823567593069184824"]);let e={};await w(ft).then(s=>{for(let l of s)e[l.LAD22CD]=l.LAD22NM}),await w(ct).then(s=>{for(let l of s)e[l.LGD2014_code]=l.LGD2014_name}),await w(lt).then(s=>{for(let l of s)e[l.LA_Code]=l.LA_Name});let r=await h(k());const p=(await h(M(10))).map(s=>({LAD:s.LAD,name:e[s.LAD]||s.LAD,total:s.total_value}));await h(z());const T=(await h(Z(10))).map(s=>({LAD:s.LAD,name:e[s.LAD]||s.LAD,per:s.value_per_household,total:s.total_value}));let j=await h(F());return console.log("end root"),{datazones:o,LADToName:e,aggregationPerBenefit:r,topLADsData:p,topSelectedLADsPerHouseholdData:T,aggregationPerHouseholdPerBenefit:j}}const _t=!1,At=!0,Tt=Object.freeze(Object.defineProperty({__proto__:null,load:pt,prerender:At,ssr:_t},Symbol.toStringTag,{value:"Module"}));function dt(t){let o;const e=t[1].default,r=V(e,t,t[0],null);return{c(){r&&r.c()},l(a){r&&r.l(a)},m(a,p){r&&r.m(a,p),o=!0},p(a,[p]){r&&r.p&&(!o||p&1)&&W(r,e,a,a[0],o?q(e,a[0],p,null):Y(a[0]),null)},i(a){o||(X(r,a),o=!0)},o(a){Q(r,a),o=!1},d(a){r&&r.d(a)}}}function mt(t,o,e){let{$$slots:r={},$$scope:a}=o;return t.$$set=p=>{"$$scope"in p&&e(0,a=p.$$scope)},[a,r]}class jt extends J{constructor(o){super(),K(this,o,mt,dt,G,{})}}export{jt as component,Tt as universal};
